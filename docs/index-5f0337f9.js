var xm=Object.defineProperty;var ym=(p,T,l)=>T in p?xm(p,T,{enumerable:!0,configurable:!0,writable:!0,value:l}):p[T]=l;var gt=(p,T,l)=>(ym(p,typeof T!="symbol"?T+"":T,l),l);(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))x(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const f of e.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&x(f)}).observe(document,{childList:!0,subtree:!0});function l(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function x(t){if(t.ep)return;t.ep=!0;const e=l(t);fetch(t.href,e)}})();function mi(p,T){const l=Object.create(null),x=p.split(",");for(let t=0;t<x.length;t++)l[x[t]]=!0;return T?t=>!!l[t.toLowerCase()]:t=>!!l[t]}const Tm="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Em=mi(Tm);function En(p){if(Nt(p)){const T={};for(let l=0;l<p.length;l++){const x=p[l],t=_t(x)?Hd(x):En(x);if(t)for(const e in t)T[e]=t[e]}return T}else{if(_t(p))return p;if(Ee(p))return p}}const Sm=/;(?![^(]*\))/g,Cm=/:([^]+)/,Pm=/\/\*.*?\*\//gs;function Hd(p){const T={};return p.replace(Pm,"").split(Sm).forEach(l=>{if(l){const x=l.split(Cm);x.length>1&&(T[x[0].trim()]=x[1].trim())}}),T}function Sn(p){let T="";if(_t(p))T=p;else if(Nt(p))for(let l=0;l<p.length;l++){const x=Sn(p[l]);x&&(T+=x+" ")}else if(Ee(p))for(const l in p)p[l]&&(T+=l+" ");return T.trim()}function Am(p){if(!p)return null;let{class:T,style:l}=p;return T&&!_t(T)&&(p.class=Sn(T)),l&&(p.style=En(l)),p}const Mm="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Rm="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Lm="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Om=mi(Mm),Fm=mi(Rm),Im=mi(Lm),Dm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nm=mi(Dm);function $d(p){return!!p||p===""}function Bm(p,T){if(p.length!==T.length)return!1;let l=!0;for(let x=0;l&&x<p.length;x++)l=Hn(p[x],T[x]);return l}function Hn(p,T){if(p===T)return!0;let l=yf(p),x=yf(T);if(l||x)return l&&x?p.getTime()===T.getTime():!1;if(l=$n(p),x=$n(T),l||x)return p===T;if(l=Nt(p),x=Nt(T),l||x)return l&&x?Bm(p,T):!1;if(l=Ee(p),x=Ee(T),l||x){if(!l||!x)return!1;const t=Object.keys(p).length,e=Object.keys(T).length;if(t!==e)return!1;for(const f in p){const i=p.hasOwnProperty(f),r=T.hasOwnProperty(f);if(i&&!r||!i&&r||!Hn(p[f],T[f]))return!1}}return String(p)===String(T)}function Oo(p,T){return p.findIndex(l=>Hn(l,T))}const zi=p=>_t(p)?p:p==null?"":Nt(p)||Ee(p)&&(p.toString===Zd||!Jt(p.toString))?JSON.stringify(p,Kd,2):String(p),Kd=(p,T)=>T&&T.__v_isRef?Kd(p,T.value):ks(T)?{[`Map(${T.size})`]:[...T.entries()].reduce((l,[x,t])=>(l[`${x} =>`]=t,l),{})}:Is(T)?{[`Set(${T.size})`]:[...T.values()]}:Ee(T)&&!Nt(T)&&!Jd(T)?String(T):T,xe={},js=[],oi=()=>{},so=()=>!1,wm=/^on[^a-z]/,Fs=p=>wm.test(p),Ah=p=>p.startsWith("onUpdate:"),de=Object.assign,Mh=(p,T)=>{const l=p.indexOf(T);l>-1&&p.splice(l,1)},Gm=Object.prototype.hasOwnProperty,he=(p,T)=>Gm.call(p,T),Nt=Array.isArray,ks=p=>aa(p)==="[object Map]",Is=p=>aa(p)==="[object Set]",yf=p=>aa(p)==="[object Date]",Jt=p=>typeof p=="function",_t=p=>typeof p=="string",$n=p=>typeof p=="symbol",Ee=p=>p!==null&&typeof p=="object",Rh=p=>Ee(p)&&Jt(p.then)&&Jt(p.catch),Zd=Object.prototype.toString,aa=p=>Zd.call(p),Vm=p=>aa(p).slice(8,-1),Jd=p=>aa(p)==="[object Object]",Lh=p=>_t(p)&&p!=="NaN"&&p[0]!=="-"&&""+parseInt(p,10)===p,ms=mi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Um=mi("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Fo=p=>{const T=Object.create(null);return l=>T[l]||(T[l]=p(l))},Ym=/-(\w)/g,qe=Fo(p=>p.replace(Ym,(T,l)=>l?l.toUpperCase():"")),zm=/\B([A-Z])/g,Ai=Fo(p=>p.replace(zm,"-$1").toLowerCase()),Ds=Fo(p=>p.charAt(0).toUpperCase()+p.slice(1)),qs=Fo(p=>p?`on${Ds(p)}`:""),sr=(p,T)=>!Object.is(p,T),_s=(p,T)=>{for(let l=0;l<p.length;l++)p[l](T)},uo=(p,T,l)=>{Object.defineProperty(p,T,{configurable:!0,enumerable:!1,value:l})},Cn=p=>{const T=parseFloat(p);return isNaN(T)?p:T};let Tf;const bm=()=>Tf||(Tf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ci;class Oh{constructor(T=!1){this.detached=T,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ci,!T&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}run(T){if(this.active){const l=Ci;try{return Ci=this,T()}finally{Ci=l}}}on(){Ci=this}off(){Ci=this.parent}stop(T){if(this.active){let l,x;for(l=0,x=this.effects.length;l<x;l++)this.effects[l].stop();for(l=0,x=this.cleanups.length;l<x;l++)this.cleanups[l]();if(this.scopes)for(l=0,x=this.scopes.length;l<x;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!T){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}function Wm(p){return new Oh(p)}function Qd(p,T=Ci){T&&T.active&&T.effects.push(p)}function Xm(){return Ci}function Hm(p){Ci&&Ci.cleanups.push(p)}const Fh=p=>{const T=new Set(p);return T.w=0,T.n=0,T},jd=p=>(p.w&Kn)>0,kd=p=>(p.n&Kn)>0,$m=({deps:p})=>{if(p.length)for(let T=0;T<p.length;T++)p[T].w|=Kn},Km=p=>{const{deps:T}=p;if(T.length){let l=0;for(let x=0;x<T.length;x++){const t=T[x];jd(t)&&!kd(t)?t.delete(p):T[l++]=t,t.w&=~Kn,t.n&=~Kn}T.length=l}},$l=new WeakMap;let Dr=0,Kn=1;const Kl=30;let Ji;const gs=Symbol(""),Zl=Symbol("");class oa{constructor(T,l=null,x){this.fn=T,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,Qd(this,x)}run(){if(!this.active)return this.fn();let T=Ji,l=Wn;for(;T;){if(T===this)return;T=T.parent}try{return this.parent=Ji,Ji=this,Wn=!0,Kn=1<<++Dr,Dr<=Kl?$m(this):Ef(this),this.fn()}finally{Dr<=Kl&&Km(this),Kn=1<<--Dr,Ji=this.parent,Wn=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ji===this?this.deferStop=!0:this.active&&(Ef(this),this.onStop&&this.onStop(),this.active=!1)}}function Ef(p){const{deps:T}=p;if(T.length){for(let l=0;l<T.length;l++)T[l].delete(p);T.length=0}}function Zm(p,T){p.effect&&(p=p.effect.fn);const l=new oa(p);T&&(de(l,T),T.scope&&Qd(l,T.scope)),(!T||!T.lazy)&&l.run();const x=l.run.bind(l);return x.effect=l,x}function Jm(p){p.effect.stop()}let Wn=!0;const qd=[];function pr(){qd.push(Wn),Wn=!1}function mr(){const p=qd.pop();Wn=p===void 0?!0:p}function Fi(p,T,l){if(Wn&&Ji){let x=$l.get(p);x||$l.set(p,x=new Map);let t=x.get(l);t||x.set(l,t=Fh()),_d(t)}}function _d(p,T){let l=!1;Dr<=Kl?kd(p)||(p.n|=Kn,l=!jd(p)):l=!p.has(Ji),l&&(p.add(Ji),Ji.deps.push(p))}function Pn(p,T,l,x,t,e){const f=$l.get(p);if(!f)return;let i=[];if(T==="clear")i=[...f.values()];else if(l==="length"&&Nt(p)){const r=Cn(x);f.forEach((a,n)=>{(n==="length"||n>=r)&&i.push(a)})}else switch(l!==void 0&&i.push(f.get(l)),T){case"add":Nt(p)?Lh(l)&&i.push(f.get("length")):(i.push(f.get(gs)),ks(p)&&i.push(f.get(Zl)));break;case"delete":Nt(p)||(i.push(f.get(gs)),ks(p)&&i.push(f.get(Zl)));break;case"set":ks(p)&&i.push(f.get(gs));break}if(i.length===1)i[0]&&Jl(i[0]);else{const r=[];for(const a of i)a&&r.push(...a);Jl(Fh(r))}}function Jl(p,T){const l=Nt(p)?p:[...p];for(const x of l)x.computed&&Sf(x);for(const x of l)x.computed||Sf(x)}function Sf(p,T){(p!==Ji||p.allowRecurse)&&(p.scheduler?p.scheduler():p.run())}const Qm=mi("__proto__,__v_isRef,__isVue"),tc=new Set(Object.getOwnPropertyNames(Symbol).filter(p=>p!=="arguments"&&p!=="caller").map(p=>Symbol[p]).filter($n)),jm=Io(),km=Io(!1,!0),qm=Io(!0),_m=Io(!0,!0),Cf=tg();function tg(){const p={};return["includes","indexOf","lastIndexOf"].forEach(T=>{p[T]=function(...l){const x=ue(this);for(let e=0,f=this.length;e<f;e++)Fi(x,"get",e+"");const t=x[T](...l);return t===-1||t===!1?x[T](...l.map(ue)):t}}),["push","pop","shift","unshift","splice"].forEach(T=>{p[T]=function(...l){pr();const x=ue(this)[T].apply(this,l);return mr(),x}}),p}function Io(p=!1,T=!1){return function(x,t,e){if(t==="__v_isReactive")return!p;if(t==="__v_isReadonly")return p;if(t==="__v_isShallow")return T;if(t==="__v_raw"&&e===(p?T?oc:ac:T?rc:sc).get(x))return x;const f=Nt(x);if(!p&&f&&he(Cf,t))return Reflect.get(Cf,t,e);const i=Reflect.get(x,t,e);return($n(t)?tc.has(t):Qm(t))||(p||Fi(x,"get",t),T)?i:Ke(i)?f&&Lh(t)?i:i.value:Ee(i)?p?Dh(i):gr(i):i}}const eg=ec(),ig=ec(!0);function ec(p=!1){return function(l,x,t,e){let f=l[x];if(As(f)&&Ke(f)&&!Ke(t))return!1;if(!p&&(!Zr(t)&&!As(t)&&(f=ue(f),t=ue(t)),!Nt(l)&&Ke(f)&&!Ke(t)))return f.value=t,!0;const i=Nt(l)&&Lh(x)?Number(x)<l.length:he(l,x),r=Reflect.set(l,x,t,e);return l===ue(e)&&(i?sr(t,f)&&Pn(l,"set",x,t):Pn(l,"add",x,t)),r}}function ng(p,T){const l=he(p,T);p[T];const x=Reflect.deleteProperty(p,T);return x&&l&&Pn(p,"delete",T,void 0),x}function sg(p,T){const l=Reflect.has(p,T);return(!$n(T)||!tc.has(T))&&Fi(p,"has",T),l}function rg(p){return Fi(p,"iterate",Nt(p)?"length":gs),Reflect.ownKeys(p)}const ic={get:jm,set:eg,deleteProperty:ng,has:sg,ownKeys:rg},nc={get:qm,set(p,T){return!0},deleteProperty(p,T){return!0}},ag=de({},ic,{get:km,set:ig}),og=de({},nc,{get:_m}),Ih=p=>p,Do=p=>Reflect.getPrototypeOf(p);function Wa(p,T,l=!1,x=!1){p=p.__v_raw;const t=ue(p),e=ue(T);l||(T!==e&&Fi(t,"get",T),Fi(t,"get",e));const{has:f}=Do(t),i=x?Ih:l?wh:Jr;if(f.call(t,T))return i(p.get(T));if(f.call(t,e))return i(p.get(e));p!==t&&p.get(T)}function Xa(p,T=!1){const l=this.__v_raw,x=ue(l),t=ue(p);return T||(p!==t&&Fi(x,"has",p),Fi(x,"has",t)),p===t?l.has(p):l.has(p)||l.has(t)}function Ha(p,T=!1){return p=p.__v_raw,!T&&Fi(ue(p),"iterate",gs),Reflect.get(p,"size",p)}function Pf(p){p=ue(p);const T=ue(this);return Do(T).has.call(T,p)||(T.add(p),Pn(T,"add",p,p)),this}function Af(p,T){T=ue(T);const l=ue(this),{has:x,get:t}=Do(l);let e=x.call(l,p);e||(p=ue(p),e=x.call(l,p));const f=t.call(l,p);return l.set(p,T),e?sr(T,f)&&Pn(l,"set",p,T):Pn(l,"add",p,T),this}function Mf(p){const T=ue(this),{has:l,get:x}=Do(T);let t=l.call(T,p);t||(p=ue(p),t=l.call(T,p)),x&&x.call(T,p);const e=T.delete(p);return t&&Pn(T,"delete",p,void 0),e}function Rf(){const p=ue(this),T=p.size!==0,l=p.clear();return T&&Pn(p,"clear",void 0,void 0),l}function $a(p,T){return function(x,t){const e=this,f=e.__v_raw,i=ue(f),r=T?Ih:p?wh:Jr;return!p&&Fi(i,"iterate",gs),f.forEach((a,n)=>x.call(t,r(a),r(n),e))}}function Ka(p,T,l){return function(...x){const t=this.__v_raw,e=ue(t),f=ks(e),i=p==="entries"||p===Symbol.iterator&&f,r=p==="keys"&&f,a=t[p](...x),n=l?Ih:T?wh:Jr;return!T&&Fi(e,"iterate",r?Zl:gs),{next(){const{value:s,done:u}=a.next();return u?{value:s,done:u}:{value:i?[n(s[0]),n(s[1])]:n(s),done:u}},[Symbol.iterator](){return this}}}}function Dn(p){return function(...T){return p==="delete"?!1:this}}function lg(){const p={get(e){return Wa(this,e)},get size(){return Ha(this)},has:Xa,add:Pf,set:Af,delete:Mf,clear:Rf,forEach:$a(!1,!1)},T={get(e){return Wa(this,e,!1,!0)},get size(){return Ha(this)},has:Xa,add:Pf,set:Af,delete:Mf,clear:Rf,forEach:$a(!1,!0)},l={get(e){return Wa(this,e,!0)},get size(){return Ha(this,!0)},has(e){return Xa.call(this,e,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:$a(!0,!1)},x={get(e){return Wa(this,e,!0,!0)},get size(){return Ha(this,!0)},has(e){return Xa.call(this,e,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:$a(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(e=>{p[e]=Ka(e,!1,!1),l[e]=Ka(e,!0,!1),T[e]=Ka(e,!1,!0),x[e]=Ka(e,!0,!0)}),[p,l,T,x]}const[hg,ug,fg,dg]=lg();function No(p,T){const l=T?p?dg:fg:p?ug:hg;return(x,t,e)=>t==="__v_isReactive"?!p:t==="__v_isReadonly"?p:t==="__v_raw"?x:Reflect.get(he(l,t)&&t in x?l:x,t,e)}const cg={get:No(!1,!1)},vg={get:No(!1,!0)},pg={get:No(!0,!1)},mg={get:No(!0,!0)},sc=new WeakMap,rc=new WeakMap,ac=new WeakMap,oc=new WeakMap;function gg(p){switch(p){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xg(p){return p.__v_skip||!Object.isExtensible(p)?0:gg(Vm(p))}function gr(p){return As(p)?p:Bo(p,!1,ic,cg,sc)}function lc(p){return Bo(p,!1,ag,vg,rc)}function Dh(p){return Bo(p,!0,nc,pg,ac)}function yg(p){return Bo(p,!0,og,mg,oc)}function Bo(p,T,l,x,t){if(!Ee(p)||p.__v_raw&&!(T&&p.__v_isReactive))return p;const e=t.get(p);if(e)return e;const f=xg(p);if(f===0)return p;const i=new Proxy(p,f===2?x:l);return t.set(p,i),i}function xs(p){return As(p)?xs(p.__v_raw):!!(p&&p.__v_isReactive)}function As(p){return!!(p&&p.__v_isReadonly)}function Zr(p){return!!(p&&p.__v_isShallow)}function Nh(p){return xs(p)||As(p)}function ue(p){const T=p&&p.__v_raw;return T?ue(T):p}function Bh(p){return uo(p,"__v_skip",!0),p}const Jr=p=>Ee(p)?gr(p):p,wh=p=>Ee(p)?Dh(p):p;function Gh(p){Wn&&Ji&&(p=ue(p),_d(p.dep||(p.dep=Fh())))}function wo(p,T){p=ue(p),p.dep&&Jl(p.dep)}function Ke(p){return!!(p&&p.__v_isRef===!0)}function wr(p){return uc(p,!1)}function hc(p){return uc(p,!0)}function uc(p,T){return Ke(p)?p:new Tg(p,T)}class Tg{constructor(T,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?T:ue(T),this._value=l?T:Jr(T)}get value(){return Gh(this),this._value}set value(T){const l=this.__v_isShallow||Zr(T)||As(T);T=l?T:ue(T),sr(T,this._rawValue)&&(this._rawValue=T,this._value=l?T:Jr(T),wo(this))}}function Eg(p){wo(p)}function ys(p){return Ke(p)?p.value:p}const Sg={get:(p,T,l)=>ys(Reflect.get(p,T,l)),set:(p,T,l,x)=>{const t=p[T];return Ke(t)&&!Ke(l)?(t.value=l,!0):Reflect.set(p,T,l,x)}};function Vh(p){return xs(p)?p:new Proxy(p,Sg)}class Cg{constructor(T){this.dep=void 0,this.__v_isRef=!0;const{get:l,set:x}=T(()=>Gh(this),()=>wo(this));this._get=l,this._set=x}get value(){return this._get()}set value(T){this._set(T)}}function Pg(p){return new Cg(p)}function Ag(p){const T=Nt(p)?new Array(p.length):{};for(const l in p)T[l]=fc(p,l);return T}class Mg{constructor(T,l,x){this._object=T,this._key=l,this._defaultValue=x,this.__v_isRef=!0}get value(){const T=this._object[this._key];return T===void 0?this._defaultValue:T}set value(T){this._object[this._key]=T}}function fc(p,T,l){const x=p[T];return Ke(x)?x:new Mg(p,T,l)}var dc;class Rg{constructor(T,l,x,t){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this[dc]=!1,this._dirty=!0,this.effect=new oa(T,()=>{this._dirty||(this._dirty=!0,wo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=x}get value(){const T=ue(this);return Gh(T),(T._dirty||!T._cacheable)&&(T._dirty=!1,T._value=T.effect.run()),T._value}set value(T){this._setter(T)}}dc="__v_isReadonly";function Lg(p,T,l=!1){let x,t;const e=Jt(p);return e?(x=p,t=oi):(x=p.get,t=p.set),new Rg(x,t,e||!t,l)}function Og(p,...T){}function xn(p,T,l,x){let t;try{t=x?p(...x):p()}catch(e){Ns(e,T,l)}return t}function Li(p,T,l,x){if(Jt(p)){const e=xn(p,T,l,x);return e&&Rh(e)&&e.catch(f=>{Ns(f,T,l)}),e}const t=[];for(let e=0;e<p.length;e++)t.push(Li(p[e],T,l,x));return t}function Ns(p,T,l,x=!0){const t=T?T.vnode:null;if(T){let e=T.parent;const f=T.proxy,i=l;for(;e;){const a=e.ec;if(a){for(let n=0;n<a.length;n++)if(a[n](p,f,i)===!1)return}e=e.parent}const r=T.appContext.config.errorHandler;if(r){xn(r,null,10,[p,f,i]);return}}Fg(p,l,t,x)}function Fg(p,T,l,x=!0){console.error(p)}let Qr=!1,Ql=!1;const ii=[];let sn=0;const tr=[];let pn=null,fs=0;const cc=Promise.resolve();let Uh=null;function Go(p){const T=Uh||cc;return p?T.then(this?p.bind(this):p):T}function Ig(p){let T=sn+1,l=ii.length;for(;T<l;){const x=T+l>>>1;jr(ii[x])<p?T=x+1:l=x}return T}function Vo(p){(!ii.length||!ii.includes(p,Qr&&p.allowRecurse?sn+1:sn))&&(p.id==null?ii.push(p):ii.splice(Ig(p.id),0,p),vc())}function vc(){!Qr&&!Ql&&(Ql=!0,Uh=cc.then(pc))}function Dg(p){const T=ii.indexOf(p);T>sn&&ii.splice(T,1)}function Yh(p){Nt(p)?tr.push(...p):(!pn||!pn.includes(p,p.allowRecurse?fs+1:fs))&&tr.push(p),vc()}function Lf(p,T=Qr?sn+1:0){for(;T<ii.length;T++){const l=ii[T];l&&l.pre&&(ii.splice(T,1),T--,l())}}function fo(p){if(tr.length){const T=[...new Set(tr)];if(tr.length=0,pn){pn.push(...T);return}for(pn=T,pn.sort((l,x)=>jr(l)-jr(x)),fs=0;fs<pn.length;fs++)pn[fs]();pn=null,fs=0}}const jr=p=>p.id==null?1/0:p.id,Ng=(p,T)=>{const l=jr(p)-jr(T);if(l===0){if(p.pre&&!T.pre)return-1;if(T.pre&&!p.pre)return 1}return l};function pc(p){Ql=!1,Qr=!0,ii.sort(Ng);const T=oi;try{for(sn=0;sn<ii.length;sn++){const l=ii[sn];l&&l.active!==!1&&xn(l,null,14)}}finally{sn=0,ii.length=0,fo(),Qr=!1,Uh=null,(ii.length||tr.length)&&pc()}}let Hs,Za=[];function mc(p,T){var l,x;Hs=p,Hs?(Hs.enabled=!0,Za.forEach(({event:t,args:e})=>Hs.emit(t,...e)),Za=[]):typeof window<"u"&&window.HTMLElement&&!(!((x=(l=window.navigator)===null||l===void 0?void 0:l.userAgent)===null||x===void 0)&&x.includes("jsdom"))?((T.__VUE_DEVTOOLS_HOOK_REPLAY__=T.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(e=>{mc(e,T)}),setTimeout(()=>{Hs||(T.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Za=[])},3e3)):Za=[]}function Bg(p,T,...l){if(p.isUnmounted)return;const x=p.vnode.props||xe;let t=l;const e=T.startsWith("update:"),f=e&&T.slice(7);if(f&&f in x){const n=`${f==="modelValue"?"model":f}Modifiers`,{number:s,trim:u}=x[n]||xe;u&&(t=l.map(o=>_t(o)?o.trim():o)),s&&(t=l.map(Cn))}let i,r=x[i=qs(T)]||x[i=qs(qe(T))];!r&&e&&(r=x[i=qs(Ai(T))]),r&&Li(r,p,6,t);const a=x[i+"Once"];if(a){if(!p.emitted)p.emitted={};else if(p.emitted[i])return;p.emitted[i]=!0,Li(a,p,6,t)}}function gc(p,T,l=!1){const x=T.emitsCache,t=x.get(p);if(t!==void 0)return t;const e=p.emits;let f={},i=!1;if(!Jt(p)){const r=a=>{const n=gc(a,T,!0);n&&(i=!0,de(f,n))};!l&&T.mixins.length&&T.mixins.forEach(r),p.extends&&r(p.extends),p.mixins&&p.mixins.forEach(r)}return!e&&!i?(Ee(p)&&x.set(p,null),null):(Nt(e)?e.forEach(r=>f[r]=null):de(f,e),Ee(p)&&x.set(p,f),f)}function Uo(p,T){return!p||!Fs(T)?!1:(T=T.slice(2).replace(/Once$/,""),he(p,T[0].toLowerCase()+T.slice(1))||he(p,Ai(T))||he(p,T))}let ke=null,Yo=null;function kr(p){const T=ke;return ke=p,Yo=p&&p.type.__scopeId||null,T}function la(p){Yo=p}function ha(){Yo=null}const wg=p=>zh;function zh(p,T=ke,l){if(!T||p._n)return p;const x=(...t)=>{x._d&&ih(-1);const e=kr(T);let f;try{f=p(...t)}finally{kr(e),x._d&&ih(1)}return f};return x._n=!0,x._c=!0,x._d=!0,x}function ro(p){const{type:T,vnode:l,proxy:x,withProxy:t,props:e,propsOptions:[f],slots:i,attrs:r,emit:a,render:n,renderCache:s,data:u,setupState:o,ctx:h,inheritAttrs:d}=p;let v,c;const m=kr(p);try{if(l.shapeFlag&4){const y=t||x;v=Pi(n.call(y,y,s,e,o,u,h)),c=r}else{const y=T;v=Pi(y.length>1?y(e,{attrs:r,slots:i,emit:a}):y(e,null)),c=T.props?r:Vg(r)}}catch(y){Yr.length=0,Ns(y,p,1),v=Te(si)}let g=v;if(c&&d!==!1){const y=Object.keys(c),{shapeFlag:E}=g;y.length&&E&7&&(f&&y.some(Ah)&&(c=Ug(c,f)),g=an(g,c))}return l.dirs&&(g=an(g),g.dirs=g.dirs?g.dirs.concat(l.dirs):l.dirs),l.transition&&(g.transition=l.transition),v=g,kr(m),v}function Gg(p){let T;for(let l=0;l<p.length;l++){const x=p[l];if(Jn(x)){if(x.type!==si||x.children==="v-if"){if(T)return;T=x}}else return}return T}const Vg=p=>{let T;for(const l in p)(l==="class"||l==="style"||Fs(l))&&((T||(T={}))[l]=p[l]);return T},Ug=(p,T)=>{const l={};for(const x in p)(!Ah(x)||!(x.slice(9)in T))&&(l[x]=p[x]);return l};function Yg(p,T,l){const{props:x,children:t,component:e}=p,{props:f,children:i,patchFlag:r}=T,a=e.emitsOptions;if(T.dirs||T.transition)return!0;if(l&&r>=0){if(r&1024)return!0;if(r&16)return x?Of(x,f,a):!!f;if(r&8){const n=T.dynamicProps;for(let s=0;s<n.length;s++){const u=n[s];if(f[u]!==x[u]&&!Uo(a,u))return!0}}}else return(t||i)&&(!i||!i.$stable)?!0:x===f?!1:x?f?Of(x,f,a):!0:!!f;return!1}function Of(p,T,l){const x=Object.keys(T);if(x.length!==Object.keys(p).length)return!0;for(let t=0;t<x.length;t++){const e=x[t];if(T[e]!==p[e]&&!Uo(l,e))return!0}return!1}function bh({vnode:p,parent:T},l){for(;T&&T.subTree===p;)(p=T.vnode).el=l,T=T.parent}const xc=p=>p.__isSuspense,zg={name:"Suspense",__isSuspense:!0,process(p,T,l,x,t,e,f,i,r,a){p==null?Wg(T,l,x,t,e,f,i,r,a):Xg(p,T,l,x,t,f,i,r,a)},hydrate:Hg,create:Wh,normalize:$g},bg=zg;function qr(p,T){const l=p.props&&p.props[T];Jt(l)&&l()}function Wg(p,T,l,x,t,e,f,i,r){const{p:a,o:{createElement:n}}=r,s=n("div"),u=p.suspense=Wh(p,t,x,T,s,l,e,f,i,r);a(null,u.pendingBranch=p.ssContent,s,null,x,u,e,f),u.deps>0?(qr(p,"onPending"),qr(p,"onFallback"),a(null,p.ssFallback,T,l,x,null,e,f),er(u,p.ssFallback)):u.resolve()}function Xg(p,T,l,x,t,e,f,i,{p:r,um:a,o:{createElement:n}}){const s=T.suspense=p.suspense;s.vnode=T,T.el=p.el;const u=T.ssContent,o=T.ssFallback,{activeBranch:h,pendingBranch:d,isInFallback:v,isHydrating:c}=s;if(d)s.pendingBranch=u,rn(u,d)?(r(d,u,s.hiddenContainer,null,t,s,e,f,i),s.deps<=0?s.resolve():v&&(r(h,o,l,x,t,null,e,f,i),er(s,o))):(s.pendingId++,c?(s.isHydrating=!1,s.activeBranch=d):a(d,t,s),s.deps=0,s.effects.length=0,s.hiddenContainer=n("div"),v?(r(null,u,s.hiddenContainer,null,t,s,e,f,i),s.deps<=0?s.resolve():(r(h,o,l,x,t,null,e,f,i),er(s,o))):h&&rn(u,h)?(r(h,u,l,x,t,s,e,f,i),s.resolve(!0)):(r(null,u,s.hiddenContainer,null,t,s,e,f,i),s.deps<=0&&s.resolve()));else if(h&&rn(u,h))r(h,u,l,x,t,s,e,f,i),er(s,u);else if(qr(T,"onPending"),s.pendingBranch=u,s.pendingId++,r(null,u,s.hiddenContainer,null,t,s,e,f,i),s.deps<=0)s.resolve();else{const{timeout:m,pendingId:g}=s;m>0?setTimeout(()=>{s.pendingId===g&&s.fallback(o)},m):m===0&&s.fallback(o)}}function Wh(p,T,l,x,t,e,f,i,r,a,n=!1){const{p:s,m:u,um:o,n:h,o:{parentNode:d,remove:v}}=a,c=Cn(p.props&&p.props.timeout),m={vnode:p,parent:T,parentComponent:l,isSVG:f,container:x,hiddenContainer:t,anchor:e,deps:0,pendingId:0,timeout:typeof c=="number"?c:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:n,isUnmounted:!1,effects:[],resolve(g=!1){const{vnode:y,activeBranch:E,pendingBranch:S,pendingId:C,effects:P,parentComponent:A,container:R}=m;if(m.isHydrating)m.isHydrating=!1;else if(!g){const F=E&&S.transition&&S.transition.mode==="out-in";F&&(E.transition.afterLeave=()=>{C===m.pendingId&&u(S,R,I,0)});let{anchor:I}=m;E&&(I=h(E),o(E,A,m,!0)),F||u(S,R,I,0)}er(m,S),m.pendingBranch=null,m.isInFallback=!1;let M=m.parent,L=!1;for(;M;){if(M.pendingBranch){M.effects.push(...P),L=!0;break}M=M.parent}L||Yh(P),m.effects=[],qr(y,"onResolve")},fallback(g){if(!m.pendingBranch)return;const{vnode:y,activeBranch:E,parentComponent:S,container:C,isSVG:P}=m;qr(y,"onFallback");const A=h(E),R=()=>{m.isInFallback&&(s(null,g,C,A,S,null,P,i,r),er(m,g))},M=g.transition&&g.transition.mode==="out-in";M&&(E.transition.afterLeave=R),m.isInFallback=!0,o(E,S,null,!0),M||R()},move(g,y,E){m.activeBranch&&u(m.activeBranch,g,y,E),m.container=g},next(){return m.activeBranch&&h(m.activeBranch)},registerDep(g,y){const E=!!m.pendingBranch;E&&m.deps++;const S=g.vnode.el;g.asyncDep.catch(C=>{Ns(C,g,0)}).then(C=>{if(g.isUnmounted||m.isUnmounted||m.pendingId!==g.suspenseId)return;g.asyncResolved=!0;const{vnode:P}=g;nh(g,C,!1),S&&(P.el=S);const A=!S&&g.subTree.el;y(g,P,d(S||g.subTree.el),S?null:h(g.subTree),m,f,r),A&&v(A),bh(g,P.el),E&&--m.deps===0&&m.resolve()})},unmount(g,y){m.isUnmounted=!0,m.activeBranch&&o(m.activeBranch,l,g,y),m.pendingBranch&&o(m.pendingBranch,l,g,y)}};return m}function Hg(p,T,l,x,t,e,f,i,r){const a=T.suspense=Wh(T,x,l,p.parentNode,document.createElement("div"),null,t,e,f,i,!0),n=r(p,a.pendingBranch=T.ssContent,l,a,e,f);return a.deps===0&&a.resolve(),n}function $g(p){const{shapeFlag:T,children:l}=p,x=T&32;p.ssContent=Ff(x?l.default:l),p.ssFallback=x?Ff(l.fallback):Te(si)}function Ff(p){let T;if(Jt(p)){const l=Ls&&p._c;l&&(p._d=!1,Se()),p=p(),l&&(p._d=!0,T=vi,Kc())}return Nt(p)&&(p=Gg(p)),p=Pi(p),T&&!p.dynamicChildren&&(p.dynamicChildren=T.filter(l=>l!==p)),p}function yc(p,T){T&&T.pendingBranch?Nt(p)?T.effects.push(...p):T.effects.push(p):Yh(p)}function er(p,T){p.activeBranch=T;const{vnode:l,parentComponent:x}=p,t=l.el=T.el;x&&x.subTree===l&&(x.vnode.el=t,bh(x,t))}function Gr(p,T){if(ze){let l=ze.provides;const x=ze.parent&&ze.parent.provides;x===l&&(l=ze.provides=Object.create(x)),l[p]=T}}function Qi(p,T,l=!1){const x=ze||ke;if(x){const t=x.parent==null?x.vnode.appContext&&x.vnode.appContext.provides:x.parent.provides;if(t&&p in t)return t[p];if(arguments.length>1)return l&&Jt(T)?T.call(x.proxy):T}}function Kg(p,T){return ua(p,null,T)}function Tc(p,T){return ua(p,null,{flush:"post"})}function Zg(p,T){return ua(p,null,{flush:"sync"})}const Ja={};function ir(p,T,l){return ua(p,T,l)}function ua(p,T,{immediate:l,deep:x,flush:t,onTrack:e,onTrigger:f}=xe){const i=ze;let r,a=!1,n=!1;if(Ke(p)?(r=()=>p.value,a=Zr(p)):xs(p)?(r=()=>p,x=!0):Nt(p)?(n=!0,a=p.some(g=>xs(g)||Zr(g)),r=()=>p.map(g=>{if(Ke(g))return g.value;if(xs(g))return cs(g);if(Jt(g))return xn(g,i,2)})):Jt(p)?T?r=()=>xn(p,i,2):r=()=>{if(!(i&&i.isUnmounted))return s&&s(),Li(p,i,3,[u])}:r=oi,T&&x){const g=r;r=()=>cs(g())}let s,u=g=>{s=c.onStop=()=>{xn(g,i,4)}},o;if(ar)if(u=oi,T?l&&Li(T,i,3,[r(),n?[]:void 0,u]):r(),t==="sync"){const g=av();o=g.__watcherHandles||(g.__watcherHandles=[])}else return oi;let h=n?new Array(p.length).fill(Ja):Ja;const d=()=>{if(c.active)if(T){const g=c.run();(x||a||(n?g.some((y,E)=>sr(y,h[E])):sr(g,h)))&&(s&&s(),Li(T,i,3,[g,h===Ja?void 0:n&&h[0]===Ja?[]:h,u]),h=g)}else c.run()};d.allowRecurse=!!T;let v;t==="sync"?v=d:t==="post"?v=()=>Qe(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>Vo(d));const c=new oa(r,v);T?l?d():h=c.run():t==="post"?Qe(c.run.bind(c),i&&i.suspense):c.run();const m=()=>{c.stop(),i&&i.scope&&Mh(i.scope.effects,c)};return o&&o.push(m),m}function Jg(p,T,l){const x=this.proxy,t=_t(p)?p.includes(".")?Ec(x,p):()=>x[p]:p.bind(x,x);let e;Jt(T)?e=T:(e=T.handler,l=T);const f=ze;Qn(this);const i=ua(t,e.bind(x),l);return f?Qn(f):Xn(),i}function Ec(p,T){const l=T.split(".");return()=>{let x=p;for(let t=0;t<l.length&&x;t++)x=x[l[t]];return x}}function cs(p,T){if(!Ee(p)||p.__v_skip||(T=T||new Set,T.has(p)))return p;if(T.add(p),Ke(p))cs(p.value,T);else if(Nt(p))for(let l=0;l<p.length;l++)cs(p[l],T);else if(Is(p)||ks(p))p.forEach(l=>{cs(l,T)});else if(Jd(p))for(const l in p)cs(p[l],T);return p}function Xh(){const p={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return da(()=>{p.isMounted=!0}),Xo(()=>{p.isUnmounting=!0}),p}const wi=[Function,Array],Qg={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wi,onEnter:wi,onAfterEnter:wi,onEnterCancelled:wi,onBeforeLeave:wi,onLeave:wi,onAfterLeave:wi,onLeaveCancelled:wi,onBeforeAppear:wi,onAppear:wi,onAfterAppear:wi,onAppearCancelled:wi},setup(p,{slots:T}){const l=qn(),x=Xh();let t;return()=>{const e=T.default&&zo(T.default(),!0);if(!e||!e.length)return;let f=e[0];if(e.length>1){for(const d of e)if(d.type!==si){f=d;break}}const i=ue(p),{mode:r}=i;if(x.isLeaving)return Ol(f);const a=If(f);if(!a)return Ol(f);const n=rr(a,i,x,l);Ms(a,n);const s=l.subTree,u=s&&If(s);let o=!1;const{getTransitionKey:h}=a.type;if(h){const d=h();t===void 0?t=d:d!==t&&(t=d,o=!0)}if(u&&u.type!==si&&(!rn(a,u)||o)){const d=rr(u,i,x,l);if(Ms(u,d),r==="out-in")return x.isLeaving=!0,d.afterLeave=()=>{x.isLeaving=!1,l.update.active!==!1&&l.update()},Ol(f);r==="in-out"&&a.type!==si&&(d.delayLeave=(v,c,m)=>{const g=Sc(x,u);g[String(u.key)]=u,v._leaveCb=()=>{c(),v._leaveCb=void 0,delete n.delayedLeave},n.delayedLeave=m})}return f}}},Hh=Qg;function Sc(p,T){const{leavingVNodes:l}=p;let x=l.get(T.type);return x||(x=Object.create(null),l.set(T.type,x)),x}function rr(p,T,l,x){const{appear:t,mode:e,persisted:f=!1,onBeforeEnter:i,onEnter:r,onAfterEnter:a,onEnterCancelled:n,onBeforeLeave:s,onLeave:u,onAfterLeave:o,onLeaveCancelled:h,onBeforeAppear:d,onAppear:v,onAfterAppear:c,onAppearCancelled:m}=T,g=String(p.key),y=Sc(l,p),E=(P,A)=>{P&&Li(P,x,9,A)},S=(P,A)=>{const R=A[1];E(P,A),Nt(P)?P.every(M=>M.length<=1)&&R():P.length<=1&&R()},C={mode:e,persisted:f,beforeEnter(P){let A=i;if(!l.isMounted)if(t)A=d||i;else return;P._leaveCb&&P._leaveCb(!0);const R=y[g];R&&rn(p,R)&&R.el._leaveCb&&R.el._leaveCb(),E(A,[P])},enter(P){let A=r,R=a,M=n;if(!l.isMounted)if(t)A=v||r,R=c||a,M=m||n;else return;let L=!1;const F=P._enterCb=I=>{L||(L=!0,I?E(M,[P]):E(R,[P]),C.delayedLeave&&C.delayedLeave(),P._enterCb=void 0)};A?S(A,[P,F]):F()},leave(P,A){const R=String(p.key);if(P._enterCb&&P._enterCb(!0),l.isUnmounting)return A();E(s,[P]);let M=!1;const L=P._leaveCb=F=>{M||(M=!0,A(),F?E(h,[P]):E(o,[P]),P._leaveCb=void 0,y[R]===p&&delete y[R])};y[R]=p,u?S(u,[P,L]):L()},clone(P){return rr(P,T,l,x)}};return C}function Ol(p){if(fa(p))return p=an(p),p.children=null,p}function If(p){return fa(p)?p.children?p.children[0]:void 0:p}function Ms(p,T){p.shapeFlag&6&&p.component?Ms(p.component.subTree,T):p.shapeFlag&128?(p.ssContent.transition=T.clone(p.ssContent),p.ssFallback.transition=T.clone(p.ssFallback)):p.transition=T}function zo(p,T=!1,l){let x=[],t=0;for(let e=0;e<p.length;e++){let f=p[e];const i=l==null?f.key:String(l)+String(f.key!=null?f.key:e);f.type===Ve?(f.patchFlag&128&&t++,x=x.concat(zo(f.children,T,i))):(T||f.type!==si)&&x.push(i!=null?an(f,{key:i}):f)}if(t>1)for(let e=0;e<x.length;e++)x[e].patchFlag=-2;return x}function li(p){return Jt(p)?{setup:p,name:p.name}:p}const Ts=p=>!!p.type.__asyncLoader;function jg(p){Jt(p)&&(p={loader:p});const{loader:T,loadingComponent:l,errorComponent:x,delay:t=200,timeout:e,suspensible:f=!0,onError:i}=p;let r=null,a,n=0;const s=()=>(n++,r=null,u()),u=()=>{let o;return r||(o=r=T().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),i)return new Promise((d,v)=>{i(h,()=>d(s()),()=>v(h),n+1)});throw h}).then(h=>o!==r&&r?r:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),a=h,h)))};return li({name:"AsyncComponentWrapper",__asyncLoader:u,get __asyncResolved(){return a},setup(){const o=ze;if(a)return()=>Fl(a,o);const h=m=>{r=null,Ns(m,o,13,!x)};if(f&&o.suspense||ar)return u().then(m=>()=>Fl(m,o)).catch(m=>(h(m),()=>x?Te(x,{error:m}):null));const d=wr(!1),v=wr(),c=wr(!!t);return t&&setTimeout(()=>{c.value=!1},t),e!=null&&setTimeout(()=>{if(!d.value&&!v.value){const m=new Error(`Async component timed out after ${e}ms.`);h(m),v.value=m}},e),u().then(()=>{d.value=!0,o.parent&&fa(o.parent.vnode)&&Vo(o.parent.update)}).catch(m=>{h(m),v.value=m}),()=>{if(d.value&&a)return Fl(a,o);if(v.value&&x)return Te(x,{error:v.value});if(l&&!c.value)return Te(l)}}})}function Fl(p,T){const{ref:l,props:x,children:t,ce:e}=T.vnode,f=Te(p,x,t);return f.ref=l,f.ce=e,delete T.vnode.ce,f}const fa=p=>p.type.__isKeepAlive,kg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(p,{slots:T}){const l=qn(),x=l.ctx;if(!x.renderer)return()=>{const m=T.default&&T.default();return m&&m.length===1?m[0]:m};const t=new Map,e=new Set;let f=null;const i=l.suspense,{renderer:{p:r,m:a,um:n,o:{createElement:s}}}=x,u=s("div");x.activate=(m,g,y,E,S)=>{const C=m.component;a(m,g,y,0,i),r(C.vnode,m,g,y,C,i,E,m.slotScopeIds,S),Qe(()=>{C.isDeactivated=!1,C.a&&_s(C.a);const P=m.props&&m.props.onVnodeMounted;P&&ci(P,C.parent,m)},i)},x.deactivate=m=>{const g=m.component;a(m,u,null,1,i),Qe(()=>{g.da&&_s(g.da);const y=m.props&&m.props.onVnodeUnmounted;y&&ci(y,g.parent,m),g.isDeactivated=!0},i)};function o(m){Il(m),n(m,l,i,!0)}function h(m){t.forEach((g,y)=>{const E=rh(g.type);E&&(!m||!m(E))&&d(y)})}function d(m){const g=t.get(m);!f||g.type!==f.type?o(g):f&&Il(f),t.delete(m),e.delete(m)}ir(()=>[p.include,p.exclude],([m,g])=>{m&&h(y=>Nr(m,y)),g&&h(y=>!Nr(g,y))},{flush:"post",deep:!0});let v=null;const c=()=>{v!=null&&t.set(v,Dl(l.subTree))};return da(c),Wo(c),Xo(()=>{t.forEach(m=>{const{subTree:g,suspense:y}=l,E=Dl(g);if(m.type===E.type){Il(E);const S=E.component.da;S&&Qe(S,y);return}o(m)})}),()=>{if(v=null,!T.default)return null;const m=T.default(),g=m[0];if(m.length>1)return f=null,m;if(!Jn(g)||!(g.shapeFlag&4)&&!(g.shapeFlag&128))return f=null,g;let y=Dl(g);const E=y.type,S=rh(Ts(y)?y.type.__asyncResolved||{}:E),{include:C,exclude:P,max:A}=p;if(C&&(!S||!Nr(C,S))||P&&S&&Nr(P,S))return f=y,g;const R=y.key==null?E:y.key,M=t.get(R);return y.el&&(y=an(y),g.shapeFlag&128&&(g.ssContent=y)),v=R,M?(y.el=M.el,y.component=M.component,y.transition&&Ms(y,y.transition),y.shapeFlag|=512,e.delete(R),e.add(R)):(e.add(R),A&&e.size>parseInt(A,10)&&d(e.values().next().value)),y.shapeFlag|=256,f=y,xc(g.type)?g:y}}},qg=kg;function Nr(p,T){return Nt(p)?p.some(l=>Nr(l,T)):_t(p)?p.split(",").includes(T):p.test?p.test(T):!1}function Cc(p,T){Ac(p,"a",T)}function Pc(p,T){Ac(p,"da",T)}function Ac(p,T,l=ze){const x=p.__wdc||(p.__wdc=()=>{let t=l;for(;t;){if(t.isDeactivated)return;t=t.parent}return p()});if(bo(T,x,l),l){let t=l.parent;for(;t&&t.parent;)fa(t.parent.vnode)&&_g(x,T,l,t),t=t.parent}}function _g(p,T,l,x){const t=bo(T,p,x,!0);Ho(()=>{Mh(x[T],t)},l)}function Il(p){p.shapeFlag&=-257,p.shapeFlag&=-513}function Dl(p){return p.shapeFlag&128?p.ssContent:p}function bo(p,T,l=ze,x=!1){if(l){const t=l[p]||(l[p]=[]),e=T.__weh||(T.__weh=(...f)=>{if(l.isUnmounted)return;pr(),Qn(l);const i=Li(T,l,p,f);return Xn(),mr(),i});return x?t.unshift(e):t.push(e),e}}const Ln=p=>(T,l=ze)=>(!ar||p==="sp")&&bo(p,(...x)=>T(...x),l),Mc=Ln("bm"),da=Ln("m"),Rc=Ln("bu"),Wo=Ln("u"),Xo=Ln("bum"),Ho=Ln("um"),Lc=Ln("sp"),Oc=Ln("rtg"),Fc=Ln("rtc");function Ic(p,T=ze){bo("ec",p,T)}function Es(p,T){const l=ke;if(l===null)return p;const x=Ko(l)||l.proxy,t=p.dirs||(p.dirs=[]);for(let e=0;e<T.length;e++){let[f,i,r,a=xe]=T[e];f&&(Jt(f)&&(f={mounted:f,updated:f}),f.deep&&cs(i),t.push({dir:f,instance:x,value:i,oldValue:void 0,arg:r,modifiers:a}))}return p}function nn(p,T,l,x){const t=p.dirs,e=T&&T.dirs;for(let f=0;f<t.length;f++){const i=t[f];e&&(i.oldValue=e[f].value);let r=i.dir[x];r&&(pr(),Li(r,l,8,[p.el,i,p,T]),mr())}}const $h="components",t0="directives";function An(p,T){return Kh($h,p,!0,T)||p}const Dc=Symbol();function e0(p){return _t(p)?Kh($h,p,!1)||p:p||Dc}function i0(p){return Kh(t0,p)}function Kh(p,T,l=!0,x=!1){const t=ke||ze;if(t){const e=t.type;if(p===$h){const i=rh(e,!1);if(i&&(i===T||i===qe(T)||i===Ds(qe(T))))return e}const f=Df(t[p]||e[p],T)||Df(t.appContext[p],T);return!f&&x?e:f}}function Df(p,T){return p&&(p[T]||p[qe(T)]||p[Ds(qe(T))])}function Nc(p,T,l,x){let t;const e=l&&l[x];if(Nt(p)||_t(p)){t=new Array(p.length);for(let f=0,i=p.length;f<i;f++)t[f]=T(p[f],f,void 0,e&&e[f])}else if(typeof p=="number"){t=new Array(p);for(let f=0;f<p;f++)t[f]=T(f+1,f,void 0,e&&e[f])}else if(Ee(p))if(p[Symbol.iterator])t=Array.from(p,(f,i)=>T(f,i,void 0,e&&e[i]));else{const f=Object.keys(p);t=new Array(f.length);for(let i=0,r=f.length;i<r;i++){const a=f[i];t[i]=T(p[a],a,i,e&&e[i])}}else t=[];return l&&(l[x]=t),t}function n0(p,T){for(let l=0;l<T.length;l++){const x=T[l];if(Nt(x))for(let t=0;t<x.length;t++)p[x[t].name]=x[t].fn;else x&&(p[x.name]=x.key?(...t)=>{const e=x.fn(...t);return e&&(e.key=x.key),e}:x.fn)}return p}function s0(p,T,l={},x,t){if(ke.isCE||ke.parent&&Ts(ke.parent)&&ke.parent.isCE)return T!=="default"&&(l.name=T),Te("slot",l,x&&x());let e=p[T];e&&e._c&&(e._d=!1),Se();const f=e&&Bc(e(l)),i=Zn(Ve,{key:l.key||f&&f.key||`_${T}`},f||(x?x():[]),f&&p._===1?64:-2);return!t&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),e&&e._c&&(e._d=!0),i}function Bc(p){return p.some(T=>Jn(T)?!(T.type===si||T.type===Ve&&!Bc(T.children)):!0)?p:null}function r0(p,T){const l={};for(const x in p)l[T&&/[A-Z]/.test(x)?`on:${x}`:qs(x)]=p[x];return l}const jl=p=>p?_c(p)?Ko(p)||p.proxy:jl(p.parent):null,Vr=de(Object.create(null),{$:p=>p,$el:p=>p.vnode.el,$data:p=>p.data,$props:p=>p.props,$attrs:p=>p.attrs,$slots:p=>p.slots,$refs:p=>p.refs,$parent:p=>jl(p.parent),$root:p=>jl(p.root),$emit:p=>p.emit,$options:p=>Zh(p),$forceUpdate:p=>p.f||(p.f=()=>Vo(p.update)),$nextTick:p=>p.n||(p.n=Go.bind(p.proxy)),$watch:p=>Jg.bind(p)}),Nl=(p,T)=>p!==xe&&!p.__isScriptSetup&&he(p,T),kl={get({_:p},T){const{ctx:l,setupState:x,data:t,props:e,accessCache:f,type:i,appContext:r}=p;let a;if(T[0]!=="$"){const o=f[T];if(o!==void 0)switch(o){case 1:return x[T];case 2:return t[T];case 4:return l[T];case 3:return e[T]}else{if(Nl(x,T))return f[T]=1,x[T];if(t!==xe&&he(t,T))return f[T]=2,t[T];if((a=p.propsOptions[0])&&he(a,T))return f[T]=3,e[T];if(l!==xe&&he(l,T))return f[T]=4,l[T];ql&&(f[T]=0)}}const n=Vr[T];let s,u;if(n)return T==="$attrs"&&Fi(p,"get",T),n(p);if((s=i.__cssModules)&&(s=s[T]))return s;if(l!==xe&&he(l,T))return f[T]=4,l[T];if(u=r.config.globalProperties,he(u,T))return u[T]},set({_:p},T,l){const{data:x,setupState:t,ctx:e}=p;return Nl(t,T)?(t[T]=l,!0):x!==xe&&he(x,T)?(x[T]=l,!0):he(p.props,T)||T[0]==="$"&&T.slice(1)in p?!1:(e[T]=l,!0)},has({_:{data:p,setupState:T,accessCache:l,ctx:x,appContext:t,propsOptions:e}},f){let i;return!!l[f]||p!==xe&&he(p,f)||Nl(T,f)||(i=e[0])&&he(i,f)||he(x,f)||he(Vr,f)||he(t.config.globalProperties,f)},defineProperty(p,T,l){return l.get!=null?p._.accessCache[T]=0:he(l,"value")&&this.set(p,T,l.value,null),Reflect.defineProperty(p,T,l)}},a0=de({},kl,{get(p,T){if(T!==Symbol.unscopables)return kl.get(p,T,p)},has(p,T){return T[0]!=="_"&&!Em(T)}});let ql=!0;function o0(p){const T=Zh(p),l=p.proxy,x=p.ctx;ql=!1,T.beforeCreate&&Nf(T.beforeCreate,p,"bc");const{data:t,computed:e,methods:f,watch:i,provide:r,inject:a,created:n,beforeMount:s,mounted:u,beforeUpdate:o,updated:h,activated:d,deactivated:v,beforeDestroy:c,beforeUnmount:m,destroyed:g,unmounted:y,render:E,renderTracked:S,renderTriggered:C,errorCaptured:P,serverPrefetch:A,expose:R,inheritAttrs:M,components:L,directives:F,filters:I}=T;if(a&&l0(a,x,null,p.appContext.config.unwrapInjectedRef),f)for(const W in f){const $=f[W];Jt($)&&(x[W]=$.bind(l))}if(t){const W=t.call(l,l);Ee(W)&&(p.data=gr(W))}if(ql=!0,e)for(const W in e){const $=e[W],Z=Jt($)?$.bind(l,l):Jt($.get)?$.get.bind(l,l):oi,D=!Jt($)&&Jt($.set)?$.set.bind(l):oi,O=Mi({get:Z,set:D});Object.defineProperty(x,W,{enumerable:!0,configurable:!0,get:()=>O.value,set:B=>O.value=B})}if(i)for(const W in i)wc(i[W],x,l,W);if(r){const W=Jt(r)?r.call(l):r;Reflect.ownKeys(W).forEach($=>{Gr($,W[$])})}n&&Nf(n,p,"c");function z(W,$){Nt($)?$.forEach(Z=>W(Z.bind(l))):$&&W($.bind(l))}if(z(Mc,s),z(da,u),z(Rc,o),z(Wo,h),z(Cc,d),z(Pc,v),z(Ic,P),z(Fc,S),z(Oc,C),z(Xo,m),z(Ho,y),z(Lc,A),Nt(R))if(R.length){const W=p.exposed||(p.exposed={});R.forEach($=>{Object.defineProperty(W,$,{get:()=>l[$],set:Z=>l[$]=Z})})}else p.exposed||(p.exposed={});E&&p.render===oi&&(p.render=E),M!=null&&(p.inheritAttrs=M),L&&(p.components=L),F&&(p.directives=F)}function l0(p,T,l=oi,x=!1){Nt(p)&&(p=_l(p));for(const t in p){const e=p[t];let f;Ee(e)?"default"in e?f=Qi(e.from||t,e.default,!0):f=Qi(e.from||t):f=Qi(e),Ke(f)&&x?Object.defineProperty(T,t,{enumerable:!0,configurable:!0,get:()=>f.value,set:i=>f.value=i}):T[t]=f}}function Nf(p,T,l){Li(Nt(p)?p.map(x=>x.bind(T.proxy)):p.bind(T.proxy),T,l)}function wc(p,T,l,x){const t=x.includes(".")?Ec(l,x):()=>l[x];if(_t(p)){const e=T[p];Jt(e)&&ir(t,e)}else if(Jt(p))ir(t,p.bind(l));else if(Ee(p))if(Nt(p))p.forEach(e=>wc(e,T,l,x));else{const e=Jt(p.handler)?p.handler.bind(l):T[p.handler];Jt(e)&&ir(t,e,p)}}function Zh(p){const T=p.type,{mixins:l,extends:x}=T,{mixins:t,optionsCache:e,config:{optionMergeStrategies:f}}=p.appContext,i=e.get(T);let r;return i?r=i:!t.length&&!l&&!x?r=T:(r={},t.length&&t.forEach(a=>co(r,a,f,!0)),co(r,T,f)),Ee(T)&&e.set(T,r),r}function co(p,T,l,x=!1){const{mixins:t,extends:e}=T;e&&co(p,e,l,!0),t&&t.forEach(f=>co(p,f,l,!0));for(const f in T)if(!(x&&f==="expose")){const i=h0[f]||l&&l[f];p[f]=i?i(p[f],T[f]):T[f]}return p}const h0={data:Bf,props:ls,emits:ls,methods:ls,computed:ls,beforeCreate:ai,created:ai,beforeMount:ai,mounted:ai,beforeUpdate:ai,updated:ai,beforeDestroy:ai,beforeUnmount:ai,destroyed:ai,unmounted:ai,activated:ai,deactivated:ai,errorCaptured:ai,serverPrefetch:ai,components:ls,directives:ls,watch:f0,provide:Bf,inject:u0};function Bf(p,T){return T?p?function(){return de(Jt(p)?p.call(this,this):p,Jt(T)?T.call(this,this):T)}:T:p}function u0(p,T){return ls(_l(p),_l(T))}function _l(p){if(Nt(p)){const T={};for(let l=0;l<p.length;l++)T[p[l]]=p[l];return T}return p}function ai(p,T){return p?[...new Set([].concat(p,T))]:T}function ls(p,T){return p?de(de(Object.create(null),p),T):T}function f0(p,T){if(!p)return T;if(!T)return p;const l=de(Object.create(null),p);for(const x in T)l[x]=ai(p[x],T[x]);return l}function d0(p,T,l,x=!1){const t={},e={};uo(e,$o,1),p.propsDefaults=Object.create(null),Gc(p,T,t,e);for(const f in p.propsOptions[0])f in t||(t[f]=void 0);l?p.props=x?t:lc(t):p.type.props?p.props=t:p.props=e,p.attrs=e}function c0(p,T,l,x){const{props:t,attrs:e,vnode:{patchFlag:f}}=p,i=ue(t),[r]=p.propsOptions;let a=!1;if((x||f>0)&&!(f&16)){if(f&8){const n=p.vnode.dynamicProps;for(let s=0;s<n.length;s++){let u=n[s];if(Uo(p.emitsOptions,u))continue;const o=T[u];if(r)if(he(e,u))o!==e[u]&&(e[u]=o,a=!0);else{const h=qe(u);t[h]=th(r,i,h,o,p,!1)}else o!==e[u]&&(e[u]=o,a=!0)}}}else{Gc(p,T,t,e)&&(a=!0);let n;for(const s in i)(!T||!he(T,s)&&((n=Ai(s))===s||!he(T,n)))&&(r?l&&(l[s]!==void 0||l[n]!==void 0)&&(t[s]=th(r,i,s,void 0,p,!0)):delete t[s]);if(e!==i)for(const s in e)(!T||!he(T,s))&&(delete e[s],a=!0)}a&&Pn(p,"set","$attrs")}function Gc(p,T,l,x){const[t,e]=p.propsOptions;let f=!1,i;if(T)for(let r in T){if(ms(r))continue;const a=T[r];let n;t&&he(t,n=qe(r))?!e||!e.includes(n)?l[n]=a:(i||(i={}))[n]=a:Uo(p.emitsOptions,r)||(!(r in x)||a!==x[r])&&(x[r]=a,f=!0)}if(e){const r=ue(l),a=i||xe;for(let n=0;n<e.length;n++){const s=e[n];l[s]=th(t,r,s,a[s],p,!he(a,s))}}return f}function th(p,T,l,x,t,e){const f=p[l];if(f!=null){const i=he(f,"default");if(i&&x===void 0){const r=f.default;if(f.type!==Function&&Jt(r)){const{propsDefaults:a}=t;l in a?x=a[l]:(Qn(t),x=a[l]=r.call(null,T),Xn())}else x=r}f[0]&&(e&&!i?x=!1:f[1]&&(x===""||x===Ai(l))&&(x=!0))}return x}function Vc(p,T,l=!1){const x=T.propsCache,t=x.get(p);if(t)return t;const e=p.props,f={},i=[];let r=!1;if(!Jt(p)){const n=s=>{r=!0;const[u,o]=Vc(s,T,!0);de(f,u),o&&i.push(...o)};!l&&T.mixins.length&&T.mixins.forEach(n),p.extends&&n(p.extends),p.mixins&&p.mixins.forEach(n)}if(!e&&!r)return Ee(p)&&x.set(p,js),js;if(Nt(e))for(let n=0;n<e.length;n++){const s=qe(e[n]);wf(s)&&(f[s]=xe)}else if(e)for(const n in e){const s=qe(n);if(wf(s)){const u=e[n],o=f[s]=Nt(u)||Jt(u)?{type:u}:Object.assign({},u);if(o){const h=Uf(Boolean,o.type),d=Uf(String,o.type);o[0]=h>-1,o[1]=d<0||h<d,(h>-1||he(o,"default"))&&i.push(s)}}}const a=[f,i];return Ee(p)&&x.set(p,a),a}function wf(p){return p[0]!=="$"}function Gf(p){const T=p&&p.toString().match(/^\s*function (\w+)/);return T?T[1]:p===null?"null":""}function Vf(p,T){return Gf(p)===Gf(T)}function Uf(p,T){return Nt(T)?T.findIndex(l=>Vf(l,p)):Jt(T)&&Vf(T,p)?0:-1}const Uc=p=>p[0]==="_"||p==="$stable",Jh=p=>Nt(p)?p.map(Pi):[Pi(p)],v0=(p,T,l)=>{if(T._n)return T;const x=zh((...t)=>Jh(T(...t)),l);return x._c=!1,x},Yc=(p,T,l)=>{const x=p._ctx;for(const t in p){if(Uc(t))continue;const e=p[t];if(Jt(e))T[t]=v0(t,e,x);else if(e!=null){const f=Jh(e);T[t]=()=>f}}},zc=(p,T)=>{const l=Jh(T);p.slots.default=()=>l},p0=(p,T)=>{if(p.vnode.shapeFlag&32){const l=T._;l?(p.slots=ue(T),uo(T,"_",l)):Yc(T,p.slots={})}else p.slots={},T&&zc(p,T);uo(p.slots,$o,1)},m0=(p,T,l)=>{const{vnode:x,slots:t}=p;let e=!0,f=xe;if(x.shapeFlag&32){const i=T._;i?l&&i===1?e=!1:(de(t,T),!l&&i===1&&delete t._):(e=!T.$stable,Yc(T,t)),f=T}else T&&(zc(p,T),f={default:1});if(e)for(const i in t)!Uc(i)&&!(i in f)&&delete t[i]};function bc(){return{app:null,config:{isNativeTag:so,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g0=0;function x0(p,T){return function(x,t=null){Jt(x)||(x=Object.assign({},x)),t!=null&&!Ee(t)&&(t=null);const e=bc(),f=new Set;let i=!1;const r=e.app={_uid:g0++,_component:x,_props:t,_container:null,_context:e,_instance:null,version:lv,get config(){return e.config},set config(a){},use(a,...n){return f.has(a)||(a&&Jt(a.install)?(f.add(a),a.install(r,...n)):Jt(a)&&(f.add(a),a(r,...n))),r},mixin(a){return e.mixins.includes(a)||e.mixins.push(a),r},component(a,n){return n?(e.components[a]=n,r):e.components[a]},directive(a,n){return n?(e.directives[a]=n,r):e.directives[a]},mount(a,n,s){if(!i){const u=Te(x,t);return u.appContext=e,n&&T?T(u,a):p(u,a,s),i=!0,r._container=a,a.__vue_app__=r,Ko(u.component)||u.component.proxy}},unmount(){i&&(p(null,r._container),delete r._container.__vue_app__)},provide(a,n){return e.provides[a]=n,r}};return r}}function vo(p,T,l,x,t=!1){if(Nt(p)){p.forEach((u,o)=>vo(u,T&&(Nt(T)?T[o]:T),l,x,t));return}if(Ts(x)&&!t)return;const e=x.shapeFlag&4?Ko(x.component)||x.component.proxy:x.el,f=t?null:e,{i,r}=p,a=T&&T.r,n=i.refs===xe?i.refs={}:i.refs,s=i.setupState;if(a!=null&&a!==r&&(_t(a)?(n[a]=null,he(s,a)&&(s[a]=null)):Ke(a)&&(a.value=null)),Jt(r))xn(r,i,12,[f,n]);else{const u=_t(r),o=Ke(r);if(u||o){const h=()=>{if(p.f){const d=u?he(s,r)?s[r]:n[r]:r.value;t?Nt(d)&&Mh(d,e):Nt(d)?d.includes(e)||d.push(e):u?(n[r]=[e],he(s,r)&&(s[r]=n[r])):(r.value=[e],p.k&&(n[p.k]=r.value))}else u?(n[r]=f,he(s,r)&&(s[r]=f)):o&&(r.value=f,p.k&&(n[p.k]=f))};f?(h.id=-1,Qe(h,l)):h()}}}let Nn=!1;const Qa=p=>/svg/.test(p.namespaceURI)&&p.tagName!=="foreignObject",ja=p=>p.nodeType===8;function y0(p){const{mt:T,p:l,o:{patchProp:x,createText:t,nextSibling:e,parentNode:f,remove:i,insert:r,createComment:a}}=p,n=(c,m)=>{if(!m.hasChildNodes()){l(null,c,m),fo(),m._vnode=c;return}Nn=!1,s(m.firstChild,c,null,null,null),fo(),m._vnode=c,Nn&&console.error("Hydration completed but contains mismatches.")},s=(c,m,g,y,E,S=!1)=>{const C=ja(c)&&c.data==="[",P=()=>d(c,m,g,y,E,C),{type:A,ref:R,shapeFlag:M,patchFlag:L}=m;let F=c.nodeType;m.el=c,L===-2&&(S=!1,m.dynamicChildren=null);let I=null;switch(A){case Rs:F!==3?m.children===""?(r(m.el=t(""),f(c),c),I=c):I=P():(c.data!==m.children&&(Nn=!0,c.data=m.children),I=e(c));break;case si:F!==8||C?I=P():I=e(c);break;case Ss:if(C&&(c=e(c),F=c.nodeType),F===1||F===3){I=c;const N=!m.children.length;for(let z=0;z<m.staticCount;z++)N&&(m.children+=I.nodeType===1?I.outerHTML:I.data),z===m.staticCount-1&&(m.anchor=I),I=e(I);return C?e(I):I}else P();break;case Ve:C?I=h(c,m,g,y,E,S):I=P();break;default:if(M&1)F!==1||m.type.toLowerCase()!==c.tagName.toLowerCase()?I=P():I=u(c,m,g,y,E,S);else if(M&6){m.slotScopeIds=E;const N=f(c);if(T(m,N,null,g,y,Qa(N),S),I=C?v(c):e(c),I&&ja(I)&&I.data==="teleport end"&&(I=e(I)),Ts(m)){let z;C?(z=Te(Ve),z.anchor=I?I.previousSibling:N.lastChild):z=c.nodeType===3?Bs(""):Te("div"),z.el=c,m.component.subTree=z}}else M&64?F!==8?I=P():I=m.type.hydrate(c,m,g,y,E,S,p,o):M&128&&(I=m.type.hydrate(c,m,g,y,Qa(f(c)),E,S,p,s))}return R!=null&&vo(R,null,y,m),I},u=(c,m,g,y,E,S)=>{S=S||!!m.dynamicChildren;const{type:C,props:P,patchFlag:A,shapeFlag:R,dirs:M}=m,L=C==="input"&&M||C==="option";if(L||A!==-1){if(M&&nn(m,null,g,"created"),P)if(L||!S||A&48)for(const I in P)(L&&I.endsWith("value")||Fs(I)&&!ms(I))&&x(c,I,null,P[I],!1,void 0,g);else P.onClick&&x(c,"onClick",null,P.onClick,!1,void 0,g);let F;if((F=P&&P.onVnodeBeforeMount)&&ci(F,g,m),M&&nn(m,null,g,"beforeMount"),((F=P&&P.onVnodeMounted)||M)&&yc(()=>{F&&ci(F,g,m),M&&nn(m,null,g,"mounted")},y),R&16&&!(P&&(P.innerHTML||P.textContent))){let I=o(c.firstChild,m,c,g,y,E,S);for(;I;){Nn=!0;const N=I;I=I.nextSibling,i(N)}}else R&8&&c.textContent!==m.children&&(Nn=!0,c.textContent=m.children)}return c.nextSibling},o=(c,m,g,y,E,S,C)=>{C=C||!!m.dynamicChildren;const P=m.children,A=P.length;for(let R=0;R<A;R++){const M=C?P[R]:P[R]=Pi(P[R]);if(c)c=s(c,M,y,E,S,C);else{if(M.type===Rs&&!M.children)continue;Nn=!0,l(null,M,g,null,y,E,Qa(g),S)}}return c},h=(c,m,g,y,E,S)=>{const{slotScopeIds:C}=m;C&&(E=E?E.concat(C):C);const P=f(c),A=o(e(c),m,P,g,y,E,S);return A&&ja(A)&&A.data==="]"?e(m.anchor=A):(Nn=!0,r(m.anchor=a("]"),P,A),A)},d=(c,m,g,y,E,S)=>{if(Nn=!0,m.el=null,S){const A=v(c);for(;;){const R=e(c);if(R&&R!==A)i(R);else break}}const C=e(c),P=f(c);return i(c),l(null,m,P,C,g,y,Qa(P),E),C},v=c=>{let m=0;for(;c;)if(c=e(c),c&&ja(c)&&(c.data==="["&&m++,c.data==="]")){if(m===0)return e(c);m--}return c};return[n,s]}const Qe=yc;function Wc(p){return Hc(p)}function Xc(p){return Hc(p,y0)}function Hc(p,T){const l=bm();l.__VUE__=!0;const{insert:x,remove:t,patchProp:e,createElement:f,createText:i,createComment:r,setText:a,setElementText:n,parentNode:s,nextSibling:u,setScopeId:o=oi,insertStaticContent:h}=p,d=(K,Q,tt,nt=null,ut=null,pt=null,vt=!1,at=null,yt=!!Q.dynamicChildren)=>{if(K===Q)return;K&&!rn(K,Q)&&(nt=H(K),B(K,ut,pt,!0),K=null),Q.patchFlag===-2&&(yt=!1,Q.dynamicChildren=null);const{type:lt,ref:Tt,shapeFlag:Pt}=Q;switch(lt){case Rs:v(K,Q,tt,nt);break;case si:c(K,Q,tt,nt);break;case Ss:K==null&&m(Q,tt,nt,vt);break;case Ve:L(K,Q,tt,nt,ut,pt,vt,at,yt);break;default:Pt&1?E(K,Q,tt,nt,ut,pt,vt,at,yt):Pt&6?F(K,Q,tt,nt,ut,pt,vt,at,yt):(Pt&64||Pt&128)&&lt.process(K,Q,tt,nt,ut,pt,vt,at,yt,q)}Tt!=null&&ut&&vo(Tt,K&&K.ref,pt,Q||K,!Q)},v=(K,Q,tt,nt)=>{if(K==null)x(Q.el=i(Q.children),tt,nt);else{const ut=Q.el=K.el;Q.children!==K.children&&a(ut,Q.children)}},c=(K,Q,tt,nt)=>{K==null?x(Q.el=r(Q.children||""),tt,nt):Q.el=K.el},m=(K,Q,tt,nt)=>{[K.el,K.anchor]=h(K.children,Q,tt,nt,K.el,K.anchor)},g=({el:K,anchor:Q},tt,nt)=>{let ut;for(;K&&K!==Q;)ut=u(K),x(K,tt,nt),K=ut;x(Q,tt,nt)},y=({el:K,anchor:Q})=>{let tt;for(;K&&K!==Q;)tt=u(K),t(K),K=tt;t(Q)},E=(K,Q,tt,nt,ut,pt,vt,at,yt)=>{vt=vt||Q.type==="svg",K==null?S(Q,tt,nt,ut,pt,vt,at,yt):A(K,Q,ut,pt,vt,at,yt)},S=(K,Q,tt,nt,ut,pt,vt,at)=>{let yt,lt;const{type:Tt,props:Pt,shapeFlag:Lt,transition:At,dirs:Mt}=K;if(yt=K.el=f(K.type,pt,Pt&&Pt.is,Pt),Lt&8?n(yt,K.children):Lt&16&&P(K.children,yt,null,nt,ut,pt&&Tt!=="foreignObject",vt,at),Mt&&nn(K,null,nt,"created"),Pt){for(const It in Pt)It!=="value"&&!ms(It)&&e(yt,It,null,Pt[It],pt,K.children,nt,ut,b);"value"in Pt&&e(yt,"value",null,Pt.value),(lt=Pt.onVnodeBeforeMount)&&ci(lt,nt,K)}C(yt,K,K.scopeId,vt,nt),Mt&&nn(K,null,nt,"beforeMount");const Bt=(!ut||ut&&!ut.pendingBranch)&&At&&!At.persisted;Bt&&At.beforeEnter(yt),x(yt,Q,tt),((lt=Pt&&Pt.onVnodeMounted)||Bt||Mt)&&Qe(()=>{lt&&ci(lt,nt,K),Bt&&At.enter(yt),Mt&&nn(K,null,nt,"mounted")},ut)},C=(K,Q,tt,nt,ut)=>{if(tt&&o(K,tt),nt)for(let pt=0;pt<nt.length;pt++)o(K,nt[pt]);if(ut){let pt=ut.subTree;if(Q===pt){const vt=ut.vnode;C(K,vt,vt.scopeId,vt.slotScopeIds,ut.parent)}}},P=(K,Q,tt,nt,ut,pt,vt,at,yt=0)=>{for(let lt=yt;lt<K.length;lt++){const Tt=K[lt]=at?zn(K[lt]):Pi(K[lt]);d(null,Tt,Q,tt,nt,ut,pt,vt,at)}},A=(K,Q,tt,nt,ut,pt,vt)=>{const at=Q.el=K.el;let{patchFlag:yt,dynamicChildren:lt,dirs:Tt}=Q;yt|=K.patchFlag&16;const Pt=K.props||xe,Lt=Q.props||xe;let At;tt&&as(tt,!1),(At=Lt.onVnodeBeforeUpdate)&&ci(At,tt,Q,K),Tt&&nn(Q,K,tt,"beforeUpdate"),tt&&as(tt,!0);const Mt=ut&&Q.type!=="foreignObject";if(lt?R(K.dynamicChildren,lt,at,tt,nt,Mt,pt):vt||$(K,Q,at,null,tt,nt,Mt,pt,!1),yt>0){if(yt&16)M(at,Q,Pt,Lt,tt,nt,ut);else if(yt&2&&Pt.class!==Lt.class&&e(at,"class",null,Lt.class,ut),yt&4&&e(at,"style",Pt.style,Lt.style,ut),yt&8){const Bt=Q.dynamicProps;for(let It=0;It<Bt.length;It++){const Yt=Bt[It],ie=Pt[Yt],ae=Lt[Yt];(ae!==ie||Yt==="value")&&e(at,Yt,ie,ae,ut,K.children,tt,nt,b)}}yt&1&&K.children!==Q.children&&n(at,Q.children)}else!vt&&lt==null&&M(at,Q,Pt,Lt,tt,nt,ut);((At=Lt.onVnodeUpdated)||Tt)&&Qe(()=>{At&&ci(At,tt,Q,K),Tt&&nn(Q,K,tt,"updated")},nt)},R=(K,Q,tt,nt,ut,pt,vt)=>{for(let at=0;at<Q.length;at++){const yt=K[at],lt=Q[at],Tt=yt.el&&(yt.type===Ve||!rn(yt,lt)||yt.shapeFlag&70)?s(yt.el):tt;d(yt,lt,Tt,null,nt,ut,pt,vt,!0)}},M=(K,Q,tt,nt,ut,pt,vt)=>{if(tt!==nt){if(tt!==xe)for(const at in tt)!ms(at)&&!(at in nt)&&e(K,at,tt[at],null,vt,Q.children,ut,pt,b);for(const at in nt){if(ms(at))continue;const yt=nt[at],lt=tt[at];yt!==lt&&at!=="value"&&e(K,at,lt,yt,vt,Q.children,ut,pt,b)}"value"in nt&&e(K,"value",tt.value,nt.value)}},L=(K,Q,tt,nt,ut,pt,vt,at,yt)=>{const lt=Q.el=K?K.el:i(""),Tt=Q.anchor=K?K.anchor:i("");let{patchFlag:Pt,dynamicChildren:Lt,slotScopeIds:At}=Q;At&&(at=at?at.concat(At):At),K==null?(x(lt,tt,nt),x(Tt,tt,nt),P(Q.children,tt,Tt,ut,pt,vt,at,yt)):Pt>0&&Pt&64&&Lt&&K.dynamicChildren?(R(K.dynamicChildren,Lt,tt,ut,pt,vt,at),(Q.key!=null||ut&&Q===ut.subTree)&&Qh(K,Q,!0)):$(K,Q,tt,Tt,ut,pt,vt,at,yt)},F=(K,Q,tt,nt,ut,pt,vt,at,yt)=>{Q.slotScopeIds=at,K==null?Q.shapeFlag&512?ut.ctx.activate(Q,tt,nt,vt,yt):I(Q,tt,nt,ut,pt,vt,yt):N(K,Q,yt)},I=(K,Q,tt,nt,ut,pt,vt)=>{const at=K.component=qc(K,nt,ut);if(fa(K)&&(at.ctx.renderer=q),tv(at),at.asyncDep){if(ut&&ut.registerDep(at,z),!K.el){const yt=at.subTree=Te(si);c(null,yt,Q,tt)}return}z(at,K,Q,tt,ut,pt,vt)},N=(K,Q,tt)=>{const nt=Q.component=K.component;if(Yg(K,Q,tt))if(nt.asyncDep&&!nt.asyncResolved){W(nt,Q,tt);return}else nt.next=Q,Dg(nt.update),nt.update();else Q.el=K.el,nt.vnode=Q},z=(K,Q,tt,nt,ut,pt,vt)=>{const at=()=>{if(K.isMounted){let{next:Tt,bu:Pt,u:Lt,parent:At,vnode:Mt}=K,Bt=Tt,It;as(K,!1),Tt?(Tt.el=Mt.el,W(K,Tt,vt)):Tt=Mt,Pt&&_s(Pt),(It=Tt.props&&Tt.props.onVnodeBeforeUpdate)&&ci(It,At,Tt,Mt),as(K,!0);const Yt=ro(K),ie=K.subTree;K.subTree=Yt,d(ie,Yt,s(ie.el),H(ie),K,ut,pt),Tt.el=Yt.el,Bt===null&&bh(K,Yt.el),Lt&&Qe(Lt,ut),(It=Tt.props&&Tt.props.onVnodeUpdated)&&Qe(()=>ci(It,At,Tt,Mt),ut)}else{let Tt;const{el:Pt,props:Lt}=Q,{bm:At,m:Mt,parent:Bt}=K,It=Ts(Q);if(as(K,!1),At&&_s(At),!It&&(Tt=Lt&&Lt.onVnodeBeforeMount)&&ci(Tt,Bt,Q),as(K,!0),Pt&&ot){const Yt=()=>{K.subTree=ro(K),ot(Pt,K.subTree,K,ut,null)};It?Q.type.__asyncLoader().then(()=>!K.isUnmounted&&Yt()):Yt()}else{const Yt=K.subTree=ro(K);d(null,Yt,tt,nt,K,ut,pt),Q.el=Yt.el}if(Mt&&Qe(Mt,ut),!It&&(Tt=Lt&&Lt.onVnodeMounted)){const Yt=Q;Qe(()=>ci(Tt,Bt,Yt),ut)}(Q.shapeFlag&256||Bt&&Ts(Bt.vnode)&&Bt.vnode.shapeFlag&256)&&K.a&&Qe(K.a,ut),K.isMounted=!0,Q=tt=nt=null}},yt=K.effect=new oa(at,()=>Vo(lt),K.scope),lt=K.update=()=>yt.run();lt.id=K.uid,as(K,!0),lt()},W=(K,Q,tt)=>{Q.component=K;const nt=K.vnode.props;K.vnode=Q,K.next=null,c0(K,Q.props,nt,tt),m0(K,Q.children,tt),pr(),Lf(),mr()},$=(K,Q,tt,nt,ut,pt,vt,at,yt=!1)=>{const lt=K&&K.children,Tt=K?K.shapeFlag:0,Pt=Q.children,{patchFlag:Lt,shapeFlag:At}=Q;if(Lt>0){if(Lt&128){D(lt,Pt,tt,nt,ut,pt,vt,at,yt);return}else if(Lt&256){Z(lt,Pt,tt,nt,ut,pt,vt,at,yt);return}}At&8?(Tt&16&&b(lt,ut,pt),Pt!==lt&&n(tt,Pt)):Tt&16?At&16?D(lt,Pt,tt,nt,ut,pt,vt,at,yt):b(lt,ut,pt,!0):(Tt&8&&n(tt,""),At&16&&P(Pt,tt,nt,ut,pt,vt,at,yt))},Z=(K,Q,tt,nt,ut,pt,vt,at,yt)=>{K=K||js,Q=Q||js;const lt=K.length,Tt=Q.length,Pt=Math.min(lt,Tt);let Lt;for(Lt=0;Lt<Pt;Lt++){const At=Q[Lt]=yt?zn(Q[Lt]):Pi(Q[Lt]);d(K[Lt],At,tt,null,ut,pt,vt,at,yt)}lt>Tt?b(K,ut,pt,!0,!1,Pt):P(Q,tt,nt,ut,pt,vt,at,yt,Pt)},D=(K,Q,tt,nt,ut,pt,vt,at,yt)=>{let lt=0;const Tt=Q.length;let Pt=K.length-1,Lt=Tt-1;for(;lt<=Pt&&lt<=Lt;){const At=K[lt],Mt=Q[lt]=yt?zn(Q[lt]):Pi(Q[lt]);if(rn(At,Mt))d(At,Mt,tt,null,ut,pt,vt,at,yt);else break;lt++}for(;lt<=Pt&&lt<=Lt;){const At=K[Pt],Mt=Q[Lt]=yt?zn(Q[Lt]):Pi(Q[Lt]);if(rn(At,Mt))d(At,Mt,tt,null,ut,pt,vt,at,yt);else break;Pt--,Lt--}if(lt>Pt){if(lt<=Lt){const At=Lt+1,Mt=At<Tt?Q[At].el:nt;for(;lt<=Lt;)d(null,Q[lt]=yt?zn(Q[lt]):Pi(Q[lt]),tt,Mt,ut,pt,vt,at,yt),lt++}}else if(lt>Lt)for(;lt<=Pt;)B(K[lt],ut,pt,!0),lt++;else{const At=lt,Mt=lt,Bt=new Map;for(lt=Mt;lt<=Lt;lt++){const ve=Q[lt]=yt?zn(Q[lt]):Pi(Q[lt]);ve.key!=null&&Bt.set(ve.key,lt)}let It,Yt=0;const ie=Lt-Mt+1;let ae=!1,Le=0;const Wt=new Array(ie);for(lt=0;lt<ie;lt++)Wt[lt]=0;for(lt=At;lt<=Pt;lt++){const ve=K[lt];if(Yt>=ie){B(ve,ut,pt,!0);continue}let Xt;if(ve.key!=null)Xt=Bt.get(ve.key);else for(It=Mt;It<=Lt;It++)if(Wt[It-Mt]===0&&rn(ve,Q[It])){Xt=It;break}Xt===void 0?B(ve,ut,pt,!0):(Wt[Xt-Mt]=lt+1,Xt>=Le?Le=Xt:ae=!0,d(ve,Q[Xt],tt,null,ut,pt,vt,at,yt),Yt++)}const Me=ae?T0(Wt):js;for(It=Me.length-1,lt=ie-1;lt>=0;lt--){const ve=Mt+lt,Xt=Q[ve],Oe=ve+1<Tt?Q[ve+1].el:nt;Wt[lt]===0?d(null,Xt,tt,Oe,ut,pt,vt,at,yt):ae&&(It<0||lt!==Me[It]?O(Xt,tt,Oe,2):It--)}}},O=(K,Q,tt,nt,ut=null)=>{const{el:pt,type:vt,transition:at,children:yt,shapeFlag:lt}=K;if(lt&6){O(K.component.subTree,Q,tt,nt);return}if(lt&128){K.suspense.move(Q,tt,nt);return}if(lt&64){vt.move(K,Q,tt,q);return}if(vt===Ve){x(pt,Q,tt);for(let Pt=0;Pt<yt.length;Pt++)O(yt[Pt],Q,tt,nt);x(K.anchor,Q,tt);return}if(vt===Ss){g(K,Q,tt);return}if(nt!==2&&lt&1&&at)if(nt===0)at.beforeEnter(pt),x(pt,Q,tt),Qe(()=>at.enter(pt),ut);else{const{leave:Pt,delayLeave:Lt,afterLeave:At}=at,Mt=()=>x(pt,Q,tt),Bt=()=>{Pt(pt,()=>{Mt(),At&&At()})};Lt?Lt(pt,Mt,Bt):Bt()}else x(pt,Q,tt)},B=(K,Q,tt,nt=!1,ut=!1)=>{const{type:pt,props:vt,ref:at,children:yt,dynamicChildren:lt,shapeFlag:Tt,patchFlag:Pt,dirs:Lt}=K;if(at!=null&&vo(at,null,tt,K,!0),Tt&256){Q.ctx.deactivate(K);return}const At=Tt&1&&Lt,Mt=!Ts(K);let Bt;if(Mt&&(Bt=vt&&vt.onVnodeBeforeUnmount)&&ci(Bt,Q,K),Tt&6)V(K.component,tt,nt);else{if(Tt&128){K.suspense.unmount(tt,nt);return}At&&nn(K,null,Q,"beforeUnmount"),Tt&64?K.type.remove(K,Q,tt,ut,q,nt):lt&&(pt!==Ve||Pt>0&&Pt&64)?b(lt,Q,tt,!1,!0):(pt===Ve&&Pt&384||!ut&&Tt&16)&&b(yt,Q,tt),nt&&G(K)}(Mt&&(Bt=vt&&vt.onVnodeUnmounted)||At)&&Qe(()=>{Bt&&ci(Bt,Q,K),At&&nn(K,null,Q,"unmounted")},tt)},G=K=>{const{type:Q,el:tt,anchor:nt,transition:ut}=K;if(Q===Ve){Y(tt,nt);return}if(Q===Ss){y(K);return}const pt=()=>{t(tt),ut&&!ut.persisted&&ut.afterLeave&&ut.afterLeave()};if(K.shapeFlag&1&&ut&&!ut.persisted){const{leave:vt,delayLeave:at}=ut,yt=()=>vt(tt,pt);at?at(K.el,pt,yt):yt()}else pt()},Y=(K,Q)=>{let tt;for(;K!==Q;)tt=u(K),t(K),K=tt;t(Q)},V=(K,Q,tt)=>{const{bum:nt,scope:ut,update:pt,subTree:vt,um:at}=K;nt&&_s(nt),ut.stop(),pt&&(pt.active=!1,B(vt,K,Q,tt)),at&&Qe(at,Q),Qe(()=>{K.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},b=(K,Q,tt,nt=!1,ut=!1,pt=0)=>{for(let vt=pt;vt<K.length;vt++)B(K[vt],Q,tt,nt,ut)},H=K=>K.shapeFlag&6?H(K.component.subTree):K.shapeFlag&128?K.suspense.next():u(K.anchor||K.el),j=(K,Q,tt)=>{K==null?Q._vnode&&B(Q._vnode,null,null,!0):d(Q._vnode||null,K,Q,null,null,null,tt),Lf(),fo(),Q._vnode=K},q={p:d,um:B,m:O,r:G,mt:I,mc:P,pc:$,pbc:R,n:H,o:p};let et,ot;return T&&([et,ot]=T(q)),{render:j,hydrate:et,createApp:x0(j,et)}}function as({effect:p,update:T},l){p.allowRecurse=T.allowRecurse=l}function Qh(p,T,l=!1){const x=p.children,t=T.children;if(Nt(x)&&Nt(t))for(let e=0;e<x.length;e++){const f=x[e];let i=t[e];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=t[e]=zn(t[e]),i.el=f.el),l||Qh(f,i)),i.type===Rs&&(i.el=f.el)}}function T0(p){const T=p.slice(),l=[0];let x,t,e,f,i;const r=p.length;for(x=0;x<r;x++){const a=p[x];if(a!==0){if(t=l[l.length-1],p[t]<a){T[x]=t,l.push(x);continue}for(e=0,f=l.length-1;e<f;)i=e+f>>1,p[l[i]]<a?e=i+1:f=i;a<p[l[e]]&&(e>0&&(T[x]=l[e-1]),l[e]=x)}}for(e=l.length,f=l[e-1];e-- >0;)l[e]=f,f=T[f];return l}const E0=p=>p.__isTeleport,Ur=p=>p&&(p.disabled||p.disabled===""),Yf=p=>typeof SVGElement<"u"&&p instanceof SVGElement,eh=(p,T)=>{const l=p&&p.to;return _t(l)?T?T(l):null:l},S0={__isTeleport:!0,process(p,T,l,x,t,e,f,i,r,a){const{mc:n,pc:s,pbc:u,o:{insert:o,querySelector:h,createText:d,createComment:v}}=a,c=Ur(T.props);let{shapeFlag:m,children:g,dynamicChildren:y}=T;if(p==null){const E=T.el=d(""),S=T.anchor=d("");o(E,l,x),o(S,l,x);const C=T.target=eh(T.props,h),P=T.targetAnchor=d("");C&&(o(P,C),f=f||Yf(C));const A=(R,M)=>{m&16&&n(g,R,M,t,e,f,i,r)};c?A(l,S):C&&A(C,P)}else{T.el=p.el;const E=T.anchor=p.anchor,S=T.target=p.target,C=T.targetAnchor=p.targetAnchor,P=Ur(p.props),A=P?l:S,R=P?E:C;if(f=f||Yf(S),y?(u(p.dynamicChildren,y,A,t,e,f,i),Qh(p,T,!0)):r||s(p,T,A,R,t,e,f,i,!1),c)P||ka(T,l,E,a,1);else if((T.props&&T.props.to)!==(p.props&&p.props.to)){const M=T.target=eh(T.props,h);M&&ka(T,M,null,a,0)}else P&&ka(T,S,C,a,1)}$c(T)},remove(p,T,l,x,{um:t,o:{remove:e}},f){const{shapeFlag:i,children:r,anchor:a,targetAnchor:n,target:s,props:u}=p;if(s&&e(n),(f||!Ur(u))&&(e(a),i&16))for(let o=0;o<r.length;o++){const h=r[o];t(h,T,l,!0,!!h.dynamicChildren)}},move:ka,hydrate:C0};function ka(p,T,l,{o:{insert:x},m:t},e=2){e===0&&x(p.targetAnchor,T,l);const{el:f,anchor:i,shapeFlag:r,children:a,props:n}=p,s=e===2;if(s&&x(f,T,l),(!s||Ur(n))&&r&16)for(let u=0;u<a.length;u++)t(a[u],T,l,2);s&&x(i,T,l)}function C0(p,T,l,x,t,e,{o:{nextSibling:f,parentNode:i,querySelector:r}},a){const n=T.target=eh(T.props,r);if(n){const s=n._lpa||n.firstChild;if(T.shapeFlag&16)if(Ur(T.props))T.anchor=a(f(p),T,i(p),l,x,t,e),T.targetAnchor=s;else{T.anchor=f(p);let u=s;for(;u;)if(u=f(u),u&&u.nodeType===8&&u.data==="teleport anchor"){T.targetAnchor=u,n._lpa=T.targetAnchor&&f(T.targetAnchor);break}a(s,T,n,l,x,t,e)}$c(T)}return T.anchor&&f(T.anchor)}const P0=S0;function $c(p){const T=p.ctx;if(T&&T.ut){let l=p.children[0].el;for(;l!==p.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",T.uid),l=l.nextSibling;T.ut()}}const Ve=Symbol(void 0),Rs=Symbol(void 0),si=Symbol(void 0),Ss=Symbol(void 0),Yr=[];let vi=null;function Se(p=!1){Yr.push(vi=p?null:[])}function Kc(){Yr.pop(),vi=Yr[Yr.length-1]||null}let Ls=1;function ih(p){Ls+=p}function Zc(p){return p.dynamicChildren=Ls>0?vi||js:null,Kc(),Ls>0&&vi&&vi.push(p),p}function $e(p,T,l,x,t,e){return Zc(ft(p,T,l,x,t,e,!0))}function Zn(p,T,l,x,t){return Zc(Te(p,T,l,x,t,!0))}function Jn(p){return p?p.__v_isVNode===!0:!1}function rn(p,T){return p.type===T.type&&p.key===T.key}function A0(p){}const $o="__vInternal",Jc=({key:p})=>p??null,ao=({ref:p,ref_key:T,ref_for:l})=>p!=null?_t(p)||Ke(p)||Jt(p)?{i:ke,r:p,k:T,f:!!l}:p:null;function ft(p,T=null,l=null,x=0,t=null,e=p===Ve?0:1,f=!1,i=!1){const r={__v_isVNode:!0,__v_skip:!0,type:p,props:T,key:T&&Jc(T),ref:T&&ao(T),scopeId:Yo,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:e,patchFlag:x,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:ke};return i?(jh(r,l),e&128&&p.normalize(r)):l&&(r.shapeFlag|=_t(l)?8:16),Ls>0&&!f&&vi&&(r.patchFlag>0||e&6)&&r.patchFlag!==32&&vi.push(r),r}const Te=M0;function M0(p,T=null,l=null,x=0,t=null,e=!1){if((!p||p===Dc)&&(p=si),Jn(p)){const i=an(p,T,!0);return l&&jh(i,l),Ls>0&&!e&&vi&&(i.shapeFlag&6?vi[vi.indexOf(p)]=i:vi.push(i)),i.patchFlag|=-2,i}if(D0(p)&&(p=p.__vccOpts),T){T=Qc(T);let{class:i,style:r}=T;i&&!_t(i)&&(T.class=Sn(i)),Ee(r)&&(Nh(r)&&!Nt(r)&&(r=de({},r)),T.style=En(r))}const f=_t(p)?1:xc(p)?128:E0(p)?64:Ee(p)?4:Jt(p)?2:0;return ft(p,T,l,x,t,f,e,!0)}function Qc(p){return p?Nh(p)||$o in p?de({},p):p:null}function an(p,T,l=!1){const{props:x,ref:t,patchFlag:e,children:f}=p,i=T?kc(x||{},T):x;return{__v_isVNode:!0,__v_skip:!0,type:p.type,props:i,key:i&&Jc(i),ref:T&&T.ref?l&&t?Nt(t)?t.concat(ao(T)):[t,ao(T)]:ao(T):t,scopeId:p.scopeId,slotScopeIds:p.slotScopeIds,children:f,target:p.target,targetAnchor:p.targetAnchor,staticCount:p.staticCount,shapeFlag:p.shapeFlag,patchFlag:T&&p.type!==Ve?e===-1?16:e|16:e,dynamicProps:p.dynamicProps,dynamicChildren:p.dynamicChildren,appContext:p.appContext,dirs:p.dirs,transition:p.transition,component:p.component,suspense:p.suspense,ssContent:p.ssContent&&an(p.ssContent),ssFallback:p.ssFallback&&an(p.ssFallback),el:p.el,anchor:p.anchor,ctx:p.ctx}}function Bs(p=" ",T=0){return Te(Rs,null,p,T)}function jc(p,T){const l=Te(Ss,null,p);return l.staticCount=T,l}function Cs(p="",T=!1){return T?(Se(),Zn(si,null,p)):Te(si,null,p)}function Pi(p){return p==null||typeof p=="boolean"?Te(si):Nt(p)?Te(Ve,null,p.slice()):typeof p=="object"?zn(p):Te(Rs,null,String(p))}function zn(p){return p.el===null&&p.patchFlag!==-1||p.memo?p:an(p)}function jh(p,T){let l=0;const{shapeFlag:x}=p;if(T==null)T=null;else if(Nt(T))l=16;else if(typeof T=="object")if(x&65){const t=T.default;t&&(t._c&&(t._d=!1),jh(p,t()),t._c&&(t._d=!0));return}else{l=32;const t=T._;!t&&!($o in T)?T._ctx=ke:t===3&&ke&&(ke.slots._===1?T._=1:(T._=2,p.patchFlag|=1024))}else Jt(T)?(T={default:T,_ctx:ke},l=32):(T=String(T),x&64?(l=16,T=[Bs(T)]):l=8);p.children=T,p.shapeFlag|=l}function kc(...p){const T={};for(let l=0;l<p.length;l++){const x=p[l];for(const t in x)if(t==="class")T.class!==x.class&&(T.class=Sn([T.class,x.class]));else if(t==="style")T.style=En([T.style,x.style]);else if(Fs(t)){const e=T[t],f=x[t];f&&e!==f&&!(Nt(e)&&e.includes(f))&&(T[t]=e?[].concat(e,f):f)}else t!==""&&(T[t]=x[t])}return T}function ci(p,T,l,x=null){Li(p,T,7,[l,x])}const R0=bc();let L0=0;function qc(p,T,l){const x=p.type,t=(T?T.appContext:p.appContext)||R0,e={uid:L0++,vnode:p,type:x,parent:T,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new Oh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:T?T.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vc(x,t),emitsOptions:gc(x,t),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:x.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return e.ctx={_:e},e.root=T?T.root:e,e.emit=Bg.bind(null,e),p.ce&&p.ce(e),e}let ze=null;const qn=()=>ze||ke,Qn=p=>{ze=p,p.scope.on()},Xn=()=>{ze&&ze.scope.off(),ze=null};function _c(p){return p.vnode.shapeFlag&4}let ar=!1;function tv(p,T=!1){ar=T;const{props:l,children:x}=p.vnode,t=_c(p);d0(p,l,t,T),p0(p,x);const e=t?O0(p,T):void 0;return ar=!1,e}function O0(p,T){const l=p.type;p.accessCache=Object.create(null),p.proxy=Bh(new Proxy(p.ctx,kl));const{setup:x}=l;if(x){const t=p.setupContext=x.length>1?nv(p):null;Qn(p),pr();const e=xn(x,p,0,[p.props,t]);if(mr(),Xn(),Rh(e)){if(e.then(Xn,Xn),T)return e.then(f=>{nh(p,f,T)}).catch(f=>{Ns(f,p,0)});p.asyncDep=e}else nh(p,e,T)}else iv(p,T)}function nh(p,T,l){Jt(T)?p.type.__ssrInlineRender?p.ssrRender=T:p.render=T:Ee(T)&&(p.setupState=Vh(T)),iv(p,l)}let po,sh;function ev(p){po=p,sh=T=>{T.render._rc&&(T.withProxy=new Proxy(T.ctx,a0))}}const F0=()=>!po;function iv(p,T,l){const x=p.type;if(!p.render){if(!T&&po&&!x.render){const t=x.template||Zh(p).template;if(t){const{isCustomElement:e,compilerOptions:f}=p.appContext.config,{delimiters:i,compilerOptions:r}=x,a=de(de({isCustomElement:e,delimiters:i},f),r);x.render=po(t,a)}}p.render=x.render||oi,sh&&sh(p)}Qn(p),pr(),o0(p),mr(),Xn()}function I0(p){return new Proxy(p.attrs,{get(T,l){return Fi(p,"get","$attrs"),T[l]}})}function nv(p){const T=x=>{p.exposed=x||{}};let l;return{get attrs(){return l||(l=I0(p))},slots:p.slots,emit:p.emit,expose:T}}function Ko(p){if(p.exposed)return p.exposeProxy||(p.exposeProxy=new Proxy(Vh(Bh(p.exposed)),{get(T,l){if(l in T)return T[l];if(l in Vr)return Vr[l](p)},has(T,l){return l in T||l in Vr}}))}function rh(p,T=!0){return Jt(p)?p.displayName||p.name:p.name||T&&p.__name}function D0(p){return Jt(p)&&"__vccOpts"in p}const Mi=(p,T)=>Lg(p,T,ar);function N0(){return null}function B0(){return null}function w0(p){}function G0(p,T){return null}function V0(){return sv().slots}function U0(){return sv().attrs}function sv(){const p=qn();return p.setupContext||(p.setupContext=nv(p))}function Y0(p,T){const l=Nt(p)?p.reduce((x,t)=>(x[t]={},x),{}):p;for(const x in T){const t=l[x];t?Nt(t)||Jt(t)?l[x]={type:t,default:T[x]}:t.default=T[x]:t===null&&(l[x]={default:T[x]})}return l}function z0(p,T){const l={};for(const x in p)T.includes(x)||Object.defineProperty(l,x,{enumerable:!0,get:()=>p[x]});return l}function b0(p){const T=qn();let l=p();return Xn(),Rh(l)&&(l=l.catch(x=>{throw Qn(T),x})),[l,()=>Qn(T)]}function Zo(p,T,l){const x=arguments.length;return x===2?Ee(T)&&!Nt(T)?Jn(T)?Te(p,null,[T]):Te(p,T):Te(p,null,T):(x>3?l=Array.prototype.slice.call(arguments,2):x===3&&Jn(l)&&(l=[l]),Te(p,T,l))}const rv=Symbol(""),av=()=>Qi(rv);function W0(){}function X0(p,T,l,x){const t=l[x];if(t&&ov(t,p))return t;const e=T();return e.memo=p.slice(),l[x]=e}function ov(p,T){const l=p.memo;if(l.length!=T.length)return!1;for(let x=0;x<l.length;x++)if(sr(l[x],T[x]))return!1;return Ls>0&&vi&&vi.push(p),!0}const lv="3.2.45",H0={createComponentInstance:qc,setupComponent:tv,renderComponentRoot:ro,setCurrentRenderingInstance:kr,isVNode:Jn,normalizeVNode:Pi},$0=H0,K0=null,Z0=null,J0="http://www.w3.org/2000/svg",ds=typeof document<"u"?document:null,zf=ds&&ds.createElement("template"),Q0={insert:(p,T,l)=>{T.insertBefore(p,l||null)},remove:p=>{const T=p.parentNode;T&&T.removeChild(p)},createElement:(p,T,l,x)=>{const t=T?ds.createElementNS(J0,p):ds.createElement(p,l?{is:l}:void 0);return p==="select"&&x&&x.multiple!=null&&t.setAttribute("multiple",x.multiple),t},createText:p=>ds.createTextNode(p),createComment:p=>ds.createComment(p),setText:(p,T)=>{p.nodeValue=T},setElementText:(p,T)=>{p.textContent=T},parentNode:p=>p.parentNode,nextSibling:p=>p.nextSibling,querySelector:p=>ds.querySelector(p),setScopeId(p,T){p.setAttribute(T,"")},insertStaticContent(p,T,l,x,t,e){const f=l?l.previousSibling:T.lastChild;if(t&&(t===e||t.nextSibling))for(;T.insertBefore(t.cloneNode(!0),l),!(t===e||!(t=t.nextSibling)););else{zf.innerHTML=x?`<svg>${p}</svg>`:p;const i=zf.content;if(x){const r=i.firstChild;for(;r.firstChild;)i.appendChild(r.firstChild);i.removeChild(r)}T.insertBefore(i,l)}return[f?f.nextSibling:T.firstChild,l?l.previousSibling:T.lastChild]}};function j0(p,T,l){const x=p._vtc;x&&(T=(T?[T,...x]:[...x]).join(" ")),T==null?p.removeAttribute("class"):l?p.setAttribute("class",T):p.className=T}function k0(p,T,l){const x=p.style,t=_t(l);if(l&&!t){for(const e in l)ah(x,e,l[e]);if(T&&!_t(T))for(const e in T)l[e]==null&&ah(x,e,"")}else{const e=x.display;t?T!==l&&(x.cssText=l):T&&p.removeAttribute("style"),"_vod"in p&&(x.display=e)}}const bf=/\s*!important$/;function ah(p,T,l){if(Nt(l))l.forEach(x=>ah(p,T,x));else if(l==null&&(l=""),T.startsWith("--"))p.setProperty(T,l);else{const x=q0(p,T);bf.test(l)?p.setProperty(Ai(x),l.replace(bf,""),"important"):p[x]=l}}const Wf=["Webkit","Moz","ms"],Bl={};function q0(p,T){const l=Bl[T];if(l)return l;let x=qe(T);if(x!=="filter"&&x in p)return Bl[T]=x;x=Ds(x);for(let t=0;t<Wf.length;t++){const e=Wf[t]+x;if(e in p)return Bl[T]=e}return T}const Xf="http://www.w3.org/1999/xlink";function _0(p,T,l,x,t){if(x&&T.startsWith("xlink:"))l==null?p.removeAttributeNS(Xf,T.slice(6,T.length)):p.setAttributeNS(Xf,T,l);else{const e=Nm(T);l==null||e&&!$d(l)?p.removeAttribute(T):p.setAttribute(T,e?"":l)}}function tx(p,T,l,x,t,e,f){if(T==="innerHTML"||T==="textContent"){x&&f(x,t,e),p[T]=l??"";return}if(T==="value"&&p.tagName!=="PROGRESS"&&!p.tagName.includes("-")){p._value=l;const r=l??"";(p.value!==r||p.tagName==="OPTION")&&(p.value=r),l==null&&p.removeAttribute(T);return}let i=!1;if(l===""||l==null){const r=typeof p[T];r==="boolean"?l=$d(l):l==null&&r==="string"?(l="",i=!0):r==="number"&&(l=0,i=!0)}try{p[T]=l}catch{}i&&p.removeAttribute(T)}function mn(p,T,l,x){p.addEventListener(T,l,x)}function ex(p,T,l,x){p.removeEventListener(T,l,x)}function ix(p,T,l,x,t=null){const e=p._vei||(p._vei={}),f=e[T];if(x&&f)f.value=x;else{const[i,r]=nx(T);if(x){const a=e[T]=ax(x,t);mn(p,i,a,r)}else f&&(ex(p,i,f,r),e[T]=void 0)}}const Hf=/(?:Once|Passive|Capture)$/;function nx(p){let T;if(Hf.test(p)){T={};let x;for(;x=p.match(Hf);)p=p.slice(0,p.length-x[0].length),T[x[0].toLowerCase()]=!0}return[p[2]===":"?p.slice(3):Ai(p.slice(2)),T]}let wl=0;const sx=Promise.resolve(),rx=()=>wl||(sx.then(()=>wl=0),wl=Date.now());function ax(p,T){const l=x=>{if(!x._vts)x._vts=Date.now();else if(x._vts<=l.attached)return;Li(ox(x,l.value),T,5,[x])};return l.value=p,l.attached=rx(),l}function ox(p,T){if(Nt(T)){const l=p.stopImmediatePropagation;return p.stopImmediatePropagation=()=>{l.call(p),p._stopped=!0},T.map(x=>t=>!t._stopped&&x&&x(t))}else return T}const $f=/^on[a-z]/,lx=(p,T,l,x,t=!1,e,f,i,r)=>{T==="class"?j0(p,x,t):T==="style"?k0(p,l,x):Fs(T)?Ah(T)||ix(p,T,l,x,f):(T[0]==="."?(T=T.slice(1),!0):T[0]==="^"?(T=T.slice(1),!1):hx(p,T,x,t))?tx(p,T,x,e,f,i,r):(T==="true-value"?p._trueValue=x:T==="false-value"&&(p._falseValue=x),_0(p,T,x,t))};function hx(p,T,l,x){return x?!!(T==="innerHTML"||T==="textContent"||T in p&&$f.test(T)&&Jt(l)):T==="spellcheck"||T==="draggable"||T==="translate"||T==="form"||T==="list"&&p.tagName==="INPUT"||T==="type"&&p.tagName==="TEXTAREA"||$f.test(T)&&_t(l)?!1:T in p}function hv(p,T){const l=li(p);class x extends Jo{constructor(e){super(l,e,T)}}return x.def=l,x}const ux=p=>hv(p,Pv),fx=typeof HTMLElement<"u"?HTMLElement:class{};class Jo extends fx{constructor(T,l={},x){super(),this._def=T,this._props=l,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&x?x(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Go(()=>{this._connected||(hh(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let x=0;x<this.attributes.length;x++)this._setAttr(this.attributes[x].name);new MutationObserver(x=>{for(const t of x)this._setAttr(t.attributeName)}).observe(this,{attributes:!0});const T=(x,t=!1)=>{const{props:e,styles:f}=x;let i;if(e&&!Nt(e))for(const r in e){const a=e[r];(a===Number||a&&a.type===Number)&&(r in this._props&&(this._props[r]=Cn(this._props[r])),(i||(i=Object.create(null)))[qe(r)]=!0)}this._numberProps=i,t&&this._resolveProps(x),this._applyStyles(f),this._update()},l=this._def.__asyncLoader;l?l().then(x=>T(x,!0)):T(this._def)}_resolveProps(T){const{props:l}=T,x=Nt(l)?l:Object.keys(l||{});for(const t of Object.keys(this))t[0]!=="_"&&x.includes(t)&&this._setProp(t,this[t],!0,!1);for(const t of x.map(qe))Object.defineProperty(this,t,{get(){return this._getProp(t)},set(e){this._setProp(t,e)}})}_setAttr(T){let l=this.getAttribute(T);const x=qe(T);this._numberProps&&this._numberProps[x]&&(l=Cn(l)),this._setProp(x,l,!1)}_getProp(T){return this._props[T]}_setProp(T,l,x=!0,t=!0){l!==this._props[T]&&(this._props[T]=l,t&&this._instance&&this._update(),x&&(l===!0?this.setAttribute(Ai(T),""):typeof l=="string"||typeof l=="number"?this.setAttribute(Ai(T),l+""):l||this.removeAttribute(Ai(T))))}_update(){hh(this._createVNode(),this.shadowRoot)}_createVNode(){const T=Te(this._def,de({},this._props));return this._instance||(T.ce=l=>{this._instance=l,l.isCE=!0;const x=(e,f)=>{this.dispatchEvent(new CustomEvent(e,{detail:f}))};l.emit=(e,...f)=>{x(e,f),Ai(e)!==e&&x(Ai(e),f)};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Jo){l.parent=t._instance,l.provides=t._instance.provides;break}}),T}_applyStyles(T){T&&T.forEach(l=>{const x=document.createElement("style");x.textContent=l,this.shadowRoot.appendChild(x)})}}function dx(p="$style"){{const T=qn();if(!T)return xe;const l=T.type.__cssModules;if(!l)return xe;const x=l[p];return x||xe}}function cx(p){const T=qn();if(!T)return;const l=T.ut=(t=p(T.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${T.uid}"]`)).forEach(e=>lh(e,t))},x=()=>{const t=p(T.proxy);oh(T.subTree,t),l(t)};Tc(x),da(()=>{const t=new MutationObserver(x);t.observe(T.subTree.el.parentNode,{childList:!0}),Ho(()=>t.disconnect())})}function oh(p,T){if(p.shapeFlag&128){const l=p.suspense;p=l.activeBranch,l.pendingBranch&&!l.isHydrating&&l.effects.push(()=>{oh(l.activeBranch,T)})}for(;p.component;)p=p.component.subTree;if(p.shapeFlag&1&&p.el)lh(p.el,T);else if(p.type===Ve)p.children.forEach(l=>oh(l,T));else if(p.type===Ss){let{el:l,anchor:x}=p;for(;l&&(lh(l,T),l!==x);)l=l.nextSibling}}function lh(p,T){if(p.nodeType===1){const l=p.style;for(const x in T)l.setProperty(`--${x}`,T[x])}}const Bn="transition",Mr="animation",kh=(p,{slots:T})=>Zo(Hh,fv(p),T);kh.displayName="Transition";const uv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vx=kh.props=de({},Hh.props,uv),os=(p,T=[])=>{Nt(p)?p.forEach(l=>l(...T)):p&&p(...T)},Kf=p=>p?Nt(p)?p.some(T=>T.length>1):p.length>1:!1;function fv(p){const T={};for(const L in p)L in uv||(T[L]=p[L]);if(p.css===!1)return T;const{name:l="v",type:x,duration:t,enterFromClass:e=`${l}-enter-from`,enterActiveClass:f=`${l}-enter-active`,enterToClass:i=`${l}-enter-to`,appearFromClass:r=e,appearActiveClass:a=f,appearToClass:n=i,leaveFromClass:s=`${l}-leave-from`,leaveActiveClass:u=`${l}-leave-active`,leaveToClass:o=`${l}-leave-to`}=p,h=px(t),d=h&&h[0],v=h&&h[1],{onBeforeEnter:c,onEnter:m,onEnterCancelled:g,onLeave:y,onLeaveCancelled:E,onBeforeAppear:S=c,onAppear:C=m,onAppearCancelled:P=g}=T,A=(L,F,I)=>{Yn(L,F?n:i),Yn(L,F?a:f),I&&I()},R=(L,F)=>{L._isLeaving=!1,Yn(L,s),Yn(L,o),Yn(L,u),F&&F()},M=L=>(F,I)=>{const N=L?C:m,z=()=>A(F,L,I);os(N,[F,z]),Zf(()=>{Yn(F,L?r:e),cn(F,L?n:i),Kf(N)||Jf(F,x,d,z)})};return de(T,{onBeforeEnter(L){os(c,[L]),cn(L,e),cn(L,f)},onBeforeAppear(L){os(S,[L]),cn(L,r),cn(L,a)},onEnter:M(!1),onAppear:M(!0),onLeave(L,F){L._isLeaving=!0;const I=()=>R(L,F);cn(L,s),cv(),cn(L,u),Zf(()=>{L._isLeaving&&(Yn(L,s),cn(L,o),Kf(y)||Jf(L,x,v,I))}),os(y,[L,I])},onEnterCancelled(L){A(L,!1),os(g,[L])},onAppearCancelled(L){A(L,!0),os(P,[L])},onLeaveCancelled(L){R(L),os(E,[L])}})}function px(p){if(p==null)return null;if(Ee(p))return[Gl(p.enter),Gl(p.leave)];{const T=Gl(p);return[T,T]}}function Gl(p){return Cn(p)}function cn(p,T){T.split(/\s+/).forEach(l=>l&&p.classList.add(l)),(p._vtc||(p._vtc=new Set)).add(T)}function Yn(p,T){T.split(/\s+/).forEach(x=>x&&p.classList.remove(x));const{_vtc:l}=p;l&&(l.delete(T),l.size||(p._vtc=void 0))}function Zf(p){requestAnimationFrame(()=>{requestAnimationFrame(p)})}let mx=0;function Jf(p,T,l,x){const t=p._endId=++mx,e=()=>{t===p._endId&&x()};if(l)return setTimeout(e,l);const{type:f,timeout:i,propCount:r}=dv(p,T);if(!f)return x();const a=f+"end";let n=0;const s=()=>{p.removeEventListener(a,u),e()},u=o=>{o.target===p&&++n>=r&&s()};setTimeout(()=>{n<r&&s()},i+1),p.addEventListener(a,u)}function dv(p,T){const l=window.getComputedStyle(p),x=h=>(l[h]||"").split(", "),t=x(`${Bn}Delay`),e=x(`${Bn}Duration`),f=Qf(t,e),i=x(`${Mr}Delay`),r=x(`${Mr}Duration`),a=Qf(i,r);let n=null,s=0,u=0;T===Bn?f>0&&(n=Bn,s=f,u=e.length):T===Mr?a>0&&(n=Mr,s=a,u=r.length):(s=Math.max(f,a),n=s>0?f>a?Bn:Mr:null,u=n?n===Bn?e.length:r.length:0);const o=n===Bn&&/\b(transform|all)(,|$)/.test(x(`${Bn}Property`).toString());return{type:n,timeout:s,propCount:u,hasTransform:o}}function Qf(p,T){for(;p.length<T.length;)p=p.concat(p);return Math.max(...T.map((l,x)=>jf(l)+jf(p[x])))}function jf(p){return Number(p.slice(0,-1).replace(",","."))*1e3}function cv(){return document.body.offsetHeight}const vv=new WeakMap,pv=new WeakMap,gx={name:"TransitionGroup",props:de({},vx,{tag:String,moveClass:String}),setup(p,{slots:T}){const l=qn(),x=Xh();let t,e;return Wo(()=>{if(!t.length)return;const f=p.moveClass||`${p.name||"v"}-move`;if(!Sx(t[0].el,l.vnode.el,f))return;t.forEach(yx),t.forEach(Tx);const i=t.filter(Ex);cv(),i.forEach(r=>{const a=r.el,n=a.style;cn(a,f),n.transform=n.webkitTransform=n.transitionDuration="";const s=a._moveCb=u=>{u&&u.target!==a||(!u||/transform$/.test(u.propertyName))&&(a.removeEventListener("transitionend",s),a._moveCb=null,Yn(a,f))};a.addEventListener("transitionend",s)})}),()=>{const f=ue(p),i=fv(f);let r=f.tag||Ve;t=e,e=T.default?zo(T.default()):[];for(let a=0;a<e.length;a++){const n=e[a];n.key!=null&&Ms(n,rr(n,i,x,l))}if(t)for(let a=0;a<t.length;a++){const n=t[a];Ms(n,rr(n,i,x,l)),vv.set(n,n.el.getBoundingClientRect())}return Te(r,null,e)}}},xx=gx;function yx(p){const T=p.el;T._moveCb&&T._moveCb(),T._enterCb&&T._enterCb()}function Tx(p){pv.set(p,p.el.getBoundingClientRect())}function Ex(p){const T=vv.get(p),l=pv.get(p),x=T.left-l.left,t=T.top-l.top;if(x||t){const e=p.el.style;return e.transform=e.webkitTransform=`translate(${x}px,${t}px)`,e.transitionDuration="0s",p}}function Sx(p,T,l){const x=p.cloneNode();p._vtc&&p._vtc.forEach(f=>{f.split(/\s+/).forEach(i=>i&&x.classList.remove(i))}),l.split(/\s+/).forEach(f=>f&&x.classList.add(f)),x.style.display="none";const t=T.nodeType===1?T:T.parentNode;t.appendChild(x);const{hasTransform:e}=dv(x);return t.removeChild(x),e}const jn=p=>{const T=p.props["onUpdate:modelValue"]||!1;return Nt(T)?l=>_s(T,l):T};function Cx(p){p.target.composing=!0}function kf(p){const T=p.target;T.composing&&(T.composing=!1,T.dispatchEvent(new Event("input")))}const Mn={created(p,{modifiers:{lazy:T,trim:l,number:x}},t){p._assign=jn(t);const e=x||t.props&&t.props.type==="number";mn(p,T?"change":"input",f=>{if(f.target.composing)return;let i=p.value;l&&(i=i.trim()),e&&(i=Cn(i)),p._assign(i)}),l&&mn(p,"change",()=>{p.value=p.value.trim()}),T||(mn(p,"compositionstart",Cx),mn(p,"compositionend",kf),mn(p,"change",kf))},mounted(p,{value:T}){p.value=T??""},beforeUpdate(p,{value:T,modifiers:{lazy:l,trim:x,number:t}},e){if(p._assign=jn(e),p.composing||document.activeElement===p&&p.type!=="range"&&(l||x&&p.value.trim()===T||(t||p.type==="number")&&Cn(p.value)===T))return;const f=T??"";p.value!==f&&(p.value=f)}},qh={deep:!0,created(p,T,l){p._assign=jn(l),mn(p,"change",()=>{const x=p._modelValue,t=or(p),e=p.checked,f=p._assign;if(Nt(x)){const i=Oo(x,t),r=i!==-1;if(e&&!r)f(x.concat(t));else if(!e&&r){const a=[...x];a.splice(i,1),f(a)}}else if(Is(x)){const i=new Set(x);e?i.add(t):i.delete(t),f(i)}else f(gv(p,e))})},mounted:qf,beforeUpdate(p,T,l){p._assign=jn(l),qf(p,T,l)}};function qf(p,{value:T,oldValue:l},x){p._modelValue=T,Nt(T)?p.checked=Oo(T,x.props.value)>-1:Is(T)?p.checked=T.has(x.props.value):T!==l&&(p.checked=Hn(T,gv(p,!0)))}const _h={created(p,{value:T},l){p.checked=Hn(T,l.props.value),p._assign=jn(l),mn(p,"change",()=>{p._assign(or(p))})},beforeUpdate(p,{value:T,oldValue:l},x){p._assign=jn(x),T!==l&&(p.checked=Hn(T,x.props.value))}},mv={deep:!0,created(p,{value:T,modifiers:{number:l}},x){const t=Is(T);mn(p,"change",()=>{const e=Array.prototype.filter.call(p.options,f=>f.selected).map(f=>l?Cn(or(f)):or(f));p._assign(p.multiple?t?new Set(e):e:e[0])}),p._assign=jn(x)},mounted(p,{value:T}){_f(p,T)},beforeUpdate(p,T,l){p._assign=jn(l)},updated(p,{value:T}){_f(p,T)}};function _f(p,T){const l=p.multiple;if(!(l&&!Nt(T)&&!Is(T))){for(let x=0,t=p.options.length;x<t;x++){const e=p.options[x],f=or(e);if(l)Nt(T)?e.selected=Oo(T,f)>-1:e.selected=T.has(f);else if(Hn(or(e),T)){p.selectedIndex!==x&&(p.selectedIndex=x);return}}!l&&p.selectedIndex!==-1&&(p.selectedIndex=-1)}}function or(p){return"_value"in p?p._value:p.value}function gv(p,T){const l=T?"_trueValue":"_falseValue";return l in p?p[l]:T}const xv={created(p,T,l){qa(p,T,l,null,"created")},mounted(p,T,l){qa(p,T,l,null,"mounted")},beforeUpdate(p,T,l,x){qa(p,T,l,x,"beforeUpdate")},updated(p,T,l,x){qa(p,T,l,x,"updated")}};function yv(p,T){switch(p){case"SELECT":return mv;case"TEXTAREA":return Mn;default:switch(T){case"checkbox":return qh;case"radio":return _h;default:return Mn}}}function qa(p,T,l,x,t){const f=yv(p.tagName,l.props&&l.props.type)[t];f&&f(p,T,l,x)}function Px(){Mn.getSSRProps=({value:p})=>({value:p}),_h.getSSRProps=({value:p},T)=>{if(T.props&&Hn(T.props.value,p))return{checked:!0}},qh.getSSRProps=({value:p},T)=>{if(Nt(p)){if(T.props&&Oo(p,T.props.value)>-1)return{checked:!0}}else if(Is(p)){if(T.props&&p.has(T.props.value))return{checked:!0}}else if(p)return{checked:!0}},xv.getSSRProps=(p,T)=>{if(typeof T.type!="string")return;const l=yv(T.type.toUpperCase(),T.props&&T.props.type);if(l.getSSRProps)return l.getSSRProps(p,T)}}const Ax=["ctrl","shift","alt","meta"],Mx={stop:p=>p.stopPropagation(),prevent:p=>p.preventDefault(),self:p=>p.target!==p.currentTarget,ctrl:p=>!p.ctrlKey,shift:p=>!p.shiftKey,alt:p=>!p.altKey,meta:p=>!p.metaKey,left:p=>"button"in p&&p.button!==0,middle:p=>"button"in p&&p.button!==1,right:p=>"button"in p&&p.button!==2,exact:(p,T)=>Ax.some(l=>p[`${l}Key`]&&!T.includes(l))},Rx=(p,T)=>(l,...x)=>{for(let t=0;t<T.length;t++){const e=Mx[T[t]];if(e&&e(l,T))return}return p(l,...x)},Lx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tv=(p,T)=>l=>{if(!("key"in l))return;const x=Ai(l.key);if(T.some(t=>t===x||Lx[t]===x))return p(l)},tu={beforeMount(p,{value:T},{transition:l}){p._vod=p.style.display==="none"?"":p.style.display,l&&T?l.beforeEnter(p):Rr(p,T)},mounted(p,{value:T},{transition:l}){l&&T&&l.enter(p)},updated(p,{value:T,oldValue:l},{transition:x}){!T!=!l&&(x?T?(x.beforeEnter(p),Rr(p,!0),x.enter(p)):x.leave(p,()=>{Rr(p,!1)}):Rr(p,T))},beforeUnmount(p,{value:T}){Rr(p,T)}};function Rr(p,T){p.style.display=T?p._vod:"none"}function Ox(){tu.getSSRProps=({value:p})=>{if(!p)return{style:{display:"none"}}}}const Ev=de({patchProp:lx},Q0);let zr,td=!1;function Sv(){return zr||(zr=Wc(Ev))}function Cv(){return zr=td?zr:Xc(Ev),td=!0,zr}const hh=(...p)=>{Sv().render(...p)},Pv=(...p)=>{Cv().hydrate(...p)},Av=(...p)=>{const T=Sv().createApp(...p),{mount:l}=T;return T.mount=x=>{const t=Mv(x);if(!t)return;const e=T._component;!Jt(e)&&!e.render&&!e.template&&(e.template=t.innerHTML),t.innerHTML="";const f=l(t,!1,t instanceof SVGElement);return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),f},T},Fx=(...p)=>{const T=Cv().createApp(...p),{mount:l}=T;return T.mount=x=>{const t=Mv(x);if(t)return l(t,!0,t instanceof SVGElement)},T};function Mv(p){return _t(p)?document.querySelector(p):p}let ed=!1;const Ix=()=>{ed||(ed=!0,Px(),Ox())},Dx=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Hh,Comment:si,EffectScope:Oh,Fragment:Ve,KeepAlive:qg,ReactiveEffect:oa,Static:Ss,Suspense:bg,Teleport:P0,Text:Rs,Transition:kh,TransitionGroup:xx,VueElement:Jo,callWithAsyncErrorHandling:Li,callWithErrorHandling:xn,camelize:qe,capitalize:Ds,cloneVNode:an,compatUtils:Z0,computed:Mi,createApp:Av,createBlock:Zn,createCommentVNode:Cs,createElementBlock:$e,createElementVNode:ft,createHydrationRenderer:Xc,createPropsRestProxy:z0,createRenderer:Wc,createSSRApp:Fx,createSlots:n0,createStaticVNode:jc,createTextVNode:Bs,createVNode:Te,customRef:Pg,defineAsyncComponent:jg,defineComponent:li,defineCustomElement:hv,defineEmits:B0,defineExpose:w0,defineProps:N0,defineSSRCustomElement:ux,get devtools(){return Hs},effect:Zm,effectScope:Wm,getCurrentInstance:qn,getCurrentScope:Xm,getTransitionRawChildren:zo,guardReactiveProps:Qc,h:Zo,handleError:Ns,hydrate:Pv,initCustomFormatter:W0,initDirectivesForSSR:Ix,inject:Qi,isMemoSame:ov,isProxy:Nh,isReactive:xs,isReadonly:As,isRef:Ke,isRuntimeOnly:F0,isShallow:Zr,isVNode:Jn,markRaw:Bh,mergeDefaults:Y0,mergeProps:kc,nextTick:Go,normalizeClass:Sn,normalizeProps:Am,normalizeStyle:En,onActivated:Cc,onBeforeMount:Mc,onBeforeUnmount:Xo,onBeforeUpdate:Rc,onDeactivated:Pc,onErrorCaptured:Ic,onMounted:da,onRenderTracked:Fc,onRenderTriggered:Oc,onScopeDispose:Hm,onServerPrefetch:Lc,onUnmounted:Ho,onUpdated:Wo,openBlock:Se,popScopeId:ha,provide:Gr,proxyRefs:Vh,pushScopeId:la,queuePostFlushCb:Yh,reactive:gr,readonly:Dh,ref:wr,registerRuntimeCompiler:ev,render:hh,renderList:Nc,renderSlot:s0,resolveComponent:An,resolveDirective:i0,resolveDynamicComponent:e0,resolveFilter:K0,resolveTransitionHooks:rr,setBlockTracking:ih,setDevtoolsHook:mc,setTransitionHooks:Ms,shallowReactive:lc,shallowReadonly:yg,shallowRef:hc,ssrContextKey:rv,ssrUtils:$0,stop:Jm,toDisplayString:zi,toHandlerKey:qs,toHandlers:r0,toRaw:ue,toRef:fc,toRefs:Ag,transformVNodeArgs:A0,triggerRef:Eg,unref:ys,useAttrs:U0,useCssModule:dx,useCssVars:cx,useSSRContext:av,useSlots:V0,useTransitionState:Xh,vModelCheckbox:qh,vModelDynamic:xv,vModelRadio:_h,vModelSelect:mv,vModelText:Mn,vShow:tu,version:lv,warn:Og,watch:ir,watchEffect:Kg,watchPostEffect:Tc,watchSyncEffect:Zg,withAsyncContext:b0,withCtx:zh,withDefaults:G0,withDirectives:Es,withKeys:Tv,withMemo:X0,withModifiers:Rx,withScopeId:wg},Symbol.toStringTag,{value:"Module"}));function eu(p){throw p}function Rv(p){}function Re(p,T,l,x){const t=p,e=new SyntaxError(String(t));return e.code=p,e.loc=T,e}const _r=Symbol(""),br=Symbol(""),iu=Symbol(""),mo=Symbol(""),Lv=Symbol(""),Os=Symbol(""),Ov=Symbol(""),Fv=Symbol(""),nu=Symbol(""),su=Symbol(""),ca=Symbol(""),ru=Symbol(""),Iv=Symbol(""),au=Symbol(""),go=Symbol(""),ou=Symbol(""),lu=Symbol(""),hu=Symbol(""),uu=Symbol(""),Dv=Symbol(""),Nv=Symbol(""),Qo=Symbol(""),xo=Symbol(""),fu=Symbol(""),du=Symbol(""),ta=Symbol(""),va=Symbol(""),cu=Symbol(""),uh=Symbol(""),Nx=Symbol(""),fh=Symbol(""),yo=Symbol(""),Bx=Symbol(""),wx=Symbol(""),vu=Symbol(""),Gx=Symbol(""),Vx=Symbol(""),pu=Symbol(""),Bv=Symbol(""),lr={[_r]:"Fragment",[br]:"Teleport",[iu]:"Suspense",[mo]:"KeepAlive",[Lv]:"BaseTransition",[Os]:"openBlock",[Ov]:"createBlock",[Fv]:"createElementBlock",[nu]:"createVNode",[su]:"createElementVNode",[ca]:"createCommentVNode",[ru]:"createTextVNode",[Iv]:"createStaticVNode",[au]:"resolveComponent",[go]:"resolveDynamicComponent",[ou]:"resolveDirective",[lu]:"resolveFilter",[hu]:"withDirectives",[uu]:"renderList",[Dv]:"renderSlot",[Nv]:"createSlots",[Qo]:"toDisplayString",[xo]:"mergeProps",[fu]:"normalizeClass",[du]:"normalizeStyle",[ta]:"normalizeProps",[va]:"guardReactiveProps",[cu]:"toHandlers",[uh]:"camelize",[Nx]:"capitalize",[fh]:"toHandlerKey",[yo]:"setBlockTracking",[Bx]:"pushScopeId",[wx]:"popScopeId",[vu]:"withCtx",[Gx]:"unref",[Vx]:"isRef",[pu]:"withMemo",[Bv]:"isMemoSame"};function Ux(p){Object.getOwnPropertySymbols(p).forEach(T=>{lr[T]=p[T]})}const Ii={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Yx(p,T=Ii){return{type:0,children:p,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:T}}function ea(p,T,l,x,t,e,f,i=!1,r=!1,a=!1,n=Ii){return p&&(i?(p.helper(Os),p.helper(fr(p.inSSR,a))):p.helper(ur(p.inSSR,a)),f&&p.helper(hu)),{type:13,tag:T,props:l,children:x,patchFlag:t,dynamicProps:e,directives:f,isBlock:i,disableTracking:r,isComponent:a,loc:n}}function pa(p,T=Ii){return{type:17,loc:T,elements:p}}function Ui(p,T=Ii){return{type:15,loc:T,properties:p}}function Ne(p,T){return{type:16,loc:Ii,key:_t(p)?ee(p,!0):p,value:T}}function ee(p,T=!1,l=Ii,x=0){return{type:4,loc:l,content:p,isStatic:T,constType:T?3:x}}function ji(p,T=Ii){return{type:8,loc:T,children:p}}function Ue(p,T=[],l=Ii){return{type:14,loc:l,callee:p,arguments:T}}function hr(p,T=void 0,l=!1,x=!1,t=Ii){return{type:18,params:p,returns:T,newline:l,isSlot:x,loc:t}}function dh(p,T,l,x=!0){return{type:19,test:p,consequent:T,alternate:l,newline:x,loc:Ii}}function zx(p,T,l=!1){return{type:20,index:p,value:T,isVNode:l,loc:Ii}}function bx(p){return{type:21,body:p,loc:Ii}}const pi=p=>p.type===4&&p.isStatic,Js=(p,T)=>p===T||p===Ai(T);function wv(p){if(Js(p,"Teleport"))return br;if(Js(p,"Suspense"))return iu;if(Js(p,"KeepAlive"))return mo;if(Js(p,"BaseTransition"))return Lv}const Wx=/^\d|[^\$\w]/,mu=p=>!Wx.test(p),Xx=/[A-Za-z_$\xA0-\uFFFF]/,Hx=/[\.\?\w$\xA0-\uFFFF]/,$x=/\s+[.[]\s*|\s*[.[]\s+/g,Kx=p=>{p=p.trim().replace($x,f=>f.trim());let T=0,l=[],x=0,t=0,e=null;for(let f=0;f<p.length;f++){const i=p.charAt(f);switch(T){case 0:if(i==="[")l.push(T),T=1,x++;else if(i==="(")l.push(T),T=2,t++;else if(!(f===0?Xx:Hx).test(i))return!1;break;case 1:i==="'"||i==='"'||i==="`"?(l.push(T),T=3,e=i):i==="["?x++:i==="]"&&(--x||(T=l.pop()));break;case 2:if(i==="'"||i==='"'||i==="`")l.push(T),T=3,e=i;else if(i==="(")t++;else if(i===")"){if(f===p.length-1)return!1;--t||(T=l.pop())}break;case 3:i===e&&(T=l.pop(),e=null);break}}return!x&&!t},Gv=Kx;function Vv(p,T,l){const t={source:p.source.slice(T,T+l),start:To(p.start,p.source,T),end:p.end};return l!=null&&(t.end=To(p.start,p.source,T+l)),t}function To(p,T,l=T.length){return Eo(de({},p),T,l)}function Eo(p,T,l=T.length){let x=0,t=-1;for(let e=0;e<l;e++)T.charCodeAt(e)===10&&(x++,t=e);return p.offset+=l,p.line+=x,p.column=t===-1?p.column+l:l-t,p}function Vi(p,T,l=!1){for(let x=0;x<p.props.length;x++){const t=p.props[x];if(t.type===7&&(l||t.exp)&&(_t(T)?t.name===T:T.test(t.name)))return t}}function jo(p,T,l=!1,x=!1){for(let t=0;t<p.props.length;t++){const e=p.props[t];if(e.type===6){if(l)continue;if(e.name===T&&(e.value||x))return e}else if(e.name==="bind"&&(e.exp||x)&&vs(e.arg,T))return e}}function vs(p,T){return!!(p&&pi(p)&&p.content===T)}function Zx(p){return p.props.some(T=>T.type===7&&T.name==="bind"&&(!T.arg||T.arg.type!==4||!T.arg.isStatic))}function Vl(p){return p.type===5||p.type===2}function Jx(p){return p.type===7&&p.name==="slot"}function So(p){return p.type===1&&p.tagType===3}function Co(p){return p.type===1&&p.tagType===2}function ur(p,T){return p||T?nu:su}function fr(p,T){return p||T?Ov:Fv}const Qx=new Set([ta,va]);function Uv(p,T=[]){if(p&&!_t(p)&&p.type===14){const l=p.callee;if(!_t(l)&&Qx.has(l))return Uv(p.arguments[0],T.concat(p))}return[p,T]}function Po(p,T,l){let x,t=p.type===13?p.props:p.arguments[2],e=[],f;if(t&&!_t(t)&&t.type===14){const i=Uv(t);t=i[0],e=i[1],f=e[e.length-1]}if(t==null||_t(t))x=Ui([T]);else if(t.type===14){const i=t.arguments[0];!_t(i)&&i.type===15?id(T,i)||i.properties.unshift(T):t.callee===cu?x=Ue(l.helper(xo),[Ui([T]),t]):t.arguments.unshift(Ui([T])),!x&&(x=t)}else t.type===15?(id(T,t)||t.properties.unshift(T),x=t):(x=Ue(l.helper(xo),[Ui([T]),t]),f&&f.callee===va&&(f=e[e.length-2]));p.type===13?f?f.arguments[0]=x:p.props=x:f?f.arguments[0]=x:p.arguments[2]=x}function id(p,T){let l=!1;if(p.key.type===4){const x=p.key.content;l=T.properties.some(t=>t.key.type===4&&t.key.content===x)}return l}function ia(p,T){return`_${T}_${p.replace(/[^\w]/g,(l,x)=>l==="-"?"_":p.charCodeAt(x).toString())}`}function jx(p){return p.type===14&&p.callee===pu?p.arguments[1].returns:p}function gu(p,{helper:T,removeHelper:l,inSSR:x}){p.isBlock||(p.isBlock=!0,l(ur(x,p.isComponent)),T(Os),T(fr(x,p.isComponent)))}function nd(p,T){const l=T.options?T.options.compatConfig:T.compatConfig,x=l&&l[p];return p==="MODE"?x||3:x}function Ps(p,T){const l=nd("MODE",T),x=nd(p,T);return l===3?x===!0:x!==!1}function na(p,T,l,...x){return Ps(p,T)}const kx=/&(gt|lt|amp|apos|quot);/g,qx={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},sd={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:so,isPreTag:so,isCustomElement:so,decodeEntities:p=>p.replace(kx,(T,l)=>qx[l]),onError:eu,onWarn:Rv,comments:!1};function _x(p,T={}){const l=ty(p,T),x=Oi(l);return Yx(xu(l,0,[]),bi(l,x))}function ty(p,T){const l=de({},sd);let x;for(x in T)l[x]=T[x]===void 0?sd[x]:T[x];return{options:l,column:1,line:1,offset:0,originalSource:p,source:p,inPre:!1,inVPre:!1,onWarn:l.onWarn}}function xu(p,T,l){const x=ko(l),t=x?x.ns:0,e=[];for(;!hy(p,T,l);){const i=p.source;let r;if(T===0||T===1){if(!p.inVPre&&ni(i,p.options.delimiters[0]))r=oy(p,T);else if(T===0&&i[0]==="<")if(i.length===1)ge(p,5,1);else if(i[1]==="!")ni(i,"<!--")?r=iy(p):ni(i,"<!DOCTYPE")?r=Lr(p):ni(i,"<![CDATA[")?t!==0?r=ey(p,l):(ge(p,1),r=Lr(p)):(ge(p,11),r=Lr(p));else if(i[1]==="/")if(i.length===2)ge(p,5,2);else if(i[2]===">"){ge(p,14,2),be(p,3);continue}else if(/[a-z]/i.test(i[2])){ge(p,23),ch(p,1,x);continue}else ge(p,12,2),r=Lr(p);else/[a-z]/i.test(i[1])?(r=ny(p,l),Ps("COMPILER_NATIVE_TEMPLATE",p)&&r&&r.tag==="template"&&!r.props.some(a=>a.type===7&&Yv(a.name))&&(r=r.children)):i[1]==="?"?(ge(p,21,1),r=Lr(p)):ge(p,12,1)}if(r||(r=ly(p,T)),Nt(r))for(let a=0;a<r.length;a++)rd(e,r[a]);else rd(e,r)}let f=!1;if(T!==2&&T!==1){const i=p.options.whitespace!=="preserve";for(let r=0;r<e.length;r++){const a=e[r];if(a.type===2)if(p.inPre)a.content=a.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(a.content))i&&(a.content=a.content.replace(/[\t\r\n\f ]+/g," "));else{const n=e[r-1],s=e[r+1];!n||!s||i&&(n.type===3&&s.type===3||n.type===3&&s.type===1||n.type===1&&s.type===3||n.type===1&&s.type===1&&/[\r\n]/.test(a.content))?(f=!0,e[r]=null):a.content=" "}else a.type===3&&!p.options.comments&&(f=!0,e[r]=null)}if(p.inPre&&x&&p.options.isPreTag(x.tag)){const r=e[0];r&&r.type===2&&(r.content=r.content.replace(/^\r?\n/,""))}}return f?e.filter(Boolean):e}function rd(p,T){if(T.type===2){const l=ko(p);if(l&&l.type===2&&l.loc.end.offset===T.loc.start.offset){l.content+=T.content,l.loc.end=T.loc.end,l.loc.source+=T.loc.source;return}}p.push(T)}function ey(p,T){be(p,9);const l=xu(p,3,T);return p.source.length===0?ge(p,6):be(p,3),l}function iy(p){const T=Oi(p);let l;const x=/--(\!)?>/.exec(p.source);if(!x)l=p.source.slice(4),be(p,p.source.length),ge(p,7);else{x.index<=3&&ge(p,0),x[1]&&ge(p,10),l=p.source.slice(4,x.index);const t=p.source.slice(0,x.index);let e=1,f=0;for(;(f=t.indexOf("<!--",e))!==-1;)be(p,f-e+1),f+4<t.length&&ge(p,16),e=f+1;be(p,x.index+x[0].length-e+1)}return{type:3,content:l,loc:bi(p,T)}}function Lr(p){const T=Oi(p),l=p.source[1]==="?"?1:2;let x;const t=p.source.indexOf(">");return t===-1?(x=p.source.slice(l),be(p,p.source.length)):(x=p.source.slice(l,t),be(p,t+1)),{type:3,content:x,loc:bi(p,T)}}function ny(p,T){const l=p.inPre,x=p.inVPre,t=ko(T),e=ch(p,0,t),f=p.inPre&&!l,i=p.inVPre&&!x;if(e.isSelfClosing||p.options.isVoidTag(e.tag))return f&&(p.inPre=!1),i&&(p.inVPre=!1),e;T.push(e);const r=p.options.getTextMode(e,t),a=xu(p,r,T);T.pop();{const n=e.props.find(s=>s.type===6&&s.name==="inline-template");if(n&&na("COMPILER_INLINE_TEMPLATE",p,n.loc)){const s=bi(p,e.loc.end);n.value={type:2,content:s.source,loc:s}}}if(e.children=a,vh(p.source,e.tag))ch(p,1,t);else if(ge(p,24,0,e.loc.start),p.source.length===0&&e.tag.toLowerCase()==="script"){const n=a[0];n&&ni(n.loc.source,"<!--")&&ge(p,8)}return e.loc=bi(p,e.loc.start),f&&(p.inPre=!1),i&&(p.inVPre=!1),e}const Yv=mi("if,else,else-if,for,slot");function ch(p,T,l){const x=Oi(p),t=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(p.source),e=t[1],f=p.options.getNamespace(e,l);be(p,t[0].length),sa(p);const i=Oi(p),r=p.source;p.options.isPreTag(e)&&(p.inPre=!0);let a=ad(p,T);T===0&&!p.inVPre&&a.some(u=>u.type===7&&u.name==="pre")&&(p.inVPre=!0,de(p,i),p.source=r,a=ad(p,T).filter(u=>u.name!=="v-pre"));let n=!1;if(p.source.length===0?ge(p,9):(n=ni(p.source,"/>"),T===1&&n&&ge(p,4),be(p,n?2:1)),T===1)return;let s=0;return p.inVPre||(e==="slot"?s=2:e==="template"?a.some(u=>u.type===7&&Yv(u.name))&&(s=3):sy(e,a,p)&&(s=1)),{type:1,ns:f,tag:e,tagType:s,props:a,isSelfClosing:n,children:[],loc:bi(p,x),codegenNode:void 0}}function sy(p,T,l){const x=l.options;if(x.isCustomElement(p))return!1;if(p==="component"||/^[A-Z]/.test(p)||wv(p)||x.isBuiltInComponent&&x.isBuiltInComponent(p)||x.isNativeTag&&!x.isNativeTag(p))return!0;for(let t=0;t<T.length;t++){const e=T[t];if(e.type===6){if(e.name==="is"&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(na("COMPILER_IS_ON_ELEMENT",l,e.loc))return!0}}else{if(e.name==="is")return!0;if(e.name==="bind"&&vs(e.arg,"is")&&na("COMPILER_IS_ON_ELEMENT",l,e.loc))return!0}}}function ad(p,T){const l=[],x=new Set;for(;p.source.length>0&&!ni(p.source,">")&&!ni(p.source,"/>");){if(ni(p.source,"/")){ge(p,22),be(p,1),sa(p);continue}T===1&&ge(p,3);const t=ry(p,x);t.type===6&&t.value&&t.name==="class"&&(t.value.content=t.value.content.replace(/\s+/g," ").trim()),T===0&&l.push(t),/^[^\t\r\n\f />]/.test(p.source)&&ge(p,15),sa(p)}return l}function ry(p,T){const l=Oi(p),t=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(p.source)[0];T.has(t)&&ge(p,2),T.add(t),t[0]==="="&&ge(p,19);{const i=/["'<]/g;let r;for(;r=i.exec(t);)ge(p,17,r.index)}be(p,t.length);let e;/^[\t\r\n\f ]*=/.test(p.source)&&(sa(p),be(p,1),sa(p),e=ay(p),e||ge(p,13));const f=bi(p,l);if(!p.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(t)){const i=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(t);let r=ni(t,"."),a=i[1]||(r||ni(t,":")?"bind":ni(t,"@")?"on":"slot"),n;if(i[2]){const u=a==="slot",o=t.lastIndexOf(i[2]),h=bi(p,od(p,l,o),od(p,l,o+i[2].length+(u&&i[3]||"").length));let d=i[2],v=!0;d.startsWith("[")?(v=!1,d.endsWith("]")?d=d.slice(1,d.length-1):(ge(p,27),d=d.slice(1))):u&&(d+=i[3]||""),n={type:4,content:d,isStatic:v,constType:v?3:0,loc:h}}if(e&&e.isQuoted){const u=e.loc;u.start.offset++,u.start.column++,u.end=To(u.start,e.content),u.source=u.source.slice(1,-1)}const s=i[3]?i[3].slice(1).split("."):[];return r&&s.push("prop"),a==="bind"&&n&&s.includes("sync")&&na("COMPILER_V_BIND_SYNC",p,f,n.loc.source)&&(a="model",s.splice(s.indexOf("sync"),1)),{type:7,name:a,exp:e&&{type:4,content:e.content,isStatic:!1,constType:0,loc:e.loc},arg:n,modifiers:s,loc:f}}return!p.inVPre&&ni(t,"v-")&&ge(p,26),{type:6,name:t,value:e&&{type:2,content:e.content,loc:e.loc},loc:f}}function ay(p){const T=Oi(p);let l;const x=p.source[0],t=x==='"'||x==="'";if(t){be(p,1);const e=p.source.indexOf(x);e===-1?l=Wr(p,p.source.length,4):(l=Wr(p,e,4),be(p,1))}else{const e=/^[^\t\r\n\f >]+/.exec(p.source);if(!e)return;const f=/["'<=`]/g;let i;for(;i=f.exec(e[0]);)ge(p,18,i.index);l=Wr(p,e[0].length,4)}return{content:l,isQuoted:t,loc:bi(p,T)}}function oy(p,T){const[l,x]=p.options.delimiters,t=p.source.indexOf(x,l.length);if(t===-1){ge(p,25);return}const e=Oi(p);be(p,l.length);const f=Oi(p),i=Oi(p),r=t-l.length,a=p.source.slice(0,r),n=Wr(p,r,T),s=n.trim(),u=n.indexOf(s);u>0&&Eo(f,a,u);const o=r-(n.length-s.length-u);return Eo(i,a,o),be(p,x.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:s,loc:bi(p,f,i)},loc:bi(p,e)}}function ly(p,T){const l=T===3?["]]>"]:["<",p.options.delimiters[0]];let x=p.source.length;for(let f=0;f<l.length;f++){const i=p.source.indexOf(l[f],1);i!==-1&&x>i&&(x=i)}const t=Oi(p);return{type:2,content:Wr(p,x,T),loc:bi(p,t)}}function Wr(p,T,l){const x=p.source.slice(0,T);return be(p,T),l===2||l===3||!x.includes("&")?x:p.options.decodeEntities(x,l===4)}function Oi(p){const{column:T,line:l,offset:x}=p;return{column:T,line:l,offset:x}}function bi(p,T,l){return l=l||Oi(p),{start:T,end:l,source:p.originalSource.slice(T.offset,l.offset)}}function ko(p){return p[p.length-1]}function ni(p,T){return p.startsWith(T)}function be(p,T){const{source:l}=p;Eo(p,l,T),p.source=l.slice(T)}function sa(p){const T=/^[\t\r\n\f ]+/.exec(p.source);T&&be(p,T[0].length)}function od(p,T,l){return To(T,p.originalSource.slice(T.offset,l),l)}function ge(p,T,l,x=Oi(p)){l&&(x.offset+=l,x.column+=l),p.options.onError(Re(T,{start:x,end:x,source:""}))}function hy(p,T,l){const x=p.source;switch(T){case 0:if(ni(x,"</")){for(let t=l.length-1;t>=0;--t)if(vh(x,l[t].tag))return!0}break;case 1:case 2:{const t=ko(l);if(t&&vh(x,t.tag))return!0;break}case 3:if(ni(x,"]]>"))return!0;break}return!x}function vh(p,T){return ni(p,"</")&&p.slice(2,2+T.length).toLowerCase()===T.toLowerCase()&&/[\t\r\n\f />]/.test(p[2+T.length]||">")}function uy(p,T){oo(p,T,zv(p,p.children[0]))}function zv(p,T){const{children:l}=p;return l.length===1&&T.type===1&&!Co(T)}function oo(p,T,l=!1){const{children:x}=p,t=x.length;let e=0;for(let f=0;f<x.length;f++){const i=x[f];if(i.type===1&&i.tagType===0){const r=l?0:Yi(i,T);if(r>0){if(r>=2){i.codegenNode.patchFlag=-1+"",i.codegenNode=T.hoist(i.codegenNode),e++;continue}}else{const a=i.codegenNode;if(a.type===13){const n=Hv(a);if((!n||n===512||n===1)&&Wv(i,T)>=2){const s=Xv(i);s&&(a.props=T.hoist(s))}a.dynamicProps&&(a.dynamicProps=T.hoist(a.dynamicProps))}}}if(i.type===1){const r=i.tagType===1;r&&T.scopes.vSlot++,oo(i,T),r&&T.scopes.vSlot--}else if(i.type===11)oo(i,T,i.children.length===1);else if(i.type===9)for(let r=0;r<i.branches.length;r++)oo(i.branches[r],T,i.branches[r].children.length===1)}e&&T.transformHoist&&T.transformHoist(x,T,p),e&&e===t&&p.type===1&&p.tagType===0&&p.codegenNode&&p.codegenNode.type===13&&Nt(p.codegenNode.children)&&(p.codegenNode.children=T.hoist(pa(p.codegenNode.children)))}function Yi(p,T){const{constantCache:l}=T;switch(p.type){case 1:if(p.tagType!==0)return 0;const x=l.get(p);if(x!==void 0)return x;const t=p.codegenNode;if(t.type!==13||t.isBlock&&p.tag!=="svg"&&p.tag!=="foreignObject")return 0;if(Hv(t))return l.set(p,0),0;{let i=3;const r=Wv(p,T);if(r===0)return l.set(p,0),0;r<i&&(i=r);for(let a=0;a<p.children.length;a++){const n=Yi(p.children[a],T);if(n===0)return l.set(p,0),0;n<i&&(i=n)}if(i>1)for(let a=0;a<p.props.length;a++){const n=p.props[a];if(n.type===7&&n.name==="bind"&&n.exp){const s=Yi(n.exp,T);if(s===0)return l.set(p,0),0;s<i&&(i=s)}}if(t.isBlock){for(let a=0;a<p.props.length;a++)if(p.props[a].type===7)return l.set(p,0),0;T.removeHelper(Os),T.removeHelper(fr(T.inSSR,t.isComponent)),t.isBlock=!1,T.helper(ur(T.inSSR,t.isComponent))}return l.set(p,i),i}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Yi(p.content,T);case 4:return p.constType;case 8:let f=3;for(let i=0;i<p.children.length;i++){const r=p.children[i];if(_t(r)||$n(r))continue;const a=Yi(r,T);if(a===0)return 0;a<f&&(f=a)}return f;default:return 0}}const fy=new Set([fu,du,ta,va]);function bv(p,T){if(p.type===14&&!_t(p.callee)&&fy.has(p.callee)){const l=p.arguments[0];if(l.type===4)return Yi(l,T);if(l.type===14)return bv(l,T)}return 0}function Wv(p,T){let l=3;const x=Xv(p);if(x&&x.type===15){const{properties:t}=x;for(let e=0;e<t.length;e++){const{key:f,value:i}=t[e],r=Yi(f,T);if(r===0)return r;r<l&&(l=r);let a;if(i.type===4?a=Yi(i,T):i.type===14?a=bv(i,T):a=0,a===0)return a;a<l&&(l=a)}}return l}function Xv(p){const T=p.codegenNode;if(T.type===13)return T.props}function Hv(p){const T=p.patchFlag;return T?parseInt(T,10):void 0}function dy(p,{filename:T="",prefixIdentifiers:l=!1,hoistStatic:x=!1,cacheHandlers:t=!1,nodeTransforms:e=[],directiveTransforms:f={},transformHoist:i=null,isBuiltInComponent:r=oi,isCustomElement:a=oi,expressionPlugins:n=[],scopeId:s=null,slotted:u=!0,ssr:o=!1,inSSR:h=!1,ssrCssVars:d="",bindingMetadata:v=xe,inline:c=!1,isTS:m=!1,onError:g=eu,onWarn:y=Rv,compatConfig:E}){const S=T.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={selfName:S&&Ds(qe(S[1])),prefixIdentifiers:l,hoistStatic:x,cacheHandlers:t,nodeTransforms:e,directiveTransforms:f,transformHoist:i,isBuiltInComponent:r,isCustomElement:a,expressionPlugins:n,scopeId:s,slotted:u,ssr:o,inSSR:h,ssrCssVars:d,bindingMetadata:v,inline:c,isTS:m,onError:g,onWarn:y,compatConfig:E,root:p,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:p,childIndex:0,inVOnce:!1,helper(P){const A=C.helpers.get(P)||0;return C.helpers.set(P,A+1),P},removeHelper(P){const A=C.helpers.get(P);if(A){const R=A-1;R?C.helpers.set(P,R):C.helpers.delete(P)}},helperString(P){return`_${lr[C.helper(P)]}`},replaceNode(P){C.parent.children[C.childIndex]=C.currentNode=P},removeNode(P){const A=C.parent.children,R=P?A.indexOf(P):C.currentNode?C.childIndex:-1;!P||P===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>R&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(R,1)},onNodeRemoved:()=>{},addIdentifiers(P){},removeIdentifiers(P){},hoist(P){_t(P)&&(P=ee(P)),C.hoists.push(P);const A=ee(`_hoisted_${C.hoists.length}`,!1,P.loc,2);return A.hoisted=P,A},cache(P,A=!1){return zx(C.cached++,P,A)}};return C.filters=new Set,C}function cy(p,T){const l=dy(p,T);qo(p,l),T.hoistStatic&&uy(p,l),T.ssr||vy(p,l),p.helpers=[...l.helpers.keys()],p.components=[...l.components],p.directives=[...l.directives],p.imports=l.imports,p.hoists=l.hoists,p.temps=l.temps,p.cached=l.cached,p.filters=[...l.filters]}function vy(p,T){const{helper:l}=T,{children:x}=p;if(x.length===1){const t=x[0];if(zv(p,t)&&t.codegenNode){const e=t.codegenNode;e.type===13&&gu(e,T),p.codegenNode=e}else p.codegenNode=t}else if(x.length>1){let t=64;p.codegenNode=ea(T,l(_r),void 0,p.children,t+"",void 0,void 0,!0,void 0,!1)}}function py(p,T){let l=0;const x=()=>{l--};for(;l<p.children.length;l++){const t=p.children[l];_t(t)||(T.parent=p,T.childIndex=l,T.onNodeRemoved=x,qo(t,T))}}function qo(p,T){T.currentNode=p;const{nodeTransforms:l}=T,x=[];for(let e=0;e<l.length;e++){const f=l[e](p,T);if(f&&(Nt(f)?x.push(...f):x.push(f)),T.currentNode)p=T.currentNode;else return}switch(p.type){case 3:T.ssr||T.helper(ca);break;case 5:T.ssr||T.helper(Qo);break;case 9:for(let e=0;e<p.branches.length;e++)qo(p.branches[e],T);break;case 10:case 11:case 1:case 0:py(p,T);break}T.currentNode=p;let t=x.length;for(;t--;)x[t]()}function $v(p,T){const l=_t(p)?x=>x===p:x=>p.test(x);return(x,t)=>{if(x.type===1){const{props:e}=x;if(x.tagType===3&&e.some(Jx))return;const f=[];for(let i=0;i<e.length;i++){const r=e[i];if(r.type===7&&l(r.name)){e.splice(i,1),i--;const a=T(x,r,t);a&&f.push(a)}}return f}}}const _o="/*#__PURE__*/",Kv=p=>`${lr[p]}: _${lr[p]}`;function my(p,{mode:T="function",prefixIdentifiers:l=T==="module",sourceMap:x=!1,filename:t="template.vue.html",scopeId:e=null,optimizeImports:f=!1,runtimeGlobalName:i="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:a="vue/server-renderer",ssr:n=!1,isTS:s=!1,inSSR:u=!1}){const o={mode:T,prefixIdentifiers:l,sourceMap:x,filename:t,scopeId:e,optimizeImports:f,runtimeGlobalName:i,runtimeModuleName:r,ssrRuntimeModuleName:a,ssr:n,isTS:s,inSSR:u,source:p.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(d){return`_${lr[d]}`},push(d,v){o.code+=d},indent(){h(++o.indentLevel)},deindent(d=!1){d?--o.indentLevel:h(--o.indentLevel)},newline(){h(o.indentLevel)}};function h(d){o.push(`
`+"  ".repeat(d))}return o}function gy(p,T={}){const l=my(p,T);T.onContextCreated&&T.onContextCreated(l);const{mode:x,push:t,prefixIdentifiers:e,indent:f,deindent:i,newline:r,scopeId:a,ssr:n}=l,s=p.helpers.length>0,u=!e&&x!=="module";xy(p,l);const h=n?"ssrRender":"render",v=(n?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(t(`function ${h}(${v}) {`),f(),u&&(t("with (_ctx) {"),f(),s&&(t(`const { ${p.helpers.map(Kv).join(", ")} } = _Vue`),t(`
`),r())),p.components.length&&(Ul(p.components,"component",l),(p.directives.length||p.temps>0)&&r()),p.directives.length&&(Ul(p.directives,"directive",l),p.temps>0&&r()),p.filters&&p.filters.length&&(r(),Ul(p.filters,"filter",l),r()),p.temps>0){t("let ");for(let c=0;c<p.temps;c++)t(`${c>0?", ":""}_temp${c}`)}return(p.components.length||p.directives.length||p.temps)&&(t(`
`),r()),n||t("return "),p.codegenNode?ri(p.codegenNode,l):t("null"),u&&(i(),t("}")),i(),t("}"),{ast:p,code:l.code,preamble:"",map:l.map?l.map.toJSON():void 0}}function xy(p,T){const{ssr:l,prefixIdentifiers:x,push:t,newline:e,runtimeModuleName:f,runtimeGlobalName:i,ssrRuntimeModuleName:r}=T,a=i;if(p.helpers.length>0&&(t(`const _Vue = ${a}
`),p.hoists.length)){const n=[nu,su,ca,ru,Iv].filter(s=>p.helpers.includes(s)).map(Kv).join(", ");t(`const { ${n} } = _Vue
`)}yy(p.hoists,T),e(),t("return ")}function Ul(p,T,{helper:l,push:x,newline:t,isTS:e}){const f=l(T==="filter"?lu:T==="component"?au:ou);for(let i=0;i<p.length;i++){let r=p[i];const a=r.endsWith("__self");a&&(r=r.slice(0,-6)),x(`const ${ia(r,T)} = ${f}(${JSON.stringify(r)}${a?", true":""})${e?"!":""}`),i<p.length-1&&t()}}function yy(p,T){if(!p.length)return;T.pure=!0;const{push:l,newline:x,helper:t,scopeId:e,mode:f}=T;x();for(let i=0;i<p.length;i++){const r=p[i];r&&(l(`const _hoisted_${i+1} = `),ri(r,T),x())}T.pure=!1}function yu(p,T){const l=p.length>3||!1;T.push("["),l&&T.indent(),ma(p,T,l),l&&T.deindent(),T.push("]")}function ma(p,T,l=!1,x=!0){const{push:t,newline:e}=T;for(let f=0;f<p.length;f++){const i=p[f];_t(i)?t(i):Nt(i)?yu(i,T):ri(i,T),f<p.length-1&&(l?(x&&t(","),e()):x&&t(", "))}}function ri(p,T){if(_t(p)){T.push(p);return}if($n(p)){T.push(T.helper(p));return}switch(p.type){case 1:case 9:case 11:ri(p.codegenNode,T);break;case 2:Ty(p,T);break;case 4:Zv(p,T);break;case 5:Ey(p,T);break;case 12:ri(p.codegenNode,T);break;case 8:Jv(p,T);break;case 3:Cy(p,T);break;case 13:Py(p,T);break;case 14:My(p,T);break;case 15:Ry(p,T);break;case 17:Ly(p,T);break;case 18:Oy(p,T);break;case 19:Fy(p,T);break;case 20:Iy(p,T);break;case 21:ma(p.body,T,!0,!1);break}}function Ty(p,T){T.push(JSON.stringify(p.content),p)}function Zv(p,T){const{content:l,isStatic:x}=p;T.push(x?JSON.stringify(l):l,p)}function Ey(p,T){const{push:l,helper:x,pure:t}=T;t&&l(_o),l(`${x(Qo)}(`),ri(p.content,T),l(")")}function Jv(p,T){for(let l=0;l<p.children.length;l++){const x=p.children[l];_t(x)?T.push(x):ri(x,T)}}function Sy(p,T){const{push:l}=T;if(p.type===8)l("["),Jv(p,T),l("]");else if(p.isStatic){const x=mu(p.content)?p.content:JSON.stringify(p.content);l(x,p)}else l(`[${p.content}]`,p)}function Cy(p,T){const{push:l,helper:x,pure:t}=T;t&&l(_o),l(`${x(ca)}(${JSON.stringify(p.content)})`,p)}function Py(p,T){const{push:l,helper:x,pure:t}=T,{tag:e,props:f,children:i,patchFlag:r,dynamicProps:a,directives:n,isBlock:s,disableTracking:u,isComponent:o}=p;n&&l(x(hu)+"("),s&&l(`(${x(Os)}(${u?"true":""}), `),t&&l(_o);const h=s?fr(T.inSSR,o):ur(T.inSSR,o);l(x(h)+"(",p),ma(Ay([e,f,i,r,a]),T),l(")"),s&&l(")"),n&&(l(", "),ri(n,T),l(")"))}function Ay(p){let T=p.length;for(;T--&&p[T]==null;);return p.slice(0,T+1).map(l=>l||"null")}function My(p,T){const{push:l,helper:x,pure:t}=T,e=_t(p.callee)?p.callee:x(p.callee);t&&l(_o),l(e+"(",p),ma(p.arguments,T),l(")")}function Ry(p,T){const{push:l,indent:x,deindent:t,newline:e}=T,{properties:f}=p;if(!f.length){l("{}",p);return}const i=f.length>1||!1;l(i?"{":"{ "),i&&x();for(let r=0;r<f.length;r++){const{key:a,value:n}=f[r];Sy(a,T),l(": "),ri(n,T),r<f.length-1&&(l(","),e())}i&&t(),l(i?"}":" }")}function Ly(p,T){yu(p.elements,T)}function Oy(p,T){const{push:l,indent:x,deindent:t}=T,{params:e,returns:f,body:i,newline:r,isSlot:a}=p;a&&l(`_${lr[vu]}(`),l("(",p),Nt(e)?ma(e,T):e&&ri(e,T),l(") => "),(r||i)&&(l("{"),x()),f?(r&&l("return "),Nt(f)?yu(f,T):ri(f,T)):i&&ri(i,T),(r||i)&&(t(),l("}")),a&&(p.isNonScopedSlot&&l(", undefined, true"),l(")"))}function Fy(p,T){const{test:l,consequent:x,alternate:t,newline:e}=p,{push:f,indent:i,deindent:r,newline:a}=T;if(l.type===4){const s=!mu(l.content);s&&f("("),Zv(l,T),s&&f(")")}else f("("),ri(l,T),f(")");e&&i(),T.indentLevel++,e||f(" "),f("? "),ri(x,T),T.indentLevel--,e&&a(),e||f(" "),f(": ");const n=t.type===19;n||T.indentLevel++,ri(t,T),n||T.indentLevel--,e&&r(!0)}function Iy(p,T){const{push:l,helper:x,indent:t,deindent:e,newline:f}=T;l(`_cache[${p.index}] || (`),p.isVNode&&(t(),l(`${x(yo)}(-1),`),f()),l(`_cache[${p.index}] = `),ri(p.value,T),p.isVNode&&(l(","),f(),l(`${x(yo)}(1),`),f(),l(`_cache[${p.index}]`),e()),l(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Dy=$v(/^(if|else|else-if)$/,(p,T,l)=>Ny(p,T,l,(x,t,e)=>{const f=l.parent.children;let i=f.indexOf(x),r=0;for(;i-->=0;){const a=f[i];a&&a.type===9&&(r+=a.branches.length)}return()=>{if(e)x.codegenNode=hd(t,r,l);else{const a=By(x.codegenNode);a.alternate=hd(t,r+x.branches.length-1,l)}}}));function Ny(p,T,l,x){if(T.name!=="else"&&(!T.exp||!T.exp.content.trim())){const t=T.exp?T.exp.loc:p.loc;l.onError(Re(28,T.loc)),T.exp=ee("true",!1,t)}if(T.name==="if"){const t=ld(p,T),e={type:9,loc:p.loc,branches:[t]};if(l.replaceNode(e),x)return x(e,t,!0)}else{const t=l.parent.children;let e=t.indexOf(p);for(;e-->=-1;){const f=t[e];if(f&&f.type===3){l.removeNode(f);continue}if(f&&f.type===2&&!f.content.trim().length){l.removeNode(f);continue}if(f&&f.type===9){T.name==="else-if"&&f.branches[f.branches.length-1].condition===void 0&&l.onError(Re(30,p.loc)),l.removeNode();const i=ld(p,T);f.branches.push(i);const r=x&&x(f,i,!1);qo(i,l),r&&r(),l.currentNode=null}else l.onError(Re(30,p.loc));break}}}function ld(p,T){const l=p.tagType===3;return{type:10,loc:p.loc,condition:T.name==="else"?void 0:T.exp,children:l&&!Vi(p,"for")?p.children:[p],userKey:jo(p,"key"),isTemplateIf:l}}function hd(p,T,l){return p.condition?dh(p.condition,ud(p,T,l),Ue(l.helper(ca),['""',"true"])):ud(p,T,l)}function ud(p,T,l){const{helper:x}=l,t=Ne("key",ee(`${T}`,!1,Ii,2)),{children:e}=p,f=e[0];if(e.length!==1||f.type!==1)if(e.length===1&&f.type===11){const r=f.codegenNode;return Po(r,t,l),r}else{let r=64;return ea(l,x(_r),Ui([t]),e,r+"",void 0,void 0,!0,!1,!1,p.loc)}else{const r=f.codegenNode,a=jx(r);return a.type===13&&gu(a,l),Po(a,t,l),r}}function By(p){for(;;)if(p.type===19)if(p.alternate.type===19)p=p.alternate;else return p;else p.type===20&&(p=p.value)}const wy=$v("for",(p,T,l)=>{const{helper:x,removeHelper:t}=l;return Gy(p,T,l,e=>{const f=Ue(x(uu),[e.source]),i=So(p),r=Vi(p,"memo"),a=jo(p,"key"),n=a&&(a.type===6?ee(a.value.content,!0):a.exp),s=a?Ne("key",n):null,u=e.source.type===4&&e.source.constType>0,o=u?64:a?128:256;return e.codegenNode=ea(l,x(_r),void 0,f,o+"",void 0,void 0,!0,!u,!1,p.loc),()=>{let h;const{children:d}=e,v=d.length!==1||d[0].type!==1,c=Co(p)?p:i&&p.children.length===1&&Co(p.children[0])?p.children[0]:null;if(c?(h=c.codegenNode,i&&s&&Po(h,s,l)):v?h=ea(l,x(_r),s?Ui([s]):void 0,p.children,64+"",void 0,void 0,!0,void 0,!1):(h=d[0].codegenNode,i&&s&&Po(h,s,l),h.isBlock!==!u&&(h.isBlock?(t(Os),t(fr(l.inSSR,h.isComponent))):t(ur(l.inSSR,h.isComponent))),h.isBlock=!u,h.isBlock?(x(Os),x(fr(l.inSSR,h.isComponent))):x(ur(l.inSSR,h.isComponent))),r){const m=hr(ph(e.parseResult,[ee("_cached")]));m.body=bx([ji(["const _memo = (",r.exp,")"]),ji(["if (_cached",...n?[" && _cached.key === ",n]:[],` && ${l.helperString(Bv)}(_cached, _memo)) return _cached`]),ji(["const _item = ",h]),ee("_item.memo = _memo"),ee("return _item")]),f.arguments.push(m,ee("_cache"),ee(String(l.cached++)))}else f.arguments.push(hr(ph(e.parseResult),h,!0))}})});function Gy(p,T,l,x){if(!T.exp){l.onError(Re(31,T.loc));return}const t=Qv(T.exp);if(!t){l.onError(Re(32,T.loc));return}const{addIdentifiers:e,removeIdentifiers:f,scopes:i}=l,{source:r,value:a,key:n,index:s}=t,u={type:11,loc:T.loc,source:r,valueAlias:a,keyAlias:n,objectIndexAlias:s,parseResult:t,children:So(p)?p.children:[p]};l.replaceNode(u),i.vFor++;const o=x&&x(u);return()=>{i.vFor--,o&&o()}}const Vy=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,fd=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Uy=/^\(|\)$/g;function Qv(p,T){const l=p.loc,x=p.content,t=x.match(Vy);if(!t)return;const[,e,f]=t,i={source:_a(l,f.trim(),x.indexOf(f,e.length)),value:void 0,key:void 0,index:void 0};let r=e.trim().replace(Uy,"").trim();const a=e.indexOf(r),n=r.match(fd);if(n){r=r.replace(fd,"").trim();const s=n[1].trim();let u;if(s&&(u=x.indexOf(s,a+r.length),i.key=_a(l,s,u)),n[2]){const o=n[2].trim();o&&(i.index=_a(l,o,x.indexOf(o,i.key?u+s.length:a+r.length)))}}return r&&(i.value=_a(l,r,a)),i}function _a(p,T,l){return ee(T,!1,Vv(p,l,T.length))}function ph({value:p,key:T,index:l},x=[]){return Yy([p,T,l,...x])}function Yy(p){let T=p.length;for(;T--&&!p[T];);return p.slice(0,T+1).map((l,x)=>l||ee("_".repeat(x+1),!1))}const dd=ee("undefined",!1),zy=(p,T)=>{if(p.type===1&&(p.tagType===1||p.tagType===3)){const l=Vi(p,"slot");if(l)return l.exp,T.scopes.vSlot++,()=>{T.scopes.vSlot--}}},by=(p,T,l)=>hr(p,T,!1,!0,T.length?T[0].loc:l);function Wy(p,T,l=by){T.helper(vu);const{children:x,loc:t}=p,e=[],f=[];let i=T.scopes.vSlot>0||T.scopes.vFor>0;const r=Vi(p,"slot",!0);if(r){const{arg:v,exp:c}=r;v&&!pi(v)&&(i=!0),e.push(Ne(v||ee("default",!0),l(c,x,t)))}let a=!1,n=!1;const s=[],u=new Set;let o=0;for(let v=0;v<x.length;v++){const c=x[v];let m;if(!So(c)||!(m=Vi(c,"slot",!0))){c.type!==3&&s.push(c);continue}if(r){T.onError(Re(37,m.loc));break}a=!0;const{children:g,loc:y}=c,{arg:E=ee("default",!0),exp:S,loc:C}=m;let P;pi(E)?P=E?E.content:"default":i=!0;const A=l(S,g,y);let R,M,L;if(R=Vi(c,"if"))i=!0,f.push(dh(R.exp,to(E,A,o++),dd));else if(M=Vi(c,/^else(-if)?$/,!0)){let F=v,I;for(;F--&&(I=x[F],I.type===3););if(I&&So(I)&&Vi(I,"if")){x.splice(v,1),v--;let N=f[f.length-1];for(;N.alternate.type===19;)N=N.alternate;N.alternate=M.exp?dh(M.exp,to(E,A,o++),dd):to(E,A,o++)}else T.onError(Re(30,M.loc))}else if(L=Vi(c,"for")){i=!0;const F=L.parseResult||Qv(L.exp);F?f.push(Ue(T.helper(uu),[F.source,hr(ph(F),to(E,A),!0)])):T.onError(Re(32,L.loc))}else{if(P){if(u.has(P)){T.onError(Re(38,C));continue}u.add(P),P==="default"&&(n=!0)}e.push(Ne(E,A))}}if(!r){const v=(c,m)=>{const g=l(c,m,t);return T.compatConfig&&(g.isNonScopedSlot=!0),Ne("default",g)};a?s.length&&s.some(c=>jv(c))&&(n?T.onError(Re(39,s[0].loc)):e.push(v(void 0,s))):e.push(v(void 0,x))}const h=i?2:lo(p.children)?3:1;let d=Ui(e.concat(Ne("_",ee(h+"",!1))),t);return f.length&&(d=Ue(T.helper(Nv),[d,pa(f)])),{slots:d,hasDynamicSlots:i}}function to(p,T,l){const x=[Ne("name",p),Ne("fn",T)];return l!=null&&x.push(Ne("key",ee(String(l),!0))),Ui(x)}function lo(p){for(let T=0;T<p.length;T++){const l=p[T];switch(l.type){case 1:if(l.tagType===2||lo(l.children))return!0;break;case 9:if(lo(l.branches))return!0;break;case 10:case 11:if(lo(l.children))return!0;break}}return!1}function jv(p){return p.type!==2&&p.type!==12?!0:p.type===2?!!p.content.trim():jv(p.content)}const kv=new WeakMap,Xy=(p,T)=>function(){if(p=T.currentNode,!(p.type===1&&(p.tagType===0||p.tagType===1)))return;const{tag:x,props:t}=p,e=p.tagType===1;let f=e?Hy(p,T):`"${x}"`;const i=Ee(f)&&f.callee===go;let r,a,n,s=0,u,o,h,d=i||f===br||f===iu||!e&&(x==="svg"||x==="foreignObject");if(t.length>0){const v=qv(p,T,void 0,e,i);r=v.props,s=v.patchFlag,o=v.dynamicPropNames;const c=v.directives;h=c&&c.length?pa(c.map(m=>Ky(m,T))):void 0,v.shouldUseBlock&&(d=!0)}if(p.children.length>0)if(f===mo&&(d=!0,s|=1024),e&&f!==br&&f!==mo){const{slots:c,hasDynamicSlots:m}=Wy(p,T);a=c,m&&(s|=1024)}else if(p.children.length===1&&f!==br){const c=p.children[0],m=c.type,g=m===5||m===8;g&&Yi(c,T)===0&&(s|=1),g||m===2?a=c:a=p.children}else a=p.children;s!==0&&(n=String(s),o&&o.length&&(u=Zy(o))),p.codegenNode=ea(T,f,r,a,n,u,h,!!d,!1,e,p.loc)};function Hy(p,T,l=!1){let{tag:x}=p;const t=mh(x),e=jo(p,"is");if(e)if(t||Ps("COMPILER_IS_ON_ELEMENT",T)){const r=e.type===6?e.value&&ee(e.value.content,!0):e.exp;if(r)return Ue(T.helper(go),[r])}else e.type===6&&e.value.content.startsWith("vue:")&&(x=e.value.content.slice(4));const f=!t&&Vi(p,"is");if(f&&f.exp)return Ue(T.helper(go),[f.exp]);const i=wv(x)||T.isBuiltInComponent(x);return i?(l||T.helper(i),i):(T.helper(au),T.components.add(x),ia(x,"component"))}function qv(p,T,l=p.props,x,t,e=!1){const{tag:f,loc:i,children:r}=p;let a=[];const n=[],s=[],u=r.length>0;let o=!1,h=0,d=!1,v=!1,c=!1,m=!1,g=!1,y=!1;const E=[],S=A=>{a.length&&(n.push(Ui(cd(a),i)),a=[]),A&&n.push(A)},C=({key:A,value:R})=>{if(pi(A)){const M=A.content,L=Fs(M);if(L&&(!x||t)&&M.toLowerCase()!=="onclick"&&M!=="onUpdate:modelValue"&&!ms(M)&&(m=!0),L&&ms(M)&&(y=!0),R.type===20||(R.type===4||R.type===8)&&Yi(R,T)>0)return;M==="ref"?d=!0:M==="class"?v=!0:M==="style"?c=!0:M!=="key"&&!E.includes(M)&&E.push(M),x&&(M==="class"||M==="style")&&!E.includes(M)&&E.push(M)}else g=!0};for(let A=0;A<l.length;A++){const R=l[A];if(R.type===6){const{loc:M,name:L,value:F}=R;let I=!0;if(L==="ref"&&(d=!0,T.scopes.vFor>0&&a.push(Ne(ee("ref_for",!0),ee("true")))),L==="is"&&(mh(f)||F&&F.content.startsWith("vue:")||Ps("COMPILER_IS_ON_ELEMENT",T)))continue;a.push(Ne(ee(L,!0,Vv(M,0,L.length)),ee(F?F.content:"",I,F?F.loc:M)))}else{const{name:M,arg:L,exp:F,loc:I}=R,N=M==="bind",z=M==="on";if(M==="slot"){x||T.onError(Re(40,I));continue}if(M==="once"||M==="memo"||M==="is"||N&&vs(L,"is")&&(mh(f)||Ps("COMPILER_IS_ON_ELEMENT",T))||z&&e)continue;if((N&&vs(L,"key")||z&&u&&vs(L,"vue:before-update"))&&(o=!0),N&&vs(L,"ref")&&T.scopes.vFor>0&&a.push(Ne(ee("ref_for",!0),ee("true"))),!L&&(N||z)){if(g=!0,F)if(N){if(S(),Ps("COMPILER_V_BIND_OBJECT_ORDER",T)){n.unshift(F);continue}n.push(F)}else S({type:14,loc:I,callee:T.helper(cu),arguments:x?[F]:[F,"true"]});else T.onError(Re(N?34:35,I));continue}const W=T.directiveTransforms[M];if(W){const{props:$,needRuntime:Z}=W(R,p,T);!e&&$.forEach(C),z&&L&&!pi(L)?S(Ui($,i)):a.push(...$),Z&&(s.push(R),$n(Z)&&kv.set(R,Z))}else Um(M)||(s.push(R),u&&(o=!0))}}let P;if(n.length?(S(),n.length>1?P=Ue(T.helper(xo),n,i):P=n[0]):a.length&&(P=Ui(cd(a),i)),g?h|=16:(v&&!x&&(h|=2),c&&!x&&(h|=4),E.length&&(h|=8),m&&(h|=32)),!o&&(h===0||h===32)&&(d||y||s.length>0)&&(h|=512),!T.inSSR&&P)switch(P.type){case 15:let A=-1,R=-1,M=!1;for(let I=0;I<P.properties.length;I++){const N=P.properties[I].key;pi(N)?N.content==="class"?A=I:N.content==="style"&&(R=I):N.isHandlerKey||(M=!0)}const L=P.properties[A],F=P.properties[R];M?P=Ue(T.helper(ta),[P]):(L&&!pi(L.value)&&(L.value=Ue(T.helper(fu),[L.value])),F&&(c||F.value.type===4&&F.value.content.trim()[0]==="["||F.value.type===17)&&(F.value=Ue(T.helper(du),[F.value])));break;case 14:break;default:P=Ue(T.helper(ta),[Ue(T.helper(va),[P])]);break}return{props:P,directives:s,patchFlag:h,dynamicPropNames:E,shouldUseBlock:o}}function cd(p){const T=new Map,l=[];for(let x=0;x<p.length;x++){const t=p[x];if(t.key.type===8||!t.key.isStatic){l.push(t);continue}const e=t.key.content,f=T.get(e);f?(e==="style"||e==="class"||Fs(e))&&$y(f,t):(T.set(e,t),l.push(t))}return l}function $y(p,T){p.value.type===17?p.value.elements.push(T.value):p.value=pa([p.value,T.value],p.loc)}function Ky(p,T){const l=[],x=kv.get(p);x?l.push(T.helperString(x)):(T.helper(ou),T.directives.add(p.name),l.push(ia(p.name,"directive")));const{loc:t}=p;if(p.exp&&l.push(p.exp),p.arg&&(p.exp||l.push("void 0"),l.push(p.arg)),Object.keys(p.modifiers).length){p.arg||(p.exp||l.push("void 0"),l.push("void 0"));const e=ee("true",!1,t);l.push(Ui(p.modifiers.map(f=>Ne(f,e)),t))}return pa(l,p.loc)}function Zy(p){let T="[";for(let l=0,x=p.length;l<x;l++)T+=JSON.stringify(p[l]),l<x-1&&(T+=", ");return T+"]"}function mh(p){return p==="component"||p==="Component"}const Jy=p=>{const T=Object.create(null);return l=>T[l]||(T[l]=p(l))},Qy=/-(\w)/g,vd=Jy(p=>p.replace(Qy,(T,l)=>l?l.toUpperCase():"")),jy=(p,T)=>{if(Co(p)){const{children:l,loc:x}=p,{slotName:t,slotProps:e}=ky(p,T),f=[T.prefixIdentifiers?"_ctx.$slots":"$slots",t,"{}","undefined","true"];let i=2;e&&(f[2]=e,i=3),l.length&&(f[3]=hr([],l,!1,!1,x),i=4),T.scopeId&&!T.slotted&&(i=5),f.splice(i),p.codegenNode=Ue(T.helper(Dv),f,x)}};function ky(p,T){let l='"default"',x;const t=[];for(let e=0;e<p.props.length;e++){const f=p.props[e];f.type===6?f.value&&(f.name==="name"?l=JSON.stringify(f.value.content):(f.name=vd(f.name),t.push(f))):f.name==="bind"&&vs(f.arg,"name")?f.exp&&(l=f.exp):(f.name==="bind"&&f.arg&&pi(f.arg)&&(f.arg.content=vd(f.arg.content)),t.push(f))}if(t.length>0){const{props:e,directives:f}=qv(p,T,t,!1,!1);x=e,f.length&&T.onError(Re(36,f[0].loc))}return{slotName:l,slotProps:x}}const qy=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,_v=(p,T,l,x)=>{const{loc:t,modifiers:e,arg:f}=p;!p.exp&&!e.length&&l.onError(Re(35,t));let i;if(f.type===4)if(f.isStatic){let s=f.content;s.startsWith("vue:")&&(s=`vnode-${s.slice(4)}`);const u=T.tagType!==0||s.startsWith("vnode")||!/[A-Z]/.test(s)?qs(qe(s)):`on:${s}`;i=ee(u,!0,f.loc)}else i=ji([`${l.helperString(fh)}(`,f,")"]);else i=f,i.children.unshift(`${l.helperString(fh)}(`),i.children.push(")");let r=p.exp;r&&!r.content.trim()&&(r=void 0);let a=l.cacheHandlers&&!r&&!l.inVOnce;if(r){const s=Gv(r.content),u=!(s||qy.test(r.content)),o=r.content.includes(";");(u||a&&s)&&(r=ji([`${u?"$event":"(...args)"} => ${o?"{":"("}`,r,o?"}":")"]))}let n={props:[Ne(i,r||ee("() => {}",!1,t))]};return x&&(n=x(n)),a&&(n.props[0].value=l.cache(n.props[0].value)),n.props.forEach(s=>s.key.isHandlerKey=!0),n},_y=(p,T,l)=>{const{exp:x,modifiers:t,loc:e}=p,f=p.arg;return f.type!==4?(f.children.unshift("("),f.children.push(') || ""')):f.isStatic||(f.content=`${f.content} || ""`),t.includes("camel")&&(f.type===4?f.isStatic?f.content=qe(f.content):f.content=`${l.helperString(uh)}(${f.content})`:(f.children.unshift(`${l.helperString(uh)}(`),f.children.push(")"))),l.inSSR||(t.includes("prop")&&pd(f,"."),t.includes("attr")&&pd(f,"^")),!x||x.type===4&&!x.content.trim()?(l.onError(Re(34,e)),{props:[Ne(f,ee("",!0,e))]}):{props:[Ne(f,x)]}},pd=(p,T)=>{p.type===4?p.isStatic?p.content=T+p.content:p.content=`\`${T}\${${p.content}}\``:(p.children.unshift(`'${T}' + (`),p.children.push(")"))},t1=(p,T)=>{if(p.type===0||p.type===1||p.type===11||p.type===10)return()=>{const l=p.children;let x,t=!1;for(let e=0;e<l.length;e++){const f=l[e];if(Vl(f)){t=!0;for(let i=e+1;i<l.length;i++){const r=l[i];if(Vl(r))x||(x=l[e]=ji([f],f.loc)),x.children.push(" + ",r),l.splice(i,1),i--;else{x=void 0;break}}}}if(!(!t||l.length===1&&(p.type===0||p.type===1&&p.tagType===0&&!p.props.find(e=>e.type===7&&!T.directiveTransforms[e.name])&&p.tag!=="template")))for(let e=0;e<l.length;e++){const f=l[e];if(Vl(f)||f.type===8){const i=[];(f.type!==2||f.content!==" ")&&i.push(f),!T.ssr&&Yi(f,T)===0&&i.push(1+""),l[e]={type:12,content:f,loc:f.loc,codegenNode:Ue(T.helper(ru),i)}}}}},md=new WeakSet,e1=(p,T)=>{if(p.type===1&&Vi(p,"once",!0))return md.has(p)||T.inVOnce?void 0:(md.add(p),T.inVOnce=!0,T.helper(yo),()=>{T.inVOnce=!1;const l=T.currentNode;l.codegenNode&&(l.codegenNode=T.cache(l.codegenNode,!0))})},tp=(p,T,l)=>{const{exp:x,arg:t}=p;if(!x)return l.onError(Re(41,p.loc)),eo();const e=x.loc.source,f=x.type===4?x.content:e,i=l.bindingMetadata[e];if(i==="props"||i==="props-aliased")return l.onError(Re(44,x.loc)),eo();const r=!1;if(!f.trim()||!Gv(f)&&!r)return l.onError(Re(42,x.loc)),eo();const a=t||ee("modelValue",!0),n=t?pi(t)?`onUpdate:${t.content}`:ji(['"onUpdate:" + ',t]):"onUpdate:modelValue";let s;const u=l.isTS?"($event: any)":"$event";s=ji([`${u} => ((`,x,") = $event)"]);const o=[Ne(a,p.exp),Ne(n,s)];if(p.modifiers.length&&T.tagType===1){const h=p.modifiers.map(v=>(mu(v)?v:JSON.stringify(v))+": true").join(", "),d=t?pi(t)?`${t.content}Modifiers`:ji([t,' + "Modifiers"']):"modelModifiers";o.push(Ne(d,ee(`{ ${h} }`,!1,p.loc,2)))}return eo(o)};function eo(p=[]){return{props:p}}const i1=/[\w).+\-_$\]]/,n1=(p,T)=>{Ps("COMPILER_FILTER",T)&&(p.type===5&&Ao(p.content,T),p.type===1&&p.props.forEach(l=>{l.type===7&&l.name!=="for"&&l.exp&&Ao(l.exp,T)}))};function Ao(p,T){if(p.type===4)gd(p,T);else for(let l=0;l<p.children.length;l++){const x=p.children[l];typeof x=="object"&&(x.type===4?gd(x,T):x.type===8?Ao(p,T):x.type===5&&Ao(x.content,T))}}function gd(p,T){const l=p.content;let x=!1,t=!1,e=!1,f=!1,i=0,r=0,a=0,n=0,s,u,o,h,d=[];for(o=0;o<l.length;o++)if(u=s,s=l.charCodeAt(o),x)s===39&&u!==92&&(x=!1);else if(t)s===34&&u!==92&&(t=!1);else if(e)s===96&&u!==92&&(e=!1);else if(f)s===47&&u!==92&&(f=!1);else if(s===124&&l.charCodeAt(o+1)!==124&&l.charCodeAt(o-1)!==124&&!i&&!r&&!a)h===void 0?(n=o+1,h=l.slice(0,o).trim()):v();else{switch(s){case 34:t=!0;break;case 39:x=!0;break;case 96:e=!0;break;case 40:a++;break;case 41:a--;break;case 91:r++;break;case 93:r--;break;case 123:i++;break;case 125:i--;break}if(s===47){let c=o-1,m;for(;c>=0&&(m=l.charAt(c),m===" ");c--);(!m||!i1.test(m))&&(f=!0)}}h===void 0?h=l.slice(0,o).trim():n!==0&&v();function v(){d.push(l.slice(n,o).trim()),n=o+1}if(d.length){for(o=0;o<d.length;o++)h=s1(h,d[o],T);p.content=h}}function s1(p,T,l){l.helper(lu);const x=T.indexOf("(");if(x<0)return l.filters.add(T),`${ia(T,"filter")}(${p})`;{const t=T.slice(0,x),e=T.slice(x+1);return l.filters.add(t),`${ia(t,"filter")}(${p}${e!==")"?","+e:e}`}}const xd=new WeakSet,r1=(p,T)=>{if(p.type===1){const l=Vi(p,"memo");return!l||xd.has(p)?void 0:(xd.add(p),()=>{const x=p.codegenNode||T.currentNode.codegenNode;x&&x.type===13&&(p.tagType!==1&&gu(x,T),p.codegenNode=Ue(T.helper(pu),[l.exp,hr(void 0,x),"_cache",String(T.cached++)]))})}};function a1(p){return[[e1,Dy,r1,wy,n1,jy,Xy,zy,t1],{on:_v,bind:_y,model:tp}]}function o1(p,T={}){const l=T.onError||eu,x=T.mode==="module";T.prefixIdentifiers===!0?l(Re(47)):x&&l(Re(48));const t=!1;T.cacheHandlers&&l(Re(49)),T.scopeId&&!x&&l(Re(50));const e=_t(p)?_x(p,T):p,[f,i]=a1();return cy(e,de({},T,{prefixIdentifiers:t,nodeTransforms:[...f,...T.nodeTransforms||[]],directiveTransforms:de({},i,T.directiveTransforms||{})})),gy(e,de({},T,{prefixIdentifiers:t}))}const l1=()=>({props:[]}),ep=Symbol(""),ip=Symbol(""),np=Symbol(""),sp=Symbol(""),gh=Symbol(""),rp=Symbol(""),ap=Symbol(""),op=Symbol(""),lp=Symbol(""),hp=Symbol("");Ux({[ep]:"vModelRadio",[ip]:"vModelCheckbox",[np]:"vModelText",[sp]:"vModelSelect",[gh]:"vModelDynamic",[rp]:"withModifiers",[ap]:"withKeys",[op]:"vShow",[lp]:"Transition",[hp]:"TransitionGroup"});let Ws;function h1(p,T=!1){return Ws||(Ws=document.createElement("div")),T?(Ws.innerHTML=`<div foo="${p.replace(/"/g,"&quot;")}">`,Ws.children[0].getAttribute("foo")):(Ws.innerHTML=p,Ws.textContent)}const u1=mi("style,iframe,script,noscript",!0),f1={isVoidTag:Im,isNativeTag:p=>Om(p)||Fm(p),isPreTag:p=>p==="pre",decodeEntities:h1,isBuiltInComponent:p=>{if(Js(p,"Transition"))return lp;if(Js(p,"TransitionGroup"))return hp},getNamespace(p,T){let l=T?T.ns:0;if(T&&l===2)if(T.tag==="annotation-xml"){if(p==="svg")return 1;T.props.some(x=>x.type===6&&x.name==="encoding"&&x.value!=null&&(x.value.content==="text/html"||x.value.content==="application/xhtml+xml"))&&(l=0)}else/^m(?:[ions]|text)$/.test(T.tag)&&p!=="mglyph"&&p!=="malignmark"&&(l=0);else T&&l===1&&(T.tag==="foreignObject"||T.tag==="desc"||T.tag==="title")&&(l=0);if(l===0){if(p==="svg")return 1;if(p==="math")return 2}return l},getTextMode({tag:p,ns:T}){if(T===0){if(p==="textarea"||p==="title")return 1;if(u1(p))return 2}return 0}},d1=p=>{p.type===1&&p.props.forEach((T,l)=>{T.type===6&&T.name==="style"&&T.value&&(p.props[l]={type:7,name:"bind",arg:ee("style",!0,T.loc),exp:c1(T.value.content,T.loc),modifiers:[],loc:T.loc})})},c1=(p,T)=>{const l=Hd(p);return ee(JSON.stringify(l),!1,T,3)};function yn(p,T){return Re(p,T)}const v1=(p,T,l)=>{const{exp:x,loc:t}=p;return x||l.onError(yn(51,t)),T.children.length&&(l.onError(yn(52,t)),T.children.length=0),{props:[Ne(ee("innerHTML",!0,t),x||ee("",!0))]}},p1=(p,T,l)=>{const{exp:x,loc:t}=p;return x||l.onError(yn(53,t)),T.children.length&&(l.onError(yn(54,t)),T.children.length=0),{props:[Ne(ee("textContent",!0),x?Yi(x,l)>0?x:Ue(l.helperString(Qo),[x],t):ee("",!0))]}},m1=(p,T,l)=>{const x=tp(p,T,l);if(!x.props.length||T.tagType===1)return x;p.arg&&l.onError(yn(56,p.arg.loc));const{tag:t}=T,e=l.isCustomElement(t);if(t==="input"||t==="textarea"||t==="select"||e){let f=np,i=!1;if(t==="input"||e){const r=jo(T,"type");if(r){if(r.type===7)f=gh;else if(r.value)switch(r.value.content){case"radio":f=ep;break;case"checkbox":f=ip;break;case"file":i=!0,l.onError(yn(57,p.loc));break}}else Zx(T)&&(f=gh)}else t==="select"&&(f=sp);i||(x.needRuntime=l.helper(f))}else l.onError(yn(55,p.loc));return x.props=x.props.filter(f=>!(f.key.type===4&&f.key.content==="modelValue")),x},g1=mi("passive,once,capture"),x1=mi("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),y1=mi("left,right"),up=mi("onkeyup,onkeydown,onkeypress",!0),T1=(p,T,l,x)=>{const t=[],e=[],f=[];for(let i=0;i<T.length;i++){const r=T[i];r==="native"&&na("COMPILER_V_ON_NATIVE",l)||g1(r)?f.push(r):y1(r)?pi(p)?up(p.content)?t.push(r):e.push(r):(t.push(r),e.push(r)):x1(r)?e.push(r):t.push(r)}return{keyModifiers:t,nonKeyModifiers:e,eventOptionModifiers:f}},yd=(p,T)=>pi(p)&&p.content.toLowerCase()==="onclick"?ee(T,!0):p.type!==4?ji(["(",p,`) === "onClick" ? "${T}" : (`,p,")"]):p,E1=(p,T,l)=>_v(p,T,l,x=>{const{modifiers:t}=p;if(!t.length)return x;let{key:e,value:f}=x.props[0];const{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:a}=T1(e,t,l,p.loc);if(r.includes("right")&&(e=yd(e,"onContextmenu")),r.includes("middle")&&(e=yd(e,"onMouseup")),r.length&&(f=Ue(l.helper(rp),[f,JSON.stringify(r)])),i.length&&(!pi(e)||up(e.content))&&(f=Ue(l.helper(ap),[f,JSON.stringify(i)])),a.length){const n=a.map(Ds).join("");e=pi(e)?ee(`${e.content}${n}`,!0):ji(["(",e,`) + "${n}"`])}return{props:[Ne(e,f)]}}),S1=(p,T,l)=>{const{exp:x,loc:t}=p;return x||l.onError(yn(59,t)),{props:[],needRuntime:l.helper(op)}},C1=(p,T)=>{p.type===1&&p.tagType===0&&(p.tag==="script"||p.tag==="style")&&(T.onError(yn(61,p.loc)),T.removeNode())},P1=[d1],A1={cloak:l1,html:v1,text:p1,model:m1,on:E1,show:S1};function M1(p,T={}){return o1(p,de({},f1,T,{nodeTransforms:[C1,...P1,...T.nodeTransforms||[]],directiveTransforms:de({},A1,T.directiveTransforms||{}),transformHoist:null}))}const Td=Object.create(null);function R1(p,T){if(!_t(p))if(p.nodeType)p=p.innerHTML;else return oi;const l=p,x=Td[l];if(x)return x;if(p[0]==="#"){const i=document.querySelector(p);p=i?i.innerHTML:""}const t=de({hoistStatic:!0,onError:void 0,onWarn:oi},T);!t.isCustomElement&&typeof customElements<"u"&&(t.isCustomElement=i=>!!customElements.get(i));const{code:e}=M1(p,t),f=new Function("Vue",e)(Dx);return f._rc=!0,Td[l]=f}ev(R1);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof window<"u";function L1(p){return p.__esModule||p[Symbol.toStringTag]==="Module"}const me=Object.assign;function Yl(p,T){const l={};for(const x in T){const t=T[x];l[x]=ki(t)?t.map(p):p(t)}return l}const Xr=()=>{},ki=Array.isArray,O1=/\/$/,F1=p=>p.replace(O1,"");function zl(p,T,l="/"){let x,t={},e="",f="";const i=T.indexOf("#");let r=T.indexOf("?");return i<r&&i>=0&&(r=-1),r>-1&&(x=T.slice(0,r),e=T.slice(r+1,i>-1?i:T.length),t=p(e)),i>-1&&(x=x||T.slice(0,i),f=T.slice(i,T.length)),x=B1(x??T,l),{fullPath:x+(e&&"?")+e+f,path:x,query:t,hash:f}}function I1(p,T){const l=T.query?p(T.query):"";return T.path+(l&&"?")+l+(T.hash||"")}function Ed(p,T){return!T||!p.toLowerCase().startsWith(T.toLowerCase())?p:p.slice(T.length)||"/"}function D1(p,T,l){const x=T.matched.length-1,t=l.matched.length-1;return x>-1&&x===t&&dr(T.matched[x],l.matched[t])&&fp(T.params,l.params)&&p(T.query)===p(l.query)&&T.hash===l.hash}function dr(p,T){return(p.aliasOf||p)===(T.aliasOf||T)}function fp(p,T){if(Object.keys(p).length!==Object.keys(T).length)return!1;for(const l in p)if(!N1(p[l],T[l]))return!1;return!0}function N1(p,T){return ki(p)?Sd(p,T):ki(T)?Sd(T,p):p===T}function Sd(p,T){return ki(T)?p.length===T.length&&p.every((l,x)=>l===T[x]):p.length===1&&p[0]===T}function B1(p,T){if(p.startsWith("/"))return p;if(!p)return T;const l=T.split("/"),x=p.split("/");let t=l.length-1,e,f;for(e=0;e<x.length;e++)if(f=x[e],f!==".")if(f==="..")t>1&&t--;else break;return l.slice(0,t).join("/")+"/"+x.slice(e-(e===x.length?1:0)).join("/")}var ra;(function(p){p.pop="pop",p.push="push"})(ra||(ra={}));var Hr;(function(p){p.back="back",p.forward="forward",p.unknown=""})(Hr||(Hr={}));function w1(p){if(!p)if($s){const T=document.querySelector("base");p=T&&T.getAttribute("href")||"/",p=p.replace(/^\w+:\/\/[^\/]+/,"")}else p="/";return p[0]!=="/"&&p[0]!=="#"&&(p="/"+p),F1(p)}const G1=/^[^#]+#/;function V1(p,T){return p.replace(G1,"#")+T}function U1(p,T){const l=document.documentElement.getBoundingClientRect(),x=p.getBoundingClientRect();return{behavior:T.behavior,left:x.left-l.left-(T.left||0),top:x.top-l.top-(T.top||0)}}const tl=()=>({left:window.pageXOffset,top:window.pageYOffset});function Y1(p){let T;if("el"in p){const l=p.el,x=typeof l=="string"&&l.startsWith("#"),t=typeof l=="string"?x?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!t)return;T=U1(t,p)}else T=p;"scrollBehavior"in document.documentElement.style?window.scrollTo(T):window.scrollTo(T.left!=null?T.left:window.pageXOffset,T.top!=null?T.top:window.pageYOffset)}function Cd(p,T){return(history.state?history.state.position-T:-1)+p}const xh=new Map;function z1(p,T){xh.set(p,T)}function b1(p){const T=xh.get(p);return xh.delete(p),T}let W1=()=>location.protocol+"//"+location.host;function dp(p,T){const{pathname:l,search:x,hash:t}=T,e=p.indexOf("#");if(e>-1){let i=t.includes(p.slice(e))?p.slice(e).length:1,r=t.slice(i);return r[0]!=="/"&&(r="/"+r),Ed(r,"")}return Ed(l,p)+x+t}function X1(p,T,l,x){let t=[],e=[],f=null;const i=({state:u})=>{const o=dp(p,location),h=l.value,d=T.value;let v=0;if(u){if(l.value=o,T.value=u,f&&f===h){f=null;return}v=d?u.position-d.position:0}else x(o);t.forEach(c=>{c(l.value,h,{delta:v,type:ra.pop,direction:v?v>0?Hr.forward:Hr.back:Hr.unknown})})};function r(){f=l.value}function a(u){t.push(u);const o=()=>{const h=t.indexOf(u);h>-1&&t.splice(h,1)};return e.push(o),o}function n(){const{history:u}=window;u.state&&u.replaceState(me({},u.state,{scroll:tl()}),"")}function s(){for(const u of e)u();e=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",n)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",n),{pauseListeners:r,listen:a,destroy:s}}function Pd(p,T,l,x=!1,t=!1){return{back:p,current:T,forward:l,replaced:x,position:window.history.length,scroll:t?tl():null}}function H1(p){const{history:T,location:l}=window,x={value:dp(p,l)},t={value:T.state};t.value||e(x.value,{back:null,current:x.value,forward:null,position:T.length-1,replaced:!0,scroll:null},!0);function e(r,a,n){const s=p.indexOf("#"),u=s>-1?(l.host&&document.querySelector("base")?p:p.slice(s))+r:W1()+p+r;try{T[n?"replaceState":"pushState"](a,"",u),t.value=a}catch(o){console.error(o),l[n?"replace":"assign"](u)}}function f(r,a){const n=me({},T.state,Pd(t.value.back,r,t.value.forward,!0),a,{position:t.value.position});e(r,n,!0),x.value=r}function i(r,a){const n=me({},t.value,T.state,{forward:r,scroll:tl()});e(n.current,n,!0);const s=me({},Pd(x.value,r,null),{position:n.position+1},a);e(r,s,!1),x.value=r}return{location:x,state:t,push:i,replace:f}}function $1(p){p=w1(p);const T=H1(p),l=X1(p,T.state,T.location,T.replace);function x(e,f=!0){f||l.pauseListeners(),history.go(e)}const t=me({location:"",base:p,go:x,createHref:V1.bind(null,p)},T,l);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>T.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>T.state.value}),t}function K1(p){return typeof p=="string"||p&&typeof p=="object"}function cp(p){return typeof p=="string"||typeof p=="symbol"}const wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vp=Symbol("");var Ad;(function(p){p[p.aborted=4]="aborted",p[p.cancelled=8]="cancelled",p[p.duplicated=16]="duplicated"})(Ad||(Ad={}));function cr(p,T){return me(new Error,{type:p,[vp]:!0},T)}function fn(p,T){return p instanceof Error&&vp in p&&(T==null||!!(p.type&T))}const Md="[^/]+?",Z1={sensitive:!1,strict:!1,start:!0,end:!0},J1=/[.+*?^${}()[\]/\\]/g;function Q1(p,T){const l=me({},Z1,T),x=[];let t=l.start?"^":"";const e=[];for(const a of p){const n=a.length?[]:[90];l.strict&&!a.length&&(t+="/");for(let s=0;s<a.length;s++){const u=a[s];let o=40+(l.sensitive?.25:0);if(u.type===0)s||(t+="/"),t+=u.value.replace(J1,"\\$&"),o+=40;else if(u.type===1){const{value:h,repeatable:d,optional:v,regexp:c}=u;e.push({name:h,repeatable:d,optional:v});const m=c||Md;if(m!==Md){o+=10;try{new RegExp(`(${m})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${h}" (${m}): `+y.message)}}let g=d?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;s||(g=v&&a.length<2?`(?:/${g})`:"/"+g),v&&(g+="?"),t+=g,o+=20,v&&(o+=-8),d&&(o+=-20),m===".*"&&(o+=-50)}n.push(o)}x.push(n)}if(l.strict&&l.end){const a=x.length-1;x[a][x[a].length-1]+=.7000000000000001}l.strict||(t+="/?"),l.end?t+="$":l.strict&&(t+="(?:/|$)");const f=new RegExp(t,l.sensitive?"":"i");function i(a){const n=a.match(f),s={};if(!n)return null;for(let u=1;u<n.length;u++){const o=n[u]||"",h=e[u-1];s[h.name]=o&&h.repeatable?o.split("/"):o}return s}function r(a){let n="",s=!1;for(const u of p){(!s||!n.endsWith("/"))&&(n+="/"),s=!1;for(const o of u)if(o.type===0)n+=o.value;else if(o.type===1){const{value:h,repeatable:d,optional:v}=o,c=h in a?a[h]:"";if(ki(c)&&!d)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const m=ki(c)?c.join("/"):c;if(!m)if(v)u.length<2&&(n.endsWith("/")?n=n.slice(0,-1):s=!0);else throw new Error(`Missing required param "${h}"`);n+=m}}return n||"/"}return{re:f,score:x,keys:e,parse:i,stringify:r}}function j1(p,T){let l=0;for(;l<p.length&&l<T.length;){const x=T[l]-p[l];if(x)return x;l++}return p.length<T.length?p.length===1&&p[0]===40+40?-1:1:p.length>T.length?T.length===1&&T[0]===40+40?1:-1:0}function k1(p,T){let l=0;const x=p.score,t=T.score;for(;l<x.length&&l<t.length;){const e=j1(x[l],t[l]);if(e)return e;l++}if(Math.abs(t.length-x.length)===1){if(Rd(x))return 1;if(Rd(t))return-1}return t.length-x.length}function Rd(p){const T=p[p.length-1];return p.length>0&&T[T.length-1]<0}const q1={type:0,value:""},_1=/[a-zA-Z0-9_]/;function tT(p){if(!p)return[[]];if(p==="/")return[[q1]];if(!p.startsWith("/"))throw new Error(`Invalid path "${p}"`);function T(o){throw new Error(`ERR (${l})/"${a}": ${o}`)}let l=0,x=l;const t=[];let e;function f(){e&&t.push(e),e=[]}let i=0,r,a="",n="";function s(){a&&(l===0?e.push({type:0,value:a}):l===1||l===2||l===3?(e.length>1&&(r==="*"||r==="+")&&T(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),e.push({type:1,value:a,regexp:n,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):T("Invalid state to consume buffer"),a="")}function u(){a+=r}for(;i<p.length;){if(r=p[i++],r==="\\"&&l!==2){x=l,l=4;continue}switch(l){case 0:r==="/"?(a&&s(),f()):r===":"?(s(),l=1):u();break;case 4:u(),l=x;break;case 1:r==="("?l=2:_1.test(r)?u():(s(),l=0,r!=="*"&&r!=="?"&&r!=="+"&&i--);break;case 2:r===")"?n[n.length-1]=="\\"?n=n.slice(0,-1)+r:l=3:n+=r;break;case 3:s(),l=0,r!=="*"&&r!=="?"&&r!=="+"&&i--,n="";break;default:T("Unknown state");break}}return l===2&&T(`Unfinished custom RegExp for param "${a}"`),s(),f(),t}function eT(p,T,l){const x=Q1(tT(p.path),l),t=me(x,{record:p,parent:T,children:[],alias:[]});return T&&!t.record.aliasOf==!T.record.aliasOf&&T.children.push(t),t}function iT(p,T){const l=[],x=new Map;T=Fd({strict:!1,end:!0,sensitive:!1},T);function t(n){return x.get(n)}function e(n,s,u){const o=!u,h=nT(n);h.aliasOf=u&&u.record;const d=Fd(T,n),v=[h];if("alias"in n){const g=typeof n.alias=="string"?[n.alias]:n.alias;for(const y of g)v.push(me({},h,{components:u?u.record.components:h.components,path:y,aliasOf:u?u.record:h}))}let c,m;for(const g of v){const{path:y}=g;if(s&&y[0]!=="/"){const E=s.record.path,S=E[E.length-1]==="/"?"":"/";g.path=s.record.path+(y&&S+y)}if(c=eT(g,s,d),u?u.alias.push(c):(m=m||c,m!==c&&m.alias.push(c),o&&n.name&&!Od(c)&&f(n.name)),h.children){const E=h.children;for(let S=0;S<E.length;S++)e(E[S],c,u&&u.children[S])}u=u||c,(c.record.components&&Object.keys(c.record.components).length||c.record.name||c.record.redirect)&&r(c)}return m?()=>{f(m)}:Xr}function f(n){if(cp(n)){const s=x.get(n);s&&(x.delete(n),l.splice(l.indexOf(s),1),s.children.forEach(f),s.alias.forEach(f))}else{const s=l.indexOf(n);s>-1&&(l.splice(s,1),n.record.name&&x.delete(n.record.name),n.children.forEach(f),n.alias.forEach(f))}}function i(){return l}function r(n){let s=0;for(;s<l.length&&k1(n,l[s])>=0&&(n.record.path!==l[s].record.path||!pp(n,l[s]));)s++;l.splice(s,0,n),n.record.name&&!Od(n)&&x.set(n.record.name,n)}function a(n,s){let u,o={},h,d;if("name"in n&&n.name){if(u=x.get(n.name),!u)throw cr(1,{location:n});d=u.record.name,o=me(Ld(s.params,u.keys.filter(m=>!m.optional).map(m=>m.name)),n.params&&Ld(n.params,u.keys.map(m=>m.name))),h=u.stringify(o)}else if("path"in n)h=n.path,u=l.find(m=>m.re.test(h)),u&&(o=u.parse(h),d=u.record.name);else{if(u=s.name?x.get(s.name):l.find(m=>m.re.test(s.path)),!u)throw cr(1,{location:n,currentLocation:s});d=u.record.name,o=me({},s.params,n.params),h=u.stringify(o)}const v=[];let c=u;for(;c;)v.unshift(c.record),c=c.parent;return{name:d,path:h,params:o,matched:v,meta:rT(v)}}return p.forEach(n=>e(n)),{addRoute:e,resolve:a,removeRoute:f,getRoutes:i,getRecordMatcher:t}}function Ld(p,T){const l={};for(const x of T)x in p&&(l[x]=p[x]);return l}function nT(p){return{path:p.path,redirect:p.redirect,name:p.name,meta:p.meta||{},aliasOf:void 0,beforeEnter:p.beforeEnter,props:sT(p),children:p.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in p?p.components||null:p.component&&{default:p.component}}}function sT(p){const T={},l=p.props||!1;if("component"in p)T.default=l;else for(const x in p.components)T[x]=typeof l=="boolean"?l:l[x];return T}function Od(p){for(;p;){if(p.record.aliasOf)return!0;p=p.parent}return!1}function rT(p){return p.reduce((T,l)=>me(T,l.meta),{})}function Fd(p,T){const l={};for(const x in p)l[x]=x in T?T[x]:p[x];return l}function pp(p,T){return T.children.some(l=>l===p||pp(p,l))}const mp=/#/g,aT=/&/g,oT=/\//g,lT=/=/g,hT=/\?/g,gp=/\+/g,uT=/%5B/g,fT=/%5D/g,xp=/%5E/g,dT=/%60/g,yp=/%7B/g,cT=/%7C/g,Tp=/%7D/g,vT=/%20/g;function Tu(p){return encodeURI(""+p).replace(cT,"|").replace(uT,"[").replace(fT,"]")}function pT(p){return Tu(p).replace(yp,"{").replace(Tp,"}").replace(xp,"^")}function yh(p){return Tu(p).replace(gp,"%2B").replace(vT,"+").replace(mp,"%23").replace(aT,"%26").replace(dT,"`").replace(yp,"{").replace(Tp,"}").replace(xp,"^")}function mT(p){return yh(p).replace(lT,"%3D")}function gT(p){return Tu(p).replace(mp,"%23").replace(hT,"%3F")}function xT(p){return p==null?"":gT(p).replace(oT,"%2F")}function Mo(p){try{return decodeURIComponent(""+p)}catch{}return""+p}function yT(p){const T={};if(p===""||p==="?")return T;const x=(p[0]==="?"?p.slice(1):p).split("&");for(let t=0;t<x.length;++t){const e=x[t].replace(gp," "),f=e.indexOf("="),i=Mo(f<0?e:e.slice(0,f)),r=f<0?null:Mo(e.slice(f+1));if(i in T){let a=T[i];ki(a)||(a=T[i]=[a]),a.push(r)}else T[i]=r}return T}function Id(p){let T="";for(let l in p){const x=p[l];if(l=mT(l),x==null){x!==void 0&&(T+=(T.length?"&":"")+l);continue}(ki(x)?x.map(e=>e&&yh(e)):[x&&yh(x)]).forEach(e=>{e!==void 0&&(T+=(T.length?"&":"")+l,e!=null&&(T+="="+e))})}return T}function TT(p){const T={};for(const l in p){const x=p[l];x!==void 0&&(T[l]=ki(x)?x.map(t=>t==null?null:""+t):x==null?x:""+x)}return T}const ET=Symbol(""),Dd=Symbol(""),el=Symbol(""),Ep=Symbol(""),Th=Symbol("");function Or(){let p=[];function T(x){return p.push(x),()=>{const t=p.indexOf(x);t>-1&&p.splice(t,1)}}function l(){p=[]}return{add:T,list:()=>p,reset:l}}function bn(p,T,l,x,t){const e=x&&(x.enterCallbacks[t]=x.enterCallbacks[t]||[]);return()=>new Promise((f,i)=>{const r=s=>{s===!1?i(cr(4,{from:l,to:T})):s instanceof Error?i(s):K1(s)?i(cr(2,{from:T,to:s})):(e&&x.enterCallbacks[t]===e&&typeof s=="function"&&e.push(s),f())},a=p.call(x&&x.instances[t],T,l,r);let n=Promise.resolve(a);p.length<3&&(n=n.then(r)),n.catch(s=>i(s))})}function bl(p,T,l,x){const t=[];for(const e of p)for(const f in e.components){let i=e.components[f];if(!(T!=="beforeRouteEnter"&&!e.instances[f]))if(ST(i)){const a=(i.__vccOpts||i)[T];a&&t.push(bn(a,l,x,e,f))}else{let r=i();t.push(()=>r.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${e.path}"`));const n=L1(a)?a.default:a;e.components[f]=n;const u=(n.__vccOpts||n)[T];return u&&bn(u,l,x,e,f)()}))}}return t}function ST(p){return typeof p=="object"||"displayName"in p||"props"in p||"__vccOpts"in p}function Nd(p){const T=Qi(el),l=Qi(Ep),x=Mi(()=>T.resolve(ys(p.to))),t=Mi(()=>{const{matched:r}=x.value,{length:a}=r,n=r[a-1],s=l.matched;if(!n||!s.length)return-1;const u=s.findIndex(dr.bind(null,n));if(u>-1)return u;const o=Bd(r[a-2]);return a>1&&Bd(n)===o&&s[s.length-1].path!==o?s.findIndex(dr.bind(null,r[a-2])):u}),e=Mi(()=>t.value>-1&&MT(l.params,x.value.params)),f=Mi(()=>t.value>-1&&t.value===l.matched.length-1&&fp(l.params,x.value.params));function i(r={}){return AT(r)?T[ys(p.replace)?"replace":"push"](ys(p.to)).catch(Xr):Promise.resolve()}return{route:x,href:Mi(()=>x.value.href),isActive:e,isExactActive:f,navigate:i}}const CT=li({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Nd,setup(p,{slots:T}){const l=gr(Nd(p)),{options:x}=Qi(el),t=Mi(()=>({[wd(p.activeClass,x.linkActiveClass,"router-link-active")]:l.isActive,[wd(p.exactActiveClass,x.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const e=T.default&&T.default(l);return p.custom?e:Zo("a",{"aria-current":l.isExactActive?p.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:t.value},e)}}}),PT=CT;function AT(p){if(!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)&&!p.defaultPrevented&&!(p.button!==void 0&&p.button!==0)){if(p.currentTarget&&p.currentTarget.getAttribute){const T=p.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(T))return}return p.preventDefault&&p.preventDefault(),!0}}function MT(p,T){for(const l in T){const x=T[l],t=p[l];if(typeof x=="string"){if(x!==t)return!1}else if(!ki(t)||t.length!==x.length||x.some((e,f)=>e!==t[f]))return!1}return!0}function Bd(p){return p?p.aliasOf?p.aliasOf.path:p.path:""}const wd=(p,T,l)=>p??T??l,RT=li({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(p,{attrs:T,slots:l}){const x=Qi(Th),t=Mi(()=>p.route||x.value),e=Qi(Dd,0),f=Mi(()=>{let a=ys(e);const{matched:n}=t.value;let s;for(;(s=n[a])&&!s.components;)a++;return a}),i=Mi(()=>t.value.matched[f.value]);Gr(Dd,Mi(()=>f.value+1)),Gr(ET,i),Gr(Th,t);const r=wr();return ir(()=>[r.value,i.value,p.name],([a,n,s],[u,o,h])=>{n&&(n.instances[s]=a,o&&o!==n&&a&&a===u&&(n.leaveGuards.size||(n.leaveGuards=o.leaveGuards),n.updateGuards.size||(n.updateGuards=o.updateGuards))),a&&n&&(!o||!dr(n,o)||!u)&&(n.enterCallbacks[s]||[]).forEach(d=>d(a))},{flush:"post"}),()=>{const a=t.value,n=p.name,s=i.value,u=s&&s.components[n];if(!u)return Gd(l.default,{Component:u,route:a});const o=s.props[n],h=o?o===!0?a.params:typeof o=="function"?o(a):o:null,v=Zo(u,me({},h,T,{onVnodeUnmounted:c=>{c.component.isUnmounted&&(s.instances[n]=null)},ref:r}));return Gd(l.default,{Component:v,route:a})||v}}});function Gd(p,T){if(!p)return null;const l=p(T);return l.length===1?l[0]:l}const LT=RT;function OT(p){const T=iT(p.routes,p),l=p.parseQuery||yT,x=p.stringifyQuery||Id,t=p.history,e=Or(),f=Or(),i=Or(),r=hc(wn);let a=wn;$s&&p.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const n=Yl.bind(null,V=>""+V),s=Yl.bind(null,xT),u=Yl.bind(null,Mo);function o(V,b){let H,j;return cp(V)?(H=T.getRecordMatcher(V),j=b):j=V,T.addRoute(j,H)}function h(V){const b=T.getRecordMatcher(V);b&&T.removeRoute(b)}function d(){return T.getRoutes().map(V=>V.record)}function v(V){return!!T.getRecordMatcher(V)}function c(V,b){if(b=me({},b||r.value),typeof V=="string"){const K=zl(l,V,b.path),Q=T.resolve({path:K.path},b),tt=t.createHref(K.fullPath);return me(K,Q,{params:u(Q.params),hash:Mo(K.hash),redirectedFrom:void 0,href:tt})}let H;if("path"in V)H=me({},V,{path:zl(l,V.path,b.path).path});else{const K=me({},V.params);for(const Q in K)K[Q]==null&&delete K[Q];H=me({},V,{params:s(V.params)}),b.params=s(b.params)}const j=T.resolve(H,b),q=V.hash||"";j.params=n(u(j.params));const et=I1(x,me({},V,{hash:pT(q),path:j.path})),ot=t.createHref(et);return me({fullPath:et,hash:q,query:x===Id?TT(V.query):V.query||{}},j,{redirectedFrom:void 0,href:ot})}function m(V){return typeof V=="string"?zl(l,V,r.value.path):me({},V)}function g(V,b){if(a!==V)return cr(8,{from:b,to:V})}function y(V){return C(V)}function E(V){return y(me(m(V),{replace:!0}))}function S(V){const b=V.matched[V.matched.length-1];if(b&&b.redirect){const{redirect:H}=b;let j=typeof H=="function"?H(V):H;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=m(j):{path:j},j.params={}),me({query:V.query,hash:V.hash,params:"path"in j?{}:V.params},j)}}function C(V,b){const H=a=c(V),j=r.value,q=V.state,et=V.force,ot=V.replace===!0,K=S(H);if(K)return C(me(m(K),{state:typeof K=="object"?me({},q,K.state):q,force:et,replace:ot}),b||H);const Q=H;Q.redirectedFrom=b;let tt;return!et&&D1(x,j,H)&&(tt=cr(16,{to:Q,from:j}),D(j,j,!0,!1)),(tt?Promise.resolve(tt):A(Q,j)).catch(nt=>fn(nt)?fn(nt,2)?nt:Z(nt):W(nt,Q,j)).then(nt=>{if(nt){if(fn(nt,2))return C(me({replace:ot},m(nt.to),{state:typeof nt.to=="object"?me({},q,nt.to.state):q,force:et}),b||Q)}else nt=M(Q,j,!0,ot,q);return R(Q,j,nt),nt})}function P(V,b){const H=g(V,b);return H?Promise.reject(H):Promise.resolve()}function A(V,b){let H;const[j,q,et]=FT(V,b);H=bl(j.reverse(),"beforeRouteLeave",V,b);for(const K of j)K.leaveGuards.forEach(Q=>{H.push(bn(Q,V,b))});const ot=P.bind(null,V,b);return H.push(ot),Xs(H).then(()=>{H=[];for(const K of e.list())H.push(bn(K,V,b));return H.push(ot),Xs(H)}).then(()=>{H=bl(q,"beforeRouteUpdate",V,b);for(const K of q)K.updateGuards.forEach(Q=>{H.push(bn(Q,V,b))});return H.push(ot),Xs(H)}).then(()=>{H=[];for(const K of V.matched)if(K.beforeEnter&&!b.matched.includes(K))if(ki(K.beforeEnter))for(const Q of K.beforeEnter)H.push(bn(Q,V,b));else H.push(bn(K.beforeEnter,V,b));return H.push(ot),Xs(H)}).then(()=>(V.matched.forEach(K=>K.enterCallbacks={}),H=bl(et,"beforeRouteEnter",V,b),H.push(ot),Xs(H))).then(()=>{H=[];for(const K of f.list())H.push(bn(K,V,b));return H.push(ot),Xs(H)}).catch(K=>fn(K,8)?K:Promise.reject(K))}function R(V,b,H){for(const j of i.list())j(V,b,H)}function M(V,b,H,j,q){const et=g(V,b);if(et)return et;const ot=b===wn,K=$s?history.state:{};H&&(j||ot?t.replace(V.fullPath,me({scroll:ot&&K&&K.scroll},q)):t.push(V.fullPath,q)),r.value=V,D(V,b,H,ot),Z()}let L;function F(){L||(L=t.listen((V,b,H)=>{if(!Y.listening)return;const j=c(V),q=S(j);if(q){C(me(q,{replace:!0}),j).catch(Xr);return}a=j;const et=r.value;$s&&z1(Cd(et.fullPath,H.delta),tl()),A(j,et).catch(ot=>fn(ot,12)?ot:fn(ot,2)?(C(ot.to,j).then(K=>{fn(K,20)&&!H.delta&&H.type===ra.pop&&t.go(-1,!1)}).catch(Xr),Promise.reject()):(H.delta&&t.go(-H.delta,!1),W(ot,j,et))).then(ot=>{ot=ot||M(j,et,!1),ot&&(H.delta&&!fn(ot,8)?t.go(-H.delta,!1):H.type===ra.pop&&fn(ot,20)&&t.go(-1,!1)),R(j,et,ot)}).catch(Xr)}))}let I=Or(),N=Or(),z;function W(V,b,H){Z(V);const j=N.list();return j.length?j.forEach(q=>q(V,b,H)):console.error(V),Promise.reject(V)}function $(){return z&&r.value!==wn?Promise.resolve():new Promise((V,b)=>{I.add([V,b])})}function Z(V){return z||(z=!V,F(),I.list().forEach(([b,H])=>V?H(V):b()),I.reset()),V}function D(V,b,H,j){const{scrollBehavior:q}=p;if(!$s||!q)return Promise.resolve();const et=!H&&b1(Cd(V.fullPath,0))||(j||!H)&&history.state&&history.state.scroll||null;return Go().then(()=>q(V,b,et)).then(ot=>ot&&Y1(ot)).catch(ot=>W(ot,V,b))}const O=V=>t.go(V);let B;const G=new Set,Y={currentRoute:r,listening:!0,addRoute:o,removeRoute:h,hasRoute:v,getRoutes:d,resolve:c,options:p,push:y,replace:E,go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:e.add,beforeResolve:f.add,afterEach:i.add,onError:N.add,isReady:$,install(V){const b=this;V.component("RouterLink",PT),V.component("RouterView",LT),V.config.globalProperties.$router=b,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>ys(r)}),$s&&!B&&r.value===wn&&(B=!0,y(t.location).catch(q=>{}));const H={};for(const q in wn)H[q]=Mi(()=>r.value[q]);V.provide(el,b),V.provide(Ep,gr(H)),V.provide(Th,r);const j=V.unmount;G.add(V),V.unmount=function(){G.delete(V),G.size<1&&(a=wn,L&&L(),L=null,r.value=wn,B=!1,z=!1),j()}}};return Y}function Xs(p){return p.reduce((T,l)=>T.then(()=>l()),Promise.resolve())}function FT(p,T){const l=[],x=[],t=[],e=Math.max(T.matched.length,p.matched.length);for(let f=0;f<e;f++){const i=T.matched[f];i&&(p.matched.find(a=>dr(a,i))?x.push(i):l.push(i));const r=p.matched[f];r&&(T.matched.find(a=>dr(a,r))||t.push(r))}return[l,x,t]}function IT(){return Qi(el)}const DT=li({__name:"App",setup(p){return IT().push("/"),(l,x)=>{const t=An("router-view");return Se(),Zn(t)}}}),Qs=class{static getGameViewConfig(){return Qs.gameViewConfig}static setGameViewConfig(T){Qs.gameViewConfig=T}static setNextLevelViewConfig(T){Qs.nextLevelViewConfig=T}static getNextLevelViewConfig(){return Qs.nextLevelViewConfig}};let gn=Qs;gt(gn,"gameViewConfig"),gt(gn,"nextLevelViewConfig");var je=(p=>(p[p.UNDO_BUTTON_CLICKED=0]="UNDO_BUTTON_CLICKED",p[p.HERO_DIRECTION_INPUT=1]="HERO_DIRECTION_INPUT",p[p.RESTART_LEVEL=2]="RESTART_LEVEL",p[p.QUIT_LEVEL=3]="QUIT_LEVEL",p[p.MAP_EDITOR_CURSOR_POSITION_CHANGED=4]="MAP_EDITOR_CURSOR_POSITION_CHANGED",p))(je||{});const Gi=class{constructor(){gt(this,"lastValues");gt(this,"eventListener",new Map);this.lastValues={},Object.keys(je).filter(T=>!isNaN(Number(T))).map(T=>Number(T)).forEach(T=>this.eventListener.set(T,[]))}static listenToEvent(T,l,x){return Gi.instance.eventListener.get(T).push(l),x!=null&&x.recoverLast&&Gi.instance.lastValues[T]&&l(Gi.instance.lastValues[T]),Gi.instance}static emit(T,l){return Gi.instance.lastValues[T]=l,Gi.instance.eventListener.get(T).forEach(x=>x(l)),Gi.instance}static clear(){Gi.instance.lastValues={},Object.keys(je).filter(T=>!isNaN(Number(T))).map(T=>Number(T)).forEach(T=>Gi.instance.eventListener.set(T,[]))}};let Ri=Gi;gt(Ri,"instance",new Gi);var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NT(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Zi={},BT={get exports(){return Zi},set exports(p){Zi=p}};(function(p,T){(function(x,t){p.exports=t()})(ho,function(){return function(l){var x={};function t(e){if(x[e])return x[e].exports;var f=x[e]={i:e,l:!1,exports:{}};return l[e].call(f.exports,f,f.exports,t),f.l=!0,f.exports}return t.m=l,t.c=x,t.d=function(e,f,i){t.o(e,f)||Object.defineProperty(e,f,{enumerable:!0,get:i})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,f){if(f&1&&(e=t(e)),f&8||f&4&&typeof e=="object"&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),f&2&&typeof e!="string")for(var r in e)t.d(i,r,function(a){return e[a]}.bind(null,r));return i},t.n=function(e){var f=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(f,"a",f),f},t.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)},t.p="",t(t.s=1528)}([function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function e(n,s,u){var o=u?n[s]:Object.getOwnPropertyDescriptor(n,s);return!u&&o.value&&typeof o.value=="object"&&(o=o.value),o&&t(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function f(n,s){var u=Object.getOwnPropertyDescriptor(n,s);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}function i(n,s,u,o){for(var h in s)if(s.hasOwnProperty(h)){var d=e(s,h,u);if(d!==!1){var v=o||n;if(f(v.prototype,h)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,h,d)}else n.prototype[h]=s[h]}}function r(n,s){if(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++)i(n,s[u].prototype||s[u])}}function a(n){n||(n={});var s,u;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");s=n.initialize,delete n.initialize}else if(n.Extends){var o=n.Extends;s=function(){o.apply(this,arguments)}}else s=function(){};n.Extends?(s.prototype=Object.create(n.Extends.prototype),s.prototype.constructor=s,u=n.Extends,delete n.Extends):s.prototype.constructor=s;var h=null;return n.Mixins&&(h=n.Mixins,delete n.Mixins),r(s,h),i(s,n,!0,u),s}a.extend=i,a.mixin=r,a.ignoreFinals=!1,l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=typeof e;return!e||r==="number"||r==="string"?i:e.hasOwnProperty(f)&&e[f]!==void 0?e[f]:i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(124),i=new e({initialize:function(a,n){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(n===void 0&&(n=a),this.x=a||0,this.y=n||0)},clone:function(){return new i(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,a){return a===void 0&&(a=r),this.x=r,this.y=a,this},setTo:function(r,a){return this.set(r,a)},setToPolar:function(r,a){return a==null&&(a=1),this.x=Math.cos(r)*a,this.y=Math.sin(r)*a,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,a){return f(this.x,r.x,a)&&f(this.y,r.y,a)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var a=r.x-this.x,n=r.y-this.y;return Math.sqrt(a*a+n*n)},distanceSq:function(r){var a=r.x-this.x,n=r.y-this.y;return a*a+n*n},length:function(){var r=this.x,a=this.y;return Math.sqrt(r*r+a*a)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,a=this.y;return r*r+a*a},normalize:function(){var r=this.x,a=this.y,n=r*r+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=r*n,this.y=a*n),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,a){a===void 0&&(a=0);var n=this.x,s=this.y;return this.x=n+a*(r.x-n),this.y=s+a*(r.y-s),this},transformMat3:function(r){var a=this.x,n=this.y,s=r.val;return this.x=s[0]*a+s[3]*n+s[6],this.y=s[1]*a+s[4]*n+s[7],this},transformMat4:function(r){var a=this.x,n=this.y,s=r.val;return this.x=s[0]*a+s[4]*n+s[12],this.y=s[1]*a+s[5]*n+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var a=this.length();return a&&a>r&&this.scale(r/a),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var a=Math.cos(r),n=Math.sin(r);return this.set(a*this.x-n*this.y,n*this.x+a*this.y)}});i.ZERO=new i,i.RIGHT=new i(1,0),i.LEFT=new i(-1,0),i.UP=new i(0,-1),i.DOWN=new i(0,1),i.ONE=new i(1,1),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(56),i=new e({initialize:function(a,n){a===void 0&&(a=0),n===void 0&&(n=a),this.type=f.POINT,this.x=a,this.y=n},setTo:function(r,a){return r===void 0&&(r=0),a===void 0&&(a=r),this.x=r,this.y=a,this}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(24),i=t(20),r=new e({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,n){r.prototype.hasOwnProperty(a)||(r.prototype[a]=n)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},f.register("GameObjectFactory",r,"add"),l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(!e||typeof e=="number")return i;if(e.hasOwnProperty(f))return e[f];if(f.indexOf(".")!==-1){for(var r=f.split("."),a=e,n=i,s=0;s<r.length;s++)if(a.hasOwnProperty(r[s]))n=a[r[s]],a=a[r[s]];else{n=i;break}return n}else return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(f){for(var i in t)f[i]=t[i]},register:function(f,i){t[f]=i},destroy:function(){t={}}};l.exports=e},function(l,x,t){var e=Object.prototype.hasOwnProperty,f="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(f=!1));function r(u,o,h){this.fn=u,this.context=o,this.once=h||!1}function a(u,o,h,d,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var c=new r(h,d||u,v),m=f?f+o:o;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],c]:u._events[m].push(c):(u._events[m]=c,u._eventsCount++),u}function n(u,o){--u._eventsCount===0?u._events=new i:delete u._events[o]}function s(){this._events=new i,this._eventsCount=0}s.prototype.eventNames=function(){var o=[],h,d;if(this._eventsCount===0)return o;for(d in h=this._events)e.call(h,d)&&o.push(f?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(h)):o},s.prototype.listeners=function(o){var h=f?f+o:o,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,c=d.length,m=new Array(c);v<c;v++)m[v]=d[v].fn;return m},s.prototype.listenerCount=function(o){var h=f?f+o:o,d=this._events[h];return d?d.fn?1:d.length:0},s.prototype.emit=function(o,h,d,v,c,m){var g=f?f+o:o;if(!this._events[g])return!1;var y=this._events[g],E=arguments.length,S,C;if(y.fn){switch(y.once&&this.removeListener(o,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,d),!0;case 4:return y.fn.call(y.context,h,d,v),!0;case 5:return y.fn.call(y.context,h,d,v,c),!0;case 6:return y.fn.call(y.context,h,d,v,c,m),!0}for(C=1,S=new Array(E-1);C<E;C++)S[C-1]=arguments[C];y.fn.apply(y.context,S)}else{var P=y.length,A;for(C=0;C<P;C++)switch(y[C].once&&this.removeListener(o,y[C].fn,void 0,!0),E){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,h);break;case 3:y[C].fn.call(y[C].context,h,d);break;case 4:y[C].fn.call(y[C].context,h,d,v);break;default:if(!S)for(A=1,S=new Array(E-1);A<E;A++)S[A-1]=arguments[A];y[C].fn.apply(y[C].context,S)}}return!0},s.prototype.on=function(o,h,d){return a(this,o,h,d,!1)},s.prototype.once=function(o,h,d){return a(this,o,h,d,!0)},s.prototype.removeListener=function(o,h,d,v){var c=f?f+o:o;if(!this._events[c])return this;if(!h)return n(this,c),this;var m=this._events[c];if(m.fn)m.fn===h&&(!v||m.once)&&(!d||m.context===d)&&n(this,c);else{for(var g=0,y=[],E=m.length;g<E;g++)(m[g].fn!==h||v&&!m[g].once||d&&m[g].context!==d)&&y.push(m[g]);y.length?this._events[c]=y.length===1?y[0]:y:n(this,c)}return this},s.prototype.removeAllListeners=function(o){var h;return o?(h=f?f+o:o,this._events[h]&&n(this,h)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=f,s.EventEmitter=s,l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(57),i=t(171),r=t(306),a=t(56),n=t(47),s=t(174),u=new e({initialize:function(h,d,v,c){h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),this.type=a.RECTANGLE,this.x=h,this.y=d,this.width=v,this.height=c},contains:function(o,h){return f(this,o,h)},getPoint:function(o,h){return i(this,o,h)},getPoints:function(o,h,d){return r(this,o,h,d)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,h,d,v){return this.x=o,this.y=h,this.width=d,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(o,h){return h===void 0&&(h=o),this.x=o,this.y=h,this},setSize:function(o,h){return h===void 0&&(h=o),this.width=o,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(o){return o===void 0&&(o=new n),o.setTo(this.x,this.y,this.right,this.y),o},getLineB:function(o){return o===void 0&&(o=new n),o.setTo(this.right,this.y,this.right,this.bottom),o},getLineC:function(o){return o===void 0&&(o=new n),o.setTo(this.right,this.bottom,this.x,this.bottom),o},getLineD:function(o){return o===void 0&&(o=new n),o.setTo(this.x,this.bottom,this.x,this.y),o},left:{get:function(){return this.x},set:function(o){o>=this.right?this.width=0:this.width=this.right-o,this.x=o}},right:{get:function(){return this.x+this.width},set:function(o){o<=this.x?this.width=0:this.width=o-this.x}},top:{get:function(){return this.y},set:function(o){o>=this.bottom?this.height=0:this.height=this.bottom-o,this.y=o}},bottom:{get:function(){return this.y+this.height},set:function(o){o<=this.y?this.height=0:this.height=o-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var f="",i=0;i<e;++i)i>0&&(f+=`
else `),i<e-1&&(f+="if(test == "+i+".0){}");return f}l.exports={getTintFromFloats:function(e,f,i,r){var a=(e*255|0)&255,n=(f*255|0)&255,s=(i*255|0)&255,u=(r*255|0)&255;return(u<<24|a<<16|n<<8|s)>>>0},getTintAppendFloatAlpha:function(e,f){var i=(f*255|0)&255;return(i<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,f){var i=(e>>16|0)&255,r=(e>>8|0)&255,a=(e|0)&255,n=(f*255|0)&255;return(n<<24|a<<16|r<<8|i)>>>0},getFloatsFromUintRGB:function(e){var f=(e>>16|0)&255,i=(e>>8|0)&255,r=(e|0)&255;return[f/255,i/255,r/255]},checkShaderMax:function(e,f){(!f||f===-1)&&(f=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var i=e.createShader(e.FRAGMENT_SHADER),r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var a=r.replace(/%forloop%/gi,t(f));if(e.shaderSource(i,a),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))f=f/2|0;else break}return f},parseFragmentShaderMaxTextures:function(e,f){if(!e)return"";for(var i="",r=0;r<f;r++)r>0&&(i+=`
	else `),r<f-1&&(i+="if (outTexId < "+r+".5)"),i+=`
	{`,i+=`
		texture = texture2D(uMainSampler[`+r+"], outTexCoord);",i+=`
	}`;return e=e.replace(/%count%/gi,f.toString()),e.replace(/%forloop%/gi,i)}}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),f=t(6),i=function(r,a,n){var s=f(r,a,null);if(s===null)return n;if(Array.isArray(s))return e.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return e.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return e.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(a);return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(176),i=t(101),r=t(9),a=t(75),n=t(20),s=new e({Extends:r,initialize:function(o,h){r.call(this),this.scene=o,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),o.sys.queueDepthSort()},setActive:function(u){return this.active=u,this},setName:function(u){return this.name=u,this},setState:function(u){return this.state=u,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(u,o){return this.data||(this.data=new i(this)),this.data.set(u,o),this},incData:function(u,o){return this.data||(this.data=new i(this)),this.data.inc(u,o),this},toggleData:function(u){return this.data||(this.data=new i(this)),this.data.toggle(u),this},getData:function(u){return this.data||(this.data=new i(this)),this.data.get(u)},setInteractive:function(u,o,h){return this.scene.sys.input.enable(this,u,o,h),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return f(this)},willRender:function(u){return!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},getIndexList:function(){for(var u=this,o=this.parentContainer,h=[];o&&(h.unshift(o.getIndex(u)),u=o,o.parentContainer);)o=o.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(u)):h.unshift(this.scene.sys.displayList.getIndex(u)),h},addToDisplayList:function(u){return u===void 0&&(u=this.scene.sys.displayList),this.displayList&&this.displayList!==u&&this.removeFromDisplayList(),u.exists(this)||(this.displayList=u,u.add(this,!0),u.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),u.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var u=this.displayList||this.scene.sys.displayList;return u.exists(this)&&(u.remove(this,!0),u.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),u.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(u){!this.scene||this.ignoreDestroy||(u===void 0&&(u=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,u),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(24),i=t(20),r=new e({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,n){r.prototype.hasOwnProperty(a)||(r.prototype[a]=n)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},f.register("GameObjectCreator",r,"make"),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),f=function(){var i,r,a,n,s,u,o=arguments[0]||{},h=1,d=arguments.length,v=!1;for(typeof o=="boolean"&&(v=o,o=arguments[1]||{},h=2),d===h&&(o=this,--h);h<d;h++)if((i=arguments[h])!=null)for(r in i)a=o[r],n=i[r],o!==n&&(v&&n&&(e(n)||(s=Array.isArray(n)))?(s?(s=!1,u=a&&Array.isArray(a)?a:[]):u=a&&e(a)?a:{},o[r]=f(v,u,n)):n!==void 0&&(o[r]=n));return o};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return Math.max(f,Math.min(i,e))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),f=new e,i=new e,r=new e,a={camera:f,sprite:i,calc:r},n=function(s,u,o){var h=f,d=i,v=r;return d.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),h.copyFrom(u.matrix),o?(h.multiplyWithOffset(o,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),d.e=s.x,d.f=s.y):(d.e-=u.scrollX*s.scrollFactorX,d.f-=u.scrollY*s.scrollFactorY),h.multiply(d,v),a};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(95),r=t(2),a=t(155),n=t(240),s=t(517),u=t(156),o=new e({initialize:function(d,v){this.loader=d,this.cache=r(v,"cache",!1),this.type=r(v,"type",!1),this.key=r(v,"key",!1);var c=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+c),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var m=r(v,"url");m===void 0?m=d.path+c+"."+r(v,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(m=d.path+m),this.url=m,this.src="",this.xhrSettings=u(r(v,"responseType",void 0)),r(v,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,r(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?f.FILE_POPULATED:f.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(v,"config",{}),this.multiFile,this.linkFile},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===f.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=f.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(h,d){var v=h.responseURL&&(h.responseURL.indexOf("file://")===0||h.responseURL.indexOf("capacitor://")===0),c=v&&d.target.status===0,m=!(d.target&&d.target.status!==200)||c;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=f.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=f.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=f.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=f.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(h){h===void 0&&(h=this.data);var d=this.key,v=this.type;this.loader.emit(i.FILE_COMPLETE,d,v,h),this.loader.emit(i.FILE_KEY_COMPLETE+v+"-"+d,d,v,h),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});o.createObjectURL=function(h,d,v){if(typeof URL=="function")h.src=URL.createObjectURL(d);else{var c=new FileReader;c.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(d.type||v)+";base64,"+c.result.split(",")[1]},c.onerror=h.onerror,c.readAsDataURL(d)}},o.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},f={};f.register=function(i,r,a,n){n===void 0&&(n=!1),t[i]={plugin:r,mapping:a,custom:n}},f.registerCustom=function(i,r,a,n){e[i]={plugin:r,mapping:a,data:n}},f.hasCore=function(i){return t.hasOwnProperty(i)},f.hasCustom=function(i){return e.hasOwnProperty(i)},f.getCore=function(i){return t[i]},f.getCustom=function(i){return e[i]},f.getCustomClass=function(i){return e.hasOwnProperty(i)?e[i].plugin:null},f.remove=function(i){t.hasOwnProperty(i)&&delete t[i]},f.removeCustom=function(i){e.hasOwnProperty(i)&&delete e[i]},f.destroyCorePlugins=function(){for(var i in t)t.hasOwnProperty(i)&&delete t[i]},f.destroyCustomPlugins=function(){for(var i in e)e.hasOwnProperty(i)&&delete e[i]},l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(14),i=t(3),r=new e({initialize:function(n,s,u,o,h,d){n===void 0&&(n=1),s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o=1),h===void 0&&(h=0),d===void 0&&(d=0),this.matrix=new Float32Array([n,s,u,o,h,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,n=a[0],s=a[1],u=a[2],o=a[3];return n||s?s>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):u||o?f.TAU-(o>0?Math.acos(-u/this.scaleY):-Math.acos(u/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,n){var s=this.matrix;return s[4]=s[0]*a+s[2]*n+s[4],s[5]=s[1]*a+s[3]*n+s[5],this},scale:function(a,n){var s=this.matrix;return s[0]*=a,s[1]*=a,s[2]*=n,s[3]*=n,this},rotate:function(a){var n=Math.sin(a),s=Math.cos(a),u=this.matrix,o=u[0],h=u[1],d=u[2],v=u[3];return u[0]=o*s+d*n,u[1]=h*s+v*n,u[2]=o*-n+d*s,u[3]=h*-n+v*s,this},multiply:function(a,n){var s=this.matrix,u=a.matrix,o=s[0],h=s[1],d=s[2],v=s[3],c=s[4],m=s[5],g=u[0],y=u[1],E=u[2],S=u[3],C=u[4],P=u[5],A=n===void 0?this:n;return A.a=g*o+y*d,A.b=g*h+y*v,A.c=E*o+S*d,A.d=E*h+S*v,A.e=C*o+P*d+c,A.f=C*h+P*v+m,A},multiplyWithOffset:function(a,n,s){var u=this.matrix,o=a.matrix,h=u[0],d=u[1],v=u[2],c=u[3],m=u[4],g=u[5],y=n*h+s*v+m,E=n*d+s*c+g,S=o[0],C=o[1],P=o[2],A=o[3],R=o[4],M=o[5];return u[0]=S*h+C*v,u[1]=S*d+C*c,u[2]=P*h+A*v,u[3]=P*d+A*c,u[4]=R*h+M*v+y,u[5]=R*d+M*c+E,this},transform:function(a,n,s,u,o,h){var d=this.matrix,v=d[0],c=d[1],m=d[2],g=d[3],y=d[4],E=d[5];return d[0]=a*v+n*m,d[1]=a*c+n*g,d[2]=s*v+u*m,d[3]=s*c+u*g,d[4]=o*v+h*m+y,d[5]=o*c+h*g+E,this},transformPoint:function(a,n,s){s===void 0&&(s={x:0,y:0});var u=this.matrix,o=u[0],h=u[1],d=u[2],v=u[3],c=u[4],m=u[5];return s.x=a*o+n*d+c,s.y=a*h+n*v+m,s},invert:function(){var a=this.matrix,n=a[0],s=a[1],u=a[2],o=a[3],h=a[4],d=a[5],v=n*o-s*u;return a[0]=o/v,a[1]=-s/v,a[2]=-u/v,a[3]=n/v,a[4]=(u*d-o*h)/v,a[5]=-(n*d-s*h)/v,this},copyFrom:function(a){var n=this.matrix;return n[0]=a.a,n[1]=a.b,n[2]=a.c,n[3]=a.d,n[4]=a.e,n[5]=a.f,this},copyFromArray:function(a){var n=this.matrix;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],this},copyToContext:function(a){var n=this.matrix;return a.transform(n[0],n[1],n[2],n[3],n[4],n[5]),a},setToContext:function(a){var n=this.matrix;return a.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),a},copyToArray:function(a){var n=this.matrix;return a===void 0?a=[n[0],n[1],n[2],n[3],n[4],n[5]]:(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]),a},setTransform:function(a,n,s,u,o,h){var d=this.matrix;return d[0]=a,d[1]=n,d[2]=s,d[3]=u,d[4]=o,d[5]=h,this},decomposeMatrix:function(){var a=this.decomposedMatrix,n=this.matrix,s=n[0],u=n[1],o=n[2],h=n[3],d=s*h-u*o;if(a.translateX=n[4],a.translateY=n[5],s||u){var v=Math.sqrt(s*s+u*u);a.rotation=u>0?Math.acos(s/v):-Math.acos(s/v),a.scaleX=v,a.scaleY=d/v}else if(o||h){var c=Math.sqrt(o*o+h*h);a.rotation=Math.PI*.5-(h>0?Math.acos(-o/c):-Math.acos(o/c)),a.scaleX=d/c,a.scaleY=c}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,n,s,u,o){var h=this.matrix,d=Math.sin(s),v=Math.cos(s);return h[4]=a,h[5]=n,h[0]=v*u,h[1]=d*u,h[2]=-d*o,h[3]=v*o,this},applyInverse:function(a,n,s){s===void 0&&(s=new i);var u=this.matrix,o=u[0],h=u[1],d=u[2],v=u[3],c=u[4],m=u[5],g=1/(o*v+d*-h);return s.x=v*g*a+-d*g*n+(m*d-c*v)*g,s.y=o*g*n+-h*g*a+(-m*o+c*h)*g,s},getX:function(a,n){return a*this.a+n*this.c+this.e},getY:function(a,n){return a*this.b+n*this.d+this.f},getXRound:function(a,n,s){var u=this.getX(a,n);return s&&(u=Math.round(u)),u},getYRound:function(a,n,s){var u=this.getY(a,n);return s&&(u=Math.round(u)),u},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=function(i,r,a,n,s,u){i===void 0&&(i=0),r===void 0&&(r=0),a===void 0&&(a=u.width),n===void 0&&(n=u.height),s||(s={});var o=e(s,"isNotEmpty",!1),h=e(s,"isColliding",!1),d=e(s,"hasInterestingFace",!1);i<0&&(a+=i,i=0),r<0&&(n+=r,r=0),i+a>u.width&&(a=Math.max(u.width-i,0)),r+n>u.height&&(n=Math.max(u.height-r,0));for(var v=[],c=r;c<r+n;c++)for(var m=i;m<i+a;m++){var g=u.data[c][m];if(g!==null){if(o&&g.index===-1||h&&!g.collides||d&&!g.hasInterestingFace)continue;v.push(g)}}return v};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=1);var s,u=0,o=e.length;if(n===1)for(s=a;s<o;s++)e[s][f]=i+u*r,u++;else for(s=a;s>=0;s--)e[s][f]=i+u*r,u++;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(13),i=function(r,a,n){a.x=f(n,"x",0),a.y=f(n,"y",0),a.depth=f(n,"depth",0),a.flipX=f(n,"flipX",!1),a.flipY=f(n,"flipY",!1);var s=f(n,"scale",null);typeof s=="number"?a.setScale(s):s!==null&&(a.scaleX=f(s,"x",1),a.scaleY=f(s,"y",1));var u=f(n,"scrollFactor",null);typeof u=="number"?a.setScrollFactor(u):u!==null&&(a.scrollFactorX=f(u,"x",1),a.scrollFactorY=f(u,"y",1)),a.rotation=f(n,"rotation",0);var o=f(n,"angle",null);o!==null&&(a.angle=o),a.alpha=f(n,"alpha",1);var h=f(n,"origin",null);if(typeof h=="number")a.setOrigin(h);else if(h!==null){var d=f(h,"x",.5),v=f(h,"y",.5);a.setOrigin(d,v)}a.blendMode=f(n,"blendMode",e.NORMAL),a.visible=f(n,"visible",!0);var c=f(n,"add",!0);return c&&r.sys.displayList.add(a),a.preUpdate&&r.sys.updateList.add(a),a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=function(i,r,a,n,s){var u=n.alpha*a.alpha;if(u<=0)return!1;var o=e(a,n,s).calc;return r.globalCompositeOperation=i.blendModes[a.blendMode],r.globalAlpha=u,r.save(),o.setToContext(r),r.imageSmoothingEnabled=!(!i.antialias||a.frame&&a.frame.source.scaleMode),!0};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),f=t(192),i=[],r=!1,a=function(){var n=function(g,y,E,S,C){y===void 0&&(y=1),E===void 0&&(E=1),S===void 0&&(S=e.CANVAS),C===void 0&&(C=!1);var P,A=o(S);return A===null?(A={parent:g,canvas:document.createElement("canvas"),type:S},S===e.CANVAS&&i.push(A),P=A.canvas):(A.parent=g,P=A.canvas),C&&(A.parent=P),P.width=y,P.height=E,r&&S===e.CANVAS&&f.disable(P.getContext("2d")),P},s=function(g,y,E){return n(g,y,E,e.CANVAS)},u=function(g,y,E){return n(g,y,E,e.WEBGL)},o=function(g){if(g===void 0&&(g=e.CANVAS),g===e.WEBGL)return null;for(var y=0;y<i.length;y++){var E=i[y];if(!E.parent&&E.type===g)return E}return null},h=function(g){var y=g instanceof HTMLCanvasElement;i.forEach(function(E){(y&&E.canvas===g||!y&&E.parent===g)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},d=function(){var g=0;return i.forEach(function(y){y.parent&&g++}),g},v=function(){return i.length-d()},c=function(){r=!0},m=function(){r=!1};return{create2D:s,create:n,createWebGL:u,disableSmoothing:c,enableSmoothing:m,first:o,free:v,pool:i,remove:h,total:d}};l.exports=a()},function(l,x){var t={};l.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(f,i){var r,a;typeof i=="boolean"?(r=2,a=i):(r=1,a=!0);for(var n=r;n<arguments.length;n++){var s=arguments[n];if(s)for(var u in s)a&&s[u]&&s[u].constructor===Object&&(!f[u]||f[u].constructor===Object)?(f[u]=f[u]||{},t.extend(f[u],a,s[u])):f[u]=s[u]}return f},t.clone=function(f,i){return t.extend({},i,f)},t.keys=function(f){if(Object.keys)return Object.keys(f);var i=[];for(var r in f)i.push(r);return i},t.values=function(f){var i=[];if(Object.keys){for(var r=Object.keys(f),a=0;a<r.length;a++)i.push(f[r[a]]);return i}for(var n in f)i.push(f[n]);return i},t.get=function(f,i,r,a){i=i.split(".").slice(r,a);for(var n=0;n<i.length;n+=1)f=f[i[n]];return f},t.set=function(f,i,r,a,n){var s=i.split(".").slice(a,n);return t.get(f,i,0,-1)[s[s.length-1]]=r,r},t.shuffle=function(f){for(var i=f.length-1;i>0;i--){var r=Math.floor(t.random()*(i+1)),a=f[i];f[i]=f[r],f[r]=a}return f},t.choose=function(f){return f[Math.floor(t.random()*f.length)]},t.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},t.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},t.isFunction=function(f){return typeof f=="function"},t.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},t.isString=function(f){return Object.prototype.toString.call(f)==="[object String]"},t.clamp=function(f,i,r){return f<i?i:f>r?r:f},t.sign=function(f){return f<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(f,i){return f=typeof f<"u"?f:0,i=typeof i<"u"?i:1,f+e()*(i-f)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(f,i){if(f.indexOf)return f.indexOf(i);for(var r=0;r<f.length;r++)if(f[r]===i)return r;return-1},t.map=function(f,i){if(f.map)return f.map(i);for(var r=[],a=0;a<f.length;a+=1)r.push(i(f[a]));return r},t.topologicalSort=function(f){var i=[],r=[],a=[];for(var n in f)!r[n]&&!a[n]&&t._topologicalSort(n,r,a,f,i);return i},t._topologicalSort=function(f,i,r,a,n){var s=a[f]||[];r[f]=!0;for(var u=0;u<s.length;u+=1){var o=s[u];r[o]||i[o]||t._topologicalSort(o,i,r,a,n)}r[f]=!1,i[f]=!0,n.push(f)},t.chain=function(){for(var f=[],i=0;i<arguments.length;i+=1){var r=arguments[i];r._chained?f.push.apply(f,r._chained):f.push(r)}var a=function(){for(var n,s=new Array(arguments.length),u=0,o=arguments.length;u<o;u++)s[u]=arguments[u];for(u=0;u<f.length;u+=1){var h=f[u].apply(n,s);typeof h<"u"&&(n=h)}return n};return a._chained=f,a},t.chainPathBefore=function(f,i,r){return t.set(f,i,t.chain(r,t.get(f,i)))},t.chainPathAfter=function(f,i,r){return t.set(f,i,t.chain(t.get(f,i),r))}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(47),a=new e({Extends:i,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Transform,f.Visible],initialize:function(s,u,o){u===void 0&&(u="Shape"),i.call(this,s,u),this.geom=o,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(n,s){return s===void 0&&(s=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(n,s,u){return u===void 0&&(u=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=s,this.strokeAlpha=u,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,s){return this.width=n,this.height=s,this},setDisplaySize:function(n,s){return this.displayWidth=n,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=function(i){return i*e.DEG_TO_RAD};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(103),i=t(328),r=t(188),a=t(329),n=new e({initialize:function(u,o,h,d){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(u,o,h,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,u,o,h,d){return h===void 0&&(h=255),d===void 0&&(d=!0),this._locked=!0,this.red=s,this.green=u,this.blue=o,this.alpha=h,this._locked=!1,this.update(d)},setGLTo:function(s,u,o,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=s,this.greenGL=u,this.blueGL=o,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,u,o){return r(s,u,o,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var u=this.r,o=this.g,h=this.b,d=this.a;return this._color=f(u,o,h),this._color32=i(u,o,h,d),this._rgba="rgba("+u+","+o+","+h+","+d/255+")",s&&a(u,o,h,this),this},updateHSV:function(){var s=this.r,u=this.g,o=this.b;return a(s,u,o,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var o=Math.floor(s+Math.random()*(u-s)),h=Math.floor(s+Math.random()*(u-s)),d=Math.floor(s+Math.random()*(u-s));return this.setTo(o,h,d)},randomGray:function(s,u){s===void 0&&(s=0),u===void 0&&(u=255);var o=Math.floor(s+Math.random()*(u-s));return this.setTo(o,o,o)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var u=this.r,o=this.g,h=this.b;return u=Math.max(0,Math.min(255,u-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),this.setTo(u,o,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=a||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this},clone:function(){return new f(this.x,this.y,this.z)},addVectors:function(i,r){return this.x=i.x+r.x,this.y=i.y+r.y,this.z=i.z+r.z,this},crossVectors:function(i,r){var a=i.x,n=i.y,s=i.z,u=r.x,o=r.y,h=r.z;return this.x=n*h-s*o,this.y=s*u-a*h,this.z=a*o-n*u,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this},set:function(i,r,a){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=r||0,this.z=a||0),this},setFromMatrixPosition:function(i){return this.fromArray(i.val,12)},setFromMatrixColumn:function(i,r){return this.fromArray(i.val,r*4)},fromArray:function(i,r){return r===void 0&&(r=0),this.x=i[r],this.y=i[r+1],this.z=i[r+2],this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this},addScalar:function(i){return this.x+=i,this.y+=i,this.z+=i,this},addScale:function(i,r){return this.x+=i.x*r,this.y+=i.y*r,this.z+=i.z*r||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i,this.z*=i):(this.x=0,this.y=0,this.z=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0;return Math.sqrt(r*r+a*a+n*n)},distanceSq:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0;return r*r+a*a+n*n},length:function(){var i=this.x,r=this.y,a=this.z;return Math.sqrt(i*i+r*r+a*a)},lengthSq:function(){var i=this.x,r=this.y,a=this.z;return i*i+r*r+a*a},normalize:function(){var i=this.x,r=this.y,a=this.z,n=i*i+r*r+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=i*n,this.y=r*n,this.z=a*n),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},cross:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,u=i.y,o=i.z;return this.x=a*o-n*u,this.y=n*s-r*o,this.z=r*u-a*s,this},lerp:function(i,r){r===void 0&&(r=0);var a=this.x,n=this.y,s=this.z;return this.x=a+r*(i.x-a),this.y=n+r*(i.y-n),this.z=s+r*(i.z-s),this},applyMatrix3:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=s[0]*r+s[3]*a+s[6]*n,this.y=s[1]*r+s[4]*a+s[7]*n,this.z=s[2]*r+s[5]*a+s[8]*n,this},applyMatrix4:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,u=1/(s[3]*r+s[7]*a+s[11]*n+s[15]);return this.x=(s[0]*r+s[4]*a+s[8]*n+s[12])*u,this.y=(s[1]*r+s[5]*a+s[9]*n+s[13])*u,this.z=(s[2]*r+s[6]*a+s[10]*n+s[14])*u,this},transformMat3:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=r*s[0]+a*s[3]+n*s[6],this.y=r*s[1]+a*s[4]+n*s[7],this.z=r*s[2]+a*s[5]+n*s[8],this},transformMat4:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=s[0]*r+s[4]*a+s[8]*n+s[12],this.y=s[1]*r+s[5]*a+s[9]*n+s[13],this.z=s[2]*r+s[6]*a+s[10]*n+s[14],this},transformCoordinates:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,u=r*s[0]+a*s[4]+n*s[8]+s[12],o=r*s[1]+a*s[5]+n*s[9]+s[13],h=r*s[2]+a*s[6]+n*s[10]+s[14],d=r*s[3]+a*s[7]+n*s[11]+s[15];return this.x=u/d,this.y=o/d,this.z=h/d,this},transformQuat:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,u=i.y,o=i.z,h=i.w,d=h*r+u*n-o*a,v=h*a+o*r-s*n,c=h*n+s*a-u*r,m=-s*r-u*a-o*n;return this.x=d*h+m*-s+v*-o-c*-u,this.y=v*h+m*-u+c*-s-d*-o,this.z=c*h+m*-o+d*-u-v*-s,this},project:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,u=s[0],o=s[1],h=s[2],d=s[3],v=s[4],c=s[5],m=s[6],g=s[7],y=s[8],E=s[9],S=s[10],C=s[11],P=s[12],A=s[13],R=s[14],M=s[15],L=1/(r*d+a*g+n*C+M);return this.x=(r*u+a*v+n*y+P)*L,this.y=(r*o+a*c+n*E+A)*L,this.z=(r*h+a*m+n*S+R)*L,this},projectViewMatrix:function(i,r){return this.applyMatrix4(i).applyMatrix4(r)},unprojectViewMatrix:function(i,r){return this.applyMatrix4(i).applyMatrix4(r)},unproject:function(i,r){var a=i.x,n=i.y,s=i.z,u=i.w,o=this.x-a,h=u-this.y-1-n,d=this.z;return this.x=2*o/s-1,this.y=2*h/u-1,this.z=2*d-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});f.ZERO=new f,f.RIGHT=new f(1,0,0),f.LEFT=new f(-1,0,0),f.UP=new f(0,-1,0),f.DOWN=new f(0,1,0),f.FORWARD=new f(0,0,1),f.BACK=new f(0,0,-1),f.ONE=new f(1,1,1),l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(l,x,t){var e={};l.exports=e;var f=t(64),i=t(83),r=t(165),a=t(32),n=t(84),s=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(o){var h={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!o.hasOwnProperty("position")&&o.hasOwnProperty("vertices")?o.position=f.centre(o.vertices):o.hasOwnProperty("vertices")||(h.vertices=f.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=a.extend(h,o);return u(d,o),d.setOnCollideWith=function(v,c){return c?this.onCollideWith[v.id]=c:delete this.onCollideWith[v.id],this},d},e.nextGroup=function(o){return o?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var u=function(o,h){h=h||{},e.set(o,{bounds:o.bounds||n.create(o.vertices),positionPrev:o.positionPrev||i.clone(o.position),anglePrev:o.anglePrev||o.angle,vertices:o.vertices,parts:o.parts||[o],isStatic:o.isStatic,isSleeping:o.isSleeping,parent:o.parent||o});var d=o.bounds;if(f.rotate(o.vertices,o.angle,o.position),s.rotate(o.axes,o.angle),n.update(d,o.vertices,o.velocity),e.set(o,{axes:h.axes||o.axes,area:h.area||o.area,mass:h.mass||o.mass,inertia:h.inertia||o.inertia}),o.parts.length===1){var v=o.centerOfMass,c=o.centerOffset,m=d.max.x-d.min.x,g=d.max.y-d.min.y;v.x=-(d.min.x-o.position.x)/m,v.y=-(d.min.y-o.position.y)/g,c.x=m*v.x,c.y=g*v.y}};e.set=function(o,h,d){var v;typeof h=="string"&&(v=h,h={},h[v]=d);for(v in h)if(Object.prototype.hasOwnProperty.call(h,v))switch(d=h[v],v){case"isStatic":e.setStatic(o,d);break;case"isSleeping":r.set(o,d);break;case"mass":e.setMass(o,d);break;case"density":e.setDensity(o,d);break;case"inertia":e.setInertia(o,d);break;case"vertices":e.setVertices(o,d);break;case"position":e.setPosition(o,d);break;case"angle":e.setAngle(o,d);break;case"velocity":e.setVelocity(o,d);break;case"angularVelocity":e.setAngularVelocity(o,d);break;case"parts":e.setParts(o,d);break;case"centre":e.setCentre(o,d);break;default:o[v]=d}},e.setStatic=function(o,h){for(var d=0;d<o.parts.length;d++){var v=o.parts[d];v.isStatic=h,h?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},e.setMass=function(o,h){var d=o.inertia/(o.mass/6);o.inertia=d*(h/6),o.inverseInertia=1/o.inertia,o.mass=h,o.inverseMass=1/o.mass,o.density=o.mass/o.area},e.setDensity=function(o,h){e.setMass(o,h*o.area),o.density=h},e.setInertia=function(o,h){o.inertia=h,o.inverseInertia=1/o.inertia},e.setVertices=function(o,h){h[0].body===o?o.vertices=h:o.vertices=f.create(h,o),o.axes=s.fromVertices(o.vertices),o.area=f.area(o.vertices),e.setMass(o,o.density*o.area);var d=f.centre(o.vertices);f.translate(o.vertices,d,-1),e.setInertia(o,e._inertiaScale*f.inertia(o.vertices,o.mass)),f.translate(o.vertices,o.position),n.update(o.bounds,o.vertices,o.velocity)},e.setParts=function(o,h,d){var v;for(h=h.slice(0),o.parts.length=0,o.parts.push(o),o.parent=o,v=0;v<h.length;v++){var c=h[v];c!==o&&(c.parent=o,o.parts.push(c))}if(o.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var m=[];for(v=0;v<h.length;v++)m=m.concat(h[v].vertices);f.clockwiseSort(m);var g=f.hull(m),y=f.centre(g);e.setVertices(o,g),f.translate(o.vertices,y)}var E=e._totalProperties(o),S=E.centre.x,C=E.centre.y,P=o.bounds,A=o.centerOfMass,R=o.centerOffset;n.update(P,o.vertices,o.velocity),A.x=-(P.min.x-S)/(P.max.x-P.min.x),A.y=-(P.min.y-C)/(P.max.y-P.min.y),R.x=S,R.y=C,o.area=E.area,o.parent=o,o.position.x=S,o.position.y=C,o.positionPrev.x=S,o.positionPrev.y=C,e.setMass(o,E.mass),e.setInertia(o,E.inertia),e.setPosition(o,E.centre)}},e.setCentre=function(o,h,d){d?(o.positionPrev.x+=h.x,o.positionPrev.y+=h.y,o.position.x+=h.x,o.position.y+=h.y):(o.positionPrev.x=h.x-(o.position.x-o.positionPrev.x),o.positionPrev.y=h.y-(o.position.y-o.positionPrev.y),o.position.x=h.x,o.position.y=h.y)},e.setPosition=function(o,h){var d=i.sub(h,o.position);o.positionPrev.x+=d.x,o.positionPrev.y+=d.y;for(var v=0;v<o.parts.length;v++){var c=o.parts[v];c.position.x+=d.x,c.position.y+=d.y,f.translate(c.vertices,d),n.update(c.bounds,c.vertices,o.velocity)}},e.setAngle=function(o,h){var d=h-o.angle;o.anglePrev+=d;for(var v=0;v<o.parts.length;v++){var c=o.parts[v];c.angle+=d,f.rotate(c.vertices,d,o.position),s.rotate(c.axes,d),n.update(c.bounds,c.vertices,o.velocity),v>0&&i.rotateAbout(c.position,d,o.position,c.position)}},e.setVelocity=function(o,h){o.positionPrev.x=o.position.x-h.x,o.positionPrev.y=o.position.y-h.y,o.velocity.x=h.x,o.velocity.y=h.y,o.speed=i.magnitude(o.velocity)},e.setAngularVelocity=function(o,h){o.anglePrev=o.angle-h,o.angularVelocity=h,o.angularSpeed=Math.abs(o.angularVelocity)},e.translate=function(o,h){e.setPosition(o,i.add(o.position,h))},e.rotate=function(o,h,d){if(!d)e.setAngle(o,o.angle+h);else{var v=Math.cos(h),c=Math.sin(h),m=o.position.x-d.x,g=o.position.y-d.y;e.setPosition(o,{x:d.x+(m*v-g*c),y:d.y+(m*c+g*v)}),e.setAngle(o,o.angle+h)}},e.scale=function(o,h,d,v){var c=0,m=0;v=v||o.position;for(var g=0;g<o.parts.length;g++){var y=o.parts[g];y.scale.x=h,y.scale.y=d,f.scale(y.vertices,h,d,v),y.axes=s.fromVertices(y.vertices),y.area=f.area(y.vertices),e.setMass(y,o.density*y.area),f.translate(y.vertices,{x:-y.position.x,y:-y.position.y}),e.setInertia(y,e._inertiaScale*f.inertia(y.vertices,y.mass)),f.translate(y.vertices,{x:y.position.x,y:y.position.y}),g>0&&(c+=y.area,m+=y.inertia),y.position.x=v.x+(y.position.x-v.x)*h,y.position.y=v.y+(y.position.y-v.y)*d,n.update(y.bounds,y.vertices,o.velocity)}o.parts.length>1&&(o.area=c,o.isStatic||(e.setMass(o,o.density*c),e.setInertia(o,m))),o.circleRadius&&(h===d?o.circleRadius*=h:o.circleRadius=null)},e.update=function(o,h,d,v){var c=Math.pow(h*d*o.timeScale,2),m=1-o.frictionAir*d*o.timeScale,g=o.position.x-o.positionPrev.x,y=o.position.y-o.positionPrev.y;o.velocity.x=g*m*v+o.force.x/o.mass*c,o.velocity.y=y*m*v+o.force.y/o.mass*c,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.position.x+=o.velocity.x,o.position.y+=o.velocity.y,o.angularVelocity=(o.angle-o.anglePrev)*m*v+o.torque/o.inertia*c,o.anglePrev=o.angle,o.angle+=o.angularVelocity,o.speed=i.magnitude(o.velocity),o.angularSpeed=Math.abs(o.angularVelocity);for(var E=0;E<o.parts.length;E++){var S=o.parts[E];f.translate(S.vertices,o.velocity),E>0&&(S.position.x+=o.velocity.x,S.position.y+=o.velocity.y),o.angularVelocity!==0&&(f.rotate(S.vertices,o.angularVelocity,o.position),s.rotate(S.axes,o.angularVelocity),E>0&&i.rotateAbout(S.position,o.angularVelocity,o.position,S.position)),n.update(S.bounds,S.vertices,o.velocity)}},e.applyForce=function(o,h,d){o.force.x+=d.x,o.force.y+=d.y;var v={x:h.x-o.position.x,y:h.y-o.position.y};o.torque+=v.x*d.y-v.y*d.x},e._totalProperties=function(o){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=o.parts.length===1?0:1;d<o.parts.length;d++){var v=o.parts[d],c=v.mass!==1/0?v.mass:1;h.mass+=c,h.area+=v.area,h.inertia+=v.inertia,h.centre=i.add(h.centre,i.mult(v.position,c))}return h.centre=i.div(h.centre,h.mass),h}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=1);var s,u=0,o=e.length;if(n===1)for(s=a;s<o;s++)e[s][f]+=i+u*r,u++;else for(s=a;s>=0;s--)e[s][f]+=i+u*r,u++;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(307),i=t(172),r=t(56),a=t(173),n=t(3),s=new e({initialize:function(o,h,d,v){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=r.LINE,this.x1=o,this.y1=h,this.x2=d,this.y2=v},getPoint:function(u,o){return f(this,u,o)},getPoints:function(u,o,h){return i(this,u,o,h)},getRandomPoint:function(u){return a(this,u)},setTo:function(u,o,h,d){return u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),this.x1=u,this.y1=o,this.x2=h,this.y2=d,this},getPointA:function(u){return u===void 0&&(u=new n),u.set(this.x1,this.y1),u},getPointB:function(u){return u===void 0&&(u=new n),u.set(this.x2,this.y2),u},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(u){this.x1<=this.x2?this.x1=u:this.x2=u}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(u){this.x1>this.x2?this.x1=u:this.x2=u}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(u){this.y1<=this.y2?this.y1=u:this.y2=u}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(u){this.y1>this.y2?this.y1=u:this.y2=u}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=i||f.fillColor,n=r||f.fillAlpha,s=(a&16711680)>>>16,u=(a&65280)>>>8,o=a&255;e.fillStyle="rgba("+s+","+u+","+o+","+n+")"};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s){var u=[];s.forEach(function(h){h&&u.push(h)}),this.loader=r,this.type=a,this.key=n,this.multiKeyIndex=r.multiKeyIndex++,this.files=u,this.complete=!1,this.pending=u.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var o=0;o<u.length;o++)u[o].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){var r=this.files.indexOf(i);r!==-1&&this.pending--},onFileFailed:function(i){var r=this.files.indexOf(i);r!==-1&&this.failed++}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=e-i,n=f-r;return Math.sqrt(a*a+n*n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.y=f+e.height*e.originY,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x=f+e.width*e.originX,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x=f-e.width+e.width*e.originX,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.y=f-e.height+e.height*e.originY,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.width<=0||e.height<=0?!1:e.x<=f&&e.x+e.width>=f&&e.y<=i&&e.y+e.height>=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(175),i=t(9),r=t(374),a=t(2),n=t(69),s=t(91),u=t(141),o=t(12),h=t(375),d=new e({Extends:i,initialize:function(c){i.call(this);var m=c.game,g=m.renderer,y=g.gl;this.name=a(c,"name","WebGLPipeline"),this.game=m,this.renderer=g,this.manager,this.gl=y,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=a(c,"topology",y.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=a(c,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=c,this.glReset=!1},boot:function(){var v,c=this.gl,m=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var y=this.renderTargets,E=a(m,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var S=g.width,C=g.height;if(typeof E=="number")for(v=0;v<E;v++)y.push(new u(g,S,C,1,0,!0));else if(Array.isArray(E))for(v=0;v<E.length;v++){var P=a(E[v],"scale",1),A=a(E[v],"minFilter",0),R=a(E[v],"autoClear",1);y.push(new u(g,S,C,P,A,R))}y.length&&(this.currentRenderTarget=y[0]),this.setShadersFromConfig(m);var M=this.shaders,L=0;for(v=0;v<M.length;v++)M[v].vertexSize>L&&(L=M[v].vertexSize);var F=a(m,"batchSize",g.config.batchSize);this.vertexCapacity=F*6;var I=new ArrayBuffer(this.vertexCapacity*L);this.vertexData=I,this.bytes=new Uint8Array(I),this.vertexViewF32=new Float32Array(I),this.vertexViewU32=new Uint32Array(I);var N=a(m,"vertices",null);for(N?(this.vertexViewF32.set(N),this.vertexBuffer=g.createVertexBuffer(I,c.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(I.byteLength,c.DYNAMIC_DRAW),this.setVertexBuffer(),v=M.length-1;v>=0;v--)M[v].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,c){var m=this.renderer;if(v!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush(),m.resetTextures();var g=this.setVertexBuffer();g&&!c&&(c=!0),v.bind(c,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var c=this.shaders,m=0;m<c.length;m++)if(c[m].name===v)return c[m]},setShadersFromConfig:function(v){var c,m=this.shaders,g=this.renderer;for(c=0;c<m.length;c++)m[c].destroy();var y="vertShader",E="fragShader",S="attributes",C=a(v,y,null),P=o.parseFragmentShaderMaxTextures(a(v,E,null),g.maxTextures),A=a(v,S,null),R=a(v,"shaders",[]),M=R.length;if(M===0)C&&P&&(this.shaders=[new h(this,"default",C,P,f(A))]);else{var L=[];for(c=0;c<M;c++){var F=R[c],I=a(F,"name","default"),N=a(F,y,C),z=o.parseFragmentShaderMaxTextures(a(F,E,P),g.maxTextures),W=a(F,S,A);N&&z&&L.push(new h(this,I,N,z,f(W)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(v,c){return c===void 0&&(c=v.frame),this.currentUnit=this.renderer.setTextureSource(c.source),this.currentUnit},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},resize:function(v,c){(v!==this.width||c!==this.height)&&this.flush(),this.width=v,this.height=c;for(var m=this.renderTargets,g=0;g<m.length;g++)m[g].resize(v,c);return this.setProjectionMatrix(v,c),this.emit(r.RESIZE,v,c,this),this.onResize(v,c),this},setProjectionMatrix:function(v,c){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=v,this.projectionHeight=c,m.ortho(0,v,c,0,-1e3,1e3);for(var g=this.shaders,y="uProjectionMatrix",E=0;E<g.length;E++){var S=g[E];S.hasUniform(y)&&(S.resetUniform(y),S.setMatrix4fv(y,!1,m.val,S))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,c=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==c)&&this.setProjectionMatrix(v,c)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var c=this.setVertexBuffer();return v.bind(c),this.currentShader=v,this.emit(r.BIND,this,v),this.onActive(v),this},rebind:function(v){this.setVertexBuffer();for(var c=this.shaders,m=c.length-1;m>=0;m--){var g=c[m].rebind();(!v||g===v)&&(this.currentShader=g)}return this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var v=this.gl,c=this.vertexBuffer;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==c?(v.bindBuffer(v.ARRAY_BUFFER,c),!0):!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var c=this.gl,m=this.vertexCount,g=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),m===this.vertexCapacity?c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.DYNAMIC_DRAW):c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,m*g)),c.drawArrays(this.topology,0,m)),this.vertexCount=0,this.emit(r.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,c,m,g,y,E,S){var C=this.vertexViewF32,P=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++A]=v,C[++A]=c,C[++A]=m,C[++A]=g,C[++A]=y,C[++A]=E,P[++A]=S,this.vertexCount++},batchQuad:function(v,c,m,g,y,E,S,C,P,A,R,M,L,F,I,N,z,W,$,Z){Z===void 0&&(Z=this.currentUnit);var D=!1;return this.shouldFlush(6)&&(this.flush(),D=!0,Z=this.setTexture2D($)),this.batchVert(c,m,A,R,Z,W,F),this.batchVert(g,y,A,L,Z,W,N),this.batchVert(E,S,M,L,Z,W,z),this.batchVert(c,m,A,R,Z,W,F),this.batchVert(E,S,M,L,Z,W,z),this.batchVert(C,P,M,R,Z,W,I),this.onBatch(v),D},batchTri:function(v,c,m,g,y,E,S,C,P,A,R,M,L,F,I,N,z){z===void 0&&(z=this.currentUnit);var W=!1;return this.shouldFlush(3)&&(this.flush(),W=!0,z=this.setTexture2D(N)),this.batchVert(c,m,C,P,z,I,M),this.batchVert(g,y,C,R,z,I,L),this.batchVert(E,S,A,R,z,I,F),this.onBatch(v),W},drawFillRect:function(v,c,m,g,y,E,S,C){S===void 0&&(S=this.renderer.whiteTexture.glTexture),C===void 0&&(C=!0),v=Math.floor(v),c=Math.floor(c);var P=Math.floor(v+m),A=Math.floor(c+g),R=this.setTexture2D(S),M=o.getTintAppendFloatAlphaAndSwap(y,E),L=0,F=0,I=1,N=1;C&&(F=1,N=0),this.batchQuad(null,v,c,v,A,P,A,P,c,L,F,I,N,M,M,M,M,0,S,R)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(v),this.currentUnit},bindTexture:function(v,c){c===void 0&&(c=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+c),m.bindTexture(m.TEXTURE_2D,v),this},bindRenderTarget:function(v,c){return this.bindTexture(v.texture,c)},setTime:function(v){return this.set1f(v,this.game.loop.getDuration()),this},set1f:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set1f(v,c),this},set2f:function(v,c,m,g){return g===void 0&&(g=this.currentShader),g.set2f(v,c,m),this},set3f:function(v,c,m,g,y){return y===void 0&&(y=this.currentShader),y.set3f(v,c,m,g),this},set4f:function(v,c,m,g,y,E){return E===void 0&&(E=this.currentShader),E.set4f(v,c,m,g,y),this},set1fv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set1fv(v,c),this},set2fv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set2fv(v,c),this},set3fv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set3fv(v,c),this},set4fv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set4fv(v,c),this},set1iv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set1iv(v,c),this},set2iv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set2iv(v,c),this},set3iv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set3iv(v,c),this},set4iv:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set4iv(v,c),this},set1i:function(v,c,m){return m===void 0&&(m=this.currentShader),m.set1i(v,c),this},set2i:function(v,c,m,g){return g===void 0&&(g=this.currentShader),g.set2i(v,c,m),this},set3i:function(v,c,m,g,y){return y===void 0&&(y=this.currentShader),y.set3i(v,c,m,g),this},set4i:function(v,c,m,g,y,E){return E===void 0&&(E=this.currentShader),E.set4i(v,c,m,g,y),this},setMatrix2fv:function(v,c,m,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(v,c,m),this},setMatrix3fv:function(v,c,m,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(v,c,m),this},setMatrix4fv:function(v,c,m,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(v,c,m),this},destroy:function(){this.emit(r.DESTROY,this);var v,c=this.shaders;for(v=0;v<c.length;v++)c[v].destroy();var m=this.renderTargets;for(v=0;v<m.length;v++)m[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var g=this.renderer;return g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(O,B,G){G=G||2;var Y=B&&B.length,V=Y?B[0]*G:O.length,b=f(O,0,V,G,!0),H=[];if(!b||b.next===b.prev)return H;var j,q,et,ot,K,Q,tt;if(Y&&(b=o(O,B,b,G)),O.length>80*G){j=et=O[0],q=ot=O[1];for(var nt=G;nt<V;nt+=G)K=O[nt],Q=O[nt+1],K<j&&(j=K),Q<q&&(q=Q),K>et&&(et=K),Q>ot&&(ot=Q);tt=Math.max(et-j,ot-q),tt=tt!==0?1/tt:0}return r(b,H,G,j,q,tt),H}function f(O,B,G,Y,V){var b,H;if(V===D(O,B,G,Y)>0)for(b=B;b<G;b+=Y)H=W(b,O[b],O[b+1],H);else for(b=G-Y;b>=B;b-=Y)H=W(b,O[b],O[b+1],H);return H&&A(H,H.next)&&($(H),H=H.next),H}function i(O,B){if(!O)return O;B||(B=O);var G=O,Y;do if(Y=!1,!G.steiner&&(A(G,G.next)||P(G.prev,G,G.next)===0)){if($(G),G=B=G.prev,G===G.next)break;Y=!0}else G=G.next;while(Y||G!==B);return B}function r(O,B,G,Y,V,b,H){if(O){!H&&b&&m(O,Y,V,b);for(var j=O,q,et;O.prev!==O.next;){if(q=O.prev,et=O.next,b?n(O,Y,V,b):a(O)){B.push(q.i/G),B.push(O.i/G),B.push(et.i/G),$(O),O=et.next,j=et.next;continue}if(O=et,O===j){H?H===1?(O=s(i(O),B,G),r(O,B,G,Y,V,b,2)):H===2&&u(O,B,G,Y,V,b):r(i(O),B,G,Y,V,b,1);break}}}}function a(O){var B=O.prev,G=O,Y=O.next;if(P(B,G,Y)>=0)return!1;for(var V=O.next.next;V!==O.prev;){if(S(B.x,B.y,G.x,G.y,Y.x,Y.y,V.x,V.y)&&P(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function n(O,B,G,Y){var V=O.prev,b=O,H=O.next;if(P(V,b,H)>=0)return!1;for(var j=V.x<b.x?V.x<H.x?V.x:H.x:b.x<H.x?b.x:H.x,q=V.y<b.y?V.y<H.y?V.y:H.y:b.y<H.y?b.y:H.y,et=V.x>b.x?V.x>H.x?V.x:H.x:b.x>H.x?b.x:H.x,ot=V.y>b.y?V.y>H.y?V.y:H.y:b.y>H.y?b.y:H.y,K=y(j,q,B,G,Y),Q=y(et,ot,B,G,Y),tt=O.prevZ,nt=O.nextZ;tt&&tt.z>=K&&nt&&nt.z<=Q;){if(tt!==O.prev&&tt!==O.next&&S(V.x,V.y,b.x,b.y,H.x,H.y,tt.x,tt.y)&&P(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,nt!==O.prev&&nt!==O.next&&S(V.x,V.y,b.x,b.y,H.x,H.y,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;tt&&tt.z>=K;){if(tt!==O.prev&&tt!==O.next&&S(V.x,V.y,b.x,b.y,H.x,H.y,tt.x,tt.y)&&P(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;nt&&nt.z<=Q;){if(nt!==O.prev&&nt!==O.next&&S(V.x,V.y,b.x,b.y,H.x,H.y,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}function s(O,B,G){var Y=O;do{var V=Y.prev,b=Y.next.next;!A(V,b)&&R(V,Y,Y.next,b)&&I(V,b)&&I(b,V)&&(B.push(V.i/G),B.push(Y.i/G),B.push(b.i/G),$(Y),$(Y.next),Y=O=b),Y=Y.next}while(Y!==O);return i(Y)}function u(O,B,G,Y,V,b){var H=O;do{for(var j=H.next.next;j!==H.prev;){if(H.i!==j.i&&C(H,j)){var q=z(H,j);H=i(H,H.next),q=i(q,q.next),r(H,B,G,Y,V,b),r(q,B,G,Y,V,b);return}j=j.next}H=H.next}while(H!==O)}function o(O,B,G,Y){var V=[],b,H,j,q,et;for(b=0,H=B.length;b<H;b++)j=B[b]*Y,q=b<H-1?B[b+1]*Y:O.length,et=f(O,j,q,Y,!1),et===et.next&&(et.steiner=!0),V.push(E(et));for(V.sort(h),b=0;b<V.length;b++)d(V[b],G),G=i(G,G.next);return G}function h(O,B){return O.x-B.x}function d(O,B){if(B=v(O,B),B){var G=z(B,O);i(B,B.next),i(G,G.next)}}function v(O,B){var G=B,Y=O.x,V=O.y,b=-1/0,H;do{if(V<=G.y&&V>=G.next.y&&G.next.y!==G.y){var j=G.x+(V-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(j<=Y&&j>b){if(b=j,j===Y){if(V===G.y)return G;if(V===G.next.y)return G.next}H=G.x<G.next.x?G:G.next}}G=G.next}while(G!==B);if(!H)return null;if(Y===b)return H;var q=H,et=H.x,ot=H.y,K=1/0,Q;G=H;do Y>=G.x&&G.x>=et&&Y!==G.x&&S(V<ot?Y:b,V,et,ot,V<ot?b:Y,V,G.x,G.y)&&(Q=Math.abs(V-G.y)/(Y-G.x),I(G,O)&&(Q<K||Q===K&&(G.x>H.x||G.x===H.x&&c(H,G)))&&(H=G,K=Q)),G=G.next;while(G!==q);return H}function c(O,B){return P(O.prev,O,B.prev)<0&&P(B.next,O,O.next)<0}function m(O,B,G,Y){var V=O;do V.z===null&&(V.z=y(V.x,V.y,B,G,Y)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==O);V.prevZ.nextZ=null,V.prevZ=null,g(V)}function g(O){var B,G,Y,V,b,H,j,q,et=1;do{for(G=O,O=null,b=null,H=0;G;){for(H++,Y=G,j=0,B=0;B<et&&(j++,Y=Y.nextZ,!!Y);B++);for(q=et;j>0||q>0&&Y;)j!==0&&(q===0||!Y||G.z<=Y.z)?(V=G,G=G.nextZ,j--):(V=Y,Y=Y.nextZ,q--),b?b.nextZ=V:O=V,V.prevZ=b,b=V;G=Y}b.nextZ=null,et*=2}while(H>1);return O}function y(O,B,G,Y,V){return O=32767*(O-G)*V,B=32767*(B-Y)*V,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,O|B<<1}function E(O){var B=O,G=O;do(B.x<G.x||B.x===G.x&&B.y<G.y)&&(G=B),B=B.next;while(B!==O);return G}function S(O,B,G,Y,V,b,H,j){return(V-H)*(B-j)-(O-H)*(b-j)>=0&&(O-H)*(Y-j)-(G-H)*(B-j)>=0&&(G-H)*(b-j)-(V-H)*(Y-j)>=0}function C(O,B){return O.next.i!==B.i&&O.prev.i!==B.i&&!F(O,B)&&(I(O,B)&&I(B,O)&&N(O,B)&&(P(O.prev,O,B.prev)||P(O,B.prev,B))||A(O,B)&&P(O.prev,O,O.next)>0&&P(B.prev,B,B.next)>0)}function P(O,B,G){return(B.y-O.y)*(G.x-B.x)-(B.x-O.x)*(G.y-B.y)}function A(O,B){return O.x===B.x&&O.y===B.y}function R(O,B,G,Y){var V=L(P(O,B,G)),b=L(P(O,B,Y)),H=L(P(G,Y,O)),j=L(P(G,Y,B));return!!(V!==b&&H!==j||V===0&&M(O,G,B)||b===0&&M(O,Y,B)||H===0&&M(G,O,Y)||j===0&&M(G,B,Y))}function M(O,B,G){return B.x<=Math.max(O.x,G.x)&&B.x>=Math.min(O.x,G.x)&&B.y<=Math.max(O.y,G.y)&&B.y>=Math.min(O.y,G.y)}function L(O){return O>0?1:O<0?-1:0}function F(O,B){var G=O;do{if(G.i!==O.i&&G.next.i!==O.i&&G.i!==B.i&&G.next.i!==B.i&&R(G,G.next,O,B))return!0;G=G.next}while(G!==O);return!1}function I(O,B){return P(O.prev,O,O.next)<0?P(O,B,O.next)>=0&&P(O,O.prev,B)>=0:P(O,B,O.prev)<0||P(O,O.next,B)<0}function N(O,B){var G=O,Y=!1,V=(O.x+B.x)/2,b=(O.y+B.y)/2;do G.y>b!=G.next.y>b&&G.next.y!==G.y&&V<(G.next.x-G.x)*(b-G.y)/(G.next.y-G.y)+G.x&&(Y=!Y),G=G.next;while(G!==O);return Y}function z(O,B){var G=new Z(O.i,O.x,O.y),Y=new Z(B.i,B.x,B.y),V=O.next,b=B.prev;return O.next=B,B.prev=O,G.next=V,V.prev=G,Y.next=G,G.prev=Y,b.next=Y,Y.prev=b,Y}function W(O,B,G,Y){var V=new Z(O,B,G);return Y?(V.next=Y.next,V.prev=Y,Y.next.prev=V,Y.next=V):(V.prev=V,V.next=V),V}function $(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function Z(O,B,G){this.i=O,this.x=B,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(O,B,G,Y){var V=B&&B.length,b=V?B[0]*G:O.length,H=Math.abs(D(O,0,b,G));if(V)for(var j=0,q=B.length;j<q;j++){var et=B[j]*G,ot=j<q-1?B[j+1]*G:O.length;H-=Math.abs(D(O,et,ot,G))}var K=0;for(j=0;j<Y.length;j+=3){var Q=Y[j]*G,tt=Y[j+1]*G,nt=Y[j+2]*G;K+=Math.abs((O[Q]-O[nt])*(O[tt+1]-O[Q+1])-(O[Q]-O[tt])*(O[nt+1]-O[Q+1]))}return H===0&&K===0?0:Math.abs((K-H)/H)};function D(O,B,G,Y){for(var V=0,b=B,H=G-Y;b<G;b+=Y)V+=(O[H]-O[b])*(O[b+1]+O[H+1]),H=b;return V}e.flatten=function(O){for(var B=O[0][0].length,G={vertices:[],holes:[],dimensions:B},Y=0,V=0;V<O.length;V++){for(var b=0;b<O[V].length;b++)for(var H=0;H<B;H++)G.vertices.push(O[V][b][H]);V>0&&(Y+=O[V-1].length,G.holes.push(Y))}return G},l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=i||f.strokeColor,n=r||f.strokeAlpha,s=(a&16711680)>>>16,u=(a&65280)>>>8,o=a&255;e.strokeStyle="rgba("+s+","+u+","+o+","+n+")",e.lineWidth=f.lineWidth};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(6),s=t(7),u=new e({Extends:i,initialize:function(h,d,v,c,m){var g="json";if(s(d)){var y=d;d=a(y,"key"),v=a(y,"url"),c=a(y,"xhrSettings"),g=a(y,"extension",g),m=a(y,"dataKey",m)}var E={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:d,url:v,xhrSettings:c,config:m};i.call(this,h,E),s(v)&&(m?this.data=n(v,m):this.data=v,this.state=f.FILE_POPULATED)},onProcess:function(){if(this.state!==f.FILE_POPULATED){this.state=f.FILE_PROCESSING;try{var o=JSON.parse(this.xhrLoader.responseText)}catch(d){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),d}var h=this.config;typeof h=="string"?this.data=n(o,h,o):this.data=o}this.onProcessComplete()}});r.register("json",function(o,h,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new u(this,o[c]));else this.addFile(new u(this,o,h,v,d));return this}),l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),f=t(26),i=function(r,a,n,s,u){for(var o=null,h=null,d=null,v=null,c=f(r,a,n,s,null,u),m=0;m<c.length;m++){var g=c[m];g&&(g.collides?(o=e(g.x,g.y-1,!0,u),h=e(g.x,g.y+1,!0,u),d=e(g.x-1,g.y,!0,u),v=e(g.x+1,g.y,!0,u),g.faceTop=!(o&&o.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(d&&d.collides),g.faceRight=!(v&&v.collides)):g.resetFaces())}};l.exports=i},function(l,x,t){var e={};l.exports=e;var f=t(83),i=t(32);(function(){e.create=function(r,a){for(var n=[],s=0;s<r.length;s++){var u=r[s],o={x:u.x,y:u.y,index:s,body:a,isInternal:!1,contact:null,offset:null};o.contact={vertex:o,normalImpulse:0,tangentImpulse:0},n.push(o)}return n},e.fromPath=function(r,a){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(n,function(u,o,h){s.push({x:parseFloat(o),y:parseFloat(h)})}),e.create(s,a)},e.centre=function(r){for(var a=e.area(r,!0),n={x:0,y:0},s,u,o,h=0;h<r.length;h++)o=(h+1)%r.length,s=f.cross(r[h],r[o]),u=f.mult(f.add(r[h],r[o]),s),n=f.add(n,u);return f.div(n,6*a)},e.mean=function(r){for(var a={x:0,y:0},n=0;n<r.length;n++)a.x+=r[n].x,a.y+=r[n].y;return f.div(a,r.length)},e.area=function(r,a){for(var n=0,s=r.length-1,u=0;u<r.length;u++)n+=(r[s].x-r[u].x)*(r[s].y+r[u].y),s=u;return a?n/2:Math.abs(n)/2},e.inertia=function(r,a){for(var n=0,s=0,u=r,o,h,d=0;d<u.length;d++)h=(d+1)%u.length,o=Math.abs(f.cross(u[h],u[d])),n+=o*(f.dot(u[h],u[h])+f.dot(u[h],u[d])+f.dot(u[d],u[d])),s+=o;return a/6*(n/s)},e.translate=function(r,a,n){var s;if(n)for(s=0;s<r.length;s++)r[s].x+=a.x*n,r[s].y+=a.y*n;else for(s=0;s<r.length;s++)r[s].x+=a.x,r[s].y+=a.y;return r},e.rotate=function(r,a,n){if(a!==0){for(var s=Math.cos(a),u=Math.sin(a),o=0;o<r.length;o++){var h=r[o],d=h.x-n.x,v=h.y-n.y;h.x=n.x+(d*s-v*u),h.y=n.y+(d*u+v*s)}return r}},e.contains=function(r,a){for(var n=0;n<r.length;n++){var s=r[n],u=r[(n+1)%r.length];if((a.x-s.x)*(u.y-s.y)+(a.y-s.y)*(s.x-u.x)>0)return!1}return!0},e.scale=function(r,a,n,s){if(a===1&&n===1)return r;s=s||e.centre(r);for(var u,o,h=0;h<r.length;h++)u=r[h],o=f.sub(u,s),r[h].x=s.x+o.x*a,r[h].y=s.y+o.y*n;return r},e.chamfer=function(r,a,n,s,u){typeof a=="number"?a=[a]:a=a||[8],n=typeof n<"u"?n:-1,s=s||2,u=u||14;for(var o=[],h=0;h<r.length;h++){var d=r[h-1>=0?h-1:r.length-1],v=r[h],c=r[(h+1)%r.length],m=a[h<a.length?h:a.length-1];if(m===0){o.push(v);continue}var g=f.normalise({x:v.y-d.y,y:d.x-v.x}),y=f.normalise({x:c.y-v.y,y:v.x-c.x}),E=Math.sqrt(2*Math.pow(m,2)),S=f.mult(i.clone(g),m),C=f.normalise(f.mult(f.add(g,y),.5)),P=f.sub(v,f.mult(C,E)),A=n;n===-1&&(A=Math.pow(m,.32)*1.75),A=i.clamp(A,s,u),A%2===1&&(A+=1);for(var R=Math.acos(f.dot(g,y)),M=R/A,L=0;L<A;L++)o.push(f.add(f.rotate(S,M*L),P))}return o},e.clockwiseSort=function(r){var a=e.mean(r);return r.sort(function(n,s){return f.angle(a,n)-f.angle(a,s)}),r},e.isConvex=function(r){var a=0,n=r.length,s,u,o,h;if(n<3)return null;for(s=0;s<n;s++)if(u=(s+1)%n,o=(s+2)%n,h=(r[u].x-r[s].x)*(r[o].y-r[u].y),h-=(r[u].y-r[s].y)*(r[o].x-r[u].x),h<0?a|=1:h>0&&(a|=2),a===3)return!1;return a!==0?!0:null},e.hull=function(r){var a=[],n=[],s,u;for(r=r.slice(0),r.sort(function(o,h){var d=o.x-h.x;return d!==0?d:o.y-h.y}),u=0;u<r.length;u+=1){for(s=r[u];n.length>=2&&f.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}for(u=r.length-1;u>=0;u-=1){for(s=r[u];a.length>=2&&f.cross3(a[a.length-2],a[a.length-1],s)<=0;)a.pop();a.push(s)}return a.pop(),n.pop(),a.concat(n)}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(66),i=t(300),r=t(301),a=t(56),n=t(170),s=new e({initialize:function(o,h,d){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),this.type=a.CIRCLE,this.x=o,this.y=h,this._radius=d,this._diameter=d*2},contains:function(u,o){return f(this,u,o)},getPoint:function(u,o){return i(this,u,o)},getPoints:function(u,o,h){return r(this,u,o,h)},getRandomPoint:function(u){return n(this,u)},setTo:function(u,o,h){return this.x=u,this.y=o,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(u,o){return o===void 0&&(o=u),this.x=u,this.y=o,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this._diameter=u*2}},diameter:{get:function(){return this._diameter},set:function(u){this._diameter=u,this._radius=u*.5}},left:{get:function(){return this.x-this._radius},set:function(u){this.x=u+this._radius}},right:{get:function(){return this.x+this._radius},set:function(u){this.x=u-this._radius}},top:{get:function(){return this.y-this._radius},set:function(u){this.y=u+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(u){this.y=u-this._radius}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(e.radius>0&&f>=e.left&&f<=e.right&&i>=e.top&&i<=e.bottom){var r=(e.x-f)*(e.x-f),a=(e.y-i)*(e.y-i);return r+a<=e.radius*e.radius}else return!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i-f;return f+((e-f)%r+r)%r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(39),i=1e-6,r=new e({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new r(this)},set:function(h){return this.copy(h)},setValues:function(h,d,v,c,m,g,y,E,S,C,P,A,R,M,L,F){var I=this.val;return I[0]=h,I[1]=d,I[2]=v,I[3]=c,I[4]=m,I[5]=g,I[6]=y,I[7]=E,I[8]=S,I[9]=C,I[10]=P,I[11]=A,I[12]=R,I[13]=M,I[14]=L,I[15]=F,this},copy:function(h){var d=h.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,d,v){var c=a.fromQuat(v),m=c.val,g=d.x,y=d.y,E=d.z;return this.setValues(m[0]*g,m[1]*g,m[2]*g,0,m[4]*y,m[5]*y,m[6]*y,0,m[8]*E,m[9]*E,m[10]*E,0,h.x,h.y,h.z,1)},xyz:function(h,d,v){this.identity();var c=this.val;return c[12]=h,c[13]=d,c[14]=v,this},scaling:function(h,d,v){this.zero();var c=this.val;return c[0]=h,c[5]=d,c[10]=v,c[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,d=h[1],v=h[2],c=h[3],m=h[6],g=h[7],y=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=d,h[6]=h[9],h[7]=h[13],h[8]=v,h[9]=m,h[11]=h[14],h[12]=c,h[13]=g,h[14]=y,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,d=h[0],v=h[1],c=h[2],m=h[3],g=h[4],y=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15],N=d*y-v*g,z=d*E-c*g,W=d*S-m*g,$=v*E-c*y,Z=v*S-m*y,D=c*S-m*E,O=C*L-P*M,B=C*F-A*M,G=C*I-R*M,Y=P*F-A*L,V=P*I-R*L,b=A*I-R*F,H=N*b-z*V+W*Y+$*G-Z*B+D*O;return H?(H=1/H,this.setValues((y*b-E*V+S*Y)*H,(c*V-v*b-m*Y)*H,(L*D-F*Z+I*$)*H,(A*Z-P*D-R*$)*H,(E*G-g*b-S*B)*H,(d*b-c*G+m*B)*H,(F*W-M*D-I*z)*H,(C*D-A*W+R*z)*H,(g*V-y*G+S*O)*H,(v*G-d*V-m*O)*H,(M*Z-L*W+I*N)*H,(P*W-C*Z-R*N)*H,(y*B-g*Y-E*O)*H,(d*Y-v*B+c*O)*H,(L*z-M*$-F*N)*H,(C*$-P*z+A*N)*H)):this},adjoint:function(){var h=this.val,d=h[0],v=h[1],c=h[2],m=h[3],g=h[4],y=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15];return this.setValues(y*(A*I-R*F)-P*(E*I-S*F)+L*(E*R-S*A),-(v*(A*I-R*F)-P*(c*I-m*F)+L*(c*R-m*A)),v*(E*I-S*F)-y*(c*I-m*F)+L*(c*S-m*E),-(v*(E*R-S*A)-y*(c*R-m*A)+P*(c*S-m*E)),-(g*(A*I-R*F)-C*(E*I-S*F)+M*(E*R-S*A)),d*(A*I-R*F)-C*(c*I-m*F)+M*(c*R-m*A),-(d*(E*I-S*F)-g*(c*I-m*F)+M*(c*S-m*E)),d*(E*R-S*A)-g*(c*R-m*A)+C*(c*S-m*E),g*(P*I-R*L)-C*(y*I-S*L)+M*(y*R-S*P),-(d*(P*I-R*L)-C*(v*I-m*L)+M*(v*R-m*P)),d*(y*I-S*L)-g*(v*I-m*L)+M*(v*S-m*y),-(d*(y*R-S*P)-g*(v*R-m*P)+C*(v*S-m*y)),-(g*(P*F-A*L)-C*(y*F-E*L)+M*(y*A-E*P)),d*(P*F-A*L)-C*(v*F-c*L)+M*(v*A-c*P),-(d*(y*F-E*L)-g*(v*F-c*L)+M*(v*E-c*y)),d*(y*A-E*P)-g*(v*A-c*P)+C*(v*E-c*y))},determinant:function(){var h=this.val,d=h[0],v=h[1],c=h[2],m=h[3],g=h[4],y=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15],N=d*y-v*g,z=d*E-c*g,W=d*S-m*g,$=v*E-c*y,Z=v*S-m*y,D=c*S-m*E,O=C*L-P*M,B=C*F-A*M,G=C*I-R*M,Y=P*F-A*L,V=P*I-R*L,b=A*I-R*F;return N*b-z*V+W*Y+$*G-Z*B+D*O},multiply:function(h){var d=this.val,v=d[0],c=d[1],m=d[2],g=d[3],y=d[4],E=d[5],S=d[6],C=d[7],P=d[8],A=d[9],R=d[10],M=d[11],L=d[12],F=d[13],I=d[14],N=d[15],z=h.val,W=z[0],$=z[1],Z=z[2],D=z[3];return d[0]=W*v+$*y+Z*P+D*L,d[1]=W*c+$*E+Z*A+D*F,d[2]=W*m+$*S+Z*R+D*I,d[3]=W*g+$*C+Z*M+D*N,W=z[4],$=z[5],Z=z[6],D=z[7],d[4]=W*v+$*y+Z*P+D*L,d[5]=W*c+$*E+Z*A+D*F,d[6]=W*m+$*S+Z*R+D*I,d[7]=W*g+$*C+Z*M+D*N,W=z[8],$=z[9],Z=z[10],D=z[11],d[8]=W*v+$*y+Z*P+D*L,d[9]=W*c+$*E+Z*A+D*F,d[10]=W*m+$*S+Z*R+D*I,d[11]=W*g+$*C+Z*M+D*N,W=z[12],$=z[13],Z=z[14],D=z[15],d[12]=W*v+$*y+Z*P+D*L,d[13]=W*c+$*E+Z*A+D*F,d[14]=W*m+$*S+Z*R+D*I,d[15]=W*g+$*C+Z*M+D*N,this},multiplyLocal:function(h){var d=this.val,v=h.val;return this.setValues(d[0]*v[0]+d[1]*v[4]+d[2]*v[8]+d[3]*v[12],d[0]*v[1]+d[1]*v[5]+d[2]*v[9]+d[3]*v[13],d[0]*v[2]+d[1]*v[6]+d[2]*v[10]+d[3]*v[14],d[0]*v[3]+d[1]*v[7]+d[2]*v[11]+d[3]*v[15],d[4]*v[0]+d[5]*v[4]+d[6]*v[8]+d[7]*v[12],d[4]*v[1]+d[5]*v[5]+d[6]*v[9]+d[7]*v[13],d[4]*v[2]+d[5]*v[6]+d[6]*v[10]+d[7]*v[14],d[4]*v[3]+d[5]*v[7]+d[6]*v[11]+d[7]*v[15],d[8]*v[0]+d[9]*v[4]+d[10]*v[8]+d[11]*v[12],d[8]*v[1]+d[9]*v[5]+d[10]*v[9]+d[11]*v[13],d[8]*v[2]+d[9]*v[6]+d[10]*v[10]+d[11]*v[14],d[8]*v[3]+d[9]*v[7]+d[10]*v[11]+d[11]*v[15],d[12]*v[0]+d[13]*v[4]+d[14]*v[8]+d[15]*v[12],d[12]*v[1]+d[13]*v[5]+d[14]*v[9]+d[15]*v[13],d[12]*v[2]+d[13]*v[6]+d[14]*v[10]+d[15]*v[14],d[12]*v[3]+d[13]*v[7]+d[14]*v[11]+d[15]*v[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,d){var v=h.val,c=d.val,m=v[0],g=v[4],y=v[8],E=v[12],S=v[1],C=v[5],P=v[9],A=v[13],R=v[2],M=v[6],L=v[10],F=v[14],I=v[3],N=v[7],z=v[11],W=v[15],$=c[0],Z=c[4],D=c[8],O=c[12],B=c[1],G=c[5],Y=c[9],V=c[13],b=c[2],H=c[6],j=c[10],q=c[14],et=c[3],ot=c[7],K=c[11],Q=c[15];return this.setValues(m*$+g*B+y*b+E*et,S*$+C*B+P*b+A*et,R*$+M*B+L*b+F*et,I*$+N*B+z*b+W*et,m*Z+g*G+y*H+E*ot,S*Z+C*G+P*H+A*ot,R*Z+M*G+L*H+F*ot,I*Z+N*G+z*H+W*ot,m*D+g*Y+y*j+E*K,S*D+C*Y+P*j+A*K,R*D+M*Y+L*j+F*K,I*D+N*Y+z*j+W*K,m*O+g*V+y*q+E*Q,S*O+C*V+P*q+A*Q,R*O+M*V+L*q+F*Q,I*O+N*V+z*q+W*Q)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,d,v){var c=this.val;return c[12]=c[0]*h+c[4]*d+c[8]*v+c[12],c[13]=c[1]*h+c[5]*d+c[9]*v+c[13],c[14]=c[2]*h+c[6]*d+c[10]*v+c[14],c[15]=c[3]*h+c[7]*d+c[11]*v+c[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,d,v){var c=this.val;return c[0]=c[0]*h,c[1]=c[1]*h,c[2]=c[2]*h,c[3]=c[3]*h,c[4]=c[4]*d,c[5]=c[5]*d,c[6]=c[6]*d,c[7]=c[7]*d,c[8]=c[8]*v,c[9]=c[9]*v,c[10]=c[10]*v,c[11]=c[11]*v,this},makeRotationAxis:function(h,d){var v=Math.cos(d),c=Math.sin(d),m=1-v,g=h.x,y=h.y,E=h.z,S=m*g,C=m*y;return this.setValues(S*g+v,S*y-c*E,S*E+c*y,0,S*y+c*E,C*y+v,C*E-c*g,0,S*E-c*y,C*E+c*g,m*E*E+v,0,0,0,0,1)},rotate:function(h,d){var v=this.val,c=d.x,m=d.y,g=d.z,y=Math.sqrt(c*c+m*m+g*g);if(Math.abs(y)<i)return this;y=1/y,c*=y,m*=y,g*=y;var E=Math.sin(h),S=Math.cos(h),C=1-S,P=v[0],A=v[1],R=v[2],M=v[3],L=v[4],F=v[5],I=v[6],N=v[7],z=v[8],W=v[9],$=v[10],Z=v[11],D=v[12],O=v[13],B=v[14],G=v[15],Y=c*c*C+S,V=m*c*C+g*E,b=g*c*C-m*E,H=c*m*C-g*E,j=m*m*C+S,q=g*m*C+c*E,et=c*g*C+m*E,ot=m*g*C-c*E,K=g*g*C+S;return this.setValues(P*Y+L*V+z*b,A*Y+F*V+W*b,R*Y+I*V+$*b,M*Y+N*V+Z*b,P*H+L*j+z*q,A*H+F*j+W*q,R*H+I*j+$*q,M*H+N*j+Z*q,P*et+L*ot+z*K,A*et+F*ot+W*K,R*et+I*ot+$*K,M*et+N*ot+Z*K,D,O,B,G)},rotateX:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),m=d[4],g=d[5],y=d[6],E=d[7],S=d[8],C=d[9],P=d[10],A=d[11];return d[4]=m*c+S*v,d[5]=g*c+C*v,d[6]=y*c+P*v,d[7]=E*c+A*v,d[8]=S*c-m*v,d[9]=C*c-g*v,d[10]=P*c-y*v,d[11]=A*c-E*v,this},rotateY:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),m=d[0],g=d[1],y=d[2],E=d[3],S=d[8],C=d[9],P=d[10],A=d[11];return d[0]=m*c-S*v,d[1]=g*c-C*v,d[2]=y*c-P*v,d[3]=E*c-A*v,d[8]=m*v+S*c,d[9]=g*v+C*c,d[10]=y*v+P*c,d[11]=E*v+A*c,this},rotateZ:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),m=d[0],g=d[1],y=d[2],E=d[3],S=d[4],C=d[5],P=d[6],A=d[7];return d[0]=m*c+S*v,d[1]=g*c+C*v,d[2]=y*c+P*v,d[3]=E*c+A*v,d[4]=S*c-m*v,d[5]=C*c-g*v,d[6]=P*c-y*v,d[7]=A*c-E*v,this},fromRotationTranslation:function(h,d){var v=h.x,c=h.y,m=h.z,g=h.w,y=v+v,E=c+c,S=m+m,C=v*y,P=v*E,A=v*S,R=c*E,M=c*S,L=m*S,F=g*y,I=g*E,N=g*S;return this.setValues(1-(R+L),P+N,A-I,0,P-N,1-(C+L),M+F,0,A+I,M-F,1-(C+R),0,d.x,d.y,d.z,1)},fromQuat:function(h){var d=h.x,v=h.y,c=h.z,m=h.w,g=d+d,y=v+v,E=c+c,S=d*g,C=d*y,P=d*E,A=v*y,R=v*E,M=c*E,L=m*g,F=m*y,I=m*E;return this.setValues(1-(A+M),C+I,P-F,0,C-I,1-(S+M),R+L,0,P+F,R-L,1-(S+A),0,0,0,0,1)},frustum:function(h,d,v,c,m,g){var y=1/(d-h),E=1/(c-v),S=1/(m-g);return this.setValues(m*2*y,0,0,0,0,m*2*E,0,0,(d+h)*y,(c+v)*E,(g+m)*S,-1,0,0,g*m*2*S,0)},perspective:function(h,d,v,c){var m=1/Math.tan(h/2),g=1/(v-c);return this.setValues(m/d,0,0,0,0,m,0,0,0,0,(c+v)*g,-1,0,0,2*c*v*g,0)},perspectiveLH:function(h,d,v,c){return this.setValues(2*v/h,0,0,0,0,2*v/d,0,0,0,0,-c/(v-c),1,0,0,v*c/(v-c),0)},ortho:function(h,d,v,c,m,g){var y=h-d,E=v-c,S=m-g;return y=y===0?y:1/y,E=E===0?E:1/E,S=S===0?S:1/S,this.setValues(-2*y,0,0,0,0,-2*E,0,0,0,0,2*S,0,(h+d)*y,(c+v)*E,(g+m)*S,1)},lookAtRH:function(h,d,v){var c=this.val;return o.subVectors(h,d),o.getLengthSquared()===0&&(o.z=1),o.normalize(),s.crossVectors(v,o),s.getLengthSquared()===0&&(Math.abs(v.z)===1?o.x+=1e-4:o.z+=1e-4,o.normalize(),s.crossVectors(v,o)),s.normalize(),u.crossVectors(o,s),c[0]=s.x,c[1]=s.y,c[2]=s.z,c[4]=u.x,c[5]=u.y,c[6]=u.z,c[8]=o.x,c[9]=o.y,c[10]=o.z,this},lookAt:function(h,d,v){var c=h.x,m=h.y,g=h.z,y=v.x,E=v.y,S=v.z,C=d.x,P=d.y,A=d.z;if(Math.abs(c-C)<i&&Math.abs(m-P)<i&&Math.abs(g-A)<i)return this.identity();var R=c-C,M=m-P,L=g-A,F=1/Math.sqrt(R*R+M*M+L*L);R*=F,M*=F,L*=F;var I=E*L-S*M,N=S*R-y*L,z=y*M-E*R;F=Math.sqrt(I*I+N*N+z*z),F?(F=1/F,I*=F,N*=F,z*=F):(I=0,N=0,z=0);var W=M*z-L*N,$=L*I-R*z,Z=R*N-M*I;return F=Math.sqrt(W*W+$*$+Z*Z),F?(F=1/F,W*=F,$*=F,Z*=F):(W=0,$=0,Z=0),this.setValues(I,W,R,0,N,$,M,0,z,Z,L,0,-(I*c+N*m+z*g),-(W*c+$*m+Z*g),-(R*c+M*m+L*g),1)},yawPitchRoll:function(h,d,v){this.zero(),a.zero(),n.zero();var c=this.val,m=a.val,g=n.val,y=Math.sin(v),E=Math.cos(v);return c[10]=1,c[15]=1,c[0]=E,c[1]=y,c[4]=-y,c[5]=E,y=Math.sin(d),E=Math.cos(d),m[0]=1,m[15]=1,m[5]=E,m[10]=E,m[9]=-y,m[6]=y,y=Math.sin(h),E=Math.cos(h),g[5]=1,g[15]=1,g[0]=E,g[2]=-y,g[8]=y,g[10]=E,this.multiplyLocal(a),this.multiplyLocal(n),this},setWorldMatrix:function(h,d,v,c,m){return this.yawPitchRoll(h.y,h.x,h.z),a.scaling(v.x,v.y,v.z),n.xyz(d.x,d.y,d.z),this.multiplyLocal(a),this.multiplyLocal(n),c&&this.multiplyLocal(c),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,d){var v=this.val,c=h.val,m=v[0],g=v[1],y=v[2],E=v[3],S=v[4],C=v[5],P=v[6],A=v[7],R=v[8],M=v[9],L=v[10],F=v[11],I=v[12],N=v[13],z=v[14],W=v[15],$=c[0],Z=c[1],D=c[2],O=c[3],B=c[4],G=c[5],Y=c[6],V=c[7],b=c[8],H=c[9],j=c[10],q=c[11],et=c[12],ot=c[13],K=c[14],Q=c[15];return d.setValues($*m+Z*S+D*R+O*I,Z*g+Z*C+D*M+O*N,D*y+Z*P+D*L+O*z,O*E+Z*A+D*F+O*W,B*m+G*S+Y*R+V*I,B*g+G*C+Y*M+V*N,B*y+G*P+Y*L+V*z,B*E+G*A+Y*F+V*W,b*m+H*S+j*R+q*I,b*g+H*C+j*M+q*N,b*y+H*P+j*L+q*z,b*E+H*A+j*F+q*W,et*m+ot*S+K*R+Q*I,et*g+ot*C+K*M+Q*N,et*y+ot*P+K*L+Q*z,et*E+ot*A+K*F+Q*W)},fromRotationXYTranslation:function(h,d,v){var c=d.x,m=d.y,g=d.z,y=Math.sin(h.x),E=Math.cos(h.x),S=Math.sin(h.y),C=Math.cos(h.y),P=c,A=m,R=g,M=-y,L=0-M*S,F=0-E*S,I=M*C,N=E*C;return v||(P=C*c+S*g,A=L*c+E*m+I*g,R=F*c+y*m+N*g),this.setValues(C,L,F,0,0,E,y,0,S,I,N,0,P,A,R,1)},getMaxScaleOnAxis:function(){var h=this.val,d=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],v=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],c=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(d,v,c))}}),a=new r,n=new r,s=new f,u=new f,o=new f;l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function u(o,h,d,v,c){var m="png",g;if(n(h)){var y=h;h=a(y,"key"),d=a(y,"url"),g=a(y,"normalMap"),v=a(y,"xhrSettings"),m=a(y,"extension",m),c=a(y,"frameConfig")}Array.isArray(d)&&(g=d[1],d=d[0]);var E={type:"image",cache:o.textureManager,extension:m,responseType:"blob",key:h,url:d,xhrSettings:v,config:c};if(i.call(this,o,E),g){var S=new u(o,this.key,g,v,c);S.type="normalMap",this.setLink(S),o.addFile(S)}},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){i.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(u.data),u.onProcessError()},i.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var u,o=this.linkFile;o&&o.state===f.FILE_COMPLETE?(this.type==="image"?u=this.cache.addImage(this.key,this.data,o.data):u=this.cache.addImage(o.key,o.data,this.data),this.pendingDestroy(u),o.pendingDestroy(u)):o||(u=this.cache.addImage(this.key,this.data),this.pendingDestroy(u))}});r.register("image",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),f=t(0),i=t(11),r=t(15),a=t(1065),n=new f({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,a],initialize:function(u,o,h,d,v){r.call(this,u,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(d,v),this.setPosition(o,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,u){this.anims.update(s,u)},play:function(s,u){return this.anims.play(s,u)},playReverse:function(s,u){return this.anims.playReverse(s,u)},playAfterDelay:function(s,u){return this.anims.playAfterDelay(s,u)},playAfterRepeat:function(s,u){return this.anims.playAfterRepeat(s,u)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return i.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){if(!(f>=e.length)){for(var i=e.length-1,r=e[f],a=f;a<i;a++)e[a]=e[a+1];return e.length=i,r}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return i===void 0&&(i=0),f===0?e:(e-=i,e=f*Math.floor(e/f),r?(i+e)/f:i+e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f={};for(var i in e)Array.isArray(e[i])?f[i]=e[i].slice(0):f[i]=e[i];return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=e.length;if(f<0||f>a||f>=i||i>a||f+i>a){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){return String(r).localeCompare(a)}function e(r,a){var n=r.length;if(n<=1)return r;for(var s=new Array(n),u=1;u<n;u*=2){f(r,a,u,s);var o=r;r=s,s=o}return r}function f(r,a,n,s){var u=r.length,o=0,h=n*2,d,v,c,m,g;for(d=0;d<u;d+=h)for(v=d+n,c=v+n,v>u&&(v=u),c>u&&(c=u),m=d,g=v;;)if(m<v&&g<c)a(r[m],r[g])<=0?s[o++]=r[m++]:s[o++]=r[g++];else if(m<v)s[o++]=r[m++];else if(g<c)s[o++]=r[g++];else break}var i=function(r,a){a===void 0&&(a=t);var n=e(r,a);return n!==r&&f(n,null,r.length,r),r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),f=t(205),i=function(r,a){var n=e.Power0;if(typeof r=="string")if(e.hasOwnProperty(r))n=e[r];else{var s="";r.indexOf(".")&&(s=r.substr(r.indexOf(".")+1),s.toLowerCase()==="in"?s="easeIn":s.toLowerCase()==="out"?s="easeOut":s.toLowerCase()==="inout"&&(s="easeInOut")),r=f(r.substr(0,r.indexOf(".")+1)+s),e.hasOwnProperty(r)&&(n=e[r])}else typeof r=="function"?n=r:Array.isArray(r)&&r.length;if(!a)return n;var u=a.slice(0);return u.unshift(0),function(o){return u[0]=o,n.apply(this,u)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a,n,s){var u=i.strokeTint,o=e.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*a);u.TL=o,u.TR=o,u.BL=o,u.BR=o;var h=r.pathData,d=h.length-1,v=r.lineWidth,c=v/2,m=h[0]-n,g=h[1]-s;r.closePath||(d-=2);for(var y=2;y<d;y+=2){var E=h[y]-n,S=h[y+1]-s;i.batchLine(m,g,E,S,c,c,v,y-2,r.closePath?y===d-1:!1),m=E,g=S}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(115),i=t(476),r=t(477),a=t(56),n=t(47),s=t(181),u=new e({initialize:function(h,d,v,c,m,g){h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=0),this.type=a.TRIANGLE,this.x1=h,this.y1=d,this.x2=v,this.y2=c,this.x3=m,this.y3=g},contains:function(o,h){return f(this,o,h)},getPoint:function(o,h){return i(this,o,h)},getPoints:function(o,h,d){return r(this,o,h,d)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,h,d,v,c,m){return o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),m===void 0&&(m=0),this.x1=o,this.y1=h,this.x2=d,this.y2=v,this.x3=c,this.y3=m,this},getLineA:function(o){return o===void 0&&(o=new n),o.setTo(this.x1,this.y1,this.x2,this.y2),o},getLineB:function(o){return o===void 0&&(o=new n),o.setTo(this.x2,this.y2,this.x3,this.y3),o},getLineC:function(o){return o===void 0&&(o=new n),o.setTo(this.x3,this.y3,this.x1,this.y1),o},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(o){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-o:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-o:h=this.x3-o,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(o){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-o:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-o:h=this.x3-o,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(o){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-o:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-o:h=this.y3-o,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(o){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-o:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-o:h=this.y3-o,this.y1-=h,this.y2-=h,this.y3-=h}}});l.exports=u},function(l,x){var t={};l.exports=t,function(){t.create=function(e,f){return{x:e||0,y:f||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,f,i){var r=Math.cos(f),a=Math.sin(f);i||(i={});var n=e.x*r-e.y*a;return i.y=e.x*a+e.y*r,i.x=n,i},t.rotateAbout=function(e,f,i,r){var a=Math.cos(f),n=Math.sin(f);r||(r={});var s=i.x+((e.x-i.x)*a-(e.y-i.y)*n);return r.y=i.y+((e.x-i.x)*n+(e.y-i.y)*a),r.x=s,r},t.normalise=function(e){var f=t.magnitude(e);return f===0?{x:0,y:0}:{x:e.x/f,y:e.y/f}},t.dot=function(e,f){return e.x*f.x+e.y*f.y},t.cross=function(e,f){return e.x*f.y-e.y*f.x},t.cross3=function(e,f,i){return(f.x-e.x)*(i.y-e.y)-(f.y-e.y)*(i.x-e.x)},t.add=function(e,f,i){return i||(i={}),i.x=e.x+f.x,i.y=e.y+f.y,i},t.sub=function(e,f,i){return i||(i={}),i.x=e.x-f.x,i.y=e.y-f.y,i},t.mult=function(e,f){return{x:e.x*f,y:e.y*f}},t.div=function(e,f){return{x:e.x/f,y:e.y/f}},t.perp=function(e,f){return f=f===!0?-1:1,{x:f*-e.y,y:f*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(l,x){var t={};l.exports=t,function(){t.create=function(e){var f={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(f,e),f},t.update=function(e,f,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<f.length;r++){var a=f[r];a.x>e.max.x&&(e.max.x=a.x),a.x<e.min.x&&(e.min.x=a.x),a.y>e.max.y&&(e.max.y=a.y),a.y<e.min.y&&(e.min.y=a.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},t.contains=function(e,f){return f.x>=e.min.x&&f.x<=e.max.x&&f.y>=e.min.y&&f.y<=e.max.y},t.overlaps=function(e,f){return e.min.x<=f.max.x&&e.max.x>=f.min.x&&e.max.y>=f.min.y&&e.min.y<=f.max.y},t.translate=function(e,f){e.min.x+=f.x,e.max.x+=f.x,e.min.y+=f.y,e.max.y+=f.y},t.shift=function(e,f){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=f.x,e.max.x=f.x+i,e.min.y=f.y,e.max.y=f.y+r}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(0),i=t(11),r=t(502),a=new f({Mixins:[i.Alpha,i.Flip,i.Visible],initialize:function(s,u,o,h,d,v,c,m){this.layer=s,this.index=u,this.x=o,this.y=h,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=c!==void 0?c:d,this.baseHeight=m!==void 0?m:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(n,s){return!(n<this.pixelX||s<this.pixelY||n>this.right||s>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=n.properties,this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var s=this.tilemapLayer;return s?s.tileToWorldX(this.x,n):this.x*this.baseWidth},getRight:function(n){var s=this.tilemapLayer;return s?this.getLeft(n)+this.width*s.scaleX:this.getLeft(n)+this.width},getTop:function(n){var s=this.tilemapLayer;return s?s.tileToWorldY(this.y,n)-(this.height-this.baseHeight)*s.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(n){var s=this.tilemapLayer;return s?this.getTop(n)+this.height*s.scaleY:this.getTop(n)+this.height},getBounds:function(n,s){return s===void 0&&(s=new r),s.x=this.getLeft(),s.y=this.getTop(),s.width=this.getRight()-s.x,s.height=this.getBottom()-s.y,s},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,s,u,o){return!(u<=this.pixelX||o<=this.pixelY||n>=this.right||s>=this.bottom)},isInteresting:function(n,s){return n&&s?this.canCollide||this.hasInterestingFace:n?this.collides:s?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var s=this.tilemapLayer;s&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,s,u,o,h){if(s===void 0&&(s=n),u===void 0&&(u=n),o===void 0&&(o=n),h===void 0&&(h=!0),this.collideLeft=n,this.collideRight=s,this.collideUp=u,this.collideDown=o,this.faceLeft=n,this.faceRight=s,this.faceTop=u,this.faceBottom=o,h){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,s){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=s),this},setSize:function(n,s,u,o){return n!==void 0&&(this.width=n),s!==void 0&&(this.height=s),u!==void 0&&(this.baseWidth=u),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===e.HEXAGONAL){var s=this.layer.hexSideLength,u=(this.baseHeight-s)/2+s;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*u}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var s=n.gidMap[this.index];if(s)return s}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});l.exports=a},function(l,x,t){var e={};l.exports=e;var f=t(64),i=t(32),r=t(41),a=t(84),n=t(83),s=t(1393);(function(){e.rectangle=function(u,o,h,d,v){v=v||{};var c={label:"Rectangle Body",position:{x:u,y:o},vertices:f.fromPath("L 0 0 L "+h+" 0 L "+h+" "+d+" L 0 "+d)};if(v.chamfer){var m=v.chamfer;c.vertices=f.chamfer(c.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete v.chamfer}return r.create(i.extend({},c,v))},e.trapezoid=function(u,o,h,d,v,c){c=c||{},v*=.5;var m=(1-v*2)*h,g=h*v,y=g+m,E=y+g,S;v<.5?S="L 0 0 L "+g+" "+-d+" L "+y+" "+-d+" L "+E+" 0":S="L 0 0 L "+y+" "+-d+" L "+E+" 0";var C={label:"Trapezoid Body",position:{x:u,y:o},vertices:f.fromPath(S)};if(c.chamfer){var P=c.chamfer;C.vertices=f.chamfer(C.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete c.chamfer}return r.create(i.extend({},C,c))},e.circle=function(u,o,h,d,v){d=d||{};var c={label:"Circle Body",circleRadius:h};v=v||25;var m=Math.ceil(Math.max(10,Math.min(v,h)));return m%2===1&&(m+=1),e.polygon(u,o,m,h,i.extend({},c,d))},e.polygon=function(u,o,h,d,v){if(v=v||{},h<3)return e.circle(u,o,d,v);for(var c=2*Math.PI/h,m="",g=c*.5,y=0;y<h;y+=1){var E=g+y*c,S=Math.cos(E)*d,C=Math.sin(E)*d;m+="L "+S.toFixed(3)+" "+C.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:u,y:o},vertices:f.fromPath(m)};if(v.chamfer){var A=v.chamfer;P.vertices=f.chamfer(P.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete v.chamfer}return r.create(i.extend({},P,v))},e.fromVertices=function(u,o,h,d,v,c,m){var g,y,E,S,C,P;for(d=d||{},y=[],v=typeof v<"u"?v:!1,c=typeof c<"u"?c:.01,m=typeof m<"u"?m:10,s||i.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),i.isArray(h[0])||(h=[h]),P=0;P<h.length;P+=1)if(S=h[P],E=f.isConvex(S),E||!s)E?S=f.clockwiseSort(S):S=f.hull(S),y.push({position:{x:u,y:o},vertices:S});else{var A=S.map(function(F){return[F.x,F.y]});s.makeCCW(A),c!==!1&&s.removeCollinearPoints(A,c);var R=s.quickDecomp(A);for(C=0;C<R.length;C++){var M=R[C],L=M.map(function(F){return{x:F[0],y:F[1]}});m>0&&f.area(L)<m||y.push({position:f.centre(L),vertices:L})}}for(C=0;C<y.length;C++)y[C]=r.create(i.extend(y[C],d));return v&&e.flagCoincidentParts(y,5),y.length>1?(g=r.create(i.extend({parts:y.slice(0)},d)),r.setPosition(g,{x:u,y:o}),g):y[0]},e.flagCoincidentParts=function(u,o){o===void 0&&(o=5);for(var h=0;h<u.length;h++)for(var d=u[h],v=h+1;v<u.length;v++){var c=u[v];if(a.overlaps(d.bounds,c.bounds))for(var m=d.vertices,g=c.vertices,y=0;y<d.vertices.length;y++)for(var E=0;E<c.vertices.length;E++){var S=n.magnitudeSquared(n.sub(m[(y+1)%m.length],g[E])),C=n.magnitudeSquared(n.sub(m[y],g[(E+1)%g.length]));S<o&&C<o&&(m[y].isInternal=!0,g[E].isInternal=!0)}}return u}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.width*e.originX;return e.x=f+i-e.width*.5,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.height*e.originY;return e.y=f+i-e.height*.5,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),f=function(i,r,a,n){n===void 0&&(n=i);var s;if(!Array.isArray(r))return s=i.indexOf(r),s!==-1?(e(i,s),a&&a.call(n,r),r):null;for(var u=r.length-1,o=[];u>=0;){var h=r[u];s=i.indexOf(h),s!==-1&&(e(i,s),o.push(h),a&&a.call(n,h)),u--}return o};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(199),i=t(10),r=t(3),a=new e({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(n,s){return s===void 0&&(s=32),n.strokePoints(this.getPoints(s))},getBounds:function(n,s){n||(n=new i),s===void 0&&(s=16);var u=this.getLength();s>u&&(s=u/2);var o=Math.max(1,Math.round(u/s));return f(this.getSpacedPoints(o),n)},getDistancePoints:function(n){var s=this.getLength(),u=Math.max(1,s/n);return this.getSpacedPoints(u)},getEndPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],u,o=this.getPoint(0,this._tmpVec2A),h=0;s.push(0);for(var d=1;d<=n;d++)u=this.getPoint(d/n,this._tmpVec2B),h+=u.distance(o),s.push(h),o.copy(u);return this.cacheArcLengths=s,s},getPointAt:function(n,s){var u=this.getUtoTmapping(n);return this.getPoint(u,s)},getPoints:function(n,s,u){u===void 0&&(u=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var o=0;o<=n;o++)u.push(this.getPoint(o/n));return u},getRandomPoint:function(n){return n===void 0&&(n=new r),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,s,u){u===void 0&&(u=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var o=0;o<=n;o++){var h=this.getUtoTmapping(o/n,null,n);u.push(this.getPoint(h))}return u},getStartPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(0,n)},getTangent:function(n,s){s===void 0&&(s=new r);var u=1e-4,o=n-u,h=n+u;return o<0&&(o=0),h>1&&(h=1),this.getPoint(o,this._tmpVec2A),this.getPoint(h,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,s){var u=this.getUtoTmapping(n);return this.getTangent(u,s)},getTFromDistance:function(n,s){return n<=0?0:this.getUtoTmapping(0,n,s)},getUtoTmapping:function(n,s,u){var o=this.getLengths(u),h=0,d=o.length,v;s?v=Math.min(s,o[d-1]):v=n*o[d-1];for(var c=0,m=d-1,g;c<=m;)if(h=Math.floor(c+(m-c)/2),g=o[h]-v,g<0)c=h+1;else if(g>0)m=h-1;else{m=h;break}if(h=m,o[h]===v)return h/(d-1);var y=o[h],E=o[h+1],S=E-y,C=(v-y)/S;return(h+C)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){a===void 0&&(a=new e);var n=i.x1,s=i.y1,u=i.x2,o=i.y2,h=r.x1,d=r.y1,v=r.x2,c=r.y2,m=(v-h)*(s-d)-(c-d)*(n-h),g=(u-n)*(s-d)-(o-s)*(n-h),y=(c-d)*(u-n)-(v-h)*(o-s);if(y===0)return!1;var E=m/y,S=g/y;return E>=0&&E<=1&&S>=0&&S<=1?(a.x=n+E*(u-n),a.y=s+E*(o-s),!0):!1};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=function(i,r,a){return i=e(i,0,1),(a-r)*i+r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e&&e.hasOwnProperty(f)?e[f]:i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(315),i=new e({initialize:function(a,n){this.parent=a,this.events=n,n||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(f.DESTROY,this.destroy,this)},get:function(r){var a=this.list;if(Array.isArray(r)){for(var n=[],s=0;s<r.length;s++)n.push(a[r[s]]);return n}else return a[r]},getAll:function(){var r={};for(var a in this.list)this.list.hasOwnProperty(a)&&(r[a]=this.list[a]);return r},query:function(r){var a={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(r)&&(a[n]=this.list[n]);return a},set:function(r,a){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,a);for(var n in r)this.setValue(n,r[n]);return this},inc:function(r,a){if(this._frozen)return this;a===void 0&&(a=1);var n=this.get(r);return n===void 0&&(n=0),this.set(r,n+a),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,a){if(this._frozen)return this;if(this.has(r))this.values[r]=a;else{var n=this,s=this.list,u=this.events,o=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(h){if(!n._frozen){var d=s[r];s[r]=h,u.emit(f.CHANGE_DATA,o,r,h,d),u.emit(f.CHANGE_DATA_KEY+r,o,h,d)}}}),s[r]=a,u.emit(f.SET_DATA,o,r,a)}return this},each:function(r,a){for(var n=[this.parent,null,void 0],s=1;s<arguments.length;s++)n.push(arguments[s]);for(var u in this.list)n[1]=u,n[2]=this.list[u],r.apply(a,n);return this},merge:function(r,a){a===void 0&&(a=!0);for(var n in r)r.hasOwnProperty(n)&&(a||!a&&!this.has(n))&&this.setValue(n,r[n]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var a=0;a<r.length;a++)this.removeValue(r[a]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var a=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(f.REMOVE_DATA,this.parent,r,a)}return this},pop:function(r){var a=void 0;return!this._frozen&&this.has(r)&&(a=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(f.REMOVE_DATA,this.parent,r,a)),a},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(f.CHANGE_DATA),this.events.off(f.SET_DATA),this.events.off(f.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var a in this.list)this.list[a]!==void 0&&r++;return r}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a][0],r[a][1])},set:function(i,r){return this.has(i)||this.size++,this.entries[i]=r,this},get:function(i){if(this.has(i))return this.entries[i]},getArray:function(){var i=[],r=this.entries;for(var a in r)i.push(r[a]);return i},has:function(i){return this.entries.hasOwnProperty(i)},delete:function(i){return this.has(i)&&(delete this.entries[i],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(i){delete this.entries[i]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var i=[],r=this.entries;for(var a in r)i.push(r[a]);return i},dump:function(){var i=this.entries;console.group("Map");for(var r in i)console.log(r,i[r]);console.groupEnd()},each:function(i){var r=this.entries;for(var a in r)if(i(a,r[a])===!1)break;return this},contains:function(i){var r=this.entries;for(var a in r)if(r[a]===i)return!0;return!1},merge:function(i,r){r===void 0&&(r=!1);var a=this.entries,n=i.entries;for(var s in n)a.hasOwnProperty(s)&&r?a[s]=n[s]:this.set(s,n[s]);return this}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e<<16|f<<8|i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(l,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var f={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return f;var r=navigator.userAgent;/Windows/.test(r)?f.windows=!0:/Mac OS/.test(r)&&!/like Mac OS/.test(r)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(f.iOS=!0,f.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),f.iOSVersion=parseInt(RegExp.$1,10)):f.macOS=!0:/Android/.test(r)?f.android=!0:/Linux/.test(r)?f.linux=!0:/iP[ao]d|iPhone/i.test(r)?(f.iOS=!0,navigator.appVersion.match(/OS (\d+)/),f.iOSVersion=parseInt(RegExp.$1,10),f.iPhone=r.toLowerCase().indexOf("iphone")!==-1,f.iPad=r.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(r)||/\bKF[A-Z][A-Z]+/.test(r)||/Silk.*Mobile Safari/.test(r)?f.kindle=!0:/CrOS/.test(r)&&(f.chromeOS=!0),(/Windows Phone/i.test(r)||/IEMobile/i.test(r))&&(f.android=!1,f.iOS=!1,f.macOS=!1,f.windows=!0,f.windowsPhone=!0);var a=/Silk/.test(r);return(f.windows||f.macOS||f.linux&&!a||f.chromeOS)&&(f.desktop=!0),(f.windowsPhone||/Windows NT/i.test(r)&&/Touch/i.test(r))&&(f.desktop=!1),navigator.standalone&&(f.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(f.cordova=!0),window.ejecta!==void 0&&(f.ejecta=!0)),typeof e<"u"&&e.versions&&e.versions.node&&(f.node=!0),f.node&&typeof e.versions=="object"&&(f.nodeWebkit=!!e.versions["node-webkit"],f.electron=!!e.versions.electron),/Crosswalk/.test(r)&&(f.crosswalk=!0),f.pixelRatio=window.devicePixelRatio||1,f}l.exports=i()}).call(this,t(807))},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(59),i=t(2),r=t(878),a=t(879),n=t(25),s=t(12),u=t(107),o=t(58),h=new e({Extends:o,initialize:function(v){var c=v.game.renderer,m=i(v,"fragShader",r);v.fragShader=s.parseFragmentShaderMaxTextures(m,c.maxTextures),v.vertShader=i(v,"vertShader",a),v.attributes=i(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:u.UNSIGNED_BYTE,normalized:!0}]),o.call(this,v),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){o.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(d,v,c){this.manager.set(this,d);var m=this._tempMatrix1,g=this._tempMatrix2,y=this._tempMatrix3,E=d.frame,S=E.glTexture,C=E.u0,P=E.v0,A=E.u1,R=E.v1,M=E.x,L=E.y,F=E.cutWidth,I=E.cutHeight,N=E.customPivot,z=d.displayOriginX,W=d.displayOriginY,$=-z+M,Z=-W+L;if(d.isCropped){var D=d._crop;(D.flipX!==d.flipX||D.flipY!==d.flipY)&&E.updateCropUVs(D,d.flipX,d.flipY),C=D.u0,P=D.v0,A=D.u1,R=D.v1,F=D.width,I=D.height,M=D.x,L=D.y,$=-z+M,Z=-W+L}var O=1,B=1;d.flipX&&(N||($+=-E.realWidth+z*2),O=-1),(d.flipY||E.source.isGLTexture&&!S.flipY)&&(N||(Z+=-E.realHeight+W*2),B=-1),g.applyITRS(d.x,d.y,d.rotation,d.scaleX*O,d.scaleY*B),m.copyFrom(v.matrix),c?(m.multiplyWithOffset(c,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),g.e=d.x,g.f=d.y):(g.e-=v.scrollX*d.scrollFactorX,g.f-=v.scrollY*d.scrollFactorY),m.multiply(g,y);var G=$+F,Y=Z+I,V=v.roundPixels,b=y.getXRound($,Z,V),H=y.getYRound($,Z,V),j=y.getXRound($,Y,V),q=y.getYRound($,Y,V),et=y.getXRound(G,Y,V),ot=y.getYRound(G,Y,V),K=y.getXRound(G,Z,V),Q=y.getYRound(G,Z,V),tt=s.getTintAppendFloatAlpha,nt=v.alpha,ut=tt(d.tintTopLeft,nt*d._alphaTL),pt=tt(d.tintTopRight,nt*d._alphaTR),vt=tt(d.tintBottomLeft,nt*d._alphaBL),at=tt(d.tintBottomRight,nt*d._alphaBR);this.shouldFlush(6)&&this.flush();var yt=this.setGameObject(d,E);this.manager.preBatch(d),this.batchQuad(d,b,H,j,q,et,ot,K,Q,C,P,A,R,ut,pt,vt,at,d.tintFill,S,yt),this.manager.postBatch(d)},batchTexture:function(d,v,c,m,g,y,E,S,C,P,A,R,M,L,F,I,N,z,W,$,Z,D,O,B,G,Y,V,b,H,j,q,et){this.manager.set(this,d);var ot=this._tempMatrix1,K=this._tempMatrix2,Q=this._tempMatrix3,tt=z/c+V,nt=W/m+b,ut=(z+$)/c+V,pt=(W+Z)/m+b,vt=E,at=S,yt=-I,lt=-N;if(d.isCropped){var Tt=d._crop,Pt=Tt.width,Lt=Tt.height;vt=Pt,at=Lt,E=Pt,S=Lt,z=Tt.x,W=Tt.y;var At=z,Mt=W;R&&(At=$-Tt.x-Pt),M&&(Mt=Z-Tt.y-Lt),tt=At/c+V,nt=Mt/m+b,ut=(At+Pt)/c+V,pt=(Mt+Lt)/m+b,yt=-I+z,lt=-N+W}M=M^(!q&&v.isRenderTexture?1:0),R&&(vt*=-1,yt+=E),M&&(at*=-1,lt+=S);var Bt=yt+vt,It=lt+at;K.applyITRS(g,y,A,C,P),ot.copyFrom(H.matrix),j?(ot.multiplyWithOffset(j,-H.scrollX*L,-H.scrollY*F),K.e=g,K.f=y):(K.e-=H.scrollX*L,K.f-=H.scrollY*F),ot.multiply(K,Q);var Yt=H.roundPixels,ie=Q.getXRound(yt,lt,Yt),ae=Q.getYRound(yt,lt,Yt),Le=Q.getXRound(yt,It,Yt),Wt=Q.getYRound(yt,It,Yt),Me=Q.getXRound(Bt,It,Yt),ve=Q.getYRound(Bt,It,Yt),Xt=Q.getXRound(Bt,lt,Yt),Oe=Q.getYRound(Bt,lt,Yt);et===void 0&&(et=this.renderer.setTexture2D(v)),d&&this.manager.preBatch(d),this.batchQuad(d,ie,ae,Le,Wt,Me,ve,Xt,Oe,tt,nt,ut,pt,D,O,B,G,Y,v,et),d&&this.manager.postBatch(d)},batchTextureFrame:function(d,v,c,m,g,y,E){this.manager.set(this);var S=this._tempMatrix1.copyFrom(y),C=this._tempMatrix2,P=v+d.width,A=c+d.height;E?S.multiply(E,C):C=S;var R=C.getX(v,c),M=C.getY(v,c),L=C.getX(v,A),F=C.getY(v,A),I=C.getX(P,A),N=C.getY(P,A),z=C.getX(P,c),W=C.getY(P,c),$=this.renderer.setTextureSource(d.source);m=s.getTintAppendFloatAlpha(m,g),this.batchQuad(null,R,M,L,F,I,N,z,W,d.u0,d.v0,d.u1,d.v1,m,m,m,m,0,d.glTexture,$)},batchFillRect:function(d,v,c,m,g,y){this.renderer.pipelines.set(this);var E=this.calcMatrix;y&&y.multiply(g,E);var S=d+c,C=v+m,P=E.getX(d,v),A=E.getY(d,v),R=E.getX(d,C),M=E.getY(d,C),L=E.getX(S,C),F=E.getY(S,C),I=E.getX(S,v),N=E.getY(S,v),z=this.fillTint;this.batchQuad(null,P,A,R,M,L,F,I,N,0,0,1,1,z.TL,z.TR,z.BL,z.BR,2)},batchFillTriangle:function(d,v,c,m,g,y,E,S){this.renderer.pipelines.set(this);var C=this.calcMatrix;S&&S.multiply(E,C);var P=C.getX(d,v),A=C.getY(d,v),R=C.getX(c,m),M=C.getY(c,m),L=C.getX(g,y),F=C.getY(g,y),I=this.fillTint;this.batchTri(null,P,A,R,M,L,F,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(d,v,c,m,g,y,E,S,C){var P=this.tempTriangle;P[0].x=d,P[0].y=v,P[0].width=E,P[1].x=c,P[1].y=m,P[1].width=E,P[2].x=g,P[2].y=y,P[2].width=E,P[3].x=d,P[3].y=v,P[3].width=E,this.batchStrokePath(P,E,!1,S,C)},batchFillPath:function(d,v,c){this.renderer.pipelines.set(this);var m=this.calcMatrix;c&&c.multiply(v,m);for(var g=d.length,y=this.polygonCache,E,S,C=this.fillTint.TL,P=this.fillTint.TR,A=this.fillTint.BL,R=0;R<g;++R)S=d[R],y.push(S.x,S.y);E=f(y),g=E.length;for(var M=0;M<g;M+=3){var L=E[M+0]*2,F=E[M+1]*2,I=E[M+2]*2,N=y[L+0],z=y[L+1],W=y[F+0],$=y[F+1],Z=y[I+0],D=y[I+1],O=m.getX(N,z),B=m.getY(N,z),G=m.getX(W,$),Y=m.getY(W,$),V=m.getX(Z,D),b=m.getY(Z,D);this.batchTri(null,O,B,G,Y,V,b,0,0,1,1,C,P,A,2)}y.length=0},batchStrokePath:function(d,v,c,m,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=d.length-1,E=0;E<y;E++){var S=d[E],C=d[E+1];this.batchLine(S.x,S.y,C.x,C.y,S.width/2,C.width/2,v,E,!c&&E===y-1,m,g)}},batchLine:function(d,v,c,m,g,y,E,S,C,P,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(P,R);var M=c-d,L=m-v,F=Math.sqrt(M*M+L*L),I=g*(m-v)/F,N=g*(d-c)/F,z=y*(m-v)/F,W=y*(d-c)/F,$=c-z,Z=m-W,D=d-I,O=v-N,B=c+z,G=m+W,Y=d+I,V=v+N,b=R.getX($,Z),H=R.getY($,Z),j=R.getX(D,O),q=R.getY(D,O),et=R.getX(B,G),ot=R.getY(B,G),K=R.getX(Y,V),Q=R.getY(Y,V),tt=this.strokeTint,nt=tt.TL,ut=tt.TR,pt=tt.BL,vt=tt.BR;if(this.batchQuad(null,K,Q,j,q,b,H,et,ot,0,0,1,1,nt,ut,pt,vt,2),!(E<=2)){var at=this.prevQuad,yt=this.firstQuad;S>0&&at[4]?this.batchQuad(null,K,Q,j,q,at[0],at[1],at[2],at[3],0,0,1,1,nt,ut,pt,vt,2):(yt[0]=K,yt[1]=Q,yt[2]=j,yt[3]=q,yt[4]=1),C&&yt[4]?this.batchQuad(null,b,H,et,ot,yt[0],yt[1],yt[2],yt[3],0,0,1,1,nt,ut,pt,vt,2):(at[0]=b,at[1]=H,at[2]=et,at[3]=ot,at[4]=1)}}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(18),i=t(17),r=new e({initialize:function(n,s,u,o,h,d,v){this.texture=n,this.name=s,this.source=n.source[u],this.sourceIndex=u,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(d,v,o,h)},setSize:function(a,n,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.cutX=s,this.cutY=u,this.cutWidth=a,this.cutHeight=n,this.width=a,this.height=n,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(n/2);var o=this.data,h=o.cut;h.x=s,h.y=u,h.w=a,h.h=n,h.r=s+a,h.b=u+n,o.sourceSize.w=a,o.sourceSize.h=n,o.spriteSourceSize.w=a,o.spriteSourceSize.h=n,o.radius=.5*Math.sqrt(a*a+n*n);var d=o.drawImage;return d.x=s,d.y=u,d.width=a,d.height=n,this.updateUVs()},setTrim:function(a,n,s,u,o,h){var d=this.data,v=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=a,d.sourceSize.h=n,v.x=s,v.y=u,v.w=o,v.h=h,v.r=s+o,v.b=u+h,this.x=s,this.y=u,this.width=o,this.height=h,this.halfWidth=o*.5,this.halfHeight=h*.5,this.centerX=Math.floor(o/2),this.centerY=Math.floor(h/2),this.updateUVs()},setCropUVs:function(a,n,s,u,o,h,d){var v=this.cutX,c=this.cutY,m=this.cutWidth,g=this.cutHeight,y=this.realWidth,E=this.realHeight;n=f(n,0,y),s=f(s,0,E),u=f(u,0,y-n),o=f(o,0,E-s);var S=v+n,C=c+s,P=u,A=o,R=this.data;if(R.trim){var M=R.spriteSourceSize;u=f(u,0,m-n),o=f(o,0,g-s);var L=n+u,F=s+o,I=!(M.r<n||M.b<s||M.x>L||M.y>F);if(I){var N=Math.max(M.x,n),z=Math.max(M.y,s),W=Math.min(M.r,L)-N,$=Math.min(M.b,F)-z;P=W,A=$,h?S=v+(m-(N-M.x)-W):S=v+(N-M.x),d?C=c+(g-(z-M.y)-$):C=c+(z-M.y),n=N,s=z,u=W,o=$}else S=0,C=0,P=0,A=0}else h&&(S=v+(m-n-u)),d&&(C=c+(g-s-o));var Z=this.source.width,D=this.source.height;return a.u0=Math.max(0,S/Z),a.v0=Math.max(0,C/D),a.u1=Math.min(1,(S+P)/Z),a.v1=Math.min(1,(C+A)/D),a.x=n,a.y=s,a.cx=S,a.cy=C,a.cw=P,a.ch=A,a.width=u,a.height=o,a.flipX=h,a.flipY=d,a},updateCropUVs:function(a,n,s){return this.setCropUVs(a,a.x,a.y,a.width,a.height,n,s)},setUVs:function(a,n,s,u,o,h){var d=this.data.drawImage;return d.width=a,d.height=n,this.u0=s,this.v0=u,this.u1=o,this.v1=h,this},updateUVs:function(){var a=this.cutX,n=this.cutY,s=this.cutWidth,u=this.cutHeight,o=this.data.drawImage;o.width=s,o.height=u;var h=this.source.width,d=this.source.height;return this.u0=a/h,this.v0=n/d,this.u1=(a+s)/h,this.v1=(n+u)/d,this},updateUVsInverted:function(){var a=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/n,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var a=new r(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=i(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),f=t(0),i=t(1),r=t(79),a=new f({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=i,this.removeCallback=i,this._sortKey=""},add:function(n,s){return s?e.Add(this.list,n):e.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,s,u){return u?e.AddAt(this.list,n,s):e.AddAt(this.list,n,s,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,s){return n?(s===void 0&&(s=function(u,o){return u[n]-o[n]}),r(this.list,s),this):this},getByName:function(n){return e.GetFirst(this.list,"name",n)},getRandom:function(n,s){return e.GetRandom(this.list,n,s)},getFirst:function(n,s,u,o){return e.GetFirst(this.list,n,s,u,o)},getAll:function(n,s,u,o){return e.GetAll(this.list,n,s,u,o)},count:function(n,s){return e.CountAllMatching(this.list,n,s)},swap:function(n,s){e.Swap(this.list,n,s)},moveTo:function(n,s){return e.MoveTo(this.list,n,s)},moveAbove:function(n,s){return e.MoveAbove(this.list,n,s)},moveBelow:function(n,s){return e.MoveBelow(this.list,n,s)},remove:function(n,s){return s?e.Remove(this.list,n):e.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,s){return s?e.RemoveAt(this.list,n):e.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,s,u){return u?e.RemoveBetween(this.list,n,s):e.RemoveBetween(this.list,n,s,this.removeCallback,this)},removeAll:function(n){for(var s=this.list.length;s--;)this.remove(this.list[s],n);return this},bringToTop:function(n){return e.BringToTop(this.list,n)},sendToBack:function(n){return e.SendToBack(this.list,n)},moveUp:function(n){return e.MoveUp(this.list,n),n},moveDown:function(n){return e.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(n,s){return e.Replace(this.list,n,s)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,s,u,o){return e.SetAll(this.list,n,s,u,o),this},each:function(n,s){for(var u=[null],o=2;o<arguments.length;o++)u.push(arguments[o]);for(o=0;o<this.list.length;o++)u[0]=this.list[o],n.apply(s,u)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(112),i=t(445),r=t(446),a=t(56),n=t(180),s=new e({initialize:function(o,h,d,v){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=a.ELLIPSE,this.x=o,this.y=h,this.width=d,this.height=v},contains:function(u,o){return f(this,u,o)},getPoint:function(u,o){return i(this,u,o)},getPoints:function(u,o,h){return r(this,u,o,h)},getRandomPoint:function(u){return n(this,u)},setTo:function(u,o,h,d){return this.x=u,this.y=o,this.width=h,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(u,o){return o===void 0&&(o=u),this.x=u,this.y=o,this},setSize:function(u,o){return o===void 0&&(o=u),this.width=u,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(u){this.x=u+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(u){this.y=u+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(e.width<=0||e.height<=0)return!1;var r=(f-e.x)/e.width,a=(i-e.y)/e.height;return r*=r,a*=a,r+a<.25};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),f=t(0),i=t(75),r=t(9),a=t(207),n=t(2),s=t(6),u=t(7),o=t(437),h=t(149),d=t(73),v=new f({Extends:r,initialize:function(m,g,y){r.call(this),y?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?u(g[0])&&(y=g,g=null):u(g)&&(y=g,g=null),this.scene=m,this.children=new h,this.isParent=!0,this.type="Group",this.classType=n(y,"classType",d),this.name=n(y,"name",""),this.active=n(y,"active",!0),this.maxSize=n(y,"maxSize",-1),this.defaultKey=n(y,"defaultKey",null),this.defaultFrame=n(y,"defaultFrame",null),this.runChildUpdate=n(y,"runChildUpdate",!1),this.createCallback=n(y,"createCallback",null),this.removeCallback=n(y,"removeCallback",null),this.createMultipleCallback=n(y,"createMultipleCallback",null),this.internalCreateCallback=n(y,"internalCreateCallback",null),this.internalRemoveCallback=n(y,"internalRemoveCallback",null),g&&this.addMultiple(g),y&&this.createMultiple(y),this.on(i.ADDED_TO_SCENE,this.addedToScene,this),this.on(i.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,m,g,y,E,S){if(c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=this.defaultKey),y===void 0&&(y=this.defaultFrame),E===void 0&&(E=!0),S===void 0&&(S=!0),this.isFull())return null;var C=new this.classType(this.scene,c,m,g,y);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=E,C.setActive(S),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var m=[];if(c[0].key)for(var g=0;g<c.length;g++){var y=this.createFromConfig(c[g]);m=m.concat(y)}return m},createFromConfig:function(c){if(this.isFull())return[];this.classType=n(c,"classType",this.classType);var m=n(c,"key",void 0),g=n(c,"frame",null),y=n(c,"visible",!0),E=n(c,"active",!0),S=[];if(m===void 0)return S;Array.isArray(m)||(m=[m]),Array.isArray(g)||(g=[g]);var C=n(c,"repeat",0),P=n(c,"randomKey",!1),A=n(c,"randomFrame",!1),R=n(c,"yoyo",!1),M=n(c,"quantity",!1),L=n(c,"frameQuantity",1),F=n(c,"max",0),I=o(m,g,{max:F,qty:M||L,random:P,randomB:A,repeat:C,yoyo:R});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback);for(var N=0;N<I.length;N++){var z=this.create(0,0,I[N].a,I[N].b,y,E);if(!z)break;S.push(z)}var W=s(c,"setXY.x",0),$=s(c,"setXY.y",0),Z=s(c,"setXY.stepX",0),D=s(c,"setXY.stepY",0);e.SetXY(S,W,$,Z,D);var O=s(c,"setRotation.value",0),B=s(c,"setRotation.step",0);e.SetRotation(S,O,B);var G=s(c,"setScale.x",1),Y=s(c,"setScale.y",G),V=s(c,"setScale.stepX",0),b=s(c,"setScale.stepY",0);e.SetScale(S,G,Y,V,b);var H=s(c,"setOrigin.x",.5),j=s(c,"setOrigin.y",H),q=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);e.SetOrigin(S,H,j,q,et);var ot=s(c,"setAlpha.value",1),K=s(c,"setAlpha.step",0);e.SetAlpha(S,ot,K);var Q=s(c,"setDepth.value",0),tt=s(c,"setDepth.step",0);e.SetDepth(S,Q,tt);var nt=s(c,"setScrollFactor.x",1),ut=s(c,"setScrollFactor.y",nt),pt=s(c,"setScrollFactor.stepX",0),vt=s(c,"setScrollFactor.stepY",0);e.SetScrollFactor(S,nt,ut,pt,vt);var at=n(c,"hitArea",null),yt=n(c,"hitAreaCallback",null);at&&e.SetHitArea(S,at,yt);var lt=n(c,"gridAlign",!1);return lt&&e.GridAlign(S,lt),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,m){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),y=0;y<g.length;y++){var E=g[y];E.active&&E.update(c,m)}},add:function(c,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),m&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(i.DESTROY,this.remove,this),this)},addMultiple:function(c,m){if(m===void 0&&(m=!1),Array.isArray(c))for(var g=0;g<c.length;g++)this.add(c[g],m);return this},remove:function(c,m,g){return m===void 0&&(m=!1),g===void 0&&(g=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(i.DESTROY,this.remove,this),g?c.destroy():m&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1);for(var g=this.children,y=0;y<g.size;y++){var E=g.entries[y];E.off(i.DESTROY,this.remove,this),m?E.destroy():c&&(E.removeFromDisplayList(),E.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,m,g,y){return a(this.children.entries,c,m,g,y)},getFirst:function(c,m,g,y,E,S,C){return this.getHandler(!0,1,c,m,g,y,E,S,C)},getFirstNth:function(c,m,g,y,E,S,C,P){return this.getHandler(!0,c,m,g,y,E,S,C,P)},getLast:function(c,m,g,y,E,S,C){return this.getHandler(!1,1,c,m,g,y,E,S,C)},getLastNth:function(c,m,g,y,E,S,C,P){return this.getHandler(!1,c,m,g,y,E,S,C,P)},getHandler:function(c,m,g,y,E,S,C,P,A){g===void 0&&(g=!1),y===void 0&&(y=!1);var R,M,L=0,F=this.children.entries;if(c)for(M=0;M<F.length;M++)if(R=F[M],R.active===g){if(L++,L===m)break}else R=null;else for(M=F.length-1;M>=0;M--)if(R=F[M],R.active===g){if(L++,L===m)break}else R=null;return R?(typeof E=="number"&&(R.x=E),typeof S=="number"&&(R.y=S),R):y?this.create(E,S,C,P,A):null},get:function(c,m,g,y,E){return this.getFirst(!1,!0,c,m,g,y,E)},getFirstAlive:function(c,m,g,y,E,S){return this.getFirst(!0,c,m,g,y,E,S)},getFirstDead:function(c,m,g,y,E,S){return this.getFirst(!1,c,m,g,y,E,S)},playAnimation:function(c,m){return e.PlayAnimation(this.children.entries,c,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var m=0,g=0;g<this.children.size;g++)this.children.entries[g].active===c&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,m,g,y,E){return e.PropertyValueSet(this.children.entries,c,m,g,y,E),this},propertyValueInc:function(c,m,g,y,E){return e.PropertyValueInc(this.children.entries,c,m,g,y,E),this},setX:function(c,m){return e.SetX(this.children.entries,c,m),this},setY:function(c,m){return e.SetY(this.children.entries,c,m),this},setXY:function(c,m,g,y){return e.SetXY(this.children.entries,c,m,g,y),this},incX:function(c,m){return e.IncX(this.children.entries,c,m),this},incY:function(c,m){return e.IncY(this.children.entries,c,m),this},incXY:function(c,m,g,y){return e.IncXY(this.children.entries,c,m,g,y),this},shiftPosition:function(c,m,g){return e.ShiftPosition(this.children.entries,c,m,g),this},angle:function(c,m){return e.Angle(this.children.entries,c,m),this},rotate:function(c,m){return e.Rotate(this.children.entries,c,m),this},rotateAround:function(c,m){return e.RotateAround(this.children.entries,c,m),this},rotateAroundDistance:function(c,m,g){return e.RotateAroundDistance(this.children.entries,c,m,g),this},setAlpha:function(c,m){return e.SetAlpha(this.children.entries,c,m),this},setTint:function(c,m,g,y){return e.SetTint(this.children.entries,c,m,g,y),this},setOrigin:function(c,m,g,y){return e.SetOrigin(this.children.entries,c,m,g,y),this},scaleX:function(c,m){return e.ScaleX(this.children.entries,c,m),this},scaleY:function(c,m){return e.ScaleY(this.children.entries,c,m),this},scaleXY:function(c,m,g,y){return e.ScaleXY(this.children.entries,c,m,g,y),this},setDepth:function(c,m){return e.SetDepth(this.children.entries,c,m),this},setBlendMode:function(c){return e.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,m){return e.SetHitArea(this.children.entries,c,m),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,m,g){return e.SetVisible(this.children.entries,c,m,g),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(c,m){c===void 0&&(c=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(i.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,c),this.scene=void 0,this.children=void 0)}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a,n,s,u){for(var o=e.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*n),h=a.pathData,d=a.pathIndexes,v=0;v<d.length;v+=3){var c=d[v]*2,m=d[v+1]*2,g=d[v+2]*2,y=h[c+0]-s,E=h[c+1]-u,S=h[m+0]-s,C=h[m+1]-u,P=h[g+0]-s,A=h[g+1]-u,R=r.getX(y,E),M=r.getY(y,E),L=r.getX(S,C),F=r.getY(S,C),I=r.getX(P,A),N=r.getY(P,A);i.batchTri(a,R,M,L,F,I,N,0,0,1,1,o,o,o,2)}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=e.x3-e.x1,a=e.y3-e.y1,n=e.x2-e.x1,s=e.y2-e.y1,u=f-e.x1,o=i-e.y1,h=r*r+a*a,d=r*n+a*s,v=r*u+a*o,c=n*n+s*s,m=n*u+s*o,g=h*c-d*d,y=g===0?0:1/g,E=(c*v-d*m)*y,S=(h*m-d*v)*y;return E>=0&&S>=0&&E+S<1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(10),i=t(3);function r(n,s,u,o){var h=n-u,d=s-o,v=h*h+d*d;return Math.sqrt(v)}var a=new e({initialize:function(s,u,o){this.vertex1=s,this.vertex2=u,this.vertex3=o,this.bounds=new f,this._inCenter=new i},getInCenter:function(n){n===void 0&&(n=!0);var s=this.vertex1,u=this.vertex2,o=this.vertex3,h,d,v,c,m,g;n?(h=s.x,d=s.y,v=u.x,c=u.y,m=o.x,g=o.y):(h=s.vx,d=s.vy,v=u.vx,c=u.vy,m=o.vx,g=o.vy);var y=r(m,g,v,c),E=r(h,d,m,g),S=r(v,c,h,d),C=y+E+S;return this._inCenter.set((h*y+v*E+m*S)/C,(d*y+c*E+g*S)/C)},contains:function(n,s,u){var o=this.vertex1,h=this.vertex2,d=this.vertex3,v=o.vx,c=o.vy,m=h.vx,g=h.vy,y=d.vx,E=d.vy;if(u){var S=u.a,C=u.b,P=u.c,A=u.d,R=u.e,M=u.f;v=o.vx*S+o.vy*P+R,c=o.vx*C+o.vy*A+M,m=h.vx*S+h.vy*P+R,g=h.vx*C+h.vy*A+M,y=d.vx*S+d.vy*P+R,E=d.vx*C+d.vy*A+M}var L=y-v,F=E-c,I=m-v,N=g-c,z=n-v,W=s-c,$=L*L+F*F,Z=L*I+F*N,D=L*z+F*W,O=I*I+N*N,B=I*z+N*W,G=$*O-Z*Z,Y=G===0?0:1/G,V=(O*D-Z*B)*Y,b=($*B-Z*D)*Y;return V>=0&&b>=0&&V+b<1},isCounterClockwise:function(n){var s=this.vertex1,u=this.vertex2,o=this.vertex3,h=(u.vx-s.vx)*(o.vy-s.vy)-(u.vy-s.vy)*(o.vx-s.vx);return n<=0?h>=0:h<0},load:function(n,s,u,o,h){return u=this.vertex1.load(n,s,u,o,h),u=this.vertex2.load(n,s,u,o,h),u=this.vertex3.load(n,s,u,o,h),u},transformCoordinatesLocal:function(n,s,u,o){return this.vertex1.transformCoordinatesLocal(n,s,u,o),this.vertex2.transformCoordinatesLocal(n,s,u,o),this.vertex3.transformCoordinatesLocal(n,s,u,o),this},updateBounds:function(){var n=this.vertex1,s=this.vertex2,u=this.vertex3,o=this.bounds;return o.x=Math.min(n.vx,s.vx,u.vx),o.y=Math.min(n.vy,s.vy,u.vy),o.width=Math.max(n.vx,s.vx,u.vx)-o.x,o.height=Math.max(n.vy,s.vy,u.vy)-o.y,this},isInView:function(n,s,u,o,h,d,v,c,m,g,y){var E=this.vertex1.update(h,d,v,c,m,g,y,o),S=this.vertex2.update(h,d,v,c,m,g,y,o),C=this.vertex3.update(h,d,v,c,m,g,y,o);if(E.ta<=0&&S.ta<=0&&C.ta<=0||s&&!this.isCounterClockwise(u))return!1;var P=this.bounds;P.x=Math.min(E.tx,S.tx,C.tx),P.y=Math.min(E.ty,S.ty,C.ty),P.width=Math.max(E.tx,S.tx,C.tx)-P.x,P.height=Math.max(E.ty,S.ty,C.ty)-P.y;var A=n.x+n.width,R=n.y+n.height;return P.width<=0||P.height<=0||n.width<=0||n.height<=0?!1:!(P.right<n.x||P.bottom<n.y||P.x>A||P.y>R)},translate:function(n,s){s===void 0&&(s=0);var u=this.vertex1,o=this.vertex2,h=this.vertex3;return u.x+=n,u.y+=s,o.x+=n,o.y+=s,h.x+=n,h.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(n){var s=this.getInCenter();this.translate(n-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var s=this.getInCenter();this.translate(0,n-s.y)}},alpha:{get:function(){var n=this.vertex1,s=this.vertex2,u=this.vertex3;return(n.alpha+s.alpha+u.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,s=this.vertex2,u=this.vertex3;return(n.vz+s.vz+u.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(12),i=t(39),r=new e({Extends:i,initialize:function(n,s,u,o,h,d,v,c,m,g){d===void 0&&(d=16777215),v===void 0&&(v=1),c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=0),i.call(this,n,s,u),this.vx=0,this.vy=0,this.vz=0,this.nx=c,this.ny=m,this.nz=g,this.u=o,this.v=h,this.color=d,this.alpha=v,this.tx=0,this.ty=0,this.ta=0},setUVs:function(a,n){return this.u=a,this.v=n,this},transformCoordinatesLocal:function(a,n,s,u){var o=this.x,h=this.y,d=this.z,v=a.val,c=o*v[0]+h*v[4]+d*v[8]+v[12],m=o*v[1]+h*v[5]+d*v[9]+v[13],g=o*v[2]+h*v[6]+d*v[10]+v[14],y=o*v[3]+h*v[7]+d*v[11]+v[15];this.vx=c/y*n,this.vy=-(m/y)*s,u<=0?this.vz=g/y:this.vz=-(g/y)},update:function(a,n,s,u,o,h,d,v){var c=this.vx*a+this.vy*s+o,m=this.vx*n+this.vy*u+h;return d&&(c=Math.round(c),m=Math.round(m)),this.tx=c,this.ty=m,this.ta=this.alpha*v,this},load:function(a,n,s,u,o){return a[++s]=this.tx,a[++s]=this.ty,a[++s]=this.u,a[++s]=this.v,a[++s]=u,a[++s]=o,n[++s]=f.getTintAppendFloatAlpha(this.color,this.ta),s}});l.exports=r},function(l,x,t){var e={};l.exports=e;var f=t(166),i=t(32),r=t(84),a=t(41);(function(){e.create=function(n){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},n)},e.setModified=function(n,s,u,o){if(f.trigger(n,"compositeModified",n),n.isModified=s,u&&n.parent&&e.setModified(n.parent,s,u,o),o)for(var h=0;h<n.composites.length;h++){var d=n.composites[h];e.setModified(d,s,u,o)}},e.add=function(n,s){var u=[].concat(s);f.trigger(n,"beforeAdd",{object:s});for(var o=0;o<u.length;o++){var h=u[o];switch(h.type){case"body":if(h.parent!==h){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,h);break;case"constraint":e.addConstraint(n,h);break;case"composite":e.addComposite(n,h);break;case"mouseConstraint":e.addConstraint(n,h.constraint);break}}return f.trigger(n,"afterAdd",{object:s}),n},e.remove=function(n,s,u){var o=[].concat(s);f.trigger(n,"beforeRemove",{object:s});for(var h=0;h<o.length;h++){var d=o[h];switch(d.type){case"body":e.removeBody(n,d,u);break;case"constraint":e.removeConstraint(n,d,u);break;case"composite":e.removeComposite(n,d,u);break;case"mouseConstraint":e.removeConstraint(n,d.constraint);break}}return f.trigger(n,"afterRemove",{object:s}),n},e.addComposite=function(n,s){return n.composites.push(s),s.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,s,u){var o=n.composites.indexOf(s);if(o!==-1&&(e.removeCompositeAt(n,o),e.setModified(n,!0,!0,!1)),u)for(var h=0;h<n.composites.length;h++)e.removeComposite(n.composites[h],s,!0);return n},e.removeCompositeAt=function(n,s){return n.composites.splice(s,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,s){return n.bodies.push(s),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,s,u){var o=n.bodies.indexOf(s);if(o!==-1&&(e.removeBodyAt(n,o),e.setModified(n,!0,!0,!1)),u)for(var h=0;h<n.composites.length;h++)e.removeBody(n.composites[h],s,!0);return n},e.removeBodyAt=function(n,s){return n.bodies.splice(s,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,s){return n.constraints.push(s),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,s,u){var o=n.constraints.indexOf(s);if(o!==-1&&e.removeConstraintAt(n,o),u)for(var h=0;h<n.composites.length;h++)e.removeConstraint(n.composites[h],s,!0);return n},e.removeConstraintAt=function(n,s){return n.constraints.splice(s,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,s,u){if(u)for(var o=0;o<n.composites.length;o++)e.clear(n.composites[o],s,!0);return s?n.bodies=n.bodies.filter(function(h){return h.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){for(var s=[].concat(n.bodies),u=0;u<n.composites.length;u++)s=s.concat(e.allBodies(n.composites[u]));return s},e.allConstraints=function(n){for(var s=[].concat(n.constraints),u=0;u<n.composites.length;u++)s=s.concat(e.allConstraints(n.composites[u]));return s},e.allComposites=function(n){for(var s=[].concat(n.composites),u=0;u<n.composites.length;u++)s=s.concat(e.allComposites(n.composites[u]));return s},e.get=function(n,s,u){var o,h;switch(u){case"body":o=e.allBodies(n);break;case"constraint":o=e.allConstraints(n);break;case"composite":o=e.allComposites(n).concat(n);break}return o?(h=o.filter(function(d){return d.id.toString()===s.toString()}),h.length===0?null:h[0]):null},e.move=function(n,s,u){return e.remove(n,s),e.add(u,s),n},e.rebase=function(n){for(var s=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),u=0;u<s.length;u++)s[u].id=i.nextId();return e.setModified(n,!0,!0,!1),n},e.translate=function(n,s,u){for(var o=u?e.allBodies(n):n.bodies,h=0;h<o.length;h++)a.translate(o[h],s);return e.setModified(n,!0,!0,!1),n},e.rotate=function(n,s,u,o){for(var h=Math.cos(s),d=Math.sin(s),v=o?e.allBodies(n):n.bodies,c=0;c<v.length;c++){var m=v[c],g=m.position.x-u.x,y=m.position.y-u.y;a.setPosition(m,{x:u.x+(g*h-y*d),y:u.y+(g*d+y*h)}),a.rotate(m,s)}return e.setModified(n,!0,!0,!1),n},e.scale=function(n,s,u,o,h){for(var d=h?e.allBodies(n):n.bodies,v=0;v<d.length;v++){var c=d[v],m=c.position.x-o.x,g=c.position.y-o.y;a.setPosition(c,{x:o.x+m*s,y:o.y+g*u}),a.scale(c,s,u)}return e.setModified(n,!0,!0,!1),n},e.bounds=function(n){for(var s=e.allBodies(n),u=[],o=0;o<s.length;o+=1){var h=s[o];u.push(h.bounds.min,h.bounds.max)}return r.create(u)}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e>=0&&e<i.width&&f>=0&&f<i.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(29),i=t(2),r=new e({initialize:function(n){n===void 0&&(n={}),this.name=i(n,"name","layer"),this.x=i(n,"x",0),this.y=i(n,"y",0),this.width=i(n,"width",0),this.height=i(n,"height",0),this.tileWidth=i(n,"tileWidth",0),this.tileHeight=i(n,"tileHeight",0),this.baseTileWidth=i(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=i(n,"baseTileHeight",this.tileHeight),this.orientation=i(n,"orientation",f.ORTHOGONAL),this.widthInPixels=i(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=i(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=i(n,"alpha",1),this.visible=i(n,"visible",!0),this.properties=i(n,"properties",[]),this.indexes=i(n,"indexes",[]),this.collideIndexes=i(n,"collideIndexes",[]),this.callbacks=i(n,"callbacks",[]),this.bodies=i(n,"bodies",[]),this.data=i(n,"data",[]),this.tilemapLayer=i(n,"tilemapLayer",null),this.hexSideLength=i(n,"hexSideLength",0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(29),i=t(2),r=new e({initialize:function(n){n===void 0&&(n={}),this.name=i(n,"name","map"),this.width=i(n,"width",0),this.height=i(n,"height",0),this.infinite=i(n,"infinite",!1),this.tileWidth=i(n,"tileWidth",0),this.tileHeight=i(n,"tileHeight",0),this.widthInPixels=i(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=i(n,"heightInPixels",this.height*this.tileHeight),this.format=i(n,"format",null),this.orientation=i(n,"orientation",f.ORTHOGONAL),this.renderOrder=i(n,"renderOrder","right-down"),this.version=i(n,"version","1"),this.properties=i(n,"properties",{}),this.layers=i(n,"layers",[]),this.images=i(n,"images",[]),this.objects=i(n,"objects",{}),this.collision=i(n,"collision",{}),this.tilesets=i(n,"tilesets",[]),this.imageCollections=i(n,"imageCollections",[]),this.tiles=i(n,"tiles",[]),this.hexSideLength=i(n,"hexSideLength",0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s,u,o,h,d){(n===void 0||n<=0)&&(n=32),(s===void 0||s<=0)&&(s=32),u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h={}),d===void 0&&(d={}),this.name=r,this.firstgid=a,this.tileWidth=n,this.tileHeight=s,this.tileMargin=u,this.tileSpacing=o,this.tileProperties=h,this.tileData=d,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var r=this.getTileData(i);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,r){return i!==void 0&&(this.tileWidth=i),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,r){return i!==void 0&&(this.tileMargin=i),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,r){var a=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(a%1!==0||n%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),a=Math.floor(a),n=Math.floor(n),this.rows=a,this.columns=n,this.total=a*n,this.texCoordinates.length=0;for(var s=this.tileMargin,u=this.tileMargin,o=0;o<this.rows;o++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:s,y:u}),s+=this.tileWidth+this.tileSpacing;s=this.tileMargin,u+=this.tileHeight+this.tileSpacing}return this}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return i===void 0&&(i=1e-4),Math.abs(e-f)<i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(1068),a=new e({Extends:i,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,r],initialize:function(s,u,o,h,d){i.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,d),this.setPosition(u,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.hasOwnProperty(f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),f=function(i,r){var a=e(i);for(var n in r)a.hasOwnProperty(n)||(a[n]=r[n]);return a};l.exports=f},function(l,x,t){var e={};l.exports=e;var f=t(64),i=t(83),r=t(165),a=t(84),n=t(271),s=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(u){var o=u;o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0});var h=o.bodyA?i.add(o.bodyA.position,o.pointA):o.pointA,d=o.bodyB?i.add(o.bodyB.position,o.pointB):o.pointB,v=i.magnitude(i.sub(h,d));o.length=typeof o.length<"u"?o.length:v,o.id=o.id||s.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={};var c={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return o.length===0&&o.stiffness>.1?(c.type="pin",c.anchors=!1):o.stiffness<.9&&(c.type="spring"),o.render=s.extend(c,o.render),o},e.preSolveAll=function(u){for(var o=0;o<u.length;o+=1){var h=u[o],d=h.constraintImpulse;h.isStatic||d.x===0&&d.y===0&&d.angle===0||(h.position.x+=d.x,h.position.y+=d.y,h.angle+=d.angle)}},e.solveAll=function(u,o){for(var h=0;h<u.length;h+=1){var d=u[h],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||c)&&e.solve(u[h],o)}for(h=0;h<u.length;h+=1)d=u[h],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!c&&e.solve(u[h],o)},e.solve=function(u,o){var h=u.bodyA,d=u.bodyB,v=u.pointA,c=u.pointB;if(!(!h&&!d)){h&&!h.isStatic&&(i.rotate(v,h.angle-u.angleA,v),u.angleA=h.angle),d&&!d.isStatic&&(i.rotate(c,d.angle-u.angleB,c),u.angleB=d.angle);var m=v,g=c;if(h&&(m=i.add(h.position,v)),d&&(g=i.add(d.position,c)),!(!m||!g)){var y=i.sub(m,g),E=i.magnitude(y);E<e._minLength&&(E=e._minLength);var S=(E-u.length)/E,C=u.stiffness<1?u.stiffness*o:u.stiffness,P=i.mult(y,S*C),A=(h?h.inverseMass:0)+(d?d.inverseMass:0),R=(h?h.inverseInertia:0)+(d?d.inverseInertia:0),M=A+R,L,F,I,N,z;if(u.damping){var W=i.create();I=i.div(y,E),z=i.sub(d&&i.sub(d.position,d.positionPrev)||W,h&&i.sub(h.position,h.positionPrev)||W),N=i.dot(I,z)}h&&!h.isStatic&&(F=h.inverseMass/A,h.constraintImpulse.x-=P.x*F,h.constraintImpulse.y-=P.y*F,h.position.x-=P.x*F,h.position.y-=P.y*F,u.damping&&(h.positionPrev.x-=u.damping*I.x*N*F,h.positionPrev.y-=u.damping*I.y*N*F),L=i.cross(v,P)/M*e._torqueDampen*h.inverseInertia*(1-u.angularStiffness),h.constraintImpulse.angle-=L,h.angle-=L),d&&!d.isStatic&&(F=d.inverseMass/A,d.constraintImpulse.x+=P.x*F,d.constraintImpulse.y+=P.y*F,d.position.x+=P.x*F,d.position.y+=P.y*F,u.damping&&(d.positionPrev.x+=u.damping*I.x*N*F,d.positionPrev.y+=u.damping*I.y*N*F),L=i.cross(c,P)/M*e._torqueDampen*d.inverseInertia*(1-u.angularStiffness),d.constraintImpulse.angle+=L,d.angle+=L)}}},e.postSolveAll=function(u){for(var o=0;o<u.length;o++){var h=u[o],d=h.constraintImpulse;if(!(h.isStatic||d.x===0&&d.y===0&&d.angle===0)){r.set(h,!1);for(var v=0;v<h.parts.length;v++){var c=h.parts[v];f.translate(c.vertices,d),v>0&&(c.position.x+=d.x,c.position.y+=d.y),d.angle!==0&&(f.rotate(c.vertices,d.angle,h.position),n.rotate(c.axes,d.angle),v>0&&i.rotateAbout(c.position,d.angle,h.position,c.position)),a.update(c.bounds,c.vertices,h.velocity)}d.angle*=e._warming,d.x*=e._warming,d.y*=e._warming}}},e.pointAWorld=function(u){return{x:(u.bodyA?u.bodyA.position.x:0)+u.pointA.x,y:(u.bodyA?u.bodyA.position.y:0)+u.pointA.y}},e.pointBWorld=function(u){return{x:(u.bodyB?u.bodyB.position.x:0)+u.pointB.x,y:(u.bodyB?u.bodyB.position.y:0)+u.pointB.y}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(65),i=t(66),r=t(0),a=t(11),n=t(15),s=t(10),u=t(57),o=new r({Extends:n,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(d,v,c,m,g){m===void 0&&(m=1),g===void 0&&(g=m),n.call(this,d,"Zone"),this.setPosition(v,c),this.width=m,this.height=g,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,d,v){v===void 0&&(v=!0),this.width=h,this.height=d,this.updateDisplayOrigin();var c=this.input;return v&&c&&!c.customHitArea&&(c.hitArea.width=h,c.hitArea.height=d),this},setDisplaySize:function(h,d){return this.displayWidth=h,this.displayHeight=d,this},setCircleDropZone:function(h){return this.setDropZone(new f(0,0,h),i)},setRectangleDropZone:function(h,d){return this.setDropZone(new s(0,0,h,d),u)},setDropZone:function(h,d){return h===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(h,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,d,v){v.addToRenderList(d)},renderWebGL:function(h,d,v){v.addToRenderList(d)}});l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=e.length-1;f>0;f--){var i=Math.floor(Math.random()*(f+1)),r=e[f];e[f]=e[i],e[i]=r}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(36),r=t(9),a=t(37),n=t(10),s=t(25),u=t(187),o=t(3),h=new e({Extends:r,Mixins:[f.Alpha,f.Visible],initialize:function(v,c,m,g){v===void 0&&(v=0),c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=v,this._y=c,this._width=m,this._height=g,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new o(m/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this.originX=d,this.originY=v,this},getScroll:function(d,v,c){c===void 0&&(c=new o);var m=this.width*.5,g=this.height*.5;return c.x=d-m,c.y=v-g,this.useBounds&&(c.x=this.clampX(c.x),c.y=this.clampY(c.y)),c},centerOnX:function(d){var v=this.width*.5;return this.midPoint.x=d,this.scrollX=d-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var v=this.height*.5;return this.midPoint.y=d,this.scrollY=d-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,v){return this.centerOnX(d),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,v=this.width*.5,c=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-v,this.scrollY=d.centerY-c}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var v=this.matrix.matrix,c=v[0],m=v[1],g=v[2],y=v[3],E=c*y-m*g;if(!E)return d;var S=v[4],C=v[5],P=this.scrollX,A=this.scrollY,R=this.width,M=this.height,L=this.y,F=L+M,I=this.x,N=I+R,z=this.culledObjects,W=d.length;E=1/E,z.length=0;for(var $=0;$<W;++$){var Z=d[$];if(!Z.hasOwnProperty("width")||Z.parentContainer){z.push(Z);continue}var D=Z.width,O=Z.height,B=Z.x-P*Z.scrollFactorX-D*Z.originX,G=Z.y-A*Z.scrollFactorY-O*Z.originY,Y=B*c+G*g+S,V=B*m+G*y+C,b=(B+D)*c+(G+O)*g+S,H=(B+D)*m+(G+O)*y+C;b>I&&Y<N&&H>L&&V<F&&z.push(Z)}return z},getWorldPoint:function(d,v,c){c===void 0&&(c=new o);var m=this.matrix.matrix,g=m[0],y=m[1],E=m[2],S=m[3],C=m[4],P=m[5],A=g*S-y*E;if(!A)return c.x=d,c.y=v,c;A=1/A;var R=S*A,M=-y*A,L=-E*A,F=g*A,I=(E*P-S*C)*A,N=(y*C-g*P)*A,z=Math.cos(this.rotation),W=Math.sin(this.rotation),$=this.zoomX,Z=this.zoomY,D=this.scrollX,O=this.scrollY,B=d+(D*z-O*W)*$,G=v+(D*W+O*z)*Z;return c.x=B*R+G*L+I,c.y=B*M+G*F+N,c},ignore:function(d){var v=this.id;Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var m=d[c];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,c=d*.5,m=v*.5,g=this.zoomX,y=this.zoomY,E=this.matrix,S=d*this.originX,C=v*this.originY,P=this.scrollX,A=this.scrollY;this.useBounds&&(P=this.clampX(P),A=this.clampY(A)),this.roundPixels&&(S=Math.round(S),C=Math.round(C)),this.scrollX=P,this.scrollY=A;var R=P+c,M=A+m;this.midPoint.set(R,M);var L=d/g,F=v/y;this.worldView.setTo(R-L/2,M-F/2,L,F),E.applyITRS(this.x+S,this.y+C,this.rotation,g,y),E.translate(-S,-C)},clampX:function(d){var v=this._bounds,c=this.displayWidth,m=v.x+(c-this.width)/2,g=Math.max(m,m+v.width-c);return d<m?d=m:d>g&&(d=g),d},clampY:function(d){var v=this._bounds,c=this.displayHeight,m=v.y+(c-this.height)/2,g=Math.max(m,m+v.height-c);return d<m?d=m:d>g&&(d=g),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=i(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=u(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,v,c,m,g){return g===void 0&&(g=!1),this._bounds.setTo(d,v,c,m),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new n);var v=this._bounds;return d.setTo(v.x,v.y,v.width,v.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,v){return v===void 0&&(v=d),this.x=d,this.y=v,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d;var v=d.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(d,v){return v===void 0&&(v=d),this.scrollX=d,this.scrollY=v,this},setSize:function(d,v){return v===void 0&&(v=d),this.width=d,this.height=v,this},setViewport:function(d,v,c,m){return this.x=d,this.y=v,this.width=c,this.height=m,this},setZoom:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),d===0&&(d=.001),v===0&&(v=.001),this.zoomX=d,this.zoomY=v,this},setMask:function(d,v){return v===void 0&&(v=!0),this.mask=d,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},updateSystem:function(){if(this.scaleManager){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;d&&!this._customViewport?v.customViewports++:!d&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){this._scrollX=d,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(d){this._scrollY=d,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),f=t(335),i=t(336),r=t(337),a=t(338),n=t(339),s=t(340),u=t(341),o=t(342),h=t(343),d=t(344),v=t(345);l.exports={Power0:s,Power1:u.Out,Power2:r.Out,Power3:o.Out,Power4:h.Out,Linear:s,Quad:u.Out,Cubic:r.Out,Quart:o.Out,Quint:h.Out,Sine:d.Out,Expo:n.Out,Circ:i.Out,Elastic:a.Out,Back:e.Out,Bounce:f.Out,Stepped:v,"Quad.easeIn":u.In,"Cubic.easeIn":r.In,"Quart.easeIn":o.In,"Quint.easeIn":h.In,"Sine.easeIn":d.In,"Expo.easeIn":n.In,"Circ.easeIn":i.In,"Elastic.easeIn":a.In,"Back.easeIn":e.In,"Bounce.easeIn":f.In,"Quad.easeOut":u.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":o.Out,"Quint.easeOut":h.Out,"Sine.easeOut":d.Out,"Expo.easeOut":n.Out,"Circ.easeOut":i.Out,"Elastic.easeOut":a.Out,"Back.easeOut":e.Out,"Bounce.easeOut":f.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":o.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":i.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":f.InOut}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return(f-e)*i+e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),f={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function i(){var r=navigator.userAgent;return/Edge\/\d+/.test(r)?f.edge=!0:/Chrome\/(\d+)/.test(r)&&!e.windowsPhone?(f.chrome=!0,f.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(r)?(f.firefox=!0,f.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(r)&&e.iOS?f.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(f.ie=!0,f.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(r)?f.opera=!0:/Safari/.test(r)&&!e.windowsPhone?f.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(f.ie=!0,f.trident=!0,f.tridentVersion=parseInt(RegExp.$1,10),f.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(f.silk=!0),f}l.exports=i()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return Math.random()*(f-e)+e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e>0&&(e&e-1)===0&&f>0&&(f&f-1)===0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return i===void 0&&(i=0),f===0?e:(e-=i,e=f*Math.ceil(e/f),r?(i+e)/f:i+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=a||0,this.z=n||0,this.w=s||0)},clone:function(){return new f(this.x,this.y,this.z,this.w)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this.w=i.w||0,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z&&this.w===i.w},set:function(i,r,a,n){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=r||0,this.z=a||0,this.w=n||0),this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this.w+=i.w||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this.w-=i.w||0,this},scale:function(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this},length:function(){var i=this.x,r=this.y,a=this.z,n=this.w;return Math.sqrt(i*i+r*r+a*a+n*n)},lengthSq:function(){var i=this.x,r=this.y,a=this.z,n=this.w;return i*i+r*r+a*a+n*n},normalize:function(){var i=this.x,r=this.y,a=this.z,n=this.w,s=i*i+r*r+a*a+n*n;return s>0&&(s=1/Math.sqrt(s),this.x=i*s,this.y=r*s,this.z=a*s,this.w=n*s),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w},lerp:function(i,r){r===void 0&&(r=0);var a=this.x,n=this.y,s=this.z,u=this.w;return this.x=a+r*(i.x-a),this.y=n+r*(i.y-n),this.z=s+r*(i.z-s),this.w=u+r*(i.w-u),this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this.w*=i.w||1,this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this.w/=i.w||1,this},distance:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0,s=i.w-this.w||0;return Math.sqrt(r*r+a*a+n*n+s*s)},distanceSq:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0,s=i.w-this.w||0;return r*r+a*a+n*n+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(i){var r=this.x,a=this.y,n=this.z,s=this.w,u=i.val;return this.x=u[0]*r+u[4]*a+u[8]*n+u[12]*s,this.y=u[1]*r+u[5]*a+u[9]*n+u[13]*s,this.z=u[2]*r+u[6]*a+u[10]*n+u[14]*s,this.w=u[3]*r+u[7]*a+u[11]*n+u[15]*s,this},transformQuat:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,u=i.y,o=i.z,h=i.w,d=h*r+u*n-o*a,v=h*a+o*r-s*n,c=h*n+s*a-u*r,m=-s*r-u*a-o*n;return this.x=d*h+m*-s+v*-o-c*-u,this.y=v*h+m*-u+c*-s-d*-o,this.z=c*h+m*-o+d*-u-v*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});f.prototype.sub=f.prototype.subtract,f.prototype.mul=f.prototype.multiply,f.prototype.div=f.prototype.divide,f.prototype.dist=f.prototype.distance,f.prototype.distSq=f.prototype.distanceSq,f.prototype.len=f.prototype.length,f.prototype.lenSq=f.prototype.lengthSq,l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(91),i=new e({initialize:function(a,n,s,u,o,h,d){u===void 0&&(u=1),o===void 0&&(o=0),h===void 0&&(h=!0),d===void 0&&(d=!1),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=u,this.minFilter=o,this.autoClear=h,this.autoResize=!1,this.resize(n,s),d&&this.setAutoResize(!0)},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(f.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(f.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,a){var n=r*this.scale,s=a*this.scale;if(n!==this.width||s!==this.height){var u=this.renderer;u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),r*=this.scale,a*=this.scale,r=Math.round(r),a=Math.round(a),r<=0&&(r=1),a<=0&&(a=1),this.texture=u.createTextureFromSource(null,r,a,this.minFilter),this.framebuffer=u.createFramebuffer(r,a,this.texture,!1),this.width=r,this.height=a}return this},bind:function(r,a,n){if(r===void 0&&(r=!1),r&&this.renderer.flush(),a&&n&&this.resize(a,n),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),r&&this.adjustViewport(),this.autoClear){var s=this.renderer.gl;s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)}},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,a=r.gl;r.pushFramebuffer(this.framebuffer),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var a=this.renderer;return r&&a.flush(),a.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(f.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i;if(f)typeof f=="string"?i=document.getElementById(f):typeof f=="object"&&f.nodeType===1&&(i=f);else if(e.parentElement||f===null)return e;return i||(i=document.body),i.appendChild(e),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(77),i=t(9),r=t(70),a=t(22),n=t(1),s=t(207),u=t(428),o=new e({Extends:i,initialize:function(d){i.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,d.events.on(a.BLUR,this.onGameBlur,this),d.events.on(a.FOCUS,this.onGameFocus,this),d.events.on(a.PRE_STEP,this.update,this),d.events.once(a.DESTROY,this.destroy,this)},add:n,addAudioSprite:function(h,d){d===void 0&&(d={});var v=this.add(h,d);v.spritemap=this.jsonCache.get(h).spritemap;for(var c in v.spritemap)if(v.spritemap.hasOwnProperty(c)){var m=f(d),g=v.spritemap[c];m.loop=g.hasOwnProperty("loop")?g.loop:!1,v.addMarker({name:c,start:g.start,duration:g.end-g.start,config:m})}return v},get:function(h){return u(this.sounds,"key",h)},getAll:function(h){return s(this.sounds,"key",h)},play:function(h,d){var v=this.add(h);return v.once(r.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(h,d,v){var c=this.addAudioSprite(h);return c.once(r.COMPLETE,c.destroy,c),c.play(d,v)},remove:function(h){var d=this.sounds.indexOf(h);return d!==-1?(h.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var d=0,v=this.sounds.length-1;v>=0;v--){var c=this.sounds[v];c.key===h&&(c.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(h){var d=0;return this.getAll(h).forEach(function(v){v.stop()&&d++}),d},unlock:n,onBlur:n,onFocus:n,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(h,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(c){c.update(h,d)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(h,d){var v=this;this.sounds.forEach(function(c,m){c&&!c.pendingRemove&&h.call(d||v,c,m,v.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,h)}}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(70),r=t(17),a=t(1),n=new e({Extends:f,initialize:function(u,o,h){f.call(this),this.manager=u,this.key=o,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var u=this.markers[s];return u?(this.markers[s]=null,u):null},play:function(s,u){if(s===void 0&&(s=""),typeof s=="object"&&(u=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,u),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var s=1.0005777895065548,u=this.currentConfig.detune+this.manager.detune,o=Math.pow(s,u);this.totalRate=this.currentConfig.rate*this.manager.rate*o},destroy:function(){this.pendingRemove||(this.emit(i.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),f=t(435),i=function(r,a){if(a===void 0&&(a=90),!e(r))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")r=f(r),r.reverse();else if(a===-90||a===270||a==="rotateRight")r.reverse(),r=f(r);else if(Math.abs(a)===180||a==="rotate180"){for(var n=0;n<r.length;n++)r[n].reverse();r.reverse()}return r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(18),i=t(11),r=t(15),a=t(1043),n=t(1044),s=t(212),u=t(10),o=t(1045),h=new e({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Texture,i.Tint,i.Transform,i.Visible,o],initialize:function(v,c,m,g,y,E,S){y===void 0&&(y=""),S===void 0&&(S=0),r.call(this,v,"BitmapText"),this.font=g;var C=this.scene.sys.cache.bitmapFont.get(g);C||console.warn("Invalid BitmapText key: "+g),this.fontData=C.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._align=S,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(c,m),this.setOrigin(0,0),this.initPipeline(),this.setText(y)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,v,c,m){return d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),m===void 0&&(m=.5),this.dropShadowX=d,this.dropShadowY=v,this.dropShadowColor=c,this.dropShadowAlpha=m,this},setCharacterTint:function(d,v,c,m,g,y,E){d===void 0&&(d=0),v===void 0&&(v=1),c===void 0&&(c=!1),m===void 0&&(m=-1),g===void 0&&(g=m,y=m,E=m);var S=this.text.length;v===-1&&(v=S),d<0&&(d=S+d),d=f(d,0,S-1);for(var C=f(d+v,d,S),P=this.charColors,A=d;A<C;A++){var R=P[A];if(m===-1)P[A]=null;else{var M=c?1:0;R?(R.tintEffect=M,R.tintTL=m,R.tintTR=g,R.tintBL=y,R.tintBR=E):P[A]={tintEffect:M,tintTL:m,tintTR:g,tintBL:y,tintBR:E}}}return this},setWordTint:function(d,v,c,m,g,y,E){v===void 0&&(v=1);for(var S=this.getTextBounds(),C=S.words,P=typeof d=="number",A=0,R=0;R<C.length;R++){var M=C[R];if((P&&R===d||!P&&M.word===d)&&(this.setCharacterTint(M.i,M.word.length,c,m,g,y,E),A++,A===v))return this}return this},getTextBounds:function(d){var v=this._bounds;return(this._dirty||d||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(a(this,d,!0,v),this._dirty=!1),v},getCharacterAt:function(d,v,c){for(var m=this.getLocalPoint(d,v,null,c),g=this.getTextBounds(),y=g.characters,E=new u,S=0;S<y.length;S++){var C=y[S];if(E.setTo(C.x,C.t,C.r-C.x,C.b),E.contains(m.x,m.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,v,c){if(v===void 0&&(v=this._fontSize),c===void 0&&(c=this._align),d!==this.font){var m=this.scene.sys.cache.bitmapFont.get(d);m&&(this.font=d,this.fontData=m.data,this._fontSize=v,this._align=c,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),a(this,!1,!0,this._bounds))}return this},setMaxWidth:function(d,v){return this._maxWidth=d,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var d=i.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return d.data=v,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=n,h.ParseXMLBitmapFont=s,l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a])},set:function(i){return this.entries.indexOf(i)===-1&&this.entries.push(i),this},get:function(i,r){for(var a=0;a<this.entries.length;a++){var n=this.entries[a];if(n[i]===r)return n}},getArray:function(){return this.entries.slice(0)},delete:function(i){var r=this.entries.indexOf(i);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var i=0;i<this.entries.length;i++){var r=this.entries[i];console.log(r)}console.groupEnd()},each:function(i,r){var a,n=this.entries.slice(),s=n.length;if(r)for(a=0;a<s&&i.call(r,n[a],a)!==!1;a++);else for(a=0;a<s&&i(n[a],a)!==!1;a++);return this},iterate:function(i,r){var a,n=this.entries.length;if(r)for(a=0;a<n&&i.call(r,this.entries[a],a)!==!1;a++);else for(a=0;a<n&&i(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(i){var r,a=[];for(r=1;r<arguments.length;r++)a.push(arguments[r]);var n=this.entries.length;for(r=0;r<n;r++){var s=this.entries[r];s[i].apply(s,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(i){return this.entries.indexOf(i)>-1},union:function(i){var r=new f;return i.entries.forEach(function(a){r.set(a)}),this.entries.forEach(function(a){r.set(a)}),r},intersect:function(i){var r=new f;return this.entries.forEach(function(a){i.contains(a)&&r.set(a)}),r},difference:function(i){var r=new f;return this.entries.forEach(function(a){i.contains(a)||r.set(a)}),r},size:{get:function(){return this.entries.length},set:function(i){return i<this.entries.length?this.entries.length=i:this.entries.length}}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(189),a=t(92),n=t(1182),s=new e({Extends:i,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Pipeline,f.ScrollFactor,f.Transform,f.Visible,n],initialize:function(o,h,d,v,c,m,g){v===void 0&&(v=16777215),c===void 0&&(c=128),m===void 0&&(m=1),g===void 0&&(g=.1),i.call(this,o,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.setPosition(h,d),this.color=r(v),this.intensity=m,this.attenuation=g,this.width=c*2,this.height=c*2,this._radius=c},radius:{get:function(){return this._radius},set:function(u){this._radius=u,this.width=u*2,this.height=u*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=f.width/2,r=f.height/2,a=Math.abs(e.x-f.x-i),n=Math.abs(e.y-f.y-r),s=i+e.radius,u=r+e.radius;if(a>s||n>u)return!1;if(a<=i||n<=r)return!0;var o=a-i,h=n-r,d=o*o,v=h*h,c=e.radius*e.radius;return d+v<=c};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.width<=0||e.height<=0||f.width<=0||f.height<=0?!1:!(e.right<f.x||e.bottom<f.y||e.x>f.right||e.y>f.bottom)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f={},i={};i.register=function(r,a,n,s,u){f[r]={plugin:a,mapping:n,settingsKey:s,configKey:u}},i.getPlugin=function(r){return f[r]},i.install=function(r){var a=r.scene.sys,n=a.settings.input,s=a.game.config;for(var u in f){var o=f[u].plugin,h=f[u].mapping,d=f[u].settingsKey,v=f[u].configKey;e(n,d,s[v])&&(r[h]=new o(r))}},i.remove=function(r){f.hasOwnProperty(r)&&delete f[r]},l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:f+e.url:!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n){return e===void 0&&(e=""),f===void 0&&(f=!0),i===void 0&&(i=""),r===void 0&&(r=""),a===void 0&&(a=0),n===void 0&&(n=!1),{responseType:e,async:f,user:i,password:r,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(243),i=t(73),r=new e({Extends:i,Mixins:[f.Acceleration,f.Angular,f.Bounce,f.Debug,f.Drag,f.Enable,f.Friction,f.Gravity,f.Immovable,f.Mass,f.Pushable,f.Size,f.Velocity],initialize:function(n,s,u,o,h){i.call(this,n,s,u,o,h),this.body=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),f=function(i,r,a,n){if(a===void 0&&(a=!1),e(i,r,n)){var s=n.data[r][i]||null;return s?s.index===-1?a?s:null:s:null}else return null};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=e.data,n=e.width,s=e.height,u=e.tilemapLayer,o=Math.max(0,f.left),h=Math.min(n,f.right),d=Math.max(0,f.top),v=Math.min(s,f.bottom),c,m,g;if(i===0)for(m=d;m<v;m++)for(c=o;a[m]&&c<h;c++)g=a[m][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===1)for(m=d;m<v;m++)for(c=h;a[m]&&c>=o;c--)g=a[m][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===2)for(m=v;m>=d;m--)for(c=o;a[m]&&c<h;c++)g=a[m][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===3)for(m=v;m>=d;m--)for(c=h;a[m]&&c>=o;c--)g=a[m][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);return u.tilesDrawn=r.length,u.tilesTotal=n*s,r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i.collideIndexes.indexOf(e);f&&r===-1?i.collideIndexes.push(e):!f&&r!==-1&&i.collideIndexes.splice(r,1)};l.exports=t},function(l,x,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=function(i,r,a){if(!r)return{i:0,layers:i.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=r.x+e(r,"startx",0)*i.tilewidth+e(r,"offsetx",0),s=r.y+e(r,"starty",0)*i.tileheight+e(r,"offsety",0);return{i:0,layers:r.layers,name:a.name+r.name+"/",opacity:a.opacity*r.opacity,visible:a.visible&&r.visible,x:a.x+n,y:a.y+s}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r;if(e.hasOwnProperty(f)){var a=typeof e[f];a==="function"?r=function(n,s,u,o,h,d){return e[f](n,s,u,o,h,d)}:r=function(){return e[f]}}else typeof i=="function"?r=i:r=function(){return i};return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),f=t(13),i=t(99),r=t(80),a=t(162),n=t(583),s=t(263),u=t(6),o=t(264),h=t(266),d=t(268),v=function(c,m,g){g===void 0&&(g=e);for(var y=g.targets?g.targets:s(m),E=n(m),S=a(m,"delay",g.delay),C=a(m,"duration",g.duration),P=u(m,"easeParams",g.easeParams),A=r(u(m,"ease",g.ease),P),R=a(m,"hold",g.hold),M=a(m,"repeat",g.repeat),L=a(m,"repeatDelay",g.repeatDelay),F=i(m,"yoyo",g.yoyo),I=i(m,"flipX",g.flipX),N=i(m,"flipY",g.flipY),z=[],W=0;W<E.length;W++)for(var $=E[W].key,Z=E[W].value,D=0;D<y.length;D++){var O=o($,Z),B=d(y[D],D,$,O.getEnd,O.getStart,O.getActive,r(u(Z,"ease",A),u(Z,"easeParams",P)),a(Z,"delay",S),a(Z,"duration",C),i(Z,"yoyo",F),a(Z,"hold",R),a(Z,"repeat",M),a(Z,"repeatDelay",L),i(Z,"flipX",I),i(Z,"flipY",N));z.push(B)}var G=new h(c,z,y);G.offset=f(m,"offset",null),G.completeDelay=f(m,"completeDelay",0),G.loop=Math.round(f(m,"loop",0)),G.loopDelay=Math.round(f(m,"loopDelay",0)),G.paused=i(m,"paused",!1),G.useFrames=i(m,"useFrames",!1);for(var Y=u(m,"callbackScope",G),V=[G,null],b=h.TYPES,H=0;H<b.length;H++){var j=b[H],q=u(m,j,!1);if(q){var et=u(m,j+"Scope",Y),ot=u(m,j+"Params",[]);G.setCallback(j,q,V.concat(ot),et)}}return G};l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(102),i=t(2),r=t(132),a=t(185),n=new e({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(s){var u=this.parent;if(s===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var h=s[o];this.nextAnim===null?this.nextAnim=h:this.nextAnimsQueue.push(h)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(s){this.isPlaying&&this.stop();var u=this.animationManager,o=typeof s=="string"?s:i(s,"key",null),h=this.exists(o)?this.get(o):u.get(o);if(!h)console.warn("Missing animation: "+o);else{this.currentAnim=h;var d=h.getTotalFrames(),v=i(s,"frameRate",h.frameRate),c=i(s,"duration",h.duration);h.calculateDuration(this,d,c,v),this.delay=i(s,"delay",h.delay),this.repeat=i(s,"repeat",h.repeat),this.repeatDelay=i(s,"repeatDelay",h.repeatDelay),this.yoyo=i(s,"yoyo",h.yoyo),this.showOnStart=i(s,"showOnStart",h.showOnStart),this.hideOnComplete=i(s,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=i(s,"skipMissedFrames",h.skipMissedFrames),this.timeScale=i(s,"timeScale",this.timeScale);var m=i(s,"startFrame",0);m>h.getTotalFrames()&&(m=0);var g=h.frames[m];m===0&&!this.forward&&(g=h.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(s){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),s!==void 0&&this.setCurrentFrame(s),this.parent},resume:function(s){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),s!==void 0&&this.setCurrentFrame(s),this.parent},playAfterDelay:function(s,u){if(!this.isPlaying)this.delayCounter=u,this.play(s,!0);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.nextAnim=s,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(s,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(s);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=s,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(s,u){u===void 0&&(u=!1);var o=this.currentAnim,h=this.parent,d=typeof s=="string"?s:s.key;if(u&&this.isPlaying&&o.key===d)return h;if(o&&this.isPlaying){var v=this.animationManager.getMix(o.key,s);if(v>0)return this.playAfterDelay(s,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s)},playReverse:function(s,u){u===void 0&&(u=!1);var o=typeof s=="string"?s:s.key;return u&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s))},startAnimation:function(s){this.load(s);var u=this.currentAnim,o=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(s,u){var o=this.currentAnim,h=this.currentFrame,d=this.parent,v=h.textureFrame;d.emit(s,o,h,d,v),u&&d.emit(u+o.key,o,h,d,v)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var s=this.currentFrame;if(!s)return 0;var u=s.progress;return this.inReverse&&(u*=-1),u},setProgress:function(s){return this.forward||(s=1-s),this.setCurrentFrame(this.currentAnim.getFrameByProgress(s)),this.parent},setRepeat:function(s){return this.repeatCounter=s===-1?Number.MAX_VALUE:s,this.parent},globalRemove:function(s,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(s,u){s===void 0&&(s=!1),u===void 0&&(u=!1);var o=this.currentAnim,h=this.parent;return o?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!s,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(s)}return this.parent},stopAfterDelay:function(s){return this._pendingStop=1,this._pendingStopValue=s,this.parent},stopAfterRepeat:function(s){return s===void 0&&(s=1),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=s,this.parent},stopOnFrame:function(s){return this._pendingStop=3,this._pendingStopValue=s,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(s,u){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=u*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?o.nextFrame(this):o.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(s){var u=this.parent;return this.currentFrame=s,u.texture=s.frame.texture,u.frame=s.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),s.setAlpha&&(u.alpha=s.alpha),u.setSizeToFrame(),u._originComponent&&(s.frame.customPivot?u.setOrigin(s.frame.pivotX,s.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===s&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(s){return this.anims?this.anims.get(s):null},exists:function(s){return this.anims?this.anims.has(s):!1},create:function(s){var u=s.key,o=!1;return u&&(o=this.get(u),o||(o=new a(this,u,s),this.anims||(this.anims=new f),this.anims.set(u,o))),o},generateFrameNames:function(s,u){return this.animationManager.generateFrameNames(s,u)},generateFrameNumbers:function(s,u){return this.animationManager.generateFrameNumbers(s,u)},remove:function(s){var u=this.get(s);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(s)),u},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});l.exports=n},function(l,x,t){var e={};l.exports=e;var f=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,r){for(var a=r*r*r,n=0;n<i.length;n++){var s=i[n],u=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(s.force.x!==0||s.force.y!==0){e.set(s,!1);continue}var o=Math.min(s.motion,u),h=Math.max(s.motion,u);s.motion=e._minBias*o+(1-e._minBias)*h,s.sleepThreshold>0&&s.motion<e._motionSleepThreshold*a?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&e.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}},e.afterCollisions=function(i,r){for(var a=r*r*r,n=0;n<i.length;n++){var s=i[n];if(s.isActive){var u=s.collision,o=u.bodyA.parent,h=u.bodyB.parent;if(!(o.isSleeping&&h.isSleeping||o.isStatic||h.isStatic)&&(o.isSleeping||h.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:h,v=d===o?h:o;!d.isStatic&&v.motion>e._motionWakeThreshold*a&&e.set(d,!1)}}}},e.set=function(i,r){var a=i.isSleeping;r?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,a||f.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,a&&f.trigger(i,"sleepEnd"))}})()},function(l,x,t){var e={};l.exports=e;var f=t(32);(function(){e.on=function(i,r,a){for(var n=r.split(" "),s,u=0;u<n.length;u++)s=n[u],i.events=i.events||{},i.events[s]=i.events[s]||[],i.events[s].push(a);return a},e.off=function(i,r,a){if(!r){i.events={};return}typeof r=="function"&&(a=r,r=f.keys(i.events).join(" "));for(var n=r.split(" "),s=0;s<n.length;s++){var u=i.events[n[s]],o=[];if(a&&u)for(var h=0;h<u.length;h++)u[h]!==a&&o.push(u[h]);i.events[n[s]]=o}},e.trigger=function(i,r,a){var n,s,u,o,h=i.events;if(h&&f.keys(h).length>0){a||(a={}),n=r.split(" ");for(var d=0;d<n.length;d++)if(s=n[d],u=h[s],u){o=f.clone(a,!1),o.name=s,o.source=i;for(var v=0;v<u.length;v++)u[v].apply(i,[o])}}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),f=t(92),i=t(74),r={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(a){a===void 0&&(a=f.MULTI_PIPELINE);var n=this.scene.sys.renderer;if(!n)return!1;var s=n.pipelines;if(this.postPipelines=[],this.pipelineData={},s){var u=s.get(a);if(u)return this.defaultPipeline=u,this.pipeline=u,!0}return!1},setPipeline:function(a,n,s){var u=this.scene.sys.renderer;if(!u)return this;var o=u.pipelines;if(o){var h=o.get(a);h&&(this.pipeline=h),n&&(this.pipelineData=s?e(n):n)}return this},setPostPipeline:function(a,n,s){var u=this.scene.sys.renderer;if(!u)return this;var o=u.pipelines;if(o){Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++){var d=o.getPostPipeline(a[h],this);d&&this.postPipelines.push(d)}n&&(this.pipelineData=s?e(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(a,n){var s=this.pipelineData;return n===void 0?delete s[a]:s[a]=n,this},getPostPipeline:function(a){for(var n=this.postPipelines,s=[],u=0;u<n.length;u++){var o=n[u];(typeof a=="string"&&o.name===a||o instanceof a)&&s.push(o)}return s.length===1?s[0]:s},resetPipeline:function(a,n){return a===void 0&&(a=!1),n===void 0&&(n=!1),this.pipeline=this.defaultPipeline,a&&(this.postPipelines=[],this.hasPostPipeline=!1),n&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var n=this.postPipelines,s=0;s<n.length;s++)n[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.pipelineData={})},removePostPipeline:function(a){for(var n=this.postPipelines,s=n.length-1;s>=0;s--){var u=n[s];(typeof a=="string"&&u.name===a||typeof a!="string"&&u instanceof a)&&(u.destroy(),i(n,s))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){return a===void 0&&(a=new e),a.x=i.x+i.radius*Math.cos(r),a.y=i.y+i.radius*Math.sin(r),a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){r===void 0&&(r=new e);var a=2*Math.PI*Math.random(),n=Math.random()+Math.random(),s=n>1?2-n:n,u=s*Math.cos(a),o=s*Math.sin(a);return r.x=i.x+u*i.radius,r.y=i.y+o*i.radius,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),f=t(4),i=function(r,a,n){if(n===void 0&&(n=new f),a<=0||a>=1)return n.x=r.x,n.y=r.y,n;var s=e(r)*a;return a>.5?(s-=r.width+r.height,s<=r.width?(n.x=r.right-s,n.y=r.bottom):(n.x=r.x,n.y=r.bottom-(s-r.width))):s<=r.width?(n.x=r.x+s,n.y=r.y):(n.x=r.right,n.y=r.y+(s-r.width)),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=t(4),i=function(r,a,n,s){s===void 0&&(s=[]),!a&&n>0&&(a=e(r)/n);for(var u=r.x1,o=r.y1,h=r.x2,d=r.y2,v=0;v<a;v++){var c=v/a,m=u+(h-u)*c,g=o+(d-o)*c;s.push(new f(m,g))}return s};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){r===void 0&&(r=new e);var a=Math.random();return r.x=i.x1+a*(i.x2-i.x1),r.y=i.y1+a*(i.y2-i.y1),r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.x=i.x+Math.random()*i.width,r.y=i.y+Math.random()*i.height,r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f,i,r;if(typeof e!="object"||e===null)return e;f=Array.isArray(e)?[]:{};for(r in e)i=e[r],f[r]=t(i);return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(f.textureKey=e.texture.key,f.frameKey=e.frame.name),f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s,u,o,h){h===void 0&&(h=new e);var d=Math.sin(s),v=Math.cos(s),c=v*u,m=d*u,g=-d*o,y=v*o,E=1/(c*y+g*-m);return h.x=y*E*i+-g*E*r+(n*g-a*y)*E,h.y=c*E*r+-m*E*i+(-n*c+a*m)*E,h};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=1);for(var i=null,r=0;r<f;r++)i=e.shift(),e.push(i);return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=1);for(var i=null,r=0;r<f;r++)i=e.pop(),e.unshift(i);return i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){r===void 0&&(r=new e);var a=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return r.x=i.x+n*Math.cos(a)*i.width/2,r.y=i.y+n*Math.sin(a)*i.height/2,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){r===void 0&&(r=new e);var a=i.x2-i.x1,n=i.y2-i.y1,s=i.x3-i.x1,u=i.y3-i.y1,o=Math.random(),h=Math.random();return o+h>=1&&(o=1-o,h=1-h),r.x=i.x1+(a*o+s*h),r.y=i.y1+(n*o+u*h),r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){var n=r+Math.atan2(e.y-i,e.x-f);return e.x=f+a*Math.cos(n),e.y=i+a*Math.sin(n),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e=Math.max(0,Math.min(1,(e-f)/(i-f))),e*e*e*(e*(e*6-15)+10)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e<=f?0:e>=i?1:(e=(e-f)/(i-f),e*e*(3-2*e))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(132),r=t(318),a=t(319),n=t(6),s=t(320),u=new f({initialize:function(h,d,v){this.manager=h,this.key=d,this.type="frame",this.frames=this.getFrames(h.textureManager,n(v,"frames",[]),n(v,"defaultTextureKey",null),n(v,"sortFrames",!0)),this.frameRate=n(v,"frameRate",null),this.duration=n(v,"duration",null),this.msPerFrame,this.skipMissedFrames=n(v,"skipMissedFrames",!0),this.delay=n(v,"delay",0),this.repeat=n(v,"repeat",0),this.repeatDelay=n(v,"repeatDelay",0),this.yoyo=n(v,"yoyo",!1),this.showOnStart=n(v,"showOnStart",!1),this.hideOnComplete=n(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(i.PAUSE_ALL,this.pause,this),this.manager.on(i.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(o,h,d,v){d===null&&v===null?(o.frameRate=24,o.duration=24/h*1e3):d&&v===null?(o.duration=d,o.frameRate=h/(d/1e3)):(o.frameRate=v,o.duration=h/v*1e3),o.msPerFrame=1e3/o.frameRate},addFrame:function(o){return this.addFrameAt(this.frames.length,o)},addFrameAt:function(o,h){var d=this.getFrames(this.manager.textureManager,h);if(d.length>0){if(o===0)this.frames=d.concat(this.frames);else if(o===this.frames.length)this.frames=this.frames.concat(d);else{var v=this.frames.slice(0,o),c=this.frames.slice(o);this.frames=v.concat(d,c)}this.updateFrameSequence()}return this},checkFrame:function(o){return o>=0&&o<this.frames.length},getFirstTick:function(o){o.accumulator=0,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameAt:function(o){return this.frames[o]},getFrames:function(o,h,d,v){v===void 0&&(v=!0);var c=[],m,g,y=1,E,S;if(typeof h=="string"){S=h;var C=o.get(S),P=C.getFrameNames();v&&s(P),h=[],P.forEach(function(I){h.push({key:S,frame:I})})}if(!Array.isArray(h)||h.length===0)return c;for(E=0;E<h.length;E++){var A=h[E],R=n(A,"key",d);if(R){var M=n(A,"frame",0),L=o.getFrame(R,M);g=new a(R,M,y,L),g.duration=n(A,"duration",0),g.isFirst=!m,m&&(m.nextFrame=g,g.prevFrame=m),c.push(g),m=g,y++}}if(c.length>0){g.isLast=!0,g.nextFrame=c[0],c[0].prevFrame=g;var F=1/(c.length-1);for(E=0;E<c.length;E++)c[E].progress=E*F}return c},getNextTick:function(o){o.accumulator-=o.nextTick,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameByProgress:function(o){return o=e(o,0,1),r(o,this.frames,"progress")},nextFrame:function(o){var h=o.currentFrame;h.isLast?o.yoyo?this.handleYoyoFrame(o,!1):o.repeatCounter>0?o.inReverse&&o.forward?o.forward=!1:this.repeatAnimation(o):o.complete():this.updateAndGetNextTick(o,h.nextFrame)},handleYoyoFrame:function(o,h){if(h||(h=!1),o.inReverse===!h&&o.repeatCounter>0){(o.repeatDelay===0||o.pendingRepeat)&&(o.forward=h),this.repeatAnimation(o);return}if(o.inReverse!==h&&o.repeatCounter===0){o.complete();return}o.forward=h;var d=h?o.currentFrame.nextFrame:o.currentFrame.prevFrame;this.updateAndGetNextTick(o,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(o){var h=o.currentFrame;h.isFirst?o.yoyo?this.handleYoyoFrame(o,!0):o.repeatCounter>0?o.inReverse&&!o.forward?this.repeatAnimation(o):(o.forward=!0,this.repeatAnimation(o)):o.complete():this.updateAndGetNextTick(o,h.prevFrame)},updateAndGetNextTick:function(o,h){o.setCurrentFrame(h),this.getNextTick(o)},removeFrame:function(o){var h=this.frames.indexOf(o);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(o){return this.frames.splice(o,1),this.updateFrameSequence(),this},repeatAnimation:function(o){if(o._pendingStop===2){if(o._pendingStopValue===0)return o.stop();o._pendingStopValue--}o.repeatDelay>0&&!o.pendingRepeat?(o.pendingRepeat=!0,o.accumulator-=o.nextTick,o.nextTick+=o.repeatDelay):(o.repeatCounter--,o.forward?o.setCurrentFrame(o.currentFrame.nextFrame):o.setCurrentFrame(o.currentFrame.prevFrame),o.isPlaying&&(this.getNextTick(o),o.handleRepeat()))},toJSON:function(){var o={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){o.frames.push(h.toJSON())}),o},updateFrameSequence:function(){for(var o=this.frames.length,h=1/(o-1),d,v=0;v<o;v++)d=this.frames[v],d.index=v+1,d.isFirst=!1,d.isLast=!1,d.progress=v*h,v===0?(d.isFirst=!0,o===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[o-1],d.nextFrame=this.frames[v+1])):v===o-1&&o>1?(d.isLast=!0,d.prevFrame=this.frames[o-2],d.nextFrame=this.frames[0]):o>1&&(d.prevFrame=this.frames[v-1],d.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(i.PAUSE_ALL,this.pause,this),this.manager.off(i.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var o=0;o<this.frames.length;o++)this.frames[o].destroy();this.frames=[],this.manager=null}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f===void 0&&(f=0),i===void 0&&(i=" "),r===void 0&&(r=3),e=e.toString();var a=0;if(f+1>=e.length)switch(r){case 1:e=new Array(f+1-e.length).join(i)+e;break;case 3:var n=Math.ceil((a=f-e.length)/2),s=a-n;e=new Array(s+1).join(i)+e+new Array(n+1).join(i);break;default:e=e+new Array(f+1-e.length).join(i);break}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),f=t(189),i=t(331),r=t(332),a=function(n){var s=typeof n;switch(s){case"string":return n.substr(0,3).toLowerCase()==="rgb"?r(n):e(n);case"number":return f(n);case"object":return i(n)}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function f(r,a,n,s){var u=(r+a*6)%6,o=Math.min(u,4-u,1);return Math.round(255*(s-s*n*Math.max(0,o)))}var i=function(r,a,n,s){a===void 0&&(a=1),n===void 0&&(n=1);var u=f(5,r,a,n),o=f(3,r,a,n),h=f(1,r,a,n);return s?s.setTo?s.setTo(u,o,h,s.alpha,!1):(s.r=u,s.g=o,s.b=h,s.color=e(u,o,h),s):{r:u,g:o,b:h,color:e(u,o,h)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),f=t(330),i=function(r){var a=f(r);return new e(a.r,a.g,a.b,a.a)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x=f-e.width/2,e.y=i-e.height/2,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),f=t(136),i=t(31),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var s=new ArrayBuffer(4),u=new Uint8Array(s),o=new Uint32Array(s);return u[0]=161,u[1]=178,u[2]=195,u[3]=212,o[0]===3569595041?!0:o[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,u=function(){if(window.WebGLRenderingContext)try{var o=i.createWebGL(this),h=o.getContext("webgl")||o.getContext("experimental-webgl"),d=i.create2D(this),v=d.getContext("2d"),c=v.createImageData(1,1);return s=c.data instanceof Uint8ClampedArray,i.remove(o),i.remove(d),!!h}catch{return!1}return!1};return r.webGL=u(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,f.firefox&&f.firefoxVersion<21&&(r.getUserMedia=!1),!e.iOS&&(f.ie||f.firefox||f.chrome)&&(r.canvasBitBltShift=!0),(f.safari||f.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=a()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}l.exports=n()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var f=function(n){for(var s=["i","webkitI","msI","mozI","oI"],u=0;u<s.length;u++){var o=s[u]+"mageSmoothingEnabled";if(o in n)return o}return null},i=function(n){return t===""&&(t=f(n)),t&&(n[t]=!0),n},r=function(n){return t===""&&(t=f(n)),t&&(n[t]=!1),n},a=function(n){return t!==null?n[t]:null};return{disable:r,enable:i,getPrefix:f,isEnabled:a}};l.exports=e()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(17),i={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};i=f(!1,i,e),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){var n=(r-f)*.5,s=(a-i)*.5,u=e*e,o=e*u;return(2*i-2*r+n+s)*o+(-3*i+3*r-2*n-s)*u+n*e+i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return Math.floor(Math.random()*(f-e+1)+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=function(i){return i*e.RAD_TO_DEG};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(i){return this._matrix=i,this._dirty=!0,this},reset:function(){var i=this._matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=0,i[6]=1,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=1,i[13]=0,i[14]=0,i[15]=0,i[16]=0,i[17]=0,i[18]=1,i[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var i=new Float32Array(this._matrix);i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._data=i,this._dirty=!1}return this._data},brightness:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],r)},saturate:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i*2/3+1,n=(a-1)*-.5;return this.multiply([a,n,n,0,0,n,a,n,0,0,n,n,a,0,0,0,0,0,1,0],r)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1),i=i/180*Math.PI;var a=Math.cos(i),n=Math.sin(i),s=.213,u=.715,o=.072;return this.multiply([s+a*(1-s)+n*-s,u+a*-u+n*-u,o+a*-o+n*(1-o),0,0,s+a*-s+n*.143,u+a*(1-u)+n*.14,o+a*-o+n*-.283,0,0,s+a*-s+n*-(1-s),u+a*-u+n*u,o+a*(1-o)+n*o,0,0,0,0,0,1,0],r)},grayscale:function(i,r){return i===void 0&&(i=1),r===void 0&&(r=!1),this.saturate(-i,r)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],i)},contrast:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i+1,n=-.5*(a-1);return this.multiply([a,0,0,0,n,0,a,0,0,n,0,0,a,0,n,0,0,0,1,0],r)},negative:function(i){return i===void 0&&(i=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],i)},night:function(i,r){return i===void 0&&(i=.1),r===void 0&&(r=!1),this.multiply([i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0],r)},lsd:function(i){return i===void 0&&(i=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],i)},brown:function(i){return i===void 0&&(i=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],i)},multiply:function(i,r){r||this.reset();for(var a=this._matrix,n=[],s=0;s<20;s++)n[s]=a[s];return a[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],a[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],a[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],a[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],a[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],a[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],a[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],a[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],a[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],a[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],a[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],a[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],a[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],a[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],a[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],a[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],a[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],a[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],a[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],a[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],this._dirty=!0,this}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=t(14),i=function(r,a){if(a===void 0&&(a=new e),r.length===0)return a;for(var n=Number.MAX_VALUE,s=Number.MAX_VALUE,u=f.MIN_SAFE_INTEGER,o=f.MIN_SAFE_INTEGER,h,d,v,c=0;c<r.length;c++)h=r[c],Array.isArray(h)?(d=h[0],v=h[1]):(d=h.x,v=h.y),n=Math.min(n,d),s=Math.min(s,v),u=Math.max(u,d),o=Math.max(o,v);return a.x=n,a.y=s,a.width=u-n,a.height=o-s,a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(1),i=new e({initialize:function(a,n,s){this._rgb=[0,0,0],this.onChangeCallback=f,this.dirty=!1,this.set(a,n,s)},set:function(r,a,n){return r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=0),this._rgb=[r,a,n],this.onChange(),this},equals:function(r,a,n){var s=this._rgb;return s.r===r&&s.g===a&&s.b===n},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(144),i=t(197),r=t(20),a=t(419),n=t(420),s=t(33),u=t(1),o=t(421),h=new e({initialize:function(v,c){this.scene=v,this.game,this.renderer,this.config=c,this.settings=o.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(d){this.settings.status=f.INIT,this.sceneUpdate=u,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var v=d.plugins;this.plugins=v,v.addToScene(this,i.Global,[i.CoreScene,n(this),a(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(d,v){var c=this.events;c.emit(r.PRE_UPDATE,d,v),c.emit(r.UPDATE,d,v),this.sceneUpdate.call(this.scene,d,v),c.emit(r.POST_UPDATE,d,v)},render:function(d){var v=this.displayList;v.depthSort(),this.events.emit(r.PRE_RENDER,d),this.cameras.render(d,v),this.events.emit(r.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var v=this.events,c=this.settings;return this.settings.active&&(c.status=f.PAUSED,c.active=!1,v.emit(r.PAUSE,this,d)),this},resume:function(d){var v=this.events,c=this.settings;return this.settings.active||(c.status=f.RUNNING,c.active=!0,v.emit(r.RESUME,this,d)),this},sleep:function(d){var v=this.events,c=this.settings;return c.status=f.SLEEPING,c.active=!1,c.visible=!1,v.emit(r.SLEEP,this,d),this},wake:function(d){var v=this.events,c=this.settings;return c.status=f.RUNNING,c.active=!0,c.visible=!0,v.emit(r.WAKE,this,d),c.isTransition&&v.emit(r.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===f.SLEEPING},isActive:function(){return this.settings.status===f.RUNNING},isPaused:function(){return this.settings.status===f.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,v){return d?this.resume(v):this.pause(v)},start:function(d){var v=this.events,c=this.settings;d&&(c.data=d),c.status=f.START,c.active=!0,c.visible=!0,v.emit(r.START,this),v.emit(r.READY,this,d)},shutdown:function(d){var v=this.events,c=this.settings;v.off(r.TRANSITION_INIT),v.off(r.TRANSITION_START),v.off(r.TRANSITION_COMPLETE),v.off(r.TRANSITION_OUT),c.status=f.SHUTDOWN,c.active=!1,c.visible=!1,this.renderer===s.WEBGL&&this.renderer.resetTextures(!0),v.emit(r.SHUTDOWN,this,d)},destroy:function(){var d=this.events,v=this.settings;v.status=f.DESTROYED,v.active=!1,v.visible=!1,d.emit(r.DESTROY,this),d.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<c.length;m++)this[c[m]]=null}});l.exports=h},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),f=t(0),i=t(109),r=t(424),a="Texture.frame missing: ",n=new f({initialize:function(u,o,h,d,v){Array.isArray(h)||(h=[h]),this.manager=u,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<h.length;c++)this.source.push(new r(this,h[c],d,v))},add:function(s,u,o,h,d,v){if(this.has(s))return null;var c=new i(this,s,u,o,h,d,v);return this.frames[s]=c,this.firstFrame==="__BASE"&&(this.firstFrame=s),this.frameTotal++,c},remove:function(s){if(this.has(s)){var u=this.get(s);return u.destroy(),delete this.frames[s],!0}return!1},has:function(s){return this.frames[s]},get:function(s){s||(s=this.firstFrame);var u=this.frames[s];return u||(console.warn(a+s),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(s){for(var u=0;u<this.source.length;u++)if(this.source[u]===s)return u;return-1},getFramesFromTextureSource:function(s,u){u===void 0&&(u=!1);var o=[];for(var h in this.frames)if(!(h==="__BASE"&&!u)){var d=this.frames[h];d.sourceIndex===s&&o.push(d)}return o},getFrameNames:function(s){s===void 0&&(s=!1);var u=Object.keys(this.frames);if(!s){var o=u.indexOf("__BASE");o!==-1&&u.splice(o,1)}return u},getSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var u=this.frames[s];return u?u.source.image:(console.warn(a+s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var u=this.frames[s],o;return u?o=u.sourceIndex:(console.warn(a+s),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var o=this.source[u];this.dataSource.push(new r(this,s[u],o.width,o.height))}},setFilter:function(s){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(s);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(s)},destroy:function(){var s;for(s=0;s<this.source.length;s++)this.source[s].destroy();for(s=0;s<this.dataSource.length;s++)this.dataSource[s].destroy();for(var u in this.frames){var o=this.frames[u];o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var h=this.manager.game.renderer;h&&h.type===e.WEBGL&&h.resetTextures(!0),this.manager=null}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);var u=[];if(e(i,n,s))for(var o=n;o<s;o++){var h=i[o];(!r||r&&a===void 0&&h.hasOwnProperty(r)||r&&a!==void 0&&h[r]===a)&&u.push(h)}return u};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var f=e[0].length,i=1;i<e.length;i++)if(e[i].length!==f)return!1;return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){f===void 0&&(f=0),i===void 0&&(i=e.length);var r=f+Math.floor(Math.random()*i);return e[r]===void 0?null:e[r]};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(438),r=new e({Extends:f,initialize:function(){f.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(a){return this._pending.push(a),this._toProcess++,a},remove:function(a){return this._destroy.push(a),this._toProcess++,a},removeAll:function(){for(var a=this._active,n=this._destroy,s=a.length;s--;)n.push(a[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,n=this._active,s,u;for(s=0;s<a.length;s++){u=a[s];var o=n.indexOf(u);o!==-1&&(n.splice(o,1),this.emit(i.PROCESS_QUEUE_REMOVE,u))}for(a.length=0,a=this._pending,s=0;s<a.length;s++)u=a[s],(!this.checkQueue||this.checkQueue&&n.indexOf(u)===-1)&&(n.push(u),this.emit(i.PROCESS_QUEUE_ADD,u));return a.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(f,i){return parseInt(f.getAttribute(i),10)}var e=function(f,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0);var s=i.cutX,u=i.cutY,o=i.source.width,h=i.source.height,d=i.sourceIndex,v={},c=f.getElementsByTagName("info")[0],m=f.getElementsByTagName("common")[0];v.font=c.getAttribute("face"),v.size=t(c,"size"),v.lineHeight=t(m,"lineHeight")+a,v.chars={};var g=f.getElementsByTagName("char"),y=i!==void 0&&i.trimmed;if(y)var E=i.height,S=i.width;for(var C=0;C<g.length;C++){var P=g[C],A=t(P,"id"),R=String.fromCharCode(A),M=t(P,"x"),L=t(P,"y"),F=t(P,"width"),I=t(P,"height");y&&(M<S&&(S=M),L<E&&(E=L)),y&&E!==0&&S!==0&&(M-=i.x,L-=i.y);var N=(s+M)/o,z=(u+L)/h,W=(s+M+F)/o,$=(u+L+I)/h;if(v.chars[A]={x:M,y:L,width:F,height:I,centerX:Math.floor(F/2),centerY:Math.floor(I/2),xOffset:t(P,"xoffset"),yOffset:t(P,"yoffset"),xAdvance:t(P,"xadvance")+r,data:{},kerning:{},u0:N,v0:z,u1:W,v1:$},n&&F!==0&&I!==0){var Z=n.add(R,d,M,L,F,I);Z&&Z.setUVs(F,I,N,z,W,$)}}var D=f.getElementsByTagName("kerning");for(C=0;C<D.length;C++){var O=D[C],B=t(O,"first"),G=t(O,"second"),Y=t(O,"amount");v.chars[G].kerning[B]=Y}return v};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),f=t(440),i=t(0),r=t(11),a=t(109),n=t(15),s=t(110),u=new i({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,e],initialize:function(h,d,v,c,m){n.call(this,h,"Blitter"),this.setTexture(c,m),this.setPosition(d,v),this.initPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(o,h,d,v,c){v===void 0&&(v=!0),c===void 0&&(c=this.children.length),d===void 0?d=this.frame:d instanceof a||(d=this.texture.get(d));var m=new f(this,o,h,d,v);return this.children.addAt(m,c,!1),this.dirty=!0,m},createFromCallback:function(o,h,d,v){for(var c=this.createMultiple(h,d,v),m=0;m<c.length;m++){var g=c[m];o.call(this,g,m)}return c},createMultiple:function(o,h,d){h===void 0&&(h=this.frame.name),d===void 0&&(d=!0),Array.isArray(h)||(h=[h]);var v=[],c=this;return h.forEach(function(m){for(var g=0;g<o;g++)v.push(c.create(0,0,m,d))}),v},childCanRender:function(o){return o.visible&&o.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),f=t(35),i=t(0),r=t(11),a=t(75),n=t(15),s=t(10),u=t(1052),o=t(441),h=t(3),d=new i({Extends:n,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.Pipeline,r.Transform,r.Visible,u],initialize:function(c,m,g,y){n.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(m,g),this.clearAlpha(),this.setBlendMode(f.SKIP_CHECK),y&&this.add(y)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new s),v.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),m=c.transformPoint(this.x,this.y);v.setTo(m.x,m.y,0,0)}if(this.list.length>0){var g=this.list,y=new s,E=!1;v.setEmpty();for(var S=0;S<g.length;S++){var C=g[S];C.getBounds&&(C.getBounds(y),E?o(y,v,v):(v.setTo(y.x,y.y,y.width,y.height),E=!0))}}return v},addHandler:function(v){v.once(a.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.removeFromDisplayList(),v.parentContainer=this)},removeHandler:function(v){v.off(a.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null,v.addToDisplayList())},pointToContainer:function(v,c){c===void 0&&(c=new h),this.parentContainer?this.parentContainer.pointToContainer(v,c):c=new h(v.x,v.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(v.x,v.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return e.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,c){return e.AddAt(this.list,v,c,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,c){return v?(c===void 0&&(c=function(m,g){return m[v]-g[v]}),e.StableSort(this.list,c),this):this},getByName:function(v){return e.GetFirst(this.list,"name",v)},getRandom:function(v,c){return e.GetRandom(this.list,v,c)},getFirst:function(v,c,m,g){return e.GetFirst(this.list,v,c,m,g)},getAll:function(v,c,m,g){return e.GetAll(this.list,v,c,m,g)},count:function(v,c,m,g){return e.CountAllMatching(this.list,v,c,m,g)},swap:function(v,c){return e.Swap(this.list,v,c),this},moveTo:function(v,c){return e.MoveTo(this.list,v,c),this},moveAbove:function(v,c){return e.MoveAbove(this.list,v,c),this},moveBelow:function(v,c){return e.MoveBelow(this.list,v,c),this},remove:function(v,c){var m=e.Remove(this.list,v,this.removeHandler,this);if(c&&m){Array.isArray(m)||(m=[m]);for(var g=0;g<m.length;g++)m[g].destroy()}return this},removeAt:function(v,c){var m=e.RemoveAt(this.list,v,this.removeHandler,this);return c&&m&&m.destroy(),this},removeBetween:function(v,c,m){var g=e.RemoveBetween(this.list,v,c,this.removeHandler,this);if(m)for(var y=0;y<g.length;y++)g[y].destroy();return this},removeAll:function(v){var c=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var m=0;m<c.length;m++)c[m].destroy();return this},bringToTop:function(v){return e.BringToTop(this.list,v),this},sendToBack:function(v){return e.SendToBack(this.list,v),this},moveUp:function(v){return e.MoveUp(this.list,v),this},moveDown:function(v){return e.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(v,c,m){var g=e.Replace(this.list,v,c);return g&&(this.addHandler(c),this.removeHandler(v),m&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,c,m,g){return e.SetAll(this.list,v,c,m,g),this},each:function(v,c){var m=[null],g,y=this.list.slice(),E=y.length;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<E;g++)m[0]=y[g],v.apply(c,m);return this},iterate:function(v,c){var m=[null],g;for(g=2;g<arguments.length;g++)m.push(arguments[g]);for(g=0;g<this.list.length;g++)m[0]=this.list[g],v.apply(c,m);return this},setScrollFactor:function(v,c,m){return c===void 0&&(c=v),m===void 0&&(m=!1),this.scrollFactorX=v,this.scrollFactorY=c,m&&(e.SetAll(this.list,"scrollFactorX",v),e.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),f=t(0),i=t(1057),r=new f({Extends:e,Mixins:[i],initialize:function(n,s,u,o,h,d,v){e.call(this,n,s,u,o,h,d,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,n){return this.cropWidth=a,this.cropHeight=n,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),f=t(0),i=t(217),r=t(303),a=t(304),n=t(305),s=t(309),u=t(167),o=t(312),h=t(313),d=t(314),v=t(111),c=t(15),m=t(2),g=t(6),y=t(14),E=t(1063),S=new f({Extends:c,Mixins:[r,a,n,s,u,h,d,o,E],initialize:function(P,A){var R=g(A,"x",0),M=g(A,"y",0);c.call(this,P,"Graphics"),this.setPosition(R,M),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(A)},setDefaultStyles:function(C){return g(C,"lineStyle",null)&&(this.defaultStrokeWidth=g(C,"lineStyle.width",1),this.defaultStrokeColor=g(C,"lineStyle.color",16777215),this.defaultStrokeAlpha=g(C,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),g(C,"fillStyle",null)&&(this.defaultFillColor=g(C,"fillStyle.color",16777215),this.defaultFillAlpha=g(C,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(C,P,A){return A===void 0&&(A=1),this.commandBuffer.push(i.LINE_STYLE,C,P,A),this._lineWidth=C,this},fillStyle:function(C,P){return P===void 0&&(P=1),this.commandBuffer.push(i.FILL_STYLE,C,P),this},fillGradientStyle:function(C,P,A,R,M,L,F,I){return M===void 0&&(M=1),L===void 0&&(L=M),F===void 0&&(F=M),I===void 0&&(I=M),this.commandBuffer.push(i.GRADIENT_FILL_STYLE,M,L,F,I,C,P,A,R),this},lineGradientStyle:function(C,P,A,R,M,L){return L===void 0&&(L=1),this.commandBuffer.push(i.GRADIENT_LINE_STYLE,C,L,P,A,R,M),this},beginPath:function(){return this.commandBuffer.push(i.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(i.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(i.FILL_PATH),this},fill:function(){return this.commandBuffer.push(i.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(i.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(i.STROKE_PATH),this},fillCircleShape:function(C){return this.fillCircle(C.x,C.y,C.radius)},strokeCircleShape:function(C){return this.strokeCircle(C.x,C.y,C.radius)},fillCircle:function(C,P,A){return this.beginPath(),this.arc(C,P,A,0,y.PI2),this.fillPath(),this},strokeCircle:function(C,P,A){return this.beginPath(),this.arc(C,P,A,0,y.PI2),this.strokePath(),this},fillRectShape:function(C){return this.fillRect(C.x,C.y,C.width,C.height)},strokeRectShape:function(C){return this.strokeRect(C.x,C.y,C.width,C.height)},fillRect:function(C,P,A,R){return this.commandBuffer.push(i.FILL_RECT,C,P,A,R),this},strokeRect:function(C,P,A,R){var M=this._lineWidth/2,L=C-M,F=C+M;return this.beginPath(),this.moveTo(C,P),this.lineTo(C,P+R),this.strokePath(),this.beginPath(),this.moveTo(C+A,P),this.lineTo(C+A,P+R),this.strokePath(),this.beginPath(),this.moveTo(L,P),this.lineTo(F+A,P),this.strokePath(),this.beginPath(),this.moveTo(L,P+R),this.lineTo(F+A,P+R),this.strokePath(),this},fillRoundedRect:function(C,P,A,R,M){M===void 0&&(M=20);var L=M,F=M,I=M,N=M;return typeof M!="number"&&(L=m(M,"tl",20),F=m(M,"tr",20),I=m(M,"bl",20),N=m(M,"br",20)),this.beginPath(),this.moveTo(C+L,P),this.lineTo(C+A-F,P),this.arc(C+A-F,P+F,F,-y.TAU,0),this.lineTo(C+A,P+R-N),this.arc(C+A-N,P+R-N,N,0,y.TAU),this.lineTo(C+I,P+R),this.arc(C+I,P+R-I,I,y.TAU,Math.PI),this.lineTo(C,P+L),this.arc(C+L,P+L,L,-Math.PI,-y.TAU),this.fillPath(),this},strokeRoundedRect:function(C,P,A,R,M){M===void 0&&(M=20);var L=M,F=M,I=M,N=M;return typeof M!="number"&&(L=m(M,"tl",20),F=m(M,"tr",20),I=m(M,"bl",20),N=m(M,"br",20)),this.beginPath(),this.moveTo(C+L,P),this.lineTo(C+A-F,P),this.moveTo(C+A-F,P),this.arc(C+A-F,P+F,F,-y.TAU,0),this.lineTo(C+A,P+R-N),this.moveTo(C+A,P+R-N),this.arc(C+A-N,P+R-N,N,0,y.TAU),this.lineTo(C+I,P+R),this.moveTo(C+I,P+R),this.arc(C+I,P+R-I,I,y.TAU,Math.PI),this.lineTo(C,P+L),this.moveTo(C,P+L),this.arc(C+L,P+L,L,-Math.PI,-y.TAU),this.strokePath(),this},fillPointShape:function(C,P){return this.fillPoint(C.x,C.y,P)},fillPoint:function(C,P,A){return!A||A<1?A=1:(C-=A/2,P-=A/2),this.commandBuffer.push(i.FILL_RECT,C,P,A,A),this},fillTriangleShape:function(C){return this.fillTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},strokeTriangleShape:function(C){return this.strokeTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},fillTriangle:function(C,P,A,R,M,L){return this.commandBuffer.push(i.FILL_TRIANGLE,C,P,A,R,M,L),this},strokeTriangle:function(C,P,A,R,M,L){return this.commandBuffer.push(i.STROKE_TRIANGLE,C,P,A,R,M,L),this},strokeLineShape:function(C){return this.lineBetween(C.x1,C.y1,C.x2,C.y2)},lineBetween:function(C,P,A,R){return this.beginPath(),this.moveTo(C,P),this.lineTo(A,R),this.strokePath(),this},lineTo:function(C,P){return this.commandBuffer.push(i.LINE_TO,C,P),this},moveTo:function(C,P){return this.commandBuffer.push(i.MOVE_TO,C,P),this},strokePoints:function(C,P,A,R){P===void 0&&(P=!1),A===void 0&&(A=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return P&&this.lineTo(C[0].x,C[0].y),A&&this.closePath(),this.strokePath(),this},fillPoints:function(C,P,A,R){P===void 0&&(P=!1),A===void 0&&(A=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return P&&this.lineTo(C[0].x,C[0].y),A&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(C,P){P===void 0&&(P=32);var A=C.getPoints(P);return this.strokePoints(A,!0)},strokeEllipse:function(C,P,A,R,M){M===void 0&&(M=32);var L=new v(C,P,A,R),F=L.getPoints(M);return this.strokePoints(F,!0)},fillEllipseShape:function(C,P){P===void 0&&(P=32);var A=C.getPoints(P);return this.fillPoints(A,!0)},fillEllipse:function(C,P,A,R,M){M===void 0&&(M=32);var L=new v(C,P,A,R),F=L.getPoints(M);return this.fillPoints(F,!0)},arc:function(C,P,A,R,M,L,F){return L===void 0&&(L=!1),F===void 0&&(F=0),this.commandBuffer.push(i.ARC,C,P,A,R,M,L,F),this},slice:function(C,P,A,R,M,L,F){return L===void 0&&(L=!1),F===void 0&&(F=0),this.commandBuffer.push(i.BEGIN_PATH),this.commandBuffer.push(i.MOVE_TO,C,P),this.commandBuffer.push(i.ARC,C,P,A,R,M,L,F),this.commandBuffer.push(i.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(i.SAVE),this},restore:function(){return this.commandBuffer.push(i.RESTORE),this},translateCanvas:function(C,P){return this.commandBuffer.push(i.TRANSLATE,C,P),this},scaleCanvas:function(C,P){return this.commandBuffer.push(i.SCALE,C,P),this},rotateCanvas:function(C){return this.commandBuffer.push(i.ROTATE,C),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(C,P,A){var R=this.scene.sys,M=R.game.renderer;P===void 0&&(P=R.scale.width),A===void 0&&(A=R.scale.height),S.TargetCamera.setScene(this.scene),S.TargetCamera.setViewport(0,0,P,A),S.TargetCamera.scrollX=this.x,S.TargetCamera.scrollY=this.y;var L,F;if(typeof C=="string")if(R.textures.exists(C)){L=R.textures.get(C);var I=L.getSourceImage();I instanceof HTMLCanvasElement&&(F=I.getContext("2d"))}else L=R.textures.createCanvas(C,P,A),F=L.getSourceImage().getContext("2d");else C instanceof HTMLCanvasElement&&(F=C.getContext("2d"));return F&&(this.renderCanvas(M,this,S.TargetCamera,null,F,!1),L&&L.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});S.TargetCamera=new e,l.exports=S},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){a===void 0&&(a=new e);var n=i.width/2,s=i.height/2;return a.x=i.x+n*Math.cos(r),a.y=i.y+s*Math.sin(r),a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(0),i=t(11),r=t(176),a=t(101),n=t(9),s=t(75),u=t(110),o=t(1071),h=t(20),d=t(79),v=new f({Extends:u,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.Visible,n,o],initialize:function(m,g){u.call(this,m),n.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),g&&this.add(g),m.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(c,m){return this.data||(this.data=new a(this)),this.data.set(c,m),this},incData:function(c,m){return this.data||(this.data=new a(this)),this.data.inc(c,m),this},toggleData:function(c){return this.data||(this.data=new a(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new a(this)),this.data.get(c)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(c){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,m=this.parentContainer,g=[];m&&(g.unshift(m.getIndex(c)),c=m,m.parentContainer);)m=m.parentContainer;return g.unshift(this.displayList.getIndex(c)),g},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(s.ADDED_TO_SCENE,c,this.scene),this.events.emit(h.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(s.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,c,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,m){return c._depth-m._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list.length;c--;)this.list[c].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(450),a=t(110),n=t(452),s=t(1075),u=new e({Extends:i,Mixins:[f.Depth,f.Mask,f.Pipeline,f.Transform,f.Visible,s],initialize:function(h,d,v,c){if(i.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],v!==null&&(typeof v=="object"||Array.isArray(v))&&(c=v,v=null),this.setTexture(d,v),this.initPipeline(),this.emitters=new a(this),this.wells=new a(this),c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)this.createEmitter(c[m])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(o,h){return this.texture=this.scene.sys.textures.get(o),this.setFrame(h)},setFrame:function(o){this.frame=this.texture.get(o);var h=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),d=[];return h.forEach(function(v){d.push(v.name)}),this.frameNames=d,this.defaultFrame=this.frame,this},setEmitterFrames:function(o,h){Array.isArray(o)||(o=[o]);var d=h.frames;d.length=0;for(var v=0;v<o.length;v++){var c=o[v];this.frameNames.indexOf(c)!==-1&&d.push(this.texture.get(c))}return d.length>0?h.defaultFrame=d[0]:h.defaultFrame=this.defaultFrame,this},addEmitter:function(o){return this.emitters.add(o)},createEmitter:function(o){return this.addEmitter(new n(this,o))},removeEmitter:function(o){return this.emitters.remove(o,!0)},addGravityWell:function(o){return this.wells.add(o)},createGravityWell:function(o){return this.addGravityWell(new r(o))},emitParticle:function(o,h,d){for(var v=this.emitters.list,c=0;c<v.length;c++){var m=v[c];m.active&&m.emitParticle(o,h,d)}return this},emitParticleAt:function(o,h,d){return this.emitParticle(d,o,h)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(o,h){h*=this.timeScale;for(var d=this.emitters.list,v=0;v<d.length;v++){var c=d[v];c.active&&c.preUpdate(o,h)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(133),i=t(31),r=t(0),a=t(11),n=t(33),s=t(109),u=t(15),o=t(1),h=t(92),d=t(1079),v=t(141),c=t(12),m=t(222),g=new r({Extends:u,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,d],initialize:function(E,S,C,P,A,R,M){S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=32),A===void 0&&(A=32),u.call(this,E,"RenderTexture"),this.renderer=E.sys.renderer,this.textureManager=E.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,R===void 0?(this.canvas=i.create2D(this,P,A),this.texture=E.sys.textures.addCanvas(m(),this.canvas),this.frame=this.texture.get()):(this.texture=E.sys.textures.get(R),this.frame=this.texture.get(M),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new f(0,0,P,A),this.renderTarget=null;var L=this.renderer;L?L.type===n.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new v(L,P,A,1,0,!1)):L.type===n.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=o,this.camera.setScene(E),this.setPosition(S,C),R===void 0&&this.setSize(P,A),this.setOrigin(0,0),this.initPipeline(h.SINGLE_PIPELINE)},setSize:function(y,E){return this.resize(y,E)},resize:function(y,E){E===void 0&&(E=y);var S=this.frame;if(y!==this.width||E!==this.height){if(S.name==="__BASE"){this.canvas.width=y,this.canvas.height=E,this.texture.width=y,this.texture.height=E;var C=this.renderTarget;C&&(C.resize(y,E),S.glTexture=C.texture,S.source.isRenderTexture=!0,S.source.isGLTexture=!0,S.source.glTexture=C.texture),this.camera.setSize(y,E),S.source.width=y,S.source.height=E,S.setSize(y,E),this.width=y,this.height=E}}else{var P=this.texture.getSourceImage();S.cutX+y>P.width&&(y=P.width-S.cutX),S.cutY+E>P.height&&(E=P.height-S.cutY),S.setSize(y,E,S.cutX,S.cutY)}this.updateDisplayOrigin();var A=this.input;return A&&!A.customHitArea&&(A.hitArea.width=y,A.hitArea.height=E),this},setGlobalTint:function(y){return this.globalTint=y,this},setGlobalAlpha:function(y){return this.globalAlpha=y,this},saveTexture:function(y){return this.textureManager.renameTexture(this.texture.key,y),this._saved=!0,this.texture},fill:function(y,E,S,C,P,A){var R=this.frame,M=this.camera,L=this.renderer;E===void 0&&(E=1),S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=R.cutWidth),A===void 0&&(A=R.cutHeight);var F=(y>>16&255)/255,I=(y>>8&255)/255,N=(y&255)/255,z=this.renderTarget;if(M.preRender(),z){z.bind(!0);var W=this.pipeline;W.manager.set(W);var $=z.width,Z=z.height,D=L.width,O=L.height,B=D/$,G=O/Z;W.drawFillRect(S*B,C*G,P*B,A*G,c.getTintFromFloats(N,I,F,1),E),z.unbind(!0)}else{var Y=this.context;L.setContext(Y),Y.fillStyle="rgba("+F+","+I+","+N+","+E+")",Y.fillRect(S+R.cutX,C+R.cutY,P,A),L.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var y=this.renderTarget;if(y)y.clear();else{var E=this.context;E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),E.restore()}this.dirty=!1}return this},erase:function(y,E,S){return this._eraseMode=!0,this.draw(y,E,S,1,16777215),this._eraseMode=!1,this},draw:function(y,E,S,C,P){return this.beginDraw(),this.batchDraw(y,E,S,C,P),this.endDraw(),this},drawFrame:function(y,E,S,C,P,A){return this.beginDraw(),this.batchDrawFrame(y,E,S,C,P,A),this.endDraw(),this},beginDraw:function(){var y=this.camera,E=this.renderer,S=this.renderTarget;return y.preRender(),S?E.beginCapture(S.width,S.height):E.setContext(this.context),this},batchDraw:function(y,E,S,C,P){return C===void 0&&(C=this.globalAlpha),P===void 0?P=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):P=(P>>16)+(P&65280)+((P&255)<<16),Array.isArray(y)||(y=[y]),this.batchList(y,E,S,C,P),this},batchDrawFrame:function(y,E,S,C,P,A){S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=this.globalAlpha),A===void 0?A=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):A=(A>>16)+(A&65280)+((A&255)<<16);var R=this.textureManager.getFrame(y,E);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,S,C,A,P,this.camera.matrix,null):this.batchTextureFrame(R,S+this.frame.cutX,C+this.frame.cutY,P,A)),this},endDraw:function(y){y===void 0&&(y=this._eraseMode);var E=this.renderer,S=this.renderTarget;if(S){var C=E.endCapture(),P=E.pipelines.setUtility();P.blitFrame(C,S,1,!1,!1,y),E.resetScissor(),E.resetViewport()}else E.setContext();return this.dirty=!0,this},batchList:function(y,E,S,C,P){for(var A=0;A<y.length;A++){var R=y[A];!R||R===this||(R.renderWebGL||R.renderCanvas?this.drawGameObject(R,E,S):R.isParent||R.list?this.batchGroup(R.getChildren(),E,S):typeof R=="string"?this.batchTextureFrameKey(R,null,E,S,C,P):R instanceof s?this.batchTextureFrame(R,E,S,C,P):Array.isArray(R)&&this.batchList(R,E,S,C,P))}},batchGroup:function(y,E,S){E===void 0&&(E=0),S===void 0&&(S=0),E+=this.frame.cutX,S+=this.frame.cutY;for(var C=0;C<y.length;C++){var P=y[C];if(P.willRender(this.camera)){var A=P.x+E,R=P.y+S;this.drawGameObject(P,A,R)}}},batchGameObjectWebGL:function(y,E,S){E===void 0&&(E=y.x),S===void 0&&(S=y.y);var C=y.x,P=y.y;y.setPosition(E+this.frame.cutX,S+this.frame.cutY),y.renderDirect?y.renderDirect(this.renderer,y,this.camera):y.renderWebGL(this.renderer,y,this.camera),y.setPosition(C,P)},batchGameObjectCanvas:function(y,E,S){E===void 0&&(E=y.x),S===void 0&&(S=y.y);var C=y.x,P=y.y;if(this._eraseMode){var A=y.blendMode;y.blendMode=e.ERASE}y.setPosition(E+this.frame.cutX,S+this.frame.cutY),y.renderCanvas(this.renderer,y,this.camera,null),y.setPosition(C,P),this._eraseMode&&(y.blendMode=A)},batchTextureFrameKey:function(y,E,S,C,P,A){var R=this.textureManager.getFrame(y,E);R&&this.batchTextureFrame(R,S,C,P,A)},batchTextureFrame:function(y,E,S,C,P){E===void 0&&(E=0),S===void 0&&(S=0),E+=this.frame.cutX,S+=this.frame.cutY;var A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(y,E,S,P,C,this.camera.matrix,null);else{var R=this.context,M=y.canvasData,L=y.source.image,F=this.camera.matrix;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=C,F.setToContext(R),R.drawImage(L,M.x,M.y,M.width,M.height,E,S,M.width,M.height),R.restore()}},snapshotArea:function(y,E,S,C,P,A,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,y,E,S,C,A,R):this.renderer.snapshotCanvas(this.canvas,P,!1,y,E,S,C,A,R),this},snapshot:function(y,E,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,0,0,this.width,this.height,E,S):this.renderer.snapshotCanvas(this.canvas,y,!1,0,0,this.width,this.height,E,S),this},snapshotPixel:function(y,E,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!0,y,E):this.renderer.snapshotCanvas(this.canvas,S,!0,y,E),this},preDestroy:function(){this._saved||(i.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});l.exports=g},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var f=Math.random()*16|0,i=e==="x"?f:f&3|8;return i.toString(16)})};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),f=t(0),i=t(11),r=t(15),a=t(92),n=t(1085),s=t(3),u=new f({Extends:r,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Flip,i.Mask,i.Pipeline,i.Size,i.Texture,i.Transform,i.Visible,i.ScrollFactor,n],initialize:function(h,d,v,c,m,g,y,E,S){c===void 0&&(c="__DEFAULT"),g===void 0&&(g=2),y===void 0&&(y=!0),r.call(this,h,"Rope"),this.anims=new e(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=c==="__DEFAULT",this.dirty=!1,this.horizontal=y,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(c,m),this.setPosition(d,v),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,E,S),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,h){var d=this.anims.currentFrame;this.anims.update(o,h),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(o,h,d){return this.anims.play(o,h,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(o,h,d){return o===void 0&&(o=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(o,h,d))},setVertical:function(o,h,d){return o===void 0&&(o=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(o,h,d)):this},setTintFill:function(o){return o===void 0&&(o=!1),this.tintFill=o,this},setAlphas:function(o,h){var d=this.points.length;if(d<1)return this;var v=this.alphas;o===void 0?o=[1]:!Array.isArray(o)&&h===void 0&&(o=[o]);var c,m=0;if(h!==void 0)for(c=0;c<d;c++)m=c*2,v[m]=o,v[m+1]=h;else if(o.length===d)for(c=0;c<d;c++)m=c*2,v[m]=o[c],v[m+1]=o[c];else{var g=o[0];for(c=0;c<d;c++)m=c*2,o.length>m&&(g=o[m]),v[m]=g,o.length>m+1&&(g=o[m+1]),v[m+1]=g}return this},setColors:function(o){var h=this.points.length;if(h<1)return this;var d=this.colors;o===void 0?o=[16777215]:Array.isArray(o)||(o=[o]);var v,c=0;if(o.length===h)for(v=0;v<h;v++)c=v*2,d[c]=o[v],d[c+1]=o[v];else{var m=o[0];for(v=0;v<h;v++)c=v*2,o.length>c&&(m=o[c]),d[c]=m,o.length>c+1&&(m=o[c+1]),d[c+1]=m}return this},setPoints:function(o,h,d){if(o===void 0&&(o=2),typeof o=="number"){var v=o;v<2&&(v=2),o=[];var c,m,g;if(this.horizontal)for(g=-this.frame.halfWidth,m=this.frame.width/(v-1),c=0;c<v;c++)o.push({x:g+c*m,y:0});else for(g=-this.frame.halfHeight,m=this.frame.height/(v-1),c=0;c<v;c++)o.push({x:0,y:g+c*m})}var y=o.length,E=this.points.length;return y<1?(console.warn("Rope: Not enough points given"),this):(y===1&&(o.unshift({x:0,y:0}),y++),E!==y&&this.resizeArrays(y),this.points=o,this.updateUVs(),h!=null&&this.setColors(h),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var o=this.uv,h=this.points.length,d=this.frame.u0,v=this.frame.v0,c=this.frame.u1,m=this.frame.v1,g=(c-d)/(h-1),y=(m-v)/(h-1),E=0;E<h;E++){var S=E*4,C,P,A,R;this.horizontal?(this._flipX?(C=c-E*g,A=c-E*g):(C=d+E*g,A=d+E*g),this._flipY?(P=m,R=v):(P=v,R=m)):(this._flipX?(C=d,A=c):(C=c,A=d),this._flipY?(P=m-E*y,R=m-E*y):(P=v+E*y,R=v+E*y)),o[S+0]=C,o[S+1]=P,o[S+2]=A,o[S+3]=R}return this},resizeArrays:function(o){var h=this.colors,d=this.alphas;this.vertices=new Float32Array(o*4),this.uv=new Float32Array(o*4),h=new Uint32Array(o*2),d=new Float32Array(o*2);for(var v=0;v<o*2;v++)h[v]=16777215,d[v]=1;return this.colors=h,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var o=this._perp,h=this.points,d=this.vertices,v=h.length;if(this.dirty=!1,!(v<1)){for(var c,m=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,y=0;y<v;y++){var E=h[y],S=y*4;y<v-1?c=h[y+1]:c=E,o.x=c.y-m.y,o.y=-(c.x-m.x);var C=o.length();o.x/=C,o.y/=C,o.x*=g,o.y*=g,d[S]=E.x+o.x,d[S+1]=E.y+o.y,d[S+2]=E.x-o.x,d[S+3]=E.y-o.y,m=E}return this}},setDebug:function(o,h){return this.debugGraphic=o,!o&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(o,h,d){var v=o.debugGraphic,c=d[0],m=d[1],g=d[2],y=d[3];v.lineBetween(c,m,g,y);for(var E=4;E<h;E+=4){var S=d[E+0],C=d[E+1],P=d[E+2],A=d[E+3];v.lineBetween(c,m,S,C),v.lineBetween(g,y,P,A),v.lineBetween(g,y,S,C),v.lineBetween(S,C,P,A),c=S,m=C,g=P,y=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(o){return this._flipX=o,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(o){return this._flipY=o,this.updateUVs()}}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),f=t(31),i=t(0),r=t(11),a=t(22),n=t(15),s=t(458),u=t(6),o=t(202),h=t(1088),d=t(459),v=new i({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,h],initialize:function(m,g,y,E,S){g===void 0&&(g=0),y===void 0&&(y=0),n.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(g,y),this.setOrigin(0,0),this.initPipeline(),this.canvas=f.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=m.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),m.sys.game.events.on(a.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(c){var m=this.style;if(m.wordWrapCallback){var g=m.wordWrapCallback.call(m.wordWrapCallbackScope,c,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(c,this.context,this.style.wordWrapWidth):this.basicWordWrap(c,this.context,this.style.wordWrapWidth):c},advancedWordWrap:function(c,m,g){for(var y="",E=c.replace(/ +/gi," ").split(this.splitRegExp),S=E.length,C=0;C<S;C++){var P=E[C],A="";P=P.replace(/^ *|\s*$/gi,"");var R=m.measureText(P).width;if(R<g){y+=P+`
`;continue}for(var M=g,L=P.split(" "),F=0;F<L.length;F++){var I=L[F],N=I+" ",z=m.measureText(N).width;if(z>M){if(F===0){for(var W=N;W.length&&(W=W.slice(0,-1),z=m.measureText(W).width,!(z<=M)););if(!W.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var $=I.substr(W.length);L[F]=$,A+=W}var Z=L[F].length?F:F+1,D=L.slice(Z).join(" ").replace(/[ \n]*$/gi,"");E[C+1]=D+" "+(E[C+1]||""),S=E.length;break}else A+=N,M-=z}y+=A.replace(/[ \n]*$/gi,"")+`
`}return y=y.replace(/[\s|\n]*$/gi,""),y},basicWordWrap:function(c,m,g){for(var y="",E=c.split(this.splitRegExp),S=E.length-1,C=m.measureText(" ").width,P=0;P<=S;P++){for(var A=g,R=E[P].split(" "),M=R.length-1,L=0;L<=M;L++){var F=R[L],I=m.measureText(F).width,N=I;L<M&&(N+=C),N>A&&L>0&&(y+=`
`,A=g),y+=F,L<M?(y+=" ",A-=N):A-=I}P<S&&(y+=`
`)}return y},getWrappedText:function(c){c===void 0&&(c=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(c);return m.split(this.splitRegExp)},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this._text&&(this._text=c.toString(),this.updateText()),this},setStyle:function(c){return this.style.setStyle(c)},setFont:function(c){return this.style.setFont(c)},setFontFamily:function(c){return this.style.setFontFamily(c)},setFontSize:function(c){return this.style.setFontSize(c)},setFontStyle:function(c){return this.style.setFontStyle(c)},setFixedSize:function(c,m){return this.style.setFixedSize(c,m)},setBackgroundColor:function(c){return this.style.setBackgroundColor(c)},setFill:function(c){return this.style.setFill(c)},setColor:function(c){return this.style.setColor(c)},setStroke:function(c,m){return this.style.setStroke(c,m)},setShadow:function(c,m,g,y,E,S){return this.style.setShadow(c,m,g,y,E,S)},setShadowOffset:function(c,m){return this.style.setShadowOffset(c,m)},setShadowColor:function(c){return this.style.setShadowColor(c)},setShadowBlur:function(c){return this.style.setShadowBlur(c)},setShadowStroke:function(c){return this.style.setShadowStroke(c)},setShadowFill:function(c){return this.style.setShadowFill(c)},setWordWrapWidth:function(c,m){return this.style.setWordWrapWidth(c,m)},setWordWrapCallback:function(c,m){return this.style.setWordWrapCallback(c,m)},setAlign:function(c){return this.style.setAlign(c)},setResolution:function(c){return this.style.setResolution(c)},setLineSpacing:function(c){return this.lineSpacing=c,this.updateText()},setPadding:function(c,m,g,y){if(typeof c=="object"){var E=c,S=u(E,"x",null);S!==null?(c=S,g=S):(c=u(E,"left",0),g=u(E,"right",c));var C=u(E,"y",null);C!==null?(m=C,y=C):(m=u(E,"top",0),y=u(E,"bottom",m))}else c===void 0&&(c=0),m===void 0&&(m=c),g===void 0&&(g=c),y===void 0&&(y=m);return this.padding.left=c,this.padding.top=m,this.padding.right=g,this.padding.bottom=y,this.updateText()},setMaxLines:function(c){return this.style.setMaxLines(c)},updateText:function(){var c=this.canvas,m=this.context,g=this.style,y=g.resolution,E=g.metrics;g.syncFont(c,m);var S=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(S=this.runWordWrap(this._text));var C=S.split(this.splitRegExp),P=s(this,E,C),A=this.padding,R;g.fixedWidth===0?(this.width=P.width+A.left+A.right,R=P.width):(this.width=g.fixedWidth,R=this.width-A.left-A.right,R<P.width&&(R=P.width)),g.fixedHeight===0?this.height=P.height+A.top+A.bottom:this.height=g.fixedHeight;var M=this.width,L=this.height;this.updateDisplayOrigin(),M*=y,L*=y,M=Math.max(M,1),L=Math.max(L,1),c.width!==M||c.height!==L?(c.width=M,c.height=L,this.frame.setSize(M,L),g.syncFont(c,m)):m.clearRect(0,0,M,L),m.save(),m.scale(y,y),g.backgroundColor&&(m.fillStyle=g.backgroundColor,m.fillRect(0,0,M,L)),g.syncStyle(c,m),m.textBaseline="alphabetic",m.translate(A.left,A.top);for(var F,I,N=0;N<P.lines;N++){if(F=g.strokeThickness/2,I=g.strokeThickness/2+N*P.lineHeight+E.ascent,N>0&&(I+=P.lineSpacing*N),g.rtl)F=M-F;else if(g.align==="right")F+=R-P.lineWidths[N];else if(g.align==="center")F+=(R-P.lineWidths[N])/2;else if(g.align==="justify"){var z=.85;if(P.lineWidths[N]/P.width>=z){var W=P.width-P.lineWidths[N],$=m.measureText(" ").width,Z=C[N].trim(),D=Z.split(" ");W+=(C[N].length-Z.length)*$;for(var O=Math.floor(W/$),B=0;O>0;)D[B]+=" ",B=(B+1)%(D.length-1||1),--O;C[N]=D.join(" ")}}this.autoRound&&(F=Math.round(F),I=Math.round(I)),g.strokeThickness&&(this.style.syncShadow(m,g.shadowStroke),m.strokeText(C[N],F,I)),g.color&&(this.style.syncShadow(m,g.shadowFill),m.fillText(C[N],F,I))}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(c){this.setText(c)}},toJSON:function(){var c=r.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return c.data=m,c},preDestroy:function(){this.style.rtl&&o(this.canvas),f.remove(this.canvas),this.texture.destroy()}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=t(0),i=t(11),r=t(22),a=t(15),n=t(361),s=t(192),u=t(1091),o=t(3),h=8,d=new f({Extends:a,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,u],initialize:function(c,m,g,y,E,S,C){var P=c.sys.renderer;a.call(this,c,"TileSprite");var A=c.sys.textures.get(S),R=A.get(C);!y||!E?(y=R.width,E=R.height):(y=Math.floor(y),E=Math.floor(E)),this._tilePosition=new o,this._tileScale=new o(1,1),this.dirty=!1,this.renderer=P,this.canvas=e.create(this,y,E),this.context=this.canvas.getContext("2d"),this.displayTexture=A,this.displayFrame=R,this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(R.width),this.potHeight=n(R.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(m,g),this.setSize(y,E),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),c.sys.game.events.on(r.CONTEXT_RESTORED,function(M){if(M){var L=M.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=M.createTexture2D(0,L.LINEAR,L.LINEAR,L.REPEAT,L.REPEAT,L.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(v,c){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(c)},setFrame:function(v){var c=this.displayTexture.get(v);return this.potWidth=n(c.width),this.potHeight=n(c.height),this.canvas.width=0,!c.cutWidth||!c.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=c,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,c){return v!==void 0&&(this.tilePositionX=v),c!==void 0&&(this.tilePositionY=c),this},setTileScale:function(v,c){return v===void 0&&(v=this.tileScaleX),c===void 0&&(c=v),this.tileScaleX=v,this.tileScaleY=c,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var c=this.fillContext,m=this.fillCanvas,g=this.potWidth,y=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=v.cutWidth,y=v.cutHeight),c.clearRect(0,0,g,y),m.width=g,m.height=y,c.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,g,y),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=c.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var c=this.context;this.scene.sys.game.config.antialias||s.disable(c);var m=this._tileScale.x,g=this._tileScale.y,y=this._tilePosition.x,E=this._tilePosition.y;c.clearRect(0,0,this.width,this.height),c.save(),c.scale(m,g),c.translate(-y,-E),c.fillStyle=this.fillPattern,c.fillRect(y,E,this.width/m,this.height/g),c.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(18),i=t(11),r=t(75),a=t(22),n=t(51),s=t(15),u=t(70),o=t(222),h=t(1094),d=t(14),v=new e({Extends:s,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,h],initialize:function(m,g,y,E){s.call(this,m,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=o(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=d.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(g,y),this.initPipeline(),E&&this.changeSource(E,!1);var S=m.sys.game.events;S.on(a.PAUSE,this.globalPause,this),S.on(a.RESUME,this.globalResume,this);var C=m.sys.sound;C&&C.on(u.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(c,m,g){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var y=this.video;if(!y)return console.warn("Video not loaded"),this;c===void 0&&(c=y.loop);var E=this.scene.sys.sound;E&&E.mute&&this.setMute(!0),isNaN(m)||(this._markerIn=m),!isNaN(g)&&g>m&&(this._markerOut=g),y.loop=c;var S=this._callbacks,C=y.play();return C!==void 0?C.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(y.addEventListener("playing",S.play,!0),y.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),y.addEventListener("ended",S.end,!0),y.addEventListener("timeupdate",S.time,!0),y.addEventListener("seeking",S.seeking,!0),y.addEventListener("seeked",S.seeked,!0),this},changeSource:function(c,m,g,y,E){m===void 0&&(m=!0);var S=this.video;S&&this.stop();var C=this.scene.sys.cache.video.get(c);return C?(this.video=C,this._cacheKey=c,this._codePaused=C.paused,this._codeMuted=C.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,C,C.videoWidth,C.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,C.videoWidth,C.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,C.videoWidth,C.videoHeight)):this.updateTexture(),C.currentTime=0,this._lastUpdate=0,m&&this.play(g,y,E)):this.video=null,this},addMarker:function(c,m,g){return!isNaN(m)&&m>=0&&!isNaN(g)&&(this.markers[c]=[m,g]),this},playMarker:function(c,m){var g=this.markers[c];return g&&this.play(m,g[0],g[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,m){return c===void 0&&(c=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,c,m)},snapshotArea:function(c,m,g,y,E,S){c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=this.width),y===void 0&&(y=this.height),E===void 0&&(E=g),S===void 0&&(S=y);var C=this.video,P=this.snapshotTexture;return P?(P.setSize(E,S),C&&P.context.drawImage(C,c,m,g,y,0,0,E,S)):(P=this.scene.sys.textures.createCanvas(o(),E,S),this.snapshotTexture=P,C&&P.context.drawImage(C,c,m,g,y,0,0,E,S)),P.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},loadURL:function(c,m,g){g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");return y.controls=!1,g&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0),y.src=c,y.load(),this.video=y,this},loadMediaStream:function(c,m,g){g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var y=document.createElement("video");y.controls=!1,g&&(y.muted=!0,y.defaultMuted=!0,y.setAttribute("autoplay","autoplay")),y.setAttribute("playsinline","playsinline"),y.setAttribute("preload","auto"),y.addEventListener("error",this._callbacks.error,!0);try{y.srcObject=c}catch{y.src=window.URL.createObjectURL(c)}return y.load(),this.video=y,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(c){this.scene.sys.input.once(n.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(r.VIDEO_ERROR,this,c)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(c){this.stop(),this.emit(r.VIDEO_ERROR,this,c)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(r.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(r.VIDEO_PLAY,this)},completeHandler:function(){this.emit(r.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(r.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var c=this.video;if(c){var m=c.currentTime;m!==this._lastUpdate&&(this._lastUpdate=m,this.updateTexture(),m>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=m,this.emit(r.VIDEO_LOOP,this)):(this.emit(r.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(r.VIDEO_TIMEOUT,this))},updateTexture:function(){var c=this.video,m=c.videoWidth,g=c.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,c,m,g),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,m,g),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,m,g);else{var y=this.videoTextureSource;y.source!==c&&(y.source=c,y.width=m,y.height=g),y.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(c){var m=this.video;if(m){var g=m.duration;if(g!==1/0&&!isNaN(g)){var y=g*c;this.setCurrentTime(y)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var m=this.video;if(m){if(typeof c=="string"){var g=c[0],y=parseFloat(c.substr(1));g==="+"?c=m.currentTime+y:g==="-"&&(c=m.currentTime-y)}m.currentTime=c,this._lastUpdate=c}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(r.VIDEO_SEEKED,this);var c=this.video;c&&this.updateTexture()},getProgress:function(){var c=this.video;if(c){var m=c.currentTime,g=c.duration;if(g!==1/0&&!isNaN(g))return m/g}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var m=this.video;return m&&(m.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,m){this._systemMuted=m;var g=this.video;g&&(g.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(c){c===void 0&&(c=!0);var m=this.video;return this._codePaused=c,m&&(c?m.paused||m.pause():c||m.paused&&!this._systemPaused&&m.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=f(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,m){return m===void 0&&(m=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,c),this._key=c,this.flipY=m,this.videoTextureSource&&this.videoTextureSource.setFlipY(m),this.videoTexture},stop:function(){var c=this.video;if(c){var m=this._callbacks;for(var g in m)c.removeEventListener(g,m[g],!0);c.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var c=this.scene.sys.game.events;c.off(a.PAUSE,this.globalPause,this),c.off(a.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(u.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(228),i=t(470),r=t(56),a=new e({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(n,s){return f(this,n,s)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var s,u=Number.MAX_VALUE,o=0;o<n.length;o++)s={x:0,y:0},typeof n[o]=="number"||typeof n[o]=="string"?(s.x=parseFloat(n[o]),s.y=parseFloat(n[o+1]),o++):Array.isArray(n[o])?(s.x=n[o][0],s.y=n[o][1]):(s.x=n[o].x,s.y=n[o].y),this.points.push(s),s.y<u&&(u=s.y);return this.calculateArea(u),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,s,u,o=0;o<this.points.length-1;o++)s=this.points[o],u=this.points[o+1],n+=(u.x-s.x)*(s.y+u.y);return s=this.points[0],u=this.points[this.points.length-1],n+=(s.x-u.x)*(u.y+s.y),this.area=-n*.5,this.area},getPoints:function(n,s,u){return i(this,n,s,u)}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){for(var r=!1,a=-1,n=e.points.length-1;++a<e.points.length;n=a){var s=e.points[a].x,u=e.points[a].y,o=e.points[n].x,h=e.points[n].y;(u<=i&&i<h||h<=i&&i<u)&&f<(o-s)*(i-u)/(h-u)+s&&(r=!r)}return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(2),a=t(17),n=t(478),s=t(1176),u=t(25),o=new e({Extends:i,Mixins:[f.ComputedSize,f.Depth,f.GetBounds,f.Mask,f.Origin,f.ScrollFactor,f.Transform,f.Visible,s],initialize:function(d,v,c,m,g,y,E,S){c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=128),y===void 0&&(y=128),i.call(this,d,"Shader"),this.blendMode=-1,this.shader;var C=d.sys.renderer;this.renderer=C,this.gl=C.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=C.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=C.width,this._rendererHeight=C.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(c,m),this.setSize(g,y),this.setOrigin(.5,.5),this.setShader(v,E,S)},willRender:function(h){return this.renderToTexture?!0:!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,d){if(d===void 0&&(d=!1),!this.renderToTexture){var v=this.width,c=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,v,c,0),this.glTexture.flipY=d,this.framebuffer=m.createFramebuffer(v,c,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=c,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,v,c))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(h,d,v){if(d===void 0&&(d=[]),typeof h=="string"){var c=this.scene.sys.cache.shader;if(!c.has(h))return console.warn("Shader missing: "+h),this;this.shader=c.get(h)}else this.shader=h;var m=this.gl,g=this.renderer;this.program&&m.deleteProgram(this.program);var y=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(y,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(y,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(y,"uResolution"),this.width,this.height),this.program=y;var E=new Date,S={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,S):this.uniforms=S;for(var C=0;C<4;C++)d[C]&&this.setSampler2D("iChannel"+C,d[C],C,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,d,v,c){var m=-1e3,g=1e3,y=1/(h-d),E=1/(v-c),S=1/(m-g),C=this.projectionMatrix;C[0]=-2*y,C[5]=-2*E,C[10]=2*S,C[12]=(h+d)*y,C[13]=(c+v)*E,C[14]=(g+m)*S;var P=this.program,A=this.gl,R=this.renderer;R.setProgram(P),A.uniformMatrix4fv(A.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=v},initUniforms:function(){var h=this.gl,d=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var c in this.uniforms){var m=this.uniforms[c],g=m.type,y=d[g];m.uniformLocation=h.getUniformLocation(v,c),g!=="sampler2D"&&(m.glMatrix=y.matrix,m.glValueLength=y.length,m.glFunc=y.func)}},setSampler2DBuffer:function(h,d,v,c,m,g){m===void 0&&(m=0),g===void 0&&(g={});var y=this.uniforms[h];return y.value=d,g.width=v,g.height=c,y.textureData=g,this._textureCount=m,this.initSampler2D(y),this},setSampler2D:function(h,d,v,c){v===void 0&&(v=0);var m=this.scene.sys.textures;if(m.exists(d)){var g=m.getFrame(d);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(h,g.glTexture,g.width,g.height,v,c);var y=this.uniforms[h],E=g.source;y.textureKey=d,y.source=E.image,y.value=g.glTexture,E.isGLTexture&&(c||(c={}),c.width=E.width,c.height=E.height),c&&(y.textureData=c),this._textureCount=v,this.initSampler2D(y)}return this},setUniform:function(h,d){return n(this.uniforms,h,d),this},getUniform:function(h){return r(this.uniforms,h,null)},setChannel0:function(h,d){return this.setSampler2D("iChannel0",h,0,d)},setChannel1:function(h,d){return this.setSampler2D("iChannel1",h,1,d)},setChannel2:function(h,d){return this.setSampler2D("iChannel2",h,2,d)},setChannel3:function(h,d){return this.setSampler2D("iChannel3",h,3,d)},initSampler2D:function(h){if(h.value){var d=this.gl;d.activeTexture(d.TEXTURE0+this._textureCount),d.bindTexture(d.TEXTURE_2D,h.value);var v=h.textureData;if(v&&!h.value.isRenderTexture){var c=d[r(v,"magFilter","linear").toUpperCase()],m=d[r(v,"minFilter","linear").toUpperCase()],g=d[r(v,"wrapS","repeat").toUpperCase()],y=d[r(v,"wrapT","repeat").toUpperCase()],E=d[r(v,"format","rgba").toUpperCase()];if(v.repeat&&(g=d.REPEAT,y=d.REPEAT),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var S=r(v,"width",512),C=r(v,"height",2),P=r(v,"border",0);d.texImage2D(d.TEXTURE_2D,0,E,S,C,P,E,d.UNSIGNED_BYTE,null)}else d.texImage2D(d.TEXTURE_2D,0,E,d.RGBA,d.UNSIGNED_BYTE,h.source);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,c),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,m),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,g),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,y)}this.renderer.setProgram(this.program),d.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var h=this.gl,d=this.uniforms,v,c,m,g,y,E=0;for(var S in d)v=d[S],m=v.glFunc,c=v.glValueLength,g=v.uniformLocation,y=v.value,y!==null&&(c===1?v.glMatrix?m.call(h,g,v.transpose,y):m.call(h,g,y):c===2?m.call(h,g,y.x,y.y):c===3?m.call(h,g,y.x,y.y,y.z):c===4?m.call(h,g,y.x,y.y,y.z,y.w):v.type==="sampler2D"&&(h.activeTexture(h.TEXTURE0+E),h.bindTexture(h.TEXTURE_2D,y),h.uniform1i(g,E),E++))},load:function(h){var d=this.gl,v=this.width,c=this.height,m=this.renderer,g=this.program,y=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,S=-this._displayOriginY;y[0]=h[0],y[1]=h[1],y[4]=h[2],y[5]=h[3],y[8]=h[4],y[9]=h[5],y[12]=y[0]*E+y[4]*S,y[13]=y[1]*E+y[5]*S}d.useProgram(g),d.uniformMatrix4fv(d.getUniformLocation(g,"uViewMatrix"),!1,y),d.uniform2f(d.getUniformLocation(g,"uResolution"),this.width,this.height);var C=this.uniforms,P=C.resolution;P.value.x=v,P.value.y=c,C.time.value=m.game.loop.getDuration();var A=this.pointer;if(A){var R=C.mouse,M=A.x/v,L=1-A.y/c;R.value.x=M.toFixed(2),R.value.y=L.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,d=this.height,v=this.program,c=this.gl,m=this.vertexBuffer,g=this.renderer,y=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)),c.bindBuffer(c.ARRAY_BUFFER,m);var E=c.getAttribLocation(v,"inPosition");E!==-1&&(c.enableVertexAttribArray(E),c.vertexAttribPointer(E,2,c.FLOAT,!1,y,0));var S=this.vertexViewF32;S[3]=d,S[4]=h,S[5]=d,S[8]=h,S[9]=d,S[10]=h;var C=6;c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,C*y)),c.drawArrays(c.TRIANGLES,0,C),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(36),r=t(116),a=t(15),n=t(479),s=t(480),u=t(19),o=t(69),h=t(1179),d=t(79),v=t(39),c=t(117),m=new e({Extends:a,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,h],initialize:function(y,E,S,C,P,A,R,M,L,F,I,N){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C="__WHITE"),a.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new o,this.viewPosition=new v,this.viewMatrix=new o,this.projectionMatrix=new o,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var z=y.sys.renderer;this.setPosition(E,S),this.setTexture(C,P),this.setSize(z.width,z.height),this.initPipeline(),this.setPerspective(z.width,z.height),A&&this.addVertices(A,R,M,L,F,I,N)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(v.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=v.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,y,E,S,C){return E===void 0&&(E=45),S===void 0&&(S=.01),C===void 0&&(C=1e3),this.projectionMatrix.perspective(i(E),g/y,S,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,y,E,S){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),E===void 0&&(E=-1e3),S===void 0&&(S=1e3),this.projectionMatrix.ortho(-g,g,-y,y,E,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,y,E,S,C,P,A,R,M){var L=this.scene.sys.cache.obj.get(g);return L&&s(L,this,y,E,S,C,P,A,R,M),this},sortByDepth:function(g,y){return g.depth-y.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(g,y,E,S,C,P,A){var R=new c(g,y,E,S,C,P,A);return this.vertices.push(R),R},addFace:function(g,y,E){var S=new r(g,y,E);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(g,y,E,S,C,P,A){var R=n(g,y,E,S,C,P,A);return R&&(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},getFaceAt:function(g,y,E){E===void 0&&(E=this.scene.sys.cameras.main);for(var S=u(this,E).calc,C=this.faces,P=[],A=0;A<C.length;A++){var R=C[A];R.contains(g,y,S)&&P.push(R)}return d(P,this.sortByDepth)},setDebug:function(g,y){return this.debugGraphic=g,!g&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,y=this.modelRotation,E=this.modelScale,S=this.dirtyCache,C=g.x,P=g.y,A=g.z,R=y.x,M=y.y,L=y.z,F=E.x,I=E.y,N=E.z,z=this.getFaceCount(),W=S[0],$=S[1],Z=S[2],D=S[3],O=S[4],B=S[5],G=S[6],Y=S[7],V=S[8],b=S[9];return S[0]=C,S[1]=P,S[2]=A,S[3]=R,S[4]=M,S[5]=L,S[6]=F,S[7]=I,S[8]=N,S[9]=z,W!==C||$!==P||Z!==A||D!==R||O!==M||B!==L||G!==F||Y!==I||V!==N||b!==z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var y=this.width,E=this.height,S=this.viewMatrix,C=this.viewPosition;g[10]&&(S.identity(),S.translate(C),S.invert(),g[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var A=C.z,R=this.faces,M=0;M<R.length;M++)R[M].transformCoordinatesLocal(P,y,E,A);this.depthSort()}},renderDebug:function(g,y){for(var E=g.debugGraphic,S=0;S<y.length;S++){var C=y[S],P=C.vertex1.tx,A=C.vertex1.ty,R=C.vertex2.tx,M=C.vertex2.ty,L=C.vertex3.tx,F=C.vertex3.ty;E.strokeTriangle(P,A,R,M,L,F)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),f=function(i,r){return e(i.x,i.y,r.x,r.y)<=i.radius+r.radius};l.exports=f},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(233),i=function(r,a,n){if(n===void 0&&(n=[]),f(r,a)){var s=r.x1,u=r.y1,o=r.x2,h=r.y2,d=a.x,v=a.y,c=a.radius,m=o-s,g=h-u,y=s-d,E=u-v,S=m*m+g*g,C=2*(m*y+g*E),P=y*y+E*E-c*c,A=C*C-4*S*P,R,M;if(A===0){var L=-C/(2*S);R=s+L*m,M=u+L*g,L>=0&&L<=1&&n.push(new e(R,M))}else if(A>0){var F=(-C-Math.sqrt(A))/(2*S);R=s+F*m,M=u+F*g,F>=0&&F<=1&&n.push(new e(R,M));var I=(-C+Math.sqrt(A))/(2*S);R=s+I*m,M=u+I*g,I>=0&&I<=1&&n.push(new e(R,M))}}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),f=t(4),i=new f,r=function(a,n,s){if(s===void 0&&(s=i),e(n,a.x1,a.y1))return s.x=a.x1,s.y=a.y1,!0;if(e(n,a.x2,a.y2))return s.x=a.x2,s.y=a.y2,!0;var u=a.x2-a.x1,o=a.y2-a.y1,h=n.x-a.x1,d=n.y-a.y1,v=u*u+o*o,c=u,m=o;if(v>0){var g=(h*u+d*o)/v;c*=g,m*=g}s.x=a.x1+c,s.y=a.y1+m;var y=c*c+m*m;return y<=v&&c*u+m*o>=0&&e(n,s.x,s.y)};l.exports=r},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(96),i=t(488),r=function(a,n,s){if(s===void 0&&(s=[]),i(a,n))for(var u=n.getLineA(),o=n.getLineB(),h=n.getLineC(),d=n.getLineD(),v=[new e,new e,new e,new e],c=[f(u,a,v[0]),f(o,a,v[1]),f(h,a,v[2]),f(d,a,v[3])],m=0;m<4;m++)c[m]&&s.push(v[m]);return s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i===void 0&&(i=!1),r===void 0&&(r=[]);for(var a=e.x3-e.x1,n=e.y3-e.y1,s=e.x2-e.x1,u=e.y2-e.y1,o=a*a+n*n,h=a*s+n*u,d=s*s+u*u,v=o*d-h*h,c=v===0?0:1/v,m,g,y,E,S,C,P=e.x1,A=e.y1,R=0;R<f.length&&(y=f[R].x-P,E=f[R].y-A,S=a*y+n*E,C=s*y+u*E,m=(d*S-h*C)*c,g=(o*C-h*S)*c,!(m>=0&&g>=0&&m+g<1&&(r.push({x:f[R].x,y:f[R].y}),i)));R++);return r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x1-f,u=e.y1-i;return e.x1=s*a-u*n+f,e.y1=s*n+u*a+i,s=e.x2-f,u=e.y2-i,e.x2=s*a-u*n+f,e.y2=s*n+u*a+i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x1-f,u=e.y1-i;return e.x1=s*a-u*n+f,e.y1=s*n+u*a+i,s=e.x2-f,u=e.y2-i,e.x2=s*a-u*n+f,e.y2=s*n+u*a+i,s=e.x3-f,u=e.y3-i,e.x3=s*a-u*n+f,e.y3=s*n+u*a+i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),f=t(156),i=function(r,a){var n=r===void 0?f():e({},r);if(a)for(var s in a)a[s]!==void 0&&(n[s]=a[s]);return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(408),u=new e({Extends:i,initialize:function(h,d,v,c){var m="xml";if(n(d)){var g=d;d=a(g,"key"),v=a(g,"url"),c=a(g,"xhrSettings"),m=a(g,"extension",m)}var y={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:d,url:v,xhrSettings:c};i.call(this,h,y)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});r.register("xml",function(o,h,d){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new u(this,o[v]));else this.addFile(new u(this,o,h,d));return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="text",m="txt",g=o.cacheManager.text;if(n(h)){var y=h;h=a(y,"key"),d=a(y,"url"),v=a(y,"xhrSettings"),m=a(y,"extension",m),c=a(y,"type",c),g=a(y,"cache",g)}var E={type:c,cache:g,extension:m,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,E)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(l,x){var t=function(e,f,i,r,a,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1);var u=[],o=[],h=e.treeMinMax;if(h.minX=f,h.minY=i,h.maxX=f+r,h.maxY=i+a,s&&(o=e.staticTree.search(h)),n&&e.useTree)u=e.tree.search(h);else if(n){var d=e.bodies,v={position:{x:f,y:i},left:f,top:i,right:f+r,bottom:i+a,isCircle:!1},c=e.intersects;d.iterate(function(m){c(m,v)&&u.push(m)})}return o.concat(u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),f=function(i,r,a,n){var s=0,u=i.deltaAbsX()+r.deltaAbsX()+n;return i._dx===0&&r._dx===0?(i.embedded=!0,r.embedded=!0):i._dx>r._dx?(s=i.right-r.x,s>u&&!a||i.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(i.touching.none=!1,i.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.right=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.left=!0))):i._dx<r._dx&&(s=i.x-r.width-r.x,-s>u&&!a||i.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(i.touching.none=!1,i.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.left=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.right=!0))),i.overlapX=s,r.overlapX=s,s};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),f=function(i,r,a,n){var s=0,u=i.deltaAbsY()+r.deltaAbsY()+n;return i._dy===0&&r._dy===0?(i.embedded=!0,r.embedded=!0):i._dy>r._dy?(s=i.bottom-r.y,s>u&&!a||i.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(i.touching.none=!1,i.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.down=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.up=!0))):i._dy<r._dy&&(s=i.y-r.bottom,-s>u&&!a||i.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(i.touching.none=!1,i.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.up=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.down=!0))),i.overlapY=s,r.overlapY=s,s};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return!(f.right<=e.left||f.bottom<=e.top||f.position.x>=e.right||f.position.y>=e.bottom)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(l,x){var t={};l.exports=t,function(){t.create=function(e,f){var i=e.bodyA,r=e.bodyB,a={id:t.id(i,r),bodyA:i,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:f,timeUpdated:f,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(a,e,f),a},t.update=function(e,f,i){if(e.collision=f,f.collided){var r=f.supports,a=e.activeContacts,n=f.parentA,s=f.parentB;e.inverseMass=n.inverseMass+s.inverseMass,e.friction=Math.min(n.friction,s.friction),e.frictionStatic=Math.max(n.frictionStatic,s.frictionStatic),e.restitution=Math.max(n.restitution,s.restitution),e.slop=Math.max(n.slop,s.slop);for(var u=0;u<r.length;u++)a[u]=r[u].contact;var o=r.length;o<a.length&&(a.length=o),e.separation=f.depth,t.setActive(e,!0,i)}else e.isActive===!0&&t.setActive(e,!1,i)},t.setActive=function(e,f,i){f?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,f){return e.id<f.id?"A"+e.id+"B"+f.id:"A"+f.id+"B"+e.id}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),f=function(i,r,a){var n=e(i,r,!0,a),s=e(i,r-1,!0,a),u=e(i,r+1,!0,a),o=e(i-1,r,!0,a),h=e(i+1,r,!0,a),d=n&&n.collides;return d&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),s&&s.collides&&(d&&(n.faceTop=!1),s.faceBottom=!d),u&&u.collides&&(d&&(n.faceBottom=!1),u.faceTop=!d),o&&o.collides&&(d&&(n.faceLeft=!1),o.faceRight=!d),h&&h.collides&&(d&&(n.faceRight=!1),h.faceLeft=!d),n&&!n.collides&&n.resetFaces(),n};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i.baseTileWidth,a=i.tilemapLayer,n=0;return a&&(f||(f=a.scene.cameras.main),n=a.x+f.scrollX*(1-a.scrollFactorX),r*=a.scaleX),n+e*r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;return a&&(f||(f=a.scene.cameras.main),n=a.y+f.scrollY*(1-a.scrollFactorY),r*=a.scaleY),n+e*r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f===void 0&&(f=!0);var a=r.baseTileWidth,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.x+i.scrollX*(1-n.scrollFactorX)),a*=n.scaleX),f?Math.floor(e/a):e/a};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f===void 0&&(f=!0);var a=r.baseTileHeight,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY),f?Math.floor(e/a):e/a};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),f=t(119),i=t(252),r=t(72),a=function(n,s,u,o,h){if(o===void 0&&(o=!0),!f(s,u,h))return null;var d=h.data[u][s],v=d&&d.collides;if(n instanceof e)h.data[u][s]===null&&(h.data[u][s]=new e(h,n.index,s,u,h.tileWidth,h.tileHeight)),h.data[u][s].copy(n);else{var c=n;h.data[u][s]===null?h.data[u][s]=new e(h,c,s,u,h.tileWidth,h.tileHeight):h.data[u][s].index=c}var m=h.data[u][s],g=h.collideIndexes.indexOf(m.index)!==-1;return r(m,g),o&&v!==m.collides&&i(s,u,h),m};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=function(i){return i=i.toLowerCase(),i==="isometric"?e.ISOMETRIC:i==="staggered"?e.STAGGERED:i==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),f=t(120),i=t(121),r=t(85),a=function(n,s,u,o,h){for(var d=new f({tileWidth:u,tileHeight:o}),v=new i({name:n,tileWidth:u,tileHeight:o,format:e.ARRAY_2D,layers:[d]}),c=[],m=s.length,g=0,y=0;y<s.length;y++){c[y]=[];for(var E=s[y],S=0;S<E.length;S++){var C=parseInt(E[S],10);isNaN(C)||C===-1?c[y][S]=h?null:new r(d,-1,S,y,u,o):c[y][S]=new r(d,C,S,y,u,o)}g===0&&(g=E.length)}return v.width=d.width=g,v.height=d.height=m,v.widthInPixels=d.widthInPixels=g*u,v.heightInPixels=d.heightInPixels=m*o,d.data=c,v};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),f=t(261),i=function(n){return{x:n.x,y:n.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(n,s,u){s===void 0&&(s=0),u===void 0&&(u=0);var o=e(n,r);if(o.x+=s,o.y+=u,n.gid){var h=f(n.gid);o.gid=h.gid,o.flippedHorizontal=h.flippedHorizontal,o.flippedVertical=h.flippedVertical,o.flippedAntiDiagonal=h.flippedAntiDiagonal}else n.polyline?o.polyline=n.polyline.map(i):n.polygon?o.polygon=n.polygon.map(i):n.ellipse?o.ellipse=n.ellipse:n.text?o.text=n.text:n.point?o.point=!0:o.rectangle=!0;return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,f=536870912,i=function(r){var a=Boolean(r&t),n=Boolean(r&e),s=Boolean(r&f);r=r&~(t|e|f);var u=0,o=!1;return a&&n&&s?(u=Math.PI/2,o=!0):a&&n&&!s?(u=Math.PI,o=!1):a&&!n&&s?(u=Math.PI/2,o=!1):a&&!n&&!s?(u=0,o=!0):!a&&n&&s?(u=3*Math.PI/2,o=!1):!a&&n&&!s?(u=Math.PI,o=!0):!a&&!n&&s?(u=3*Math.PI/2,o=!0):!a&&!n&&!s&&(u=0,o=!1),{gid:r,flippedHorizontal:a,flippedVertical:n,flippedAntiDiagonal:s,rotation:u,flipped:o}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),f=t(121),i=t(564),r=t(580),a=function(n,s,u,o,h,d,v,c){u===void 0&&(u=32),o===void 0&&(o=32),h===void 0&&(h=10),d===void 0&&(d=10),c===void 0&&(c=!1);var m=null;if(Array.isArray(v)){var g=s!==void 0?s:"map";m=i(g,e.ARRAY_2D,v,u,o,c)}else if(s!==void 0){var y=n.cache.tilemap.get(s);y?m=i(s,y.format,y.data,u,o,c):console.warn("No map data found for key "+s)}return m===null&&(m=new f({tileWidth:u,tileHeight:o,width:h,height:d})),new r(n,m)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f=function(i){var r=e(i,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a){return!!a.getActive&&typeof a.getActive=="function"}function e(a){return!!a.getStart&&typeof a.getStart=="function"}function f(a){return!!a.getEnd&&typeof a.getEnd=="function"}function i(a){return e(a)||f(a)||t(a)}var r=function(a,n){var s,u=function(C,P,A){return A},o=function(C,P,A){return A},h=null,d=typeof n;if(d==="number")u=function(){return n};else if(d==="string"){var v=n[0],c=parseFloat(n.substr(2));switch(v){case"+":u=function(C,P,A){return A+c};break;case"-":u=function(C,P,A){return A-c};break;case"*":u=function(C,P,A){return A*c};break;case"/":u=function(C,P,A){return A/c};break;default:u=function(){return parseFloat(n)}}}else if(d==="function")u=n;else if(d==="object")if(i(n))t(n)&&(h=n.getActive),f(n)&&(u=n.getEnd),e(n)&&(o=n.getStart);else if(n.hasOwnProperty("value"))s=r(a,n.value);else{var m=n.hasOwnProperty("to"),g=n.hasOwnProperty("from"),y=n.hasOwnProperty("start");if(m&&(g||y)){if(s=r(a,n.to),y){var E=r(a,n.start);s.getActive=E.getEnd}if(g){var S=r(a,n.from);s.getStart=S.getEnd}}}return s||(s={getActive:h,getEnd:u,getStart:o}),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(267),r=t(16),a=t(5),n=t(100),s=t(14),u=new e({Extends:f,initialize:function(h,d,v){f.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=d,this.totalData=d.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=n.PENDING_ADD,this._pausedState=n.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(o){return o===void 0&&(o=0),this.data[o].current},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===n.ACTIVE},isPaused:function(){return this.state===n.PAUSED},hasTarget:function(o){return this.targets.indexOf(o)!==-1},updateTo:function(o,h,d){d===void 0&&(d=!1);for(var v=0;v<this.totalData;v++){var c=this.data[v];c.key===o&&(c.end=h,d&&(c.start=c.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===n.ACTIVE?this.seek(0):this.state===n.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===n.PENDING_ADD?this:this.play()},calcDuration:function(){for(var o=0,h=s.MAX_SAFE_INTEGER,d=this.data,v=0;v<this.totalData;v++){var c=d[v];c.t1=c.duration+c.hold,c.yoyo&&(c.t1+=c.duration),c.t2=c.t1+c.repeatDelay,c.totalDuration=c.delay+c.t1,c.repeat===-1?c.totalDuration+=c.t2*999999999999:c.repeat>0&&(c.totalDuration+=c.t2*c.repeat),c.totalDuration>o&&(o=c.totalDuration),c.delay<h&&(h=c.delay)}this.duration=Math.max(o,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=h},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=n.PENDING_ADD,this._pausedState=n.INIT,!1;for(var o=this.data,h=this.totalTargets,d=0;d<this.totalData;d++){var v=o[d],c=v.target,m=v.gen,g=v.key,y=v.index;v.delay=m.delay(c,g,0,y,h,this),v.duration=Math.max(m.duration(c,g,0,y,h,this),.001),v.hold=m.hold(c,g,0,y,h,this),v.repeat=m.repeat(c,g,0,y,h,this),v.repeatDelay=m.repeatDelay(c,g,0,y,h,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=n.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(i.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):(this.state=n.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=n.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===n.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED,this)},play:function(o){o===void 0&&(o=!1);var h=this.state;return h===n.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=n.ACTIVE,this):h===n.ACTIVE||h===n.PENDING_ADD&&this._pausedState===n.PENDING_ADD?this:!this.parentIsTimeline&&(h===n.PENDING_REMOVE||h===n.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(o),this.calculatedOffset===0?this.state=n.ACTIVE:(this.countdown=this.calculatedOffset,this.state=n.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(o),this.state=n.ACTIVE,this.makeActive()),this)},resetTweenData:function(o){for(var h=this.data,d=this.totalData,v=this.totalTargets,c=0;c<d;c++){var m=h[c],g=m.target,y=m.key,E=m.index;m.progress=0,m.elapsed=0,m.repeatCounter=m.repeat===-1?999999999999:m.repeat,o?(m.start=m.getStartValue(g,y,m.start,E,v,this),m.end=m.getEndValue(g,y,m.end,E,v,this),m.current=m.start,m.state=n.PLAYING_FORWARD):m.state=n.PENDING_RENDER,m.delay>0&&(m.elapsed=m.delay,m.state=n.DELAY),m.getActiveValue&&(g[y]=m.getActiveValue(m.target,m.key,m.start))}},resume:function(){return this.state===n.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(o,h){h===void 0&&(h=16.6),this.state===n.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var d=this.data,v=this.totalTargets,c=0;c<this.totalData;c++){var m=d[c],g=m.target,y=m.gen,E=m.key,S=m.index;m.progress=0,m.elapsed=0,m.repeatCounter=m.repeat===-1?999999999999:m.repeat,m.delay=y.delay(g,E,0,S,v,this),m.duration=Math.max(y.duration(g,E,0,S,v,this),.001),m.hold=y.hold(g,E,0,S,v,this),m.repeat=y.repeat(g,E,0,S,v,this),m.repeatDelay=y.repeatDelay(g,E,0,S,v,this),m.current=m.start,m.state=n.PLAYING_FORWARD,this.updateTweenData(this,m,0,S,v),m.delay>0&&(m.elapsed=m.delay,m.state=n.DELAY)}this.calcDuration();var C=!1;this.state===n.PAUSED&&(C=!0,this.state=n.ACTIVE),this.isSeeking=!0;do this.update(0,h);while(this.totalProgress<o);return this.isSeeking=!1,C&&(this.state=n.PAUSED),this},setCallback:function(o,h,d,v){return this.callbacks[o]={func:h,scope:v,params:d},this},complete:function(o){return o===void 0&&(o=0),o?(this.state=n.COMPLETE_DELAY,this.countdown=o):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(o){return this.state===n.ACTIVE&&o!==void 0&&this.seek(o),this.state!==n.REMOVED&&((this.state===n.PAUSED||this.state===n.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(i.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=n.PENDING_REMOVE),this},update:function(o,h){if(this.state===n.PAUSED)return!1;switch(this.useFrames&&(h=1*this.parent.timeScale),h*=this.timeScale,this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(i.TWEEN_START,this.callbacks.onStart)));for(var d=!1,v=0;v<this.totalData;v++){var c=this.data[v];this.updateTweenData(this,c,h)&&(d=!0)}d||this.nextState();break;case n.LOOP_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop));break;case n.OFFSET_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.ACTIVE);break;case n.COMPLETE_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===n.PENDING_REMOVE},dispatchTweenDataEvent:function(o,h,d){this.isSeeking||(this.emit(o,this,d.key,d.target,d.current,d.previous),h&&(h.params[1]=d.target,h.func.apply(h.scope,h.params)))},dispatchTweenEvent:function(o,h){this.isSeeking||(this.emit(o,this,this.targets),h&&(h.params[1]=this.targets,h.func.apply(h.scope,h.params)))},setStateFromEnd:function(o,h,d){return h.yoyo?(h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),this.dispatchTweenDataEvent(i.TWEEN_YOYO,o.callbacks.onYoyo,h),h.start=h.getStartValue(h.target,h.key,h.start,h.index,o.totalTargets,o),n.PLAYING_BACKWARD):h.repeatCounter>0?(h.repeatCounter--,h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.start=h.getStartValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.end=h.getEndValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.repeatDelay>0?(h.elapsed=h.repeatDelay-d,h.current=h.start,h.target[h.key]=h.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h),n.PLAYING_FORWARD)):n.COMPLETE},setStateFromStart:function(o,h,d){return h.repeatCounter>0?(h.repeatCounter--,h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.end=h.getEndValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.repeatDelay>0?(h.elapsed=h.repeatDelay-d,h.current=h.start,h.target[h.key]=h.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h),n.PLAYING_FORWARD)):n.COMPLETE},updateTweenData:function(o,h,d){var v=h.target;switch(h.state){case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:if(!v){h.state=n.COMPLETE;break}var c=h.elapsed,m=h.duration,g=0;c+=d,c>m&&(g=c-m,c=m);var y=h.state===n.PLAYING_FORWARD,E=c/m;if(h.elapsed=c,h.progress=E,h.previous=h.current,E===1)y?(h.current=h.end,v[h.key]=h.end,h.hold>0?(h.elapsed=h.hold-g,h.state=n.HOLD_DELAY):h.state=this.setStateFromEnd(o,h,g)):(h.current=h.start,v[h.key]=h.start,h.state=this.setStateFromStart(o,h,g));else{var S=y?h.ease(E):h.ease(1-E);h.current=h.start+(h.end-h.start)*S,v[h.key]=h.current}this.dispatchTweenDataEvent(i.TWEEN_UPDATE,o.callbacks.onUpdate,h);break;case n.DELAY:h.elapsed-=d,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=n.PENDING_RENDER);break;case n.REPEAT_DELAY:h.elapsed-=d,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=n.PLAYING_FORWARD,this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h));break;case n.HOLD_DELAY:h.elapsed-=d,h.elapsed<=0&&(h.state=this.setStateFromEnd(o,h,Math.abs(h.elapsed)));break;case n.PENDING_RENDER:v?(h.start=h.getStartValue(v,h.key,v[h.key],h.index,o.totalTargets,o),h.end=h.getEndValue(v,h.key,h.start,h.index,o.totalTargets,o),h.current=h.start,v[h.key]=h.start,h.state=n.PLAYING_FORWARD):h.state=n.COMPLETE;break}return h.state!==n.COMPLETE}});u.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],a.register("tween",function(o){return this.scene.sys.tweens.add(o)}),r.register("tween",function(o){return this.scene.sys.tweens.create(o)}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n,s,u,o,h,d,v,c,m,g){return{target:e,index:f,key:i,getActiveValue:n,getEndValue:r,getStartValue:a,ease:s,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:m,flipY:g,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:u,duration:o,hold:d,repeat:v,repeatDelay:c},state:0}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),f=function(i){return e(i,-Math.PI,Math.PI)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),f=function(i){return e(i,-180,180)};l.exports=f},function(l,x,t){var e={};l.exports=e;var f=t(83),i=t(32);(function(){e.fromVertices=function(r){for(var a={},n=0;n<r.length;n++){var s=(n+1)%r.length,u=f.normalise({x:r[s].y-r[n].y,y:r[n].x-r[s].x}),o=u.y===0?1/0:u.x/u.y;o=o.toFixed(3).toString(),a[o]=u}return i.values(a)},e.rotate=function(r,a){if(a!==0)for(var n=Math.cos(a),s=Math.sin(a),u=0;u<r.length;u++){var o=r[u],h;h=o.x*n-o.y*s,o.y=o.x*s+o.y*n,o.x=h}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(l,x,t){var e={};l.exports=e;var f=t(274),i=t(250),r=t(84);(function(){e.collisions=function(a,n){for(var s=[],u=n.pairs.table,o=n.metrics,h=0;h<a.length;h++){var d=a[h][0],v=a[h][1];if(!((d.isStatic||d.isSleeping)&&(v.isStatic||v.isSleeping))&&e.canCollide(d.collisionFilter,v.collisionFilter)&&(o.midphaseTests+=1,r.overlaps(d.bounds,v.bounds)))for(var c=d.parts.length>1?1:0;c<d.parts.length;c++)for(var m=d.parts[c],g=v.parts.length>1?1:0;g<v.parts.length;g++){var y=v.parts[g];if(m===d&&y===v||r.overlaps(m.bounds,y.bounds)){var E=i.id(m,y),S=u[E],C;S&&S.isActive?C=S.collision:C=null;var P=f.collides(m,y,C);o.narrowphaseTests+=1,P.reused&&(o.narrowReuseCount+=1),P.collided&&(s.push(P),o.narrowDetections+=1)}}}return s},e.canCollide=function(a,n){return a.group===n.group&&a.group!==0?a.group>0:(a.mask&n.category)!==0&&(n.mask&a.category)!==0}})()},function(l,x,t){var e={};l.exports=e;var f=t(64),i=t(83);(function(){e.collides=function(r,a,n){var s,u,o,h,d=!1;if(n){var v=r.parent,c=a.parent,m=v.speed*v.speed+v.angularSpeed*v.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed;d=n&&n.collided&&m<.2,h=n}else h={collided:!1,bodyA:r,bodyB:a};if(n&&d){var g=h.axisBody,y=g===r?a:r,E=[g.axes[n.axisNumber]];if(o=e._overlapAxes(g.vertices,y.vertices,E),h.reused=!0,o.overlap<=0)return h.collided=!1,h}else{if(s=e._overlapAxes(r.vertices,a.vertices,r.axes),s.overlap<=0||(u=e._overlapAxes(a.vertices,r.vertices,a.axes),u.overlap<=0))return h.collided=!1,h;s.overlap<u.overlap?(o=s,h.axisBody=r):(o=u,h.axisBody=a),h.axisNumber=o.axisNumber}h.bodyA=r.id<a.id?r:a,h.bodyB=r.id<a.id?a:r,h.collided=!0,h.depth=o.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,r=h.bodyA,a=h.bodyB,i.dot(o.axis,i.sub(a.position,r.position))<0?h.normal={x:o.axis.x,y:o.axis.y}:h.normal={x:-o.axis.x,y:-o.axis.y},h.tangent=i.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var S=e._findSupports(r,a,h.normal),C=[];if(f.contains(r.vertices,S[0])&&C.push(S[0]),f.contains(r.vertices,S[1])&&C.push(S[1]),C.length<2){var P=e._findSupports(a,r,i.neg(h.normal));f.contains(a.vertices,P[0])&&C.push(P[0]),C.length<2&&f.contains(a.vertices,P[1])&&C.push(P[1])}return C.length<1&&(C=[S[0]]),h.supports=C,h},e._overlapAxes=function(r,a,n){for(var s=i._temp[0],u=i._temp[1],o={overlap:Number.MAX_VALUE},h,d,v=0;v<n.length;v++){if(d=n[v],e._projectToAxis(s,r,d),e._projectToAxis(u,a,d),h=Math.min(s.max-u.min,u.max-s.min),h<=0)return o.overlap=h,o;h<o.overlap&&(o.overlap=h,o.axis=d,o.axisNumber=v)}return o},e._projectToAxis=function(r,a,n){for(var s=i.dot(a[0],n),u=s,o=1;o<a.length;o+=1){var h=i.dot(a[o],n);h>u?u=h:h<s&&(s=h)}r.min=s,r.max=u},e._findSupports=function(r,a,n){for(var s=Number.MAX_VALUE,u=i._temp[0],o=a.vertices,h=r.position,d,v,c,m,g=0;g<o.length;g++)v=o[g],u.x=v.x-h.x,u.y=v.y-h.y,d=-i.dot(n,u),d<s&&(s=d,c=v);var y=c.index-1>=0?c.index-1:o.length-1;v=o[y],u.x=v.x-h.x,u.y=v.y-h.y,s=-i.dot(n,u),m=v;var E=(c.index+1)%o.length;return v=o[E],u.x=v.x-h.x,u.y=v.y-h.y,d=-i.dot(n,u),d<s&&(m=v),[c,m]}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),f=[];f[e.BOTTOM_CENTER]=t(277),f[e.BOTTOM_LEFT]=t(278),f[e.BOTTOM_RIGHT]=t(279),f[e.LEFT_BOTTOM]=t(280),f[e.LEFT_CENTER]=t(281),f[e.LEFT_TOP]=t(282),f[e.RIGHT_BOTTOM]=t(283),f[e.RIGHT_CENTER]=t(284),f[e.RIGHT_TOP]=t(285),f[e.TOP_CENTER]=t(286),f[e.TOP_LEFT]=t(287),f[e.TOP_RIGHT]=t(288);var i=function(r,a,n,s,u){return f[n](r,a,s,u)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(87),i=t(88),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,f(s)+u),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(43),i=t(53),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,f(s)-u),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(44),i=t(54),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,f(s)+u),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(43),i=t(55),r=t(54),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)-u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),f=t(43),i=t(90),r=t(54),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)-u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),f=t(45),i=t(54),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,e(s)-u),r(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(44),i=t(55),r=t(53),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)+u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),f=t(44),i=t(90),r=t(53),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)+u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),f=t(45),i=t(53),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,e(s)+u),r(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),f=t(45),i=t(55),r=t(88),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,e(s)+u),i(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),f=t(45),i=t(55),r=t(53),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,e(s)-u),i(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),f=t(45),i=t(55),r=t(54),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,e(s)+u),i(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),f=[];f[e.BOTTOM_CENTER]=t(290),f[e.BOTTOM_LEFT]=t(291),f[e.BOTTOM_RIGHT]=t(292),f[e.CENTER]=t(293),f[e.LEFT_CENTER]=t(295),f[e.RIGHT_CENTER]=t(296),f[e.TOP_CENTER]=t(297),f[e.TOP_LEFT]=t(298),f[e.TOP_RIGHT]=t(299),f[e.LEFT_BOTTOM]=f[e.BOTTOM_LEFT],f[e.LEFT_TOP]=f[e.TOP_LEFT],f[e.RIGHT_BOTTOM]=f[e.BOTTOM_RIGHT],f[e.RIGHT_TOP]=f[e.TOP_RIGHT];var i=function(r,a,n,s,u){return f[n](r,a,s,u)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(87),i=t(55),r=t(88),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)+u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(43),i=t(55),r=t(53),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)-u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(44),i=t(55),r=t(54),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)+u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),f=t(87),i=t(89),r=function(a,n,s,u){return s===void 0&&(s=0),u===void 0&&(u=0),e(a,f(n)+s,i(n)+u),a};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),f=t(90),i=function(r,a,n){return e(r,a),f(r,n)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),f=t(43),i=t(90),r=t(53),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)-u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),f=t(44),i=t(90),r=t(54),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),r(n,f(s)+u),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),f=t(45),i=t(88),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,e(s)+u),r(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),f=t(45),i=t(53),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,e(s)-u),r(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),f=t(45),i=t(54),r=t(52),a=function(n,s,u,o){return u===void 0&&(u=0),o===void 0&&(o=0),i(n,e(s)+u),r(n,f(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),f=t(98),i=t(14),r=t(4),a=function(n,s,u){u===void 0&&(u=new r);var o=f(s,0,i.PI2);return e(n,o,u)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),f=t(169),i=t(98),r=t(14),a=function(n,s,u,o){o===void 0&&(o=[]),!s&&u>0&&(s=e(n)/u);for(var h=0;h<s;h++){var d=i(h/s,0,r.PI2);o.push(f(n,d))}return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=2,i={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,a===0?this.renderFlags&=~f:this.renderFlags|=f}}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(i){typeof i=="string"&&(i=e[i]),i|=0,i>=-1&&(this._blendMode=i)}},setBlendMode:function(i){return this.blendMode=i,this}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),f=t(130),i=function(r,a,n,s){s===void 0&&(s=[]),!a&&n>0&&(a=f(r)/n);for(var u=0;u<a;u++){var o=u/a;s.push(e(r,o))}return s};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){return a===void 0&&(a=new e),a.x=i.x1+(i.x2-i.x1)*r,a.y=i.y1+(i.y2-i.y1)*r,a};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x-f,u=e.y-i;return e.x=s*a-u*n+f,e.y=s*n+u*a+i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),f=t(311),i={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r){return r===void 0&&(this.texture||this.shader)&&(r=this),new e(this.scene,r)},createGeometryMask:function(r){return r===void 0&&this.type==="Graphics"&&(r=this),new f(this.scene,r)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(22),i=t(91),r=new e({initialize:function(n,s){var u=n.sys.renderer;this.renderer=u,this.bitmapMask=s,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),n.sys.game.events.on(f.CONTEXT_RESTORED,this.createMask,this),u&&u.on(i.RESIZE,this.createMask,this)},createMask:function(){var a=this.renderer;if(!(!a||!a.gl)){this.mainTexture&&this.clearMask();var n=a.width,s=a.height,u=(n&n-1)===0&&(s&s-1)===0,o=a.gl,h=u?o.REPEAT:o.CLAMP_TO_EDGE,d=o.LINEAR;this.mainTexture=a.createTexture2D(0,d,d,h,h,o.RGBA,null,n,s),this.maskTexture=a.createTexture2D(0,d,d,h,h,o.RGBA,null,n,s),this.mainFramebuffer=a.createFramebuffer(n,s,this.mainTexture,!0),this.maskFramebuffer=a.createFramebuffer(n,s,this.maskTexture,!0)}},clearMask:function(){var a=this.renderer;!a||!a.gl||!this.mainTexture||(a.deleteTexture(this.mainTexture),a.deleteTexture(this.maskTexture),a.deleteFramebuffer(this.mainFramebuffer),a.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,n,s){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,s)},postRenderWebGL:function(a,n){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(i.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(i){return this.geometryMask=i,this},setInvertAlpha:function(i){return i===void 0&&(i=!0),this.invertAlpha=i,this},preRenderWebGL:function(i,r,a){var n=i.gl;i.flush(),i.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),i.maskCount=0),i.currentCameraMask.mask!==this&&(i.currentMask.mask=this),i.maskStack.push({mask:this,camera:a}),this.applyStencil(i,a,!0),i.maskCount++},applyStencil:function(i,r,a){var n=i.gl,s=this.geometryMask,u=i.maskCount;n.colorMask(!1,!1,!1,!1),a?(n.stencilFunc(n.EQUAL,u,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,u+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),s.renderWebGL(i,s,r),i.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),a?this.invertAlpha?n.stencilFunc(n.NOTEQUAL,u+1,255):n.stencilFunc(n.EQUAL,u+1,255):this.invertAlpha?n.stencilFunc(n.NOTEQUAL,u,255):n.stencilFunc(n.EQUAL,u,255)},postRenderWebGL:function(i){var r=i.gl;i.maskStack.pop(),i.maskCount--,i.flush();var a=i.currentMask;if(i.maskStack.length===0)a.mask=null,r.disable(r.STENCIL_TEST);else{var n=i.maskStack[i.maskStack.length-1];n.mask.applyStencil(i,n.camera,!1),i.currentCameraMask.mask!==n.mask?(a.mask=n.mask,a.camera=n.camera):a.mask=null}},preRenderCanvas:function(i,r,a){var n=this.geometryMask;i.currentContext.save(),n.renderCanvas(i,n,a,null,null,!0),i.currentContext.clip()},postRenderCanvas:function(i){i.currentContext.restore()},destroy:function(){this.geometryMask=null}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,f){return f===void 0&&(f=e),this.scrollFactorX=e,this.scrollFactorY=f,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(25),i=t(177),r=t(269),a=t(270),n=t(3),s=4,u={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(o){this._scaleX=o,this._scaleY=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(o){this._scaleX=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleY:{get:function(){return this._scaleY},set:function(o){this._scaleY=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},angle:{get:function(){return a(this._rotation*e.RAD_TO_DEG)},set:function(o){this.rotation=a(o)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=r(o)}},setPosition:function(o,h,d,v){return o===void 0&&(o=0),h===void 0&&(h=o),d===void 0&&(d=0),v===void 0&&(v=0),this.x=o,this.y=h,this.z=d,this.w=v,this},copyPosition:function(o){return o.x!==void 0&&(this.x=o.x),o.y!==void 0&&(this.y=o.y),o.z!==void 0&&(this.z=o.z),o.w!==void 0&&(this.w=o.w),this},setRandomPosition:function(o,h,d,v){return o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=o+Math.random()*d,this.y=h+Math.random()*v,this},setRotation:function(o){return o===void 0&&(o=0),this.rotation=o,this},setAngle:function(o){return o===void 0&&(o=0),this.angle=o,this},setScale:function(o,h){return o===void 0&&(o=1),h===void 0&&(h=o),this.scaleX=o,this.scaleY=h,this},setX:function(o){return o===void 0&&(o=0),this.x=o,this},setY:function(o){return o===void 0&&(o=0),this.y=o,this},setZ:function(o){return o===void 0&&(o=0),this.z=o,this},setW:function(o){return o===void 0&&(o=0),this.w=o,this},getLocalTransformMatrix:function(o){return o===void 0&&(o=new f),o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(o,h){o===void 0&&(o=new f),h===void 0&&(h=new f);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(o);for(o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)h.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),h.multiply(o,o),d=d.parentContainer;return o},getLocalPoint:function(o,h,d,v){d||(d=new n),v||(v=this.scene.sys.cameras.main);var c=v.scrollX,m=v.scrollY,g=o+c*this.scrollFactorX-c,y=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,y,d):i(g,y,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getParentRotation:function(){for(var o=0,h=this.parentContainer;h;)o+=h.rotation,h=h.parentContainer;return o}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(f){f?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(f){return this.visible=f,this}};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),f=t(4),i=function(r,a,n,s){if(s===void 0&&(s=[]),!a&&!n)return s;a?n=Math.round(e(r)/a):a=e(r)/n;for(var u=r.x,o=r.y,h=0,d=0;d<n;d++)switch(s.push(new f(u,o)),h){case 0:u+=a,u>=r.right&&(h=1,o+=u-r.right,u=r.right);break;case 1:o+=a,o>=r.bottom&&(h=2,u-=o-r.bottom,o=r.bottom);break;case 2:u-=a,u<=r.left&&(h=3,o-=r.left-u,u=r.left);break;case 3:o-=a,o<=r.top&&(h=0,o=r.top);break}return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){f===void 0&&(f=1),i===void 0&&(i=[]);var r=Math.round(e.x1),a=Math.round(e.y1),n=Math.round(e.x2),s=Math.round(e.y2),u=Math.abs(n-r),o=Math.abs(s-a),h=r<n?1:-1,d=a<s?1:-1,v=u-o;i.push({x:r,y:a});for(var c=1;!(r===n&&a===s);){var m=v<<1;m>-o&&(v-=o,r+=h),m<u&&(v+=u,a+=d),c%f===0&&i.push({x:r,y:a}),c++}return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f.length){if(f.length===1)return f[0]}else return NaN;var r=1,a,n;if(i){if(e<f[0][i])return f[0];for(;f[r][i]<e;)r++}else for(;f[r]<e;)r++;return r>f.length&&(r=f.length),i?(a=f[r-1][i],n=f[r][i],n-e<=e-a?f[r]:f[r-1]):(a=f[r-1],n=f[r],n-e<=e-a?n:a)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s,u){u===void 0&&(u=!1),this.textureKey=r,this.textureFrame=a,this.index=n,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=u},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=/\D/g;return e.sort(function(i,r){return parseInt(i.replace(f,""),10)-parseInt(r.replace(f,""),10)}),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),f=t(0),i=t(102),r=t(9),a=t(132),n=t(22),s=t(2),u=t(6),o=t(186),h=t(322),d=new f({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new i,this.mixes=new i,this.paused=!1,this.name="AnimationManager",c.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(v,c,m){var g=this.anims,y=this.mixes,E=typeof v=="string"?v:v.key,S=typeof c=="string"?c:c.key;if(g.has(E)&&g.has(S)){var C=y.get(E);C||(C={}),C[S]=m,y.set(E,C)}return this},removeMix:function(v,c){var m=this.mixes,g=typeof v=="string"?v:v.key,y=m.get(g);if(y)if(c){var E=typeof c=="string"?c:c.key;y.hasOwnProperty(E)&&delete y[E]}else c||m.delete(g);return this},getMix:function(v,c){var m=this.mixes,g=typeof v=="string"?v:v.key,y=typeof c=="string"?c:c.key,E=m.get(g);return E&&E.hasOwnProperty(y)?E[y]:0},add:function(v,c){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(c.key=v,this.anims.set(v,c),this.emit(a.ADD_ANIMATION,v,c),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,c){var m=[],g=this.game.cache.json.get(v);if(!g)return m;var y=this,E=u(g,"meta",null),S=u(g,"frames",null);if(E&&S){var C=u(E,"frameTags",[]);C.forEach(function(P){var A=[],R=s(P,"name",null),M=s(P,"from",0),L=s(P,"to",0),F=s(P,"direction","forward");if(R&&(!c||c&&c.indexOf(R)>-1)){for(var I=[],N=Number.MAX_SAFE_INTEGER,z=M;z<=L;z++){var W=z.toString(),$=S[W];if($){var Z=s($,"duration",Number.MAX_SAFE_INTEGER);Z<N&&(N=Z),I.push({frame:W,duration:Z})}}I.forEach(function(G){A.push({key:v,frame:G.frame,duration:N-G.duration})});var D=N*A.length;F==="reverse"&&(A=A.reverse());var O={key:R,frames:A,duration:D,yoyo:F==="pingpong"},B=y.create(O);B&&m.push(B)}})}return m},create:function(v){var c=v.key,m=!1;return c&&(m=this.get(c),m||(m=new e(this,c,v),this.anims.set(c,m),this.emit(a.ADD_ANIMATION,c,m))),m},fromJSON:function(v,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var m=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var g=0;g<v.anims.length;g++)m.push(this.create(v.anims[g]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&m.push(this.create(v));return m},generateFrameNames:function(v,c){var m=u(c,"prefix",""),g=u(c,"start",0),y=u(c,"end",0),E=u(c,"suffix",""),S=u(c,"zeroPad",0),C=u(c,"outputArray",[]),P=u(c,"frames",!1),A=this.textureManager.get(v);if(!A)return C;var R;if(c)for(P||(P=h(g,y)),R=0;R<P.length;R++){var M=m+o(P[R],S,"0",1)+E;A.has(M)?C.push({key:v,frame:M}):console.warn("generateFrameNames: Frame missing: "+M+" from texture: "+v)}else for(P=A.getFrameNames(),R=0;R<P.length;R++)C.push({key:v,frame:P[R]});return C},generateFrameNumbers:function(v,c){var m=u(c,"start",0),g=u(c,"end",-1),y=u(c,"first",!1),E=u(c,"outputArray",[]),S=u(c,"frames",!1),C=this.textureManager.get(v);if(!C)return E;y&&C.has(y)&&E.push({key:v,frame:y}),S||(g===-1&&(g=C.frameTotal-2),S=h(m,g));for(var P=0;P<S.length;P++)C.has(S[P])?E.push({key:v,frame:S[P]}):console.warn("generateFrameNumbers: Frame "+P+" missing from texture: "+v);return E},get:function(v){return this.anims.get(v)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(v,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)c[m].anims.play(v);return this},staggerPlay:function(v,c,m,g){m===void 0&&(m=0),g===void 0&&(g=!0),Array.isArray(c)||(c=[c]);var y=c.length;g||y--;for(var E=0;E<c.length;E++){var S=m<0?Math.abs(m)*(y-E):m*E;c[E].anims.playAfterDelay(v,S)}return this},remove:function(v){var c=this.get(v);return c&&(this.emit(a.REMOVE_ANIMATION,v,c),this.anims.delete(v),this.removeMix(v)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(v){var c={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?c.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(m,g){c.anims.push(g.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});l.exports=d},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=[],n,s=!1;if((i||r)&&(s=!0,i||(i=""),r||(r="")),f<e)for(n=e;n>=f;n--)s?a.push(i+n.toString()+r):a.push(n);else for(n=e;n<=f;n++)s?a.push(i+n.toString()+r):a.push(n);return a};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(102),i=t(9),r=t(324),a=new e({initialize:function(){this.entries=new f,this.events=new i},add:function(n,s){return this.entries.set(n,s),this.events.emit(r.ADD,this,n,s),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var s=this.get(n);return s&&(this.entries.delete(n),this.events.emit(r.REMOVE,this,n,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(736),REMOVE:t(737)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),f=t(0),i=t(22),r=new f({initialize:function(n){this.game=n,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(i.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new e),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<a.length;n++)this[a[n]].destroy(),this[a[n]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),f=t(190),i=t(18),r=t(0),a=t(11),n=t(333),s=t(37),u=t(135),o=t(10),h=t(3),d=new r({Extends:e,Mixins:[a.Flip,a.Tint,a.Pipeline],initialize:function(c,m,g,y){e.call(this,c,m,g,y),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(v,c){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=c):this.deadzone=new o(0,0,v,c),this._follow){var m=this.width/2,g=this.height/2,y=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(y,E),this.scrollX=y-m,this.scrollY=E-g}f(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,c,m,g,y,E){return this.fadeEffect.start(!1,v,c,m,g,!0,y,E)},fadeOut:function(v,c,m,g,y,E){return this.fadeEffect.start(!0,v,c,m,g,!0,y,E)},fadeFrom:function(v,c,m,g,y,E,S){return this.fadeEffect.start(!1,v,c,m,g,y,E,S)},fade:function(v,c,m,g,y,E,S){return this.fadeEffect.start(!0,v,c,m,g,y,E,S)},flash:function(v,c,m,g,y,E,S){return this.flashEffect.start(v,c,m,g,y,E,S)},shake:function(v,c,m,g,y){return this.shakeEffect.start(v,c,m,g,y)},pan:function(v,c,m,g,y,E,S){return this.panEffect.start(v,c,m,g,y,E,S)},rotateTo:function(v,c,m,g,y,E,S){return this.rotateToEffect.start(v,c,m,g,y,E,S)},zoomTo:function(v,c,m,g,y,E){return this.zoomEffect.start(v,c,m,g,y,E)},preRender:function(){this.renderList.length=0;var v=this.width,c=this.height,m=v*.5,g=c*.5,y=this.zoom,E=this.matrix,S=v*this.originX,C=c*this.originY,P=this._follow,A=this.deadzone,R=this.scrollX,M=this.scrollY;A&&f(A,this.midPoint.x,this.midPoint.y);var L=!1;if(P&&!this.panEffect.isRunning){var F=P.x-this.followOffset.x,I=P.y-this.followOffset.y;A?(F<A.x?R=u(R,R-(A.x-F),this.lerp.x):F>A.right&&(R=u(R,R+(F-A.right),this.lerp.x)),I<A.y?M=u(M,M-(A.y-I),this.lerp.y):I>A.bottom&&(M=u(M,M+(I-A.bottom),this.lerp.y))):(R=u(R,F-S,this.lerp.x),M=u(M,I-C,this.lerp.y)),L=!0}this.useBounds&&(R=this.clampX(R),M=this.clampY(M)),this.roundPixels&&(S=Math.round(S),C=Math.round(C),R=Math.round(R),M=Math.round(M)),this.scrollX=R,this.scrollY=M;var N=R+m,z=M+g;this.midPoint.set(N,z);var W=v/y,$=c/y,Z=N-W/2,D=z-$/2;this.roundPixels&&(Z=Math.round(Z),D=Math.round(D)),this.worldView.setTo(Z,D,W,$),E.applyITRS(this.x+S,this.y+C,this.rotation,y,y),E.translate(-S,-C),this.shakeEffect.preRender(),L&&this.emit(s.FOLLOW_UPDATE,this,P)},setLerp:function(v,c){return v===void 0&&(v=1),c===void 0&&(c=v),this.lerp.set(v,c),this},setFollowOffset:function(v,c){return v===void 0&&(v=0),c===void 0&&(c=0),this.followOffset.set(v,c),this},startFollow:function(v,c,m,g,y,E){c===void 0&&(c=!1),m===void 0&&(m=1),g===void 0&&(g=m),y===void 0&&(y=0),E===void 0&&(E=y),this._follow=v,this.roundPixels=c,m=i(m,0,1),g=i(g,0,1),this.lerp.set(m,g),this.followOffset.set(y,E);var S=this.width/2,C=this.height/2,P=v.x-y,A=v.y-E;return this.midPoint.set(P,A),this.scrollX=P-S,this.scrollY=A-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,c){this.visible&&(this.rotateToEffect.update(v,c),this.panEffect.update(v,c),this.zoomEffect.update(v,c),this.shakeEffect.update(v,c),this.flashEffect.update(v,c),this.fadeEffect.update(v,c))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),f=function(i){var r=new e;i=i.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,h,d,v){return h+h+d+d+v+v});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);if(a){var n=parseInt(a[1],16),s=parseInt(a[2],16),u=parseInt(a[3],16);r.setTo(n,s,u)}return r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return r<<24|e<<16|f<<8|i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){r===void 0&&(r={h:0,s:0,v:0}),e/=255,f/=255,i/=255;var a=Math.min(e,f,i),n=Math.max(e,f,i),s=n-a,u=0,o=n===0?0:s/n,h=n;return n!==a&&(n===e?u=(f-i)/s+(f<i?6:0):n===f?u=(i-e)/s+2:n===i&&(u=(e-f)/s+4),u/=6),r.hasOwnProperty("_h")?(r._h=u,r._s=o,r._v=h):(r.h=u,r.s=o,r.v=h),r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),f=function(i){return new e(i.r,i.g,i.b,i.a)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),f=function(i){var r=new e,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(i.toLowerCase());if(a){var n=parseInt(a[1],10),s=parseInt(a[2],10),u=parseInt(a[3],10),o=a[4]!==void 0?parseFloat(a[4]):1;r.setTo(n,s,u,o*255)}return r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(764),Out:t(765),InOut:t(766)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(767),Out:t(768),InOut:t(769)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(770),Out:t(771),InOut:t(772)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(773),Out:t(774),InOut:t(775)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(776),Out:t(777),InOut:t(778)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(779),Out:t(780),InOut:t(781)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(782)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(783),Out:t(784),InOut:t(785)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(786),Out:t(787),InOut:t(788)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(789),Out:t(790),InOut:t(791)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(792),Out:t(793),InOut:t(794)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(795)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(33),i=t(347),r=t(2),a=t(6),n=t(7),s=t(193),u=t(1),o=t(197),h=t(187),d=new e({initialize:function(c){c===void 0&&(c={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff";this.width=a(c,"width",1024),this.height=a(c,"height",768),this.zoom=a(c,"zoom",1),this.parent=a(c,"parent",void 0),this.scaleMode=a(c,"scaleMode",0),this.expandParent=a(c,"expandParent",!0),this.autoRound=a(c,"autoRound",!1),this.autoCenter=a(c,"autoCenter",0),this.resizeInterval=a(c,"resizeInterval",500),this.fullscreenTarget=a(c,"fullscreenTarget",null),this.minWidth=a(c,"minWidth",0),this.maxWidth=a(c,"maxWidth",0),this.minHeight=a(c,"minHeight",0),this.maxHeight=a(c,"maxHeight",0);var y=a(c,"scale",null);y&&(this.width=a(y,"width",this.width),this.height=a(y,"height",this.height),this.zoom=a(y,"zoom",this.zoom),this.parent=a(y,"parent",this.parent),this.scaleMode=a(y,"mode",this.scaleMode),this.expandParent=a(y,"expandParent",this.expandParent),this.autoRound=a(y,"autoRound",this.autoRound),this.autoCenter=a(y,"autoCenter",this.autoCenter),this.resizeInterval=a(y,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(y,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(y,"min.width",this.minWidth),this.maxWidth=a(y,"max.width",this.maxWidth),this.minHeight=a(y,"min.height",this.minHeight),this.maxHeight=a(y,"max.height",this.maxHeight)),this.renderType=a(c,"type",f.AUTO),this.canvas=a(c,"canvas",null),this.context=a(c,"context",null),this.canvasStyle=a(c,"canvasStyle",null),this.customEnvironment=a(c,"customEnvironment",!1),this.sceneConfig=a(c,"scene",null),this.seed=a(c,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=a(c,"title",""),this.gameURL=a(c,"url","https://phaser.io"),this.gameVersion=a(c,"version",""),this.autoFocus=a(c,"autoFocus",!0),this.domCreateContainer=a(c,"dom.createContainer",!1),this.domBehindCanvas=a(c,"dom.behindCanvas",!1),this.domPointerEvents=a(c,"dom.pointerEvents","none"),this.inputKeyboard=a(c,"input.keyboard",!0),this.inputKeyboardEventTarget=a(c,"input.keyboard.target",window),this.inputKeyboardCapture=a(c,"input.keyboard.capture",[]),this.inputMouse=a(c,"input.mouse",!0),this.inputMouseEventTarget=a(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(c,"input.touch",i.input.touch),this.inputTouchEventTarget=a(c,"input.touch.target",null),this.inputTouchCapture=a(c,"input.touch.capture",!0),this.inputActivePointers=a(c,"input.activePointers",1),this.inputSmoothFactor=a(c,"input.smoothFactor",0),this.inputWindowEvents=a(c,"input.windowEvents",!0),this.inputGamepad=a(c,"input.gamepad",!1),this.inputGamepadEventTarget=a(c,"input.gamepad.target",window),this.disableContextMenu=a(c,"disableContextMenu",!1),this.audio=a(c,"audio",{}),this.hideBanner=a(c,"banner",null)===!1,this.hidePhaser=a(c,"banner.hidePhaser",!1),this.bannerTextColor=a(c,"banner.text",g),this.bannerBackgroundColor=a(c,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(c,"fps",null);var E=a(c,"render",c);this.pipeline=a(E,"pipeline",null),this.antialias=a(E,"antialias",!0),this.antialiasGL=a(E,"antialiasGL",!0),this.mipmapFilter=a(E,"mipmapFilter","LINEAR"),this.desynchronized=a(E,"desynchronized",!1),this.roundPixels=a(E,"roundPixels",!1),this.pixelArt=a(E,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(E,"transparent",!1),this.clearBeforeRender=a(E,"clearBeforeRender",!0),this.preserveDrawingBuffer=a(E,"preserveDrawingBuffer",!1),this.premultipliedAlpha=a(E,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(E,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(E,"powerPreference","default"),this.batchSize=a(E,"batchSize",4096),this.maxTextures=a(E,"maxTextures",-1),this.maxLights=a(E,"maxLights",10);var S=a(c,"backgroundColor",0);this.backgroundColor=h(S),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=a(c,"callbacks.preBoot",u),this.postBoot=a(c,"callbacks.postBoot",u),this.physics=a(c,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(c,"loader.baseURL",""),this.loaderPath=a(c,"loader.path","");var C=i.os.android?6:32;this.loaderMaxParallelDownloads=a(c,"loader.maxParallelDownloads",C),this.loaderCrossOrigin=a(c,"loader.crossOrigin",void 0),this.loaderResponseType=a(c,"loader.responseType",""),this.loaderAsync=a(c,"loader.async",!0),this.loaderUser=a(c,"loader.user",""),this.loaderPassword=a(c,"loader.password",""),this.loaderTimeout=a(c,"loader.timeout",0),this.loaderWithCredentials=a(c,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=a(c,"plugins",null),A=o.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:n(P)&&(this.installGlobalPlugins=r(P,"global",[]),this.installScenePlugins=r(P,"scene",[]),Array.isArray(P.default)?A=P.default:Array.isArray(P.defaultMerge)&&(A=A.concat(P.defaultMerge)))),this.defaultPlugins=A;var R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(c,"images.default",R+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(c,"images.missing",R+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=f.WEBGL:window.FORCE_CANVAS&&(this.renderType=f.CANVAS))}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f={supportInverseAlpha:!1,supportNewBlendModes:!1};function i(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",u=new Image;return u.onload=function(){var o=new Image;o.onload=function(){var h=e.create(o,6,1),d=h.getContext("2d");if(d.globalCompositeOperation="multiply",d.drawImage(u,0,0),d.drawImage(o,2,0),!d.getImageData(2,0,1,1))return!1;var v=d.getImageData(2,0,1,1).data;e.remove(o),f.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},o.src=n+"/wCKxvRF"+s},u.src=n+"AP804Oa6"+s,!1}function r(){var n=e.create(this,2,1),s=n.getContext("2d");s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var u=s.getImageData(0,0,1,1);if(u===null)return!1;s.putImageData(u,1,0);var o=s.getImageData(1,0,1,1);return o.data[0]===u.data[0]&&o.data[1]===u.data[1]&&o.data[2]===u.data[2]&&o.data[3]===u.data[3]}function a(){return typeof importScripts!="function"&&document!==void 0&&(f.supportNewBlendModes=i(),f.supportInverseAlpha=r()),f}l.exports=a()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return Math.atan2(r-f,i-e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.x-f.x,r=e.y-f.y;return Math.sqrt(i*i+r*r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=e-i,n=f-r;return a*a+n*n};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return i===void 0&&(i=1e-4),e>f-i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return i===void 0&&(i=1e-4),e<f+i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),f=function(i,r){return e(i)/e(r)/e(i-r)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var f=e;--e;)f*=e;return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,n){var s=1-a;return s*s*s*n}function e(a,n){var s=1-a;return 3*s*s*a*n}function f(a,n){return 3*(1-a)*a*a*n}function i(a,n){return a*a*a*n}var r=function(a,n,s,u,o){return t(a,n)+e(a,s)+f(a,u)+i(a,o)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){var n=1-r;return n*n*a}function e(r,a){return 2*(1-r)*r*a}function f(r,a){return r*r*a}var i=function(r,a,n,s){return t(r,a)+e(r,n)+f(r,s)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),f=function(i,r,a){return r+(a-r)*e(i,0,1)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=Math.log(e)/.6931471805599453;return 1<<Math.ceil(f)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.x,r=e.y;return e.x=i*Math.cos(f)-r*Math.sin(f),e.y=i*Math.sin(f)+r*Math.cos(f),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new f(this)},set:function(i){return this.copy(i)},copy:function(i){var r=this.val,a=i.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},fromMat4:function(i){var r=i.val,a=this.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[4],a[4]=r[5],a[5]=r[6],a[6]=r[8],a[7]=r[9],a[8]=r[10],this},fromArray:function(i){var r=this.val;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this},identity:function(){var i=this.val;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,this},transpose:function(){var i=this.val,r=i[1],a=i[2],n=i[5];return i[1]=i[3],i[2]=i[6],i[3]=r,i[5]=i[7],i[6]=a,i[7]=n,this},invert:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],u=i[4],o=i[5],h=i[6],d=i[7],v=i[8],c=v*u-o*d,m=-v*s+o*h,g=d*s-u*h,y=r*c+a*m+n*g;return y?(y=1/y,i[0]=c*y,i[1]=(-v*a+n*d)*y,i[2]=(o*a-n*u)*y,i[3]=m*y,i[4]=(v*r-n*h)*y,i[5]=(-o*r+n*s)*y,i[6]=g*y,i[7]=(-d*r+a*h)*y,i[8]=(u*r-a*s)*y,this):null},adjoint:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],u=i[4],o=i[5],h=i[6],d=i[7],v=i[8];return i[0]=u*v-o*d,i[1]=n*d-a*v,i[2]=a*o-n*u,i[3]=o*h-s*v,i[4]=r*v-n*h,i[5]=n*s-r*o,i[6]=s*d-u*h,i[7]=a*h-r*d,i[8]=r*u-a*s,this},determinant:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],u=i[4],o=i[5],h=i[6],d=i[7],v=i[8];return r*(v*u-o*d)+a*(-v*s+o*h)+n*(d*s-u*h)},multiply:function(i){var r=this.val,a=r[0],n=r[1],s=r[2],u=r[3],o=r[4],h=r[5],d=r[6],v=r[7],c=r[8],m=i.val,g=m[0],y=m[1],E=m[2],S=m[3],C=m[4],P=m[5],A=m[6],R=m[7],M=m[8];return r[0]=g*a+y*u+E*d,r[1]=g*n+y*o+E*v,r[2]=g*s+y*h+E*c,r[3]=S*a+C*u+P*d,r[4]=S*n+C*o+P*v,r[5]=S*s+C*h+P*c,r[6]=A*a+R*u+M*d,r[7]=A*n+R*o+M*v,r[8]=A*s+R*h+M*c,this},translate:function(i){var r=this.val,a=i.x,n=i.y;return r[6]=a*r[0]+n*r[3]+r[6],r[7]=a*r[1]+n*r[4]+r[7],r[8]=a*r[2]+n*r[5]+r[8],this},rotate:function(i){var r=this.val,a=r[0],n=r[1],s=r[2],u=r[3],o=r[4],h=r[5],d=Math.sin(i),v=Math.cos(i);return r[0]=v*a+d*u,r[1]=v*n+d*o,r[2]=v*s+d*h,r[3]=v*u-d*a,r[4]=v*o-d*n,r[5]=v*h-d*s,this},scale:function(i){var r=this.val,a=i.x,n=i.y;return r[0]=a*r[0],r[1]=a*r[1],r[2]=a*r[2],r[3]=n*r[3],r[4]=n*r[4],r[5]=n*r[5],this},fromQuat:function(i){var r=i.x,a=i.y,n=i.z,s=i.w,u=r+r,o=a+a,h=n+n,d=r*u,v=r*o,c=r*h,m=a*o,g=a*h,y=n*h,E=s*u,S=s*o,C=s*h,P=this.val;return P[0]=1-(m+y),P[3]=v+C,P[6]=c-S,P[1]=v-C,P[4]=1-(d+y),P[7]=g+E,P[2]=c+S,P[5]=g-E,P[8]=1-(d+m),this},normalFromMat4:function(i){var r=i.val,a=this.val,n=r[0],s=r[1],u=r[2],o=r[3],h=r[4],d=r[5],v=r[6],c=r[7],m=r[8],g=r[9],y=r[10],E=r[11],S=r[12],C=r[13],P=r[14],A=r[15],R=n*d-s*h,M=n*v-u*h,L=n*c-o*h,F=s*v-u*d,I=s*c-o*d,N=u*c-o*v,z=m*C-g*S,W=m*P-y*S,$=m*A-E*S,Z=g*P-y*C,D=g*A-E*C,O=y*A-E*P,B=R*O-M*D+L*Z+F*$-I*W+N*z;return B?(B=1/B,a[0]=(d*O-v*D+c*Z)*B,a[1]=(v*$-h*O-c*W)*B,a[2]=(h*D-d*$+c*z)*B,a[3]=(u*D-s*O-o*Z)*B,a[4]=(n*O-u*$+o*W)*B,a[5]=(s*$-n*D-o*z)*B,a[6]=(C*N-P*I+A*F)*B,a[7]=(P*L-S*N-A*M)*B,a[8]=(S*I-C*L+A*R)*B,this):null}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(364),i=t(1),r=t(39),a=1e-6,n=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),u=new r(1,0,0),o=new r(0,1,0),h=new r,d=new f,v=new e({initialize:function(m,g,y,E){this.onChangeCallback=i,this.set(m,g,y,E)},x:{get:function(){return this._x},set:function(c){this._x=c,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(c){this._y=c,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(c){this._z=c,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(c){this._w=c,this.onChangeCallback(this)}},copy:function(c){return this.set(c)},set:function(c,m,g,y,E){return E===void 0&&(E=!0),typeof c=="object"?(this._x=c.x||0,this._y=c.y||0,this._z=c.z||0,this._w=c.w||0):(this._x=c||0,this._y=m||0,this._z=g||0,this._w=y||0),E&&this.onChangeCallback(this),this},add:function(c){return this._x+=c.x,this._y+=c.y,this._z+=c.z,this._w+=c.w,this.onChangeCallback(this),this},subtract:function(c){return this._x-=c.x,this._y-=c.y,this._z-=c.z,this._w-=c.w,this.onChangeCallback(this),this},scale:function(c){return this._x*=c,this._y*=c,this._z*=c,this._w*=c,this.onChangeCallback(this),this},length:function(){var c=this.x,m=this.y,g=this.z,y=this.w;return Math.sqrt(c*c+m*m+g*g+y*y)},lengthSq:function(){var c=this.x,m=this.y,g=this.z,y=this.w;return c*c+m*m+g*g+y*y},normalize:function(){var c=this.x,m=this.y,g=this.z,y=this.w,E=c*c+m*m+g*g+y*y;return E>0&&(E=1/Math.sqrt(E),this._x=c*E,this._y=m*E,this._z=g*E,this._w=y*E),this.onChangeCallback(this),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,m){m===void 0&&(m=0);var g=this.x,y=this.y,E=this.z,S=this.w;return this.set(g+m*(c.x-g),y+m*(c.y-y),E+m*(c.z-E),S+m*(c.w-S))},rotationTo:function(c,m){var g=c.x*m.x+c.y*m.y+c.z*m.z;return g<-.999999?(h.copy(u).cross(c).length()<a&&h.copy(o).cross(c),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(c).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(c,m,g){var y=d.val;return y[0]=m.x,y[3]=m.y,y[6]=m.z,y[1]=g.x,y[4]=g.y,y[7]=g.z,y[2]=-c.x,y[5]=-c.y,y[8]=-c.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(c,m){m=m*.5;var g=Math.sin(m);return this.set(g*c.x,g*c.y,g*c.z,Math.cos(m))},multiply:function(c){var m=this.x,g=this.y,y=this.z,E=this.w,S=c.x,C=c.y,P=c.z,A=c.w;return this.set(m*A+E*S+g*P-y*C,g*A+E*C+y*S-m*P,y*A+E*P+m*C-g*S,E*A-m*S-g*C-y*P)},slerp:function(c,m){var g=this.x,y=this.y,E=this.z,S=this.w,C=c.x,P=c.y,A=c.z,R=c.w,M=g*C+y*P+E*A+S*R;M<0&&(M=-M,C=-C,P=-P,A=-A,R=-R);var L=1-m,F=m;if(1-M>a){var I=Math.acos(M),N=Math.sin(I);L=Math.sin((1-m)*I)/N,F=Math.sin(m*I)/N}return this.set(L*g+F*C,L*y+F*P,L*E+F*A,L*S+F*R)},invert:function(){var c=this.x,m=this.y,g=this.z,y=this.w,E=c*c+m*m+g*g+y*y,S=E?1/E:0;return this.set(-c*S,-m*S,-g*S,y*S)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(c){c*=.5;var m=this.x,g=this.y,y=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(m*C+E*S,g*C+y*S,y*C-g*S,E*C-m*S)},rotateY:function(c){c*=.5;var m=this.x,g=this.y,y=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(m*C-y*S,g*C+E*S,y*C+m*S,E*C-g*S)},rotateZ:function(c){c*=.5;var m=this.x,g=this.y,y=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(m*C+g*S,g*C-m*S,y*C+E*S,E*C-y*S)},calculateW:function(){var c=this.x,m=this.y,g=this.z;return this.w=-Math.sqrt(1-c*c-m*m-g*g),this},setFromEuler:function(c,m){var g=c.x/2,y=c.y/2,E=c.z/2,S=Math.cos(g),C=Math.cos(y),P=Math.cos(E),A=Math.sin(g),R=Math.sin(y),M=Math.sin(E);switch(c.order){case"XYZ":{this.set(A*C*P+S*R*M,S*R*P-A*C*M,S*C*M+A*R*P,S*C*P-A*R*M,m);break}case"YXZ":{this.set(A*C*P+S*R*M,S*R*P-A*C*M,S*C*M-A*R*P,S*C*P+A*R*M,m);break}case"ZXY":{this.set(A*C*P-S*R*M,S*R*P+A*C*M,S*C*M+A*R*P,S*C*P-A*R*M,m);break}case"ZYX":{this.set(A*C*P-S*R*M,S*R*P+A*C*M,S*C*M-A*R*P,S*C*P+A*R*M,m);break}case"YZX":{this.set(A*C*P+S*R*M,S*R*P+A*C*M,S*C*M-A*R*P,S*C*P-A*R*M,m);break}case"XZY":{this.set(A*C*P-S*R*M,S*R*P-A*C*M,S*C*M+A*R*P,S*C*P+A*R*M,m);break}}return this},setFromRotationMatrix:function(c){var m=c.val,g=m[0],y=m[4],E=m[8],S=m[1],C=m[5],P=m[9],A=m[2],R=m[6],M=m[10],L=g+C+M,F;return L>0?(F=.5/Math.sqrt(L+1),this.set((R-P)*F,(E-A)*F,(S-y)*F,.25/F)):g>C&&g>M?(F=2*Math.sqrt(1+g-C-M),this.set(.25*F,(y+S)/F,(E+A)/F,(R-P)/F)):C>M?(F=2*Math.sqrt(1+C-g-M),this.set((y+S)/F,.25*F,(P+R)/F,(E-A)/F)):(F=2*Math.sqrt(1+M-g-C),this.set((E+A)/F,(P+R)/F,.25*F,(S-y)/F)),this},fromMat3:function(c){var m=c.val,g=m[0]+m[4]+m[8],y;if(g>0)y=Math.sqrt(g+1),this.w=.5*y,y=.5/y,this._x=(m[7]-m[5])*y,this._y=(m[2]-m[6])*y,this._z=(m[3]-m[1])*y;else{var E=0;m[4]>m[0]&&(E=1),m[8]>m[E*3+E]&&(E=2);var S=n[E],C=n[S];y=Math.sqrt(m[E*3+E]-m[S*3+S]-m[C*3+C]+1),s[E]=.5*y,y=.5/y,s[S]=(m[S*3+E]+m[E*3+S])*y,s[C]=(m[C*3+E]+m[E*3+C])*y,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(m[C*3+S]-m[S*3+C])*y}return this.onChangeCallback(this),this}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),f=t(31),i=t(33),r=t(191),a=function(n){var s=n.config;if((s.customEnvironment||s.canvas)&&s.renderType===i.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==i.HEADLESS)if(s.renderType===i.CANVAS||s.renderType!==i.CANVAS&&!r.webGL)if(r.canvas)s.renderType=i.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else s.renderType=i.WEBGL;s.antialias||f.disableSmoothing();var u=n.scale.baseSize,o=u.width,h=u.height;if(s.canvas?(n.canvas=s.canvas,n.canvas.width=o,n.canvas.height=h):n.canvas=f.create(n,o,h,s.renderType),s.canvasStyle&&(n.canvas.style=s.canvasStyle),s.antialias||e.setCrisp(n.canvas),s.renderType!==i.HEADLESS){var d,v;d=t(368),v=t(371),s.renderType===i.WEBGL?n.renderer=new v(n):(n.renderer=new d(n),n.context=n.renderer.gameContext)}};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var f=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return f.forEach(function(i){e.style["image-rendering"]=i}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),f=t(369),i=t(0),r=t(33),a=t(9),n=t(91),s=t(370),u=t(104),o=t(106),h=t(25),d=new i({Extends:a,initialize:function(c){a.call(this);var m=c.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=c,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var g={alpha:c.config.transparent,desynchronized:c.config.desynchronized};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=c.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(o.READY,this.boot,this)},boot:function(){var v=this.game,c=v.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,v.scale.on(u.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(v,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(v,c){this.width=v,this.height=c,this.emit(n.RESIZE,v,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,c=this.config,m=this.width,g=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),c.clearBeforeRender&&(v.clearRect(0,0,m,g),c.transparent||(v.fillStyle=c.backgroundColor.rgba,v.fillRect(0,0,m,g))),v.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(v,c,m){var g=c.length;this.emit(n.RENDER,v,m);var y=m.x,E=m.y,S=m.width,C=m.height,P=m.renderToTexture?m.context:v.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(y,E,S,C),P.clip()),this.currentContext=P;var A=m.mask;A&&A.preRenderCanvas(this,null,m._maskCamera),m.transparent||(P.fillStyle=m.backgroundColor.rgba,P.fillRect(y,E,S,C)),P.globalAlpha=m.alpha,P.globalCompositeOperation="source-over",this.drawCount+=g,m.renderToTexture&&m.emit(e.PRE_RENDER,m),m.matrix.copyToContext(P);for(var R=0;R<g;R++){var M=c[R];M.mask&&M.mask.preRenderCanvas(this,M,m),M.renderCanvas(this,M,m),M.mask&&M.mask.postRenderCanvas(this,M,m)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,m.flashEffect.postRenderCanvas(P),m.fadeEffect.postRenderCanvas(P),m.dirty=!1,A&&A.postRenderCanvas(this),P.restore(),m.renderToTexture&&(m.emit(e.POST_RENDER,m),m.renderToGame&&v.sys.context.drawImage(m.canvas,y,E))},postRender:function(){var v=this.gameContext;v.restore(),this.emit(n.POST_RENDER);var c=this.snapshotState;c.callback&&(f(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(v,c,m,g,y,E,S,C,P){m===void 0&&(m=!1),this.snapshotArea(g,y,E,S,c,C,P);var A=this.snapshotState;return A.getPixel=m,f(this.canvas,A),A.callback=null,this},snapshot:function(v,c,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,c,m)},snapshotArea:function(v,c,m,g,y,E,S){var C=this.snapshotState;return C.callback=y,C.type=E,C.encoder=S,C.getPixel=!1,C.x=v,C.y=c,C.width=Math.min(m,this.gameCanvas.width),C.height=Math.min(g,this.gameCanvas.height),this},snapshotPixel:function(v,c,m){return this.snapshotArea(v,c,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(v,c,m,g){var y=m.alpha*v.alpha;if(y!==0){var E=this.currentContext,S=this._tempMatrix1,C=this._tempMatrix2,P=c.canvasData,A=P.x,R=P.y,M=c.cutWidth,L=c.cutHeight,F=c.customPivot,I=c.source.resolution,N=v.displayOriginX,z=v.displayOriginY,W=-N+c.x,$=-z+c.y;if(v.isCropped){var Z=v._crop;(Z.flipX!==v.flipX||Z.flipY!==v.flipY)&&c.updateCropUVs(Z,v.flipX,v.flipY),M=Z.cw,L=Z.ch,A=Z.cx,R=Z.cy,W=-N+Z.x,$=-z+Z.y,v.flipX&&(W>=0?W=-(W+M):W<0&&(W=Math.abs(W)-M)),v.flipY&&($>=0?$=-($+L):$<0&&($=Math.abs($)-L))}var D=1,O=1;v.flipX&&(F||(W+=-c.realWidth+N*2),D=-1),v.flipY&&(F||($+=-c.realHeight+z*2),O=-1),C.applyITRS(v.x,v.y,v.rotation,v.scaleX*D,v.scaleY*O),S.copyFrom(m.matrix),g?(S.multiplyWithOffset(g,-m.scrollX*v.scrollFactorX,-m.scrollY*v.scrollFactorY),C.e=v.x,C.f=v.y):(C.e-=m.scrollX*v.scrollFactorX,C.f-=m.scrollY*v.scrollFactorY),S.multiply(C),E.save(),S.setToContext(E),E.globalCompositeOperation=this.blendModes[v.blendMode],E.globalAlpha=y,E.imageSmoothingEnabled=!(!this.antialias||c.source.scaleMode),v.mask&&v.mask.preRenderCanvas(this,v,m),E.drawImage(c.source.image,A,R,M,L,W,$,M/I,L/I),v.mask&&v.mask.postRenderCanvas(this,v,m),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=t(38),i=t(2),r=function(a,n){var s=i(n,"callback"),u=i(n,"type","image/png"),o=i(n,"encoder",.92),h=Math.abs(Math.round(i(n,"x",0))),d=Math.abs(Math.round(i(n,"y",0))),v=i(n,"width",a.width),c=i(n,"height",a.height),m=i(n,"getPixel",!1);if(m){var g=a.getContext("2d"),y=g.getImageData(h,d,1,1),E=y.data;s.call(null,new f(E[0],E[1],E[2],E[3]/255))}else if(h!==0||d!==0||v!==a.width||c!==a.height){var S=e.createWebGL(this,v,c),C=S.getContext("2d");C.drawImage(a,h,d,v,c,0,0,v,c);var P=new Image;P.onerror=function(){s.call(null),e.remove(S)},P.onload=function(){s.call(null,P),e.remove(S)},P.src=S.toDataURL(u,o)}else{var A=new Image;A.onerror=function(){s.call(null)},A.onload=function(){s.call(null,A)},A.src=a.toDataURL(u,o)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(348),i=function(){var r=[],a=f.supportNewBlendModes,n="source-over";return r[e.NORMAL]=n,r[e.ADD]="lighter",r[e.MULTIPLY]=a?"multiply":n,r[e.SCREEN]=a?"screen":n,r[e.OVERLAY]=a?"overlay":n,r[e.DARKEN]=a?"darken":n,r[e.LIGHTEN]=a?"lighten":n,r[e.COLOR_DODGE]=a?"color-dodge":n,r[e.COLOR_BURN]=a?"color-burn":n,r[e.HARD_LIGHT]=a?"hard-light":n,r[e.SOFT_LIGHT]=a?"soft-light":n,r[e.DIFFERENCE]=a?"difference":n,r[e.EXCLUSION]=a?"exclusion":n,r[e.HUE]=a?"hue":n,r[e.SATURATION]=a?"saturation":n,r[e.COLOR]=a?"color":n,r[e.LUMINOSITY]=a?"luminosity":n,r[e.ERASE]="destination-out",r[e.SOURCE_IN]="source-in",r[e.SOURCE_OUT]="source-out",r[e.SOURCE_ATOP]="source-atop",r[e.DESTINATION_OVER]="destination-over",r[e.DESTINATION_IN]="destination-in",r[e.DESTINATION_OUT]="destination-out",r[e.DESTINATION_ATOP]="destination-atop",r[e.LIGHTER]="lighter",r[e.COPY]="copy",r[e.XOR]="xor",r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),f=t(37),i=t(0),r=t(33),a=t(9),n=t(91),s=t(22),u=t(138),o=t(69),h=t(1),d=t(372),v=t(141),c=t(104),m=t(106),g=t(12),y=t(383),E=new i({Extends:a,initialize:function(C){a.call(this);var P=C.config,A={alpha:P.transparent,desynchronized:P.desynchronized,depth:!1,antialias:P.antialiasGL,premultipliedAlpha:P.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:P.failIfMajorPerformanceCaveat,powerPreference:P.powerPreference,preserveDrawingBuffer:P.preserveDrawingBuffer};this.config={clearBeforeRender:P.clearBeforeRender,antialias:P.antialias,backgroundColor:P.backgroundColor,contextCreation:A,roundPixels:P.roundPixels,maxTextures:P.maxTextures,maxTextureSize:P.maxTextureSize,batchSize:P.batchSize,maxLights:P.maxLights,mipmapFilter:P.mipmapFilter},this.game=C,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=C.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(S){var C,P=this.game,A=this.canvas,R=S.backgroundColor;if(P.config.context?C=P.config.context:C=A.getContext("webgl",S.contextCreation)||A.getContext("experimental-webgl",S.contextCreation),!C||C.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=C;var M=this;this.contextLostHandler=function(B){M.contextLost=!0,M.game.events.emit(s.CONTEXT_LOST,M),B.preventDefault()},this.contextRestoredHandler=function(){M.contextLost=!1,M.init(M.config),M.game.events.emit(s.CONTEXT_RESTORED,M)},A.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),P.context=C;for(var L=0;L<=27;L++)this.blendModes.push({func:[C.ONE,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_ADD});this.blendModes[1].func=[C.ONE,C.DST_ALPHA],this.blendModes[2].func=[C.DST_COLOR,C.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[C.ONE,C.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[C.ZERO,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=C.BYTE,this.glFormats[1]=C.SHORT,this.glFormats[2]=C.UNSIGNED_BYTE,this.glFormats[3]=C.UNSIGNED_SHORT,this.glFormats[4]=C.FLOAT,this.glFuncMap={mat2:{func:C.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:C.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:C.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:C.uniform1f,length:1},"1fv":{func:C.uniform1fv,length:1},"1i":{func:C.uniform1i,length:1},"1iv":{func:C.uniform1iv,length:1},"2f":{func:C.uniform2f,length:2},"2fv":{func:C.uniform2fv,length:1},"2i":{func:C.uniform2i,length:2},"2iv":{func:C.uniform2iv,length:1},"3f":{func:C.uniform3f,length:3},"3fv":{func:C.uniform3fv,length:1},"3i":{func:C.uniform3i,length:3},"3iv":{func:C.uniform3iv,length:1},"4f":{func:C.uniform4f,length:4},"4fv":{func:C.uniform4fv,length:1},"4i":{func:C.uniform4i,length:4},"4iv":{func:C.uniform4iv,length:1}};var F=C.getSupportedExtensions();(!S.maxTextures||S.maxTextures===-1)&&(S.maxTextures=C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS)),S.maxTextureSize||(S.maxTextureSize=C.getParameter(C.MAX_TEXTURE_SIZE));var I="WEBGL_compressed_texture_",N="WEBKIT_"+I;this.compression.ETC1=C.getExtension(I+"etc1")||C.getExtension(N+"etc1"),this.compression.PVRTC=C.getExtension(I+"pvrtc")||C.getExtension(N+"pvrtc"),this.compression.S3TC=C.getExtension(I+"s3tc")||C.getExtension(N+"s3tc"),this.supportedExtensions=F;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=F.indexOf(z)>-1?C.getExtension(z):null;var W="OES_vertex_array_object";this.vaoExtension=F.indexOf(W)>-1?C.getExtension(W):null,C.disable(C.DEPTH_TEST),C.disable(C.CULL_FACE),C.enable(C.BLEND),C.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),this.mipmapFilter=C[S.mipmapFilter],this.maxTextures=g.checkShaderMax(C,S.maxTextures),this.textureIndexes=[];var $=this.tempTextures;if(Array.isArray($))for(var Z=0;L<this.maxTextures;Z++)C.deleteTexture($[Z]);else $=new Array(this.maxTextures);for(var D=0;D<this.maxTextures;D++){var O=C.createTexture();C.activeTexture(C.TEXTURE0+D),C.bindTexture(C.TEXTURE_2D,O),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,1,1,0,C.RGBA,C.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),$[D]=O,this.textureIndexes.push(D)}return this.tempTextures=$,this.currentActiveTexture=1,this.startActiveTexture++,C.activeTexture(C.TEXTURE1),this.pipelines=new d(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new o().identity(),P.textures.once(m.READY,this.boot,this),this},boot:function(){var S=this.game,C=this.pipelines,P=S.scale.baseSize;this.width=P.width,this.height=P.height,this.isBooted=!0,this.renderTarget=new v(this,this.width,this.height,1,0,!0,!0),C.boot(S.config.pipeline),this.blankTexture=S.textures.getFrame("__DEFAULT"),this.whiteTexture=S.textures.getFrame("__WHITE");var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,null),A.enable(A.SCISSOR_TEST),S.scale.on(c.RESIZE,this.onResize,this),this.resize(P.width,P.height)},onResize:function(S,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},beginCapture:function(S,C){S===void 0&&(S=this.width),C===void 0&&(C=this.height),this.renderTarget.bind(!0,S,C),this.setProjectionMatrix(S,C),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(S,C){var P=this.gl;return this.width=S,this.height=C,this.setProjectionMatrix(S,C),P.viewport(0,0,S,C),this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-C,S,C),this.defaultScissor[2]=S,this.defaultScissor[3]=C,this.emit(n.RESIZE,S,C),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(S,C){return(S!==this.projectionWidth||C!==this.projectionHeight)&&(this.projectionWidth=S,this.projectionHeight=C,this.projectionMatrix.ortho(0,S,C,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(S){return this.supportedExtensions?this.supportedExtensions.indexOf(S):!1},getExtension:function(S){return this.hasExtension(S)?(S in this.extensions||(this.extensions[S]=this.gl.getExtension(S)),this.extensions[S]):null},flush:function(){this.pipelines.flush()},pushScissor:function(S,C,P,A,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.scissorStack,L=[S,C,P,A];return M.push(L),this.setScissor(S,C,P,A,R),this.currentScissor=L,L},setScissor:function(S,C,P,A,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.gl,L=this.currentScissor,F=P>0&&A>0;if(L&&F){var I=L[0],N=L[1],z=L[2],W=L[3];F=I!==S||N!==C||z!==P||W!==A}F&&(this.flush(),M.scissor(S,R-C-A,P,A))},resetScissor:function(){var S=this.gl;S.enable(S.SCISSOR_TEST);var C=this.currentScissor;if(C){var P=C[0],A=C[1],R=C[2],M=C[3];R>0&&M>0&&S.scissor(P,this.drawingBufferHeight-A-M,R,M)}},popScissor:function(){var S=this.scissorStack;S.pop();var C=S[S.length-1];C&&this.setScissor(C[0],C[1],C[2],C[3]),this.currentScissor=C},hasActiveStencilMask:function(){var S=this.currentMask.mask,C=this.currentCameraMask.mask;return S&&S.isStencil||C&&C.isStencil},resetViewport:function(){var S=this.gl;S.viewport(0,0,this.width,this.height),this.drawingBufferHeight=S.drawingBufferHeight},setBlendMode:function(S,C){C===void 0&&(C=!1);var P=this.gl,A=this.blendModes[S];return C||S!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==S?(this.flush(),P.enable(P.BLEND),P.blendEquation(A.equation),A.func.length>2?P.blendFuncSeparate(A.func[0],A.func[1],A.func[2],A.func[3]):P.blendFunc(A.func[0],A.func[1]),this.currentBlendMode=S,!0):!1},addBlendMode:function(S,C){var P=this.blendModes.push({func:S,equation:C});return P-1},updateBlendMode:function(S,C,P){return this.blendModes[S]&&(this.blendModes[S].func=C,P&&(this.blendModes[S].equation=P)),this},removeBlendMode:function(S){return S>17&&this.blendModes[S]&&this.blendModes.splice(S,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S.glTexture,!0),0;var C=this.gl,P=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(S.glIndex=P,C.activeTexture(C.TEXTURE0+P),C.bindTexture(C.TEXTURE_2D,S.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,S.glIndex},isNewNormalMap:function(S,C){return this.textureZero!==S||this.normalTexture!==C},setTextureZero:function(S,C){if(this.textureZero!==S){C&&this.flush();var P=this.gl;P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,S),this.textureZero=S}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(S){if(this.normalTexture!==S){var C=this.gl;C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S),this.normalTexture=S,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var S=this.gl,C=this.tempTextures,P=0;P<C.length;P++)S.activeTexture(S.TEXTURE0+P),S.bindTexture(S.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(S){if(S===void 0&&(S=!1),!this.isTextureClean){this.flush();var C=this.gl,P=this.tempTextures;if(S){for(var A=0;A<P.length;A++)C.activeTexture(C.TEXTURE0+A),C.bindTexture(C.TEXTURE_2D,P[A]);C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,P[1]),this.isTextureClean=!0}else C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,P[0]),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,P[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S,!0),0;var C=this.gl,P=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(S.glIndex=P,C.activeTexture(C.TEXTURE0+P),C.bindTexture(C.TEXTURE_2D,S),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S),this.currentActiveTexture=2)),this.isTextureClean=!1,S.glIndex},pushFramebuffer:function(S,C,P,A){return S===this.currentFramebuffer?this:(this.fboStack.push(S),this.setFramebuffer(S,C,P,A))},setFramebuffer:function(S,C,P,A){if(C===void 0&&(C=!1),P===void 0&&(P=!1),A===void 0&&(A=!0),S===this.currentFramebuffer)return this;var R=this.gl,M=this.width,L=this.height;return S&&S.renderTexture&&A?(M=S.renderTexture.width,L=S.renderTexture.height):this.flush(),R.bindFramebuffer(R.FRAMEBUFFER,S),A&&R.viewport(0,0,M,L),C&&(S?(this.drawingBufferHeight=L,this.pushScissor(0,0,M,L)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=S,P&&this.resetTextures(),this},popFramebuffer:function(S,C,P){S===void 0&&(S=!1),C===void 0&&(C=!1),P===void 0&&(P=!0);var A=this.fboStack;A.pop();var R=A[A.length-1];return R||(R=null),this.setFramebuffer(R,S,C,P),R},setProgram:function(S){return S!==this.currentProgram?(this.flush(),this.gl.useProgram(S),this.currentProgram=S,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(S,C,P,A){var R=this.gl,M=R.NEAREST,L=R.NEAREST,F=R.CLAMP_TO_EDGE,I=null;C=S?S.width:C,P=S?S.height:P;var N=u(C,P);return N&&(F=R.REPEAT),A===r.ScaleModes.LINEAR&&this.config.antialias&&(M=N?this.mipmapFilter:R.LINEAR,L=R.LINEAR),!S&&typeof C=="number"&&typeof P=="number"?I=this.createTexture2D(0,M,L,F,F,R.RGBA,null,C,P):I=this.createTexture2D(0,M,L,F,F,R.RGBA,S),I},createTexture2D:function(S,C,P,A,R,M,L,F,I,N,z,W){N=N??!0,z===void 0&&(z=!1),W===void 0&&(W=!1);var $=this.gl,Z=$.createTexture();$.activeTexture($.TEXTURE0);var D=$.getParameter($.TEXTURE_BINDING_2D);return $.bindTexture($.TEXTURE_2D,Z),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,C),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,P),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,R),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,A),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,W),L==null?$.texImage2D($.TEXTURE_2D,S,M,F,I,0,M,$.UNSIGNED_BYTE,null):(z||(F=L.width,I=L.height),$.texImage2D($.TEXTURE_2D,S,M,M,$.UNSIGNED_BYTE,L)),u(F,I)&&$.generateMipmap($.TEXTURE_2D),D&&$.bindTexture($.TEXTURE_2D,D),Z.isAlphaPremultiplied=N,Z.isRenderTexture=!1,Z.width=F,Z.height=I,Z.glIndex=0,Z.glIndexCounter=-1,Z},createFramebuffer:function(S,C,P,A){var R=this.gl,M=R.createFramebuffer(),L=0;if(this.setFramebuffer(M),A){var F=R.createRenderbuffer();R.bindRenderbuffer(R.RENDERBUFFER,F),R.renderbufferStorage(R.RENDERBUFFER,R.DEPTH_STENCIL,S,C),R.framebufferRenderbuffer(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.RENDERBUFFER,F)}if(P.isRenderTexture=!0,P.isAlphaPremultiplied=!1,R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,P,0),L=R.checkFramebufferStatus(R.FRAMEBUFFER),L!==R.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+I[L])}return M.renderTexture=P,this.setFramebuffer(null),this.resetTextures(),M},createProgram:function(S,C){var P=this.gl,A=P.createProgram(),R=P.createShader(P.VERTEX_SHADER),M=P.createShader(P.FRAGMENT_SHADER);if(P.shaderSource(R,S),P.shaderSource(M,C),P.compileShader(R),P.compileShader(M),!P.getShaderParameter(R,P.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+P.getShaderInfoLog(R));if(!P.getShaderParameter(M,P.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+P.getShaderInfoLog(M));if(P.attachShader(A,R),P.attachShader(A,M),P.linkProgram(A),!P.getProgramParameter(A,P.LINK_STATUS))throw new Error(`Link Program failed:
`+P.getProgramInfoLog(A));return P.useProgram(A),A},createVertexBuffer:function(S,C){var P=this.gl,A=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,A),P.bufferData(P.ARRAY_BUFFER,S,C),P.bindBuffer(P.ARRAY_BUFFER,null),A},createIndexBuffer:function(S,C){var P=this.gl,A=P.createBuffer();return P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,A),P.bufferData(P.ELEMENT_ARRAY_BUFFER,S,C),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,null),A},deleteTexture:function(S,C){return C&&this.resetTextures(!0),S&&this.gl.deleteTexture(S),this},deleteFramebuffer:function(S){return S&&(this.gl.deleteFramebuffer(S),e(this.fboStack,S),this.currentFramebuffer===S&&(this.currentFramebuffer=null)),this},deleteProgram:function(S){return S&&this.gl.deleteProgram(S),this},deleteBuffer:function(S){return this.gl.deleteBuffer(S),this},preRenderCamera:function(S){var C=S.x,P=S.y,A=S.width,R=S.height,M=S.backgroundColor;if(S.emit(f.PRE_RENDER,S),this.pipelines.preBatchCamera(S),this.pushScissor(C,P,A,R),S.mask&&(this.currentCameraMask.mask=S.mask,this.currentCameraMask.camera=S._maskCamera,S.mask.preRenderWebGL(this,S,S._maskCamera)),M.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(C,P,A,R,g.getTintFromFloats(M.blueGL,M.greenGL,M.redGL,1),M.alphaGL)}},getCurrentStencilMask:function(){var S=null,C=this.maskStack,P=this.currentCameraMask;return C.length>0?S=C[C.length-1]:P.mask&&P.mask.isStencil&&(S=P),S},postRenderCamera:function(S){var C=S.flashEffect,P=S.fadeEffect;if(C.isRunning||P.isRunning||P.isComplete){var A=this.pipelines.setMulti();C.postRenderWebGL(A,g.getTintFromFloats),P.postRenderWebGL(A,g.getTintFromFloats)}S.dirty=!1,this.popScissor(),S.mask&&(this.currentCameraMask.mask=null,S.mask.postRenderWebGL(this,S._maskCamera)),this.pipelines.postBatchCamera(S),S.emit(f.POST_RENDER,S)},preRender:function(){if(!this.contextLost){var S=this.gl;if(S.bindFramebuffer(S.FRAMEBUFFER,null),this.config.clearBeforeRender){var C=this.config.backgroundColor;S.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT|S.STENCIL_BUFFER_BIT)}S.enable(S.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&S.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(n.PRE_RENDER)}},render:function(S,C,P){if(!this.contextLost){var A=C.length;if(this.emit(n.RENDER,S,P),this.preRenderCamera(P),A===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(P);return}this.currentType="";for(var R=this.currentMask,M=0;M<A;M++){this.finalType=M===A-1;var L=C[M],F=L.mask;R=this.currentMask,R.mask&&R.mask!==F&&R.mask.postRenderWebGL(this,R.camera),F&&R.mask!==F&&F.preRenderWebGL(this,L,P),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var I=L.type;I!==this.currentType&&(this.newType=!0,this.currentType=I),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=C[M+1].type===this.currentType,L.renderWebGL(this,L,P),this.newType=!1}R=this.currentMask,R.mask&&R.mask.postRenderWebGL(this,R.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var S=this.snapshotState;S.callback&&(y(this.canvas,S),S.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(S,C,P){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,S,C,P)},snapshotArea:function(S,C,P,A,R,M,L){var F=this.snapshotState;return F.callback=R,F.type=M,F.encoder=L,F.getPixel=!1,F.x=S,F.y=C,F.width=Math.min(P,this.gl.drawingBufferWidth),F.height=Math.min(A,this.gl.drawingBufferHeight),this},snapshotPixel:function(S,C,P){return this.snapshotArea(S,C,1,1,P),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(S,C,P,A,R,M,L,F,I,N,z){R===void 0&&(R=!1),M===void 0&&(M=0),L===void 0&&(L=0),F===void 0&&(F=C),I===void 0&&(I=P);var W=this.currentFramebuffer;this.snapshotArea(M,L,F,I,A,N,z);var $=this.snapshotState;return $.getPixel=R,$.isFramebuffer=!0,$.bufferWidth=C,$.bufferHeight=P,this.setFramebuffer(S),y(this.canvas,$),this.setFramebuffer(W),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(S,C,P,A){return P===void 0&&(P=!1),A===void 0&&(A=!1),C?this.updateCanvasTexture(S,C,A):this.createCanvasTexture(S,P,A)},createCanvasTexture:function(S,C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);var A=this.gl,R=A.NEAREST,M=A.NEAREST,L=S.width,F=S.height,I=A.CLAMP_TO_EDGE,N=u(L,F);return!C&&N&&(I=A.REPEAT),this.config.antialias&&(R=N?this.mipmapFilter:A.LINEAR,M=A.LINEAR),this.createTexture2D(0,R,M,I,I,A.RGBA,S,L,F,!0,!1,P)},updateCanvasTexture:function(S,C,P){P===void 0&&(P=!1);var A=this.gl,R=S.width,M=S.height;if(R>0&&M>0){A.activeTexture(A.TEXTURE0);var L=A.getParameter(A.TEXTURE_BINDING_2D);A.bindTexture(A.TEXTURE_2D,C),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,P),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,S),C.width=R,C.height=M,L&&A.bindTexture(A.TEXTURE_2D,L)}return C},createVideoTexture:function(S,C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);var A=this.gl,R=A.NEAREST,M=A.NEAREST,L=S.videoWidth,F=S.videoHeight,I=A.CLAMP_TO_EDGE,N=u(L,F);return!C&&N&&(I=A.REPEAT),this.config.antialias&&(R=N?this.mipmapFilter:A.LINEAR,M=A.LINEAR),this.createTexture2D(0,R,M,I,I,A.RGBA,S,L,F,!0,!0,P)},updateVideoTexture:function(S,C,P){P===void 0&&(P=!1);var A=this.gl,R=S.videoWidth,M=S.videoHeight;if(R>0&&M>0){A.activeTexture(A.TEXTURE0);var L=A.getParameter(A.TEXTURE_BINDING_2D);A.bindTexture(A.TEXTURE_2D,C),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,P),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,S),C.width=R,C.height=M,L&&A.bindTexture(A.TEXTURE_2D,L)}return C},setTextureFilter:function(S,C){var P=this.gl,A=[P.LINEAR,P.NEAREST][C];P.activeTexture(P.TEXTURE0);var R=P.getParameter(P.TEXTURE_BINDING_2D);return P.bindTexture(P.TEXTURE_2D,S),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,A),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,A),R&&P.bindTexture(P.TEXTURE_2D,R),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var S=this.gl,C=this.tempTextures,P=0;P<C.length;P++)S.deleteTexture(C[P]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});l.exports=E},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(92),i=t(102),r=t(373),a=t(376),n=t(377),s=t(108),u=t(378),o=t(379),h=t(380),d=t(381),v=new e({initialize:function(m){this.game=m.game,this.renderer=m,this.classes=new i([[f.UTILITY_PIPELINE,d],[f.MULTI_PIPELINE,s],[f.BITMAPMASK_PIPELINE,r],[f.SINGLE_PIPELINE,h],[f.ROPE_PIPELINE,o],[f.LIGHT_PIPELINE,n],[f.POINTLIGHT_PIPELINE,u],[f.GRAPHICS_PIPELINE,a]]),this.postPipelineClasses=new i,this.pipelines=new i,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(c){var m,g,y=this,E=this.game;if(this.classes.each(function(C,P){m=y.add(C,new P({game:E})),C===f.UTILITY_PIPELINE&&(y.UTILITY_PIPELINE=m,y.fullFrame1=m.fullFrame1,y.fullFrame2=m.fullFrame2,y.halfFrame1=m.halfFrame1,y.halfFrame2=m.halfFrame2)}),this.MULTI_PIPELINE=this.get(f.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(f.BITMAPMASK_PIPELINE),c)for(g in c){var S=c[g];m=new S(E),m.isPostFX?this.postPipelineClasses.set(g,S):this.has(g)||(this.classes.set(g,S),this.add(g,m))}},add:function(c,m){if(m.isPostFX){console.warn(c+" is a Post Pipeline. Use `addPostPipeline` instead");return}var g=this.pipelines,y=this.renderer;return g.has(c)?console.warn("Pipeline exists: "+c):(m.name=c,m.manager=this,g.set(c,m)),m.hasBooted||m.boot(),y.width!==0&&y.height!==0&&m.resize(y.width,y.height),m},addPostPipeline:function(c,m){this.postPipelineClasses.has(c)||this.postPipelineClasses.set(c,m)},flush:function(){this.current&&this.current.flush()},has:function(c){var m=this.pipelines;return typeof c=="string"?m.has(c):!!m.contains(c)},get:function(c){var m=this.pipelines;if(typeof c=="string")return m.get(c);if(m.contains(c))return c},getPostPipeline:function(c,m){var g=this.postPipelineClasses,y;if(typeof c=="string"?y=g.get(c):typeof c=="function"?g.contains(c)&&(y=c):typeof c=="object"&&(y=g.get(c.name)),y){var E=new y(this.game);return m&&(E.gameObject=m),E}},remove:function(c,m,g){m===void 0&&(m=!0),g===void 0&&(g=!0),this.pipelines.delete(c),m&&this.classes.delete(c),g&&this.postPipelineClasses.delete(c)},set:function(c,m,g){if(!c.isPostFX)return this.isCurrent(c,g)||(this.flush(),this.current&&this.current.unbind(),this.current=c,c.bind(g)),c.updateProjectionMatrix(),c.onBind(m),c},preBatch:function(c){if(c.hasPostPipeline){this.flush();for(var m=c.postPipelines,g=m.length-1;g>=0;g--){var y=m[g];y.active&&y.preBatch(c)}}},postBatch:function(c){if(c.hasPostPipeline){this.flush();for(var m=c.postPipelines,g=0;g<m.length;g++){var y=m[g];y.active&&y.postBatch(c)}}},preBatchCamera:function(c){if(c.hasPostPipeline){this.flush();for(var m=c.postPipelines,g=m.length-1;g>=0;g--){var y=m[g];y.active&&y.preBatch(c)}}},postBatchCamera:function(c){if(c.hasPostPipeline){this.flush();for(var m=c.postPipelines,g=0;g<m.length;g++){var y=m[g];y.active&&y.postBatch(c)}}},isCurrent:function(c,m){var g=this.renderer,y=this.current;return y&&!m&&(m=y.currentShader),!(y!==c||m.program!==g.currentProgram)},copyFrame:function(c,m,g,y,E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(c,m,g,y,E),this},copyToGame:function(c){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(c),this},drawFrame:function(c,m,g,y){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(c,m,g,y),this},blendFrames:function(c,m,g,y,E){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(c,m,g,y,E),this},blendFramesAdditive:function(c,m,g,y,E){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(c,m,g,y,E),this},clearFrame:function(c,m){return this.UTILITY_PIPELINE.clearFrame(c,m),this},blitFrame:function(c,m,g,y,E,S){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(c,m,g,y,E,S),this},copyFrameRect:function(c,m,g,y,E,S,C,P){return this.UTILITY_PIPELINE.copyFrameRect(c,m,g,y,E,S,C,P),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(c){return this.UTILITY_PIPELINE.bind(c)},rebind:function(c){c===void 0&&this.previous&&(c=this.previous);var m=this.renderer,g=m.gl;g.disable(g.DEPTH_TEST),g.disable(g.CULL_FACE),m.hasActiveStencilMask()?g.clear(g.DEPTH_BUFFER_BIT):(g.disable(g.STENCIL_TEST),g.clear(g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)),g.viewport(0,0,m.width,m.height),m.currentProgram=null,m.setBlendMode(0,!0);var y=this.pipelines.entries;for(var E in y)y[E].glReset=!0;c&&(this.current=c,c.rebind()),m.resetTextures()},clear:function(){var c=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,c.currentProgram=null,c.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(866),r=t(867),a=t(107),n=t(58),s=new e({Extends:n,initialize:function(o){o.fragShader=f(o,"fragShader",i),o.vertShader=f(o,"vertShader",r),o.batchSize=f(o,"batchSize",1),o.vertices=f(o,"vertices",[-1,1,-1,-7,7,1]),o.attributes=f(o,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),n.call(this,o)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(u,o){n.prototype.resize.call(this,u,o),this.set2f("uResolution",u,o)},beginMask:function(u,o,h){var d=this.gl;if(u.bitmapMask&&d){var v=this.renderer;v.flush(),v.pushFramebuffer(u.mainFramebuffer),d.disable(d.STENCIL_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),v.currentCameraMask.mask!==u&&(v.currentMask.mask=u,v.currentMask.camera=h)}},endMask:function(u,o){var h=this.gl,d=this.renderer,v=u.bitmapMask;if(v&&h){d.flush(),d.pushFramebuffer(u.maskFramebuffer),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),d.setBlendMode(0,!0),v.renderWebGL(d,v,o),d.flush(),d.popFramebuffer(),d.popFramebuffer();var c=d.getCurrentStencilMask();c?(h.enable(h.STENCIL_TEST),c.mask.applyStencil(d,c.camera,!0)):d.currentMask.mask=null,d.pipelines.set(this),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,u.maskTexture),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,u.mainTexture),this.set1i("uInvertMaskAlpha",u.invertAlpha),h.drawArrays(this.topology,0,3),d.resetTextures()}}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(107),r=new e({initialize:function(n,s,u,o,h){this.pipeline=n,this.name=s,this.renderer=n.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(u,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(h),this.createUniforms()},createAttributes:function(a){var n=0,s=0,u=[];this.vertexComponentCount=0;for(var o=0;o<a.length;o++){var h=a[o],d=h.name,v=f(h,"size",1),c=f(h,"type",i.FLOAT),m=c.enum,g=c.size,y=!!h.normalized;u.push({name:d,size:v,type:m,normalized:y,offset:s,enabled:!1,location:-1}),g===4?n+=v:n++,s+=v*g}this.vertexSize=s,this.vertexComponentCount=n,this.attributes=u},bind:function(a,n){return a===void 0&&(a=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var n=this.gl,s=this.vertexSize,u=this.attributes,o=this.program,h=0;h<u.length;h++){var d=u[h],v=d.size,c=d.type,m=d.offset,g=d.enabled,y=d.location,E=!!d.normalized;if(a){var S=n.getAttribLocation(o,d.name);S>=0?(n.enableVertexAttribArray(S),n.vertexAttribPointer(S,v,c,E,s,m),d.enabled=!0,d.location=S):S!==-1&&n.disableVertexAttribArray(S)}else g?n.vertexAttribPointer(y,v,c,E,s,m):!g&&y>-1&&(n.disableVertexAttribArray(y),d.location=-1)}return this},createUniforms:function(){var a=this.gl,n=this.program,s=this.uniforms,u,o,h,d=a.getProgramParameter(n,a.ACTIVE_UNIFORMS);for(u=0;u<d;u++){var v=a.getActiveUniform(n,u);if(v){o=v.name,h=a.getUniformLocation(n,o),h!==null&&(s[o]={name:o,location:h,value1:null,value2:null,value3:null,value4:null});var c=o.indexOf("[");c>0&&(o=o.substr(0,c),s.hasOwnProperty(o)||(h=a.getUniformLocation(n,o),h!==null&&(s[o]={name:o,location:h,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var n=this.uniforms[a];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(a,n,s,u){var o=this.uniforms[n];return o?((u||o.value1!==s)&&(o.value1=s,this.renderer.setProgram(this.program),a.call(this.gl,o.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(a,n,s,u,o){var h=this.uniforms[n];return h?((o||h.value1!==s||h.value2!==u)&&(h.value1=s,h.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,h.location,s,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,n,s,u,o,h){var d=this.uniforms[n];return d?((h||d.value1!==s||d.value2!==u||d.value3!==o)&&(d.value1=s,d.value2=u,d.value3=o,this.renderer.setProgram(this.program),a.call(this.gl,d.location,s,u,o),this.pipeline.currentShader=this),this):this},setUniform4:function(a,n,s,u,o,h,d){var v=this.uniforms[n];return v?((d||v.value1!==s||v.value2!==u||v.value3!==o||v.value4!==h)&&(v.value1=s,v.value2=u,v.value3=o,v.value4=h,this.renderer.setProgram(this.program),a.call(this.gl,v.location,s,u,o,h),this.pipeline.currentShader=this),this):this},set1f:function(a,n){return this.setUniform1(this.gl.uniform1f,a,n)},set2f:function(a,n,s){return this.setUniform2(this.gl.uniform2f,a,n,s)},set3f:function(a,n,s,u){return this.setUniform3(this.gl.uniform3f,a,n,s,u)},set4f:function(a,n,s,u,o){return this.setUniform4(this.gl.uniform4f,a,n,s,u,o)},set1fv:function(a,n){return this.setUniform1(this.gl.uniform1fv,a,n,!0)},set2fv:function(a,n){return this.setUniform1(this.gl.uniform2fv,a,n,!0)},set3fv:function(a,n){return this.setUniform1(this.gl.uniform3fv,a,n,!0)},set4fv:function(a,n){return this.setUniform1(this.gl.uniform4fv,a,n,!0)},set1iv:function(a,n){return this.setUniform1(this.gl.uniform1iv,a,n,!0)},set2iv:function(a,n){return this.setUniform1(this.gl.uniform2iv,a,n,!0)},set3iv:function(a,n){return this.setUniform1(this.gl.uniform3iv,a,n,!0)},set4iv:function(a,n){return this.setUniform1(this.gl.uniform4iv,a,n,!0)},set1i:function(a,n){return this.setUniform1(this.gl.uniform1i,a,n)},set2i:function(a,n,s){return this.setUniform2(this.gl.uniform2i,a,n,s)},set3i:function(a,n,s,u){return this.setUniform3(this.gl.uniform3i,a,n,s,u)},set4i:function(a,n,s,u,o){return this.setUniform4(this.gl.uniform4i,a,n,s,u,o)},setMatrix2fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix2fv,a,n,s,!0)},setMatrix3fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix3fv,a,n,s,!0)},setMatrix4fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix4fv,a,n,s,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(59),i=t(2),r=t(875),a=t(876),n=t(25),s=t(107),u=t(58),o=new e({Extends:u,initialize:function(d){d.fragShader=i(d,"fragShader",r),d.vertShader=i(d,"vertShader",a),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),u.call(this,d),this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(h,d,v,c,m,g){this.renderer.pipelines.set(this);var y=this.calcMatrix;g&&g.multiply(m,y);var E=h+v,S=d+c,C=y.getX(h,d),P=y.getY(h,d),A=y.getX(h,S),R=y.getY(h,S),M=y.getX(E,S),L=y.getY(E,S),F=y.getX(E,d),I=y.getY(E,d),N=this.fillTint;this.batchQuad(C,P,A,R,M,L,F,I,N.TL,N.TR,N.BL,N.BR)},batchFillTriangle:function(h,d,v,c,m,g,y,E){this.renderer.pipelines.set(this);var S=this.calcMatrix;E&&E.multiply(y,S);var C=S.getX(h,d),P=S.getY(h,d),A=S.getX(v,c),R=S.getY(v,c),M=S.getX(m,g),L=S.getY(m,g),F=this.fillTint;this.batchTri(C,P,A,R,M,L,F.TL,F.TR,F.BL)},batchStrokeTriangle:function(h,d,v,c,m,g,y,E,S){var C=this.tempTriangle;C[0].x=h,C[0].y=d,C[0].width=y,C[1].x=v,C[1].y=c,C[1].width=y,C[2].x=m,C[2].y=g,C[2].width=y,C[3].x=h,C[3].y=d,C[3].width=y,this.batchStrokePath(C,y,!1,E,S)},batchFillPath:function(h,d,v){this.renderer.pipelines.set(this);var c=this.calcMatrix;v&&v.multiply(d,c);for(var m=h.length,g=this.polygonCache,y,E,S=this.fillTint.TL,C=this.fillTint.TR,P=this.fillTint.BL,A=0;A<m;++A)E=h[A],g.push(E.x,E.y);y=f(g),m=y.length;for(var R=0;R<m;R+=3){var M=y[R+0]*2,L=y[R+1]*2,F=y[R+2]*2,I=g[M+0],N=g[M+1],z=g[L+0],W=g[L+1],$=g[F+0],Z=g[F+1],D=c.getX(I,N),O=c.getY(I,N),B=c.getX(z,W),G=c.getY(z,W),Y=c.getX($,Z),V=c.getY($,Z);this.batchTri(D,O,B,G,Y,V,S,C,P)}g.length=0},batchStrokePath:function(h,d,v,c,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=h.length-1,y=0;y<g;y++){var E=h[y],S=h[y+1];this.batchLine(E.x,E.y,S.x,S.y,E.width/2,S.width/2,d,y,!v&&y===g-1,c,m)}},batchLine:function(h,d,v,c,m,g,y,E,S,C,P){this.renderer.pipelines.set(this);var A=this.calcMatrix;P&&P.multiply(C,A);var R=v-h,M=c-d,L=Math.sqrt(R*R+M*M),F=m*(c-d)/L,I=m*(h-v)/L,N=g*(c-d)/L,z=g*(h-v)/L,W=v-N,$=c-z,Z=h-F,D=d-I,O=v+N,B=c+z,G=h+F,Y=d+I,V=A.getX(W,$),b=A.getY(W,$),H=A.getX(Z,D),j=A.getY(Z,D),q=A.getX(O,B),et=A.getY(O,B),ot=A.getX(G,Y),K=A.getY(G,Y),Q=this.strokeTint,tt=Q.TL,nt=Q.TR,ut=Q.BL,pt=Q.BR;if(this.batchQuad(ot,K,H,j,V,b,q,et,tt,nt,ut,pt),!(y<=2)){var vt=this.prevQuad,at=this.firstQuad;E>0&&vt[4]?this.batchQuad(ot,K,H,j,vt[0],vt[1],vt[2],vt[3],tt,nt,ut,pt):(at[0]=ot,at[1]=K,at[2]=H,at[3]=j,at[4]=1),S&&at[4]?this.batchQuad(V,b,q,et,at[0],at[1],at[2],at[3],tt,nt,ut,pt):(vt[0]=V,vt[1]=b,vt[2]=q,vt[3]=et,vt[4]=1)}},batchVert:function(h,d,v){var c=this.vertexViewF32,m=this.vertexViewU32,g=this.vertexCount*this.currentShader.vertexComponentCount-1;c[++g]=h,c[++g]=d,m[++g]=v,this.vertexCount++},batchQuad:function(h,d,v,c,m,g,y,E,S,C,P,A){var R=!1;return this.shouldFlush(6)&&(this.flush(),R=!0),this.batchVert(h,d,S),this.batchVert(v,c,P),this.batchVert(m,g,A),this.batchVert(h,d,S),this.batchVert(m,g,A),this.batchVert(y,E,C),R},batchTri:function(h,d,v,c,m,g,y,E,S){var C=!1;return this.shouldFlush(3)&&(this.flush(),C=!0),this.batchVert(h,d,y),this.batchVert(v,c,E),this.batchVert(m,g,S),C},destroy:function(){return u.prototype.destroy.call(this),this.polygonCache=null,this}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(877),r=t(108),a=t(3),n=t(58),s=10,u=new a,o=new e({Extends:r,initialize:function(d){s=d.game.renderer.config.maxLights;for(var v=f(d,"fragShader",i),c=[],m=1;m<=s;m++)c.push({name:"lights"+m,fragShader:v.replace("%LIGHT_COUNT%",m.toString())});d.shaders=c,r.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){n.prototype.boot.call(this);var h=this.gl,d=h.createTexture();h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,d),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:d};for(var v=0;v<this.shaders.length;v++)this["lightShader"+(v+1)]=this.shaders[v]},onRender:function(h,d){var v=h.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var c=v.getLights(d),m=c.length;if(m!==0){this.lightsActive=!0,this.setShader(this["lightShader"+m],!0);var g,y=this.renderer,E=y.height,S=d.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),g=0;g<m;g++){var C=c[g].light,P=C.color,A="uLights["+g+"].";S.transformPoint(C.x,C.y,u),this.set2f(A+"position",u.x-d.scrollX*C.scrollFactorX*d.zoom,E-(u.y-d.scrollY*C.scrollFactorY*d.zoom)),this.set3f(A+"color",P.r,P.g,P.b),this.set1f(A+"intensity",C.intensity),this.set1f(A+"radius",C.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(h){var v=-h,c=Math.cos(v),m=Math.sin(v);d[1]=m,d[3]=-m,d[0]=d[4]=c}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=h}},setTexture2D:function(h,d){var v=this.renderer;h===void 0&&(h=v.tempTextures[0]);var c=this.getNormalMap(d);v.isNewNormalMap(h,c)&&(this.flush(),v.setTextureZero(h),v.setNormalMap(c));var m=d?d.rotation:0;return this.setNormalMapRotation(m),this.currentUnit=0,0},setGameObject:function(h,d){d===void 0&&(d=h.frame);var v=this.renderer,c=d.glTexture,m=this.getNormalMap(h);return v.isNewNormalMap()&&(this.flush(),v.setTextureZero(c),v.setNormalMap(m)),this.setNormalMapRotation(h.rotation),this.currentUnit=0,0},getNormalMap:function(h){var d;return h?h.displayTexture?d=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?d=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?d=h.tileset[0].image.dataSource[0]:d=h.tileset.image.dataSource[0]):d=this.defaultNormalMap,d||(d=this.defaultNormalMap),d.glTexture},batchSprite:function(h,d,v){this.lightsActive&&r.prototype.batchSprite.call(this,h,d,v)},batchTexture:function(h,d,v,c,m,g,y,E,S,C,P,A,R,M,L,F,I,N,z,W,$,Z,D,O,B,G,Y,V,b,H,j,q){this.lightsActive&&r.prototype.batchTexture.call(this,h,d,v,c,m,g,y,E,S,C,P,A,R,M,L,F,I,N,z,W,$,Z,D,O,B,G,Y,V,b,H,j,q)},batchTextureFrame:function(h,d,v,c,m,g,y){this.lightsActive&&r.prototype.batchTextureFrame.call(this,h,d,v,c,m,g,y)}});o.LIGHT_COUNT=s,l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(880),r=t(881),a=t(58),n=new e({Extends:a,initialize:function(u){u.vertShader=f(u,"vertShader",r),u.fragShader=f(u,"fragShader",i),u.attributes=f(u,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,u)},onRender:function(s,u){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",u.zoom)},batchPointLight:function(s,u,o,h,d,v,c,m,g,y,E,S){var C=s.color,P=s.intensity,A=s.radius,R=s.attenuation,M=C.r*P,L=C.g*P,F=C.b*P,I=u.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(o,h,E,S,A,R,M,L,F,I),this.batchLightVert(d,v,E,S,A,R,M,L,F,I),this.batchLightVert(c,m,E,S,A,R,M,L,F,I),this.batchLightVert(o,h,E,S,A,R,M,L,F,I),this.batchLightVert(c,m,E,S,A,R,M,L,F,I),this.batchLightVert(g,y,E,S,A,R,M,L,F,I)},batchLightVert:function(s,u,o,h,d,v,c,m,g,y){var E=this.vertexViewF32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++S]=s,E[++S]=u,E[++S]=o,E[++S]=h,E[++S]=d,E[++S]=v,E[++S]=c,E[++S]=m,E[++S]=g,E[++S]=y,this.vertexCount++}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(108),r=new e({Extends:i,initialize:function(n){n.topology=5,n.batchSize=f(n,"batchSize",256),i.call(this,n)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=t(108),r=t(882),a=t(883),n=t(58),s=new e({Extends:i,initialize:function(o){o.fragShader=f(o,"fragShader",r),o.vertShader=f(o,"vertShader",a),o.forceZero=!0,i.call(this,o)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0)}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),f=t(35),i=t(0),r=t(198),a=t(885),n=t(886),s=t(2),u=t(887),o=t(382),h=t(58),d=new i({Extends:h,initialize:function(c){c.renderTarget=s(c,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),c.vertShader=s(c,"vertShader",o),c.shaders=s(c,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:u},{name:"ColorMatrix",fragShader:a}]),c.attributes=s(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),c.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.batchSize=1,h.call(this,c),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var v=this.shaders,c=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=c[0],this.fullFrame2=c[1],this.halfFrame1=c[2],this.halfFrame2=c[3]},copyFrame:function(v,c,m,g,y){m===void 0&&(m=1),g===void 0&&(g=!0),y===void 0&&(y=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,v.texture),c?(E.viewport(0,0,c.width,c.height),E.bindFramebuffer(E.FRAMEBUFFER,c.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,c.texture,0)):E.viewport(0,0,v.width,v.height),g&&(y?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(v,c,m,g,y,E){m===void 0&&(m=1),g===void 0&&(g=!0),y===void 0&&(y=!0),E===void 0&&(E=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),v.height>c.height)S.viewport(0,0,v.width,v.height),this.setTargetUVs(v,c);else{var C=c.height-v.height;S.viewport(0,C,v.width,v.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,c.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,c.texture,0),g&&(y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),E){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(f.ERASE)}S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),E&&this.renderer.setBlendMode(P),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,c,m,g,y,E,S,C){S===void 0&&(S=!0),C===void 0&&(C=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture,0),S&&(C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,m,g,y,E),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(v){var c=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,v.texture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(v,c,m,g){m===void 0&&(m=!0),g===void 0&&(g=this.colorMatrix);var y=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture),c?(y.viewport(0,0,c.width,c.height),y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture,0)):y.viewport(0,0,v.width,v.height),m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFrames:function(v,c,m,g,y,E){g===void 0&&(g=1),y===void 0&&(y=!0),E===void 0&&(E=this.linearShader);var S=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,c.texture),m?(S.bindFramebuffer(S.FRAMEBUFFER,m.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,m.texture,0),S.viewport(0,0,m.width,m.height)):S.viewport(0,0,v.width,v.height),y?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFramesAdditive:function(v,c,m,g,y){this.blendFrames(v,c,m,g,y,this.addShader)},clearFrame:function(v,c){c===void 0&&(c=!0);var m=this.gl;m.viewport(0,0,v.width,v.height),m.bindFramebuffer(m.FRAMEBUFFER,v.framebuffer),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,g)},setUVs:function(v,c,m,g,y,E,S,C){var P=this.vertexViewF32;P[2]=v,P[3]=c,P[6]=m,P[7]=g,P[10]=y,P[11]=E,P[14]=v,P[15]=c,P[18]=y,P[19]=E,P[22]=S,P[23]=C},setTargetUVs:function(v,c){var m=c.height/v.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});l.exports=d},function(l,x){l.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=t(38),i=t(2),r=function(a,n){var s=a.getContext("experimental-webgl"),u=i(n,"callback"),o=i(n,"type","image/png"),h=i(n,"encoder",.92),d=i(n,"x",0),v=i(n,"y",0),c=i(n,"getPixel",!1),m=i(n,"isFramebuffer",!1),g=m?i(n,"bufferWidth",1):s.drawingBufferWidth,y=m?i(n,"bufferHeight",1):s.drawingBufferHeight;if(c){var E=new Uint8Array(4),S=m?v:y-v;s.readPixels(d,S,1,1,s.RGBA,s.UNSIGNED_BYTE,E),u.call(null,new f(E[0],E[1],E[2],E[3]/255))}else{var C=i(n,"width",g),P=i(n,"height",y),A=C*P*4,R=new Uint8Array(A);s.readPixels(d,y-v-P,C,P,s.RGBA,s.UNSIGNED_BYTE,R);for(var M=e.createWebGL(this,C,P),L=M.getContext("2d"),F=L.getImageData(0,0,C,P),I=F.data,N=0;N<P;N++)for(var z=0;z<C;z++){var W=((P-N-1)*C+z)*4,$=(N*C+z)*4;I[$+0]=R[W+0],I[$+1]=R[W+1],I[$+2]=R[W+2],I[$+3]=R[W+3]}L.putImageData(F,0,0);var Z=new Image;Z.onerror=function(){u.call(null),e.remove(M)},Z.onload=function(){u.call(null,Z),e.remove(M)},Z.src=M.toDataURL(o,h)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),f=function(i){var r=i.config;if(!r.hideBanner){var a="WebGL";r.renderType===e.CANVAS?a="Canvas":r.renderType===e.HEADLESS&&(a="Headless");var n=r.audio,s=i.device.audio,u;if(s.webAudio&&!n.disableWebAudio?u="Web Audio":n.noAudio||!s.webAudio&&!s.audioData?u="No Audio":u="HTML5 Audio",i.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var o="",h=[o];if(Array.isArray(r.bannerBackgroundColor)){var d;r.bannerBackgroundColor.forEach(function(c){o=o.concat("%c "),h.push("background: "+c),d=c}),h[h.length-1]="color: "+r.bannerTextColor+"; background: "+d}else o=o.concat("%c "),h.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);h.push("background: transparent"),r.gameTitle&&(o=o.concat(r.gameTitle),r.gameVersion&&(o=o.concat(" v"+r.gameVersion)),r.hidePhaser||(o=o.concat(" / ")));var v="";r.hidePhaser||(o=o.concat("Phaser v"+e.VERSION+v+" ("+a+" | "+u+")")),o=o.concat(" %c "+r.gameURL),h[0]=o,console.log.apply(console,h)}}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(6),i=t(1),r=t(386),a=new e({initialize:function(s,u){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=f(u,"min",5),this.targetFps=f(u,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=i,this.forceSetTimeOut=f(u,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=f(u,"deltaHistory",10),this.panicMax=f(u,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=f(u,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var n=window.performance.now();this.now=n;var s=n-this.lastTime;s<0&&(s=0),this.rawDelta=s;var u=this.deltaIndex,o=this.deltaHistory,h=this.deltaSmoothingMax,d=s,v=s;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,d=Math.min(d,this._target)),d>this._min&&(d=o[u],d=Math.min(d,this._min)),o[u]=d,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),v=0;for(var c=0;c<h;c++)v+=o[c];v/=h}this.delta=v,this.time+=this.rawDelta,n>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0),this.framesThisSecond++;var m=v/this._target;this.callback(n,v,m),this.lastTime=n,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){this.running||(n&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=i,this.raf=null,this.game=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(1),i=new e({initialize:function(){this.isRunning=!1,this.callback=f,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var a=this;this.step=function n(){var s=window.performance.now();a.lastTime=a.tick,a.tick=s,a.callback(s),a.timeOutID=window.requestAnimationFrame(n)},this.stepTimeout=function n(){var s=Date.now(),u=Math.min(Math.max(a.target*2+a.tick-s,0),a.target);a.lastTime=a.tick,a.tick=s,a.callback(s),a.timeOutID=window.setTimeout(n,u)}},start:function(r,a,n){this.isRunning||(this.callback=r,this.isSetTimeOut=a,this.target=n,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=f}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),f=function(i){var r,a=i.events;if(document.hidden!==void 0)r="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(u){document[u+"Hidden"]!==void 0&&(document.hidden=function(){return document[u+"Hidden"]},r=u+"visibilitychange")})}var s=function(u){document.hidden||u.type==="pause"?a.emit(e.HIDDEN):a.emit(e.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){a.emit(e.BLUR)},window.onfocus=function(){a.emit(e.FOCUS)},window.focus&&i.config.autoFocus&&window.focus()};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),f=t(31),i=t(6),r=function(a){var n=i(a,"data",[]),s=i(a,"canvas",null),u=i(a,"palette",e),o=i(a,"pixelWidth",1),h=i(a,"pixelHeight",o),d=i(a,"resizeCanvas",!0),v=i(a,"clearCanvas",!0),c=i(a,"preRender",null),m=i(a,"postRender",null),g=Math.floor(Math.abs(n[0].length*o)),y=Math.floor(Math.abs(n.length*h));s||(s=f.create2D(this,g,y),d=!1,v=!1),d&&(s.width=g,s.height=y);var E=s.getContext("2d");v&&E.clearRect(0,0,g,y),c&&c(s,E);for(var S=0;S<n.length;S++)for(var C=n[S],P=0;P<C.length;P++){var A=C[P];A!=="."&&A!==" "&&(E.fillStyle=u[A],E.fillRect(P*o,S*h,o,h))}return m&&m(s,E),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(358),i=t(94),r=t(3),a=new e({Extends:i,initialize:function(s,u,o,h){i.call(this,"CubicBezierCurve"),Array.isArray(s)&&(h=new r(s[6],s[7]),o=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=o,this.p3=h},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new r);var u=this.p0,o=this.p1,h=this.p2,d=this.p3;return s.set(f(n,u.x,o.x,h.x,d.x),f(n,u.y,o.y,h.y,d.y))},draw:function(n,s){s===void 0&&(s=32);var u=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var o=1;o<u.length;o++)n.lineTo(u[o].x,u[o].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(n){var s=n.points,u=new r(s[0],s[1]),o=new r(s[2],s[3]),h=new r(s[4],s[5]),d=new r(s[6],s[7]);return new a(u,o,h,d)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(94),i=t(36),r=t(6),a=t(196),n=t(3),s=new e({Extends:f,initialize:function(o,h,d,v,c,m,g,y){if(typeof o=="object"){var E=o;o=r(E,"x",0),h=r(E,"y",0),d=r(E,"xRadius",0),v=r(E,"yRadius",d),c=r(E,"startAngle",0),m=r(E,"endAngle",360),g=r(E,"clockwise",!1),y=r(E,"rotation",0)}else v===void 0&&(v=d),c===void 0&&(c=0),m===void 0&&(m=360),g===void 0&&(g=!1),y===void 0&&(y=0);f.call(this,"EllipseCurve"),this.p0=new n(o,h),this._xRadius=d,this._yRadius=v,this._startAngle=i(c),this._endAngle=i(m),this._clockwise=g,this._rotation=i(y)},getStartPoint:function(u){return u===void 0&&(u=new n),this.getPoint(0,u)},getResolution:function(u){return u*2},getPoint:function(u,o){o===void 0&&(o=new n);for(var h=Math.PI*2,d=this._endAngle-this._startAngle,v=Math.abs(d)<Number.EPSILON;d<0;)d+=h;for(;d>h;)d-=h;d<Number.EPSILON&&(v?d=0:d=h),this._clockwise&&!v&&(d===h?d=-h:d=d-h);var c=this._startAngle+u*d,m=this.p0.x+this._xRadius*Math.cos(c),g=this.p0.y+this._yRadius*Math.sin(c);if(this._rotation!==0){var y=Math.cos(this._rotation),E=Math.sin(this._rotation),S=m-this.p0.x,C=g-this.p0.y;m=S*y-C*E+this.p0.x,g=S*E+C*y+this.p0.y}return o.set(m,g)},setXRadius:function(u){return this.xRadius=u,this},setYRadius:function(u){return this.yRadius=u,this},setWidth:function(u){return this.xRadius=u/2,this},setHeight:function(u){return this.yRadius=u/2,this},setStartAngle:function(u){return this.startAngle=u,this},setEndAngle:function(u){return this.endAngle=u,this},setClockwise:function(u){return this.clockwise=u,this},setRotation:function(u){return this.rotation=u,this},x:{get:function(){return this.p0.x},set:function(u){this.p0.x=u}},y:{get:function(){return this.p0.y},set:function(u){this.p0.y=u}},xRadius:{get:function(){return this._xRadius},set:function(u){this._xRadius=u}},yRadius:{get:function(){return this._yRadius},set:function(u){this._yRadius=u}},startAngle:{get:function(){return a(this._startAngle)},set:function(u){this._startAngle=i(u)}},endAngle:{get:function(){return a(this._endAngle)},set:function(u){this._endAngle=i(u)}},clockwise:{get:function(){return this._clockwise},set:function(u){this._clockwise=u}},angle:{get:function(){return a(this._rotation)},set:function(u){this._rotation=i(u)}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});s.fromJSON=function(u){return new s(u)},l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(94),i=t(199),r=t(10),a=t(3),n=new e({Extends:f,initialize:function(u,o){f.call(this,"LineCurve"),Array.isArray(u)&&(o=new a(u[2],u[3]),u=new a(u[0],u[1])),this.p0=u,this.p1=o,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),i([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new a),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,u){return u===void 0&&(u=new a),s===1?u.copy(this.p1):(u.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),u)},getPointAt:function(s,u){return this.getPoint(s,u)},getTangent:function(s,u){return u===void 0&&(u=new a),u.copy(this.p1).subtract(this.p0).normalize(),u},getUtoTmapping:function(s,u,o){var h;if(u){var d=this.getLengths(o),v=d[d.length-1],c=Math.min(u,v);h=c/v}else h=s;return h},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(s){var u=s.points,o=new a(u[0],u[1]),h=new a(u[2],u[3]);return new n(o,h)},l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(3),i=new e({initialize:function(a,n){this.active=!1,this.p0=new f(a,n)},getPoint:function(r,a){return a===void 0&&(a=new f),a.copy(this.p0)},getPointAt:function(r,a){return this.getPoint(r,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(94),i=t(359),r=t(3),a=new e({Extends:f,initialize:function(s,u,o){f.call(this,"QuadraticBezier"),Array.isArray(s)&&(o=new r(s[4],s[5]),u=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=u,this.p2=o},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new r);var u=this.p0,o=this.p1,h=this.p2;return s.set(i(n,u.x,o.x,h.x),i(n,u.y,o.y,h.y))},draw:function(n,s){s===void 0&&(s=32);var u=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var o=1;o<u.length;o++)n.lineTo(u[o].x,u[o].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(n){var s=n.points,u=new r(s[0],s[1]),o=new r(s[2],s[3]),h=new r(s[4],s[5]);return new a(u,o,h)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),f=t(0),i=t(94),r=t(3),a=new f({Extends:i,initialize:function(s){s===void 0&&(s=[]),i.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(n){for(var s=0;s<n.length;s++){var u=new r;typeof n[s]=="number"?(u.x=n[s],u.y=n[s+1],s++):Array.isArray(n[s])?(u.x=n[s][0],u.y=n[s][1]):(u.x=n[s].x,u.y=n[s].y),this.points.push(u)}return this},addPoint:function(n,s){var u=new r(n,s);return this.points.push(u),u},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,s){s===void 0&&(s=new r);var u=this.points,o=(u.length-1)*n,h=Math.floor(o),d=o-h,v=u[h===0?h:h-1],c=u[h],m=u[h>u.length-2?u.length-1:h+1],g=u[h>u.length-3?u.length-1:h+2];return s.set(e(d,v.x,c.x,m.x,g.x),e(d,v.y,c.y,m.y,g.y))},toJSON:function(){for(var n=[],s=0;s<this.points.length;s++)n.push(this.points[s].x),n.push(this.points[s].y);return{type:this.type,points:n}}});a.fromJSON=function(n){return new a(n.points)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=a,this.vertexSrc=n,this.uniforms=s}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=e.toString(16);return f.length===1?"0"+f:f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return i<0&&(i+=1),i>1&&(i-=1),i<.16666666666666666?e+(f-e)*6*i:i<.5?f:i<.6666666666666666?e+(f-e)*(.6666666666666666-i)*6:e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),f=function(i){if(document.readyState==="complete"||document.readyState==="interactive"){i();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),i()};document.body?e.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var f=Math.abs(window.orientation),i={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),i.w=f===90?r.offsetHeight:window.innerWidth,i.h=f===90?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,Math.abs(window.orientation)!==90?i.h:i.w};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),f=function(i,r){var a=window.screen,n=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return r>i?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f;return e!==""&&(typeof e=="string"?f=document.getElementById(e):e&&e.nodeType===1&&(f=e)),f||(f=document.body),f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f="";try{if(window.DOMParser){var i=new DOMParser;f=i.parseFromString(e,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.loadXML(e)}catch{f=null}return!f||!f.documentElement||f.getElementsByTagName("parsererror").length?null:f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(203),i=t(9),r=t(51),a=t(22),n=t(410),s=t(411),u=t(412),o=t(413),h=t(25),d=t(177),v=new e({initialize:function(m,g){this.game=m,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new i,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new n(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new o(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var y=0;y<=this.pointersTotal;y++){var E=new u(this,y);E.smoothFactor=g.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(r.MANAGER_BOOT),this.game.events.on(a.PRE_RENDER,this.preRender,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(c){this.isOver=!0,this.events.emit(r.GAME_OVER,c)},setCanvasOut:function(c){this.isOver=!1,this.events.emit(r.GAME_OUT,c)},preRender:function(){var c=this.game.loop.now,m=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=c,this.events.emit(r.MANAGER_UPDATE);for(var y=0;y<g.length;y++){var E=g[y];if(E.sys.input&&E.sys.input.updatePoll(c,m)&&this.globalTopOnly)return}},setDefaultCursor:function(c){this.defaultCursor=c,this.canvas.style.cursor!==c&&(this.canvas.style.cursor=c)},setCursor:function(c){c.cursor&&(this.canvas.style.cursor=c.cursor)},resetCursor:function(c){c.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(c){c===void 0&&(c=1);var m=[];this.pointersTotal+c>10&&(c=10-this.pointersTotal);for(var g=0;g<c;g++){var y=this.pointers.length,E=new u(this,y);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,m.push(E)}return m},updateInputPlugins:function(c,m){var g=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var y=0;y<g.length;y++){var E=g[y];if(E.sys.input){var S=E.sys.input.update(c,m);if(S&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(c){for(var m=this.pointers,g=[],y=0;y<c.changedTouches.length;y++)for(var E=c.changedTouches[y],S=1;S<this.pointersTotal;S++){var C=m[S];if(!C.active){C.touchstart(E,c),this.activePointer=C,g.push(C);break}}this.updateInputPlugins(f.TOUCH_START,g)},onTouchMove:function(c){for(var m=this.pointers,g=[],y=0;y<c.changedTouches.length;y++)for(var E=c.changedTouches[y],S=1;S<this.pointersTotal;S++){var C=m[S];if(C.active&&C.identifier===E.identifier){C.touchmove(E,c),this.activePointer=C,g.push(C);break}}this.updateInputPlugins(f.TOUCH_MOVE,g)},onTouchEnd:function(c){for(var m=this.pointers,g=[],y=0;y<c.changedTouches.length;y++)for(var E=c.changedTouches[y],S=1;S<this.pointersTotal;S++){var C=m[S];if(C.active&&C.identifier===E.identifier){C.touchend(E,c),g.push(C);break}}this.updateInputPlugins(f.TOUCH_END,g)},onTouchCancel:function(c){for(var m=this.pointers,g=[],y=0;y<c.changedTouches.length;y++)for(var E=c.changedTouches[y],S=1;S<this.pointersTotal;S++){var C=m[S];if(C.active&&C.identifier===E.identifier){C.touchcancel(E,c),g.push(C);break}}this.updateInputPlugins(f.TOUCH_CANCEL,g)},onMouseDown:function(c){var m=this.mousePointer;m.down(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(f.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(c){var m=this.mousePointer;m.move(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(f.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(c){var m=this.mousePointer;m.up(c),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(f.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(c){var m=this.mousePointer;m.wheel(c),this.activePointer=m,this.updateInputPlugins(f.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(c){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(r.POINTERLOCK_CHANGE,c,m)},inputCandidate:function(c,m){var g=c.input;if(!g||!g.enabled||!g.alwaysEnabled&&!c.willRender(m))return!1;var y=!0,E=c.parentContainer;if(E)do{if(!E.willRender(m)){y=!1;break}E=E.parentContainer}while(E);return y},hitTest:function(c,m,g,y){y===void 0&&(y=this._tempHitTest);var E=this._tempPoint,S=g.scrollX,C=g.scrollY;y.length=0;var P=c.x,A=c.y;g.getWorldPoint(P,A,E),c.worldX=E.x,c.worldY=E.y;for(var R={x:0,y:0},M=this._tempMatrix,L=this._tempMatrix2,F=0;F<m.length;F++){var I=m[F];if(this.inputCandidate(I,g)){var N=E.x+S*I.scrollFactorX-S,z=E.y+C*I.scrollFactorY-C;I.parentContainer?(I.getWorldTransformMatrix(M,L),M.applyInverse(N,z,R)):d(N,z,I.x,I.y,I.rotation,I.scaleX,I.scaleY,R),this.pointWithinHitArea(I,R.x,R.y)&&y.push(I)}}return y},pointWithinHitArea:function(c,m,g){m+=c.displayOriginX,g+=c.displayOriginY;var y=c.input;return y&&y.hitAreaCallback(y.hitArea,m,g,c)?(y.localX=m,y.localY=g,!0):!1},pointWithinInteractiveObject:function(c,m,g){return c.hitArea?(m+=c.gameObject.displayOriginX,g+=c.gameObject.displayOriginY,c.localX=m,c.localY=g,c.hitAreaCallback(c.hitArea,m,g,c)):!1},transformPointer:function(c,m,g,y){var E=c.position,S=c.prevPosition;S.x=E.x,S.y=E.y;var C=this.scaleManager.transformX(m),P=this.scaleManager.transformY(g),A=c.smoothFactor;!y||A===0?(E.x=C,E.y=P):(E.x=C*A+S.x*(1-A),E.y=P*A+S.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var c=0;c<this.pointers.length;c++)this.pointers[c].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),f=t(0),i=t(22),r=t(51),a=t(143),n=t(1),s=new f({initialize:function(o){this.manager=o,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,o.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputKeyboard,this.target=u.inputKeyboardEventTarget,this.addCapture(u.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(i.POST_STEP,this.postUpdate,this)},startListeners:function(){var u=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(h),u.manager.events.emit(r.MANAGER_PROCESS);var d=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;u.preventDefault&&!d&&u.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!u.enabled||!u.manager)){u.queue.push(h),u.manager.events.emit(r.MANAGER_PROCESS);var d=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;u.preventDefault&&!d&&u.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var o=this.target;o&&(o.addEventListener("keydown",this.onKeyDown,!1),o.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var u=this.target;u.removeEventListener("keydown",this.onKeyDown,!1),u.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var o=this.captures,h=0;h<u.length;h++){var d=u[h];typeof d=="string"&&(d=a[d.trim().toUpperCase()]),o.indexOf(d)===-1&&o.push(d)}this.preventDefault=o.length>0},removeCapture:function(u){typeof u=="string"&&(u=u.split(",")),Array.isArray(u)||(u=[u]);for(var o=this.captures,h=0;h<u.length;h++){var d=u[h];typeof d=="string"&&(d=a[d.toUpperCase()]),e(o,d)}this.preventDefault=o.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(i.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(191),i=t(51),r=t(1),a=new e({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(f.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){f.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var s=this,u=this.manager,o=u.canvas,h=window&&window.focus&&u.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseMove(v),s.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){h&&window.focus(),!v.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseDown(v),s.preventDefaultDown&&v.target===o&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&v.target!==o&&u.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&(u.onMouseUp(v),s.preventDefaultUp&&v.target===o&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&v.target!==o&&u.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&u.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&s.enabled&&u&&u.enabled&&u.onMouseWheel(v),s.preventDefaultWheel&&v.target===o&&v.preventDefault()};var d={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,d),n.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,d),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}f.pointerLock&&(this.pointerLockChange=function(v){var c=s.target;s.locked=document.pointerLockElement===c||document.mozPointerLockElement===c||document.webkitPointerLockElement===c,u.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),f.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),f=t(0),i=t(50),r=t(124),a=t(360),n=t(3),s=t(105),u=new f({initialize:function(h,d){this.manager=h,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(o){var h=o.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(o,h){return o.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var o=this.position.x,h=this.position.y,d=this.midPoint.x,v=this.midPoint.y;if(!(o===d&&h===v)){var c=a(this.motionFactor,d,o),m=a(this.motionFactor,v,h);r(c,o,.1)&&(c=o),r(m,h,.1)&&(m=h),this.midPoint.set(c,m);var g=o-c,y=h-m;this.velocity.set(g,y),this.angle=e(c,m,o,h),this.distance=Math.sqrt(g*g+y*y)}},up:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=o.timeStamp,this.wasTouch=!1)},down:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&o.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=o.timeStamp),this.wasTouch=!1},move:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.locked&&(this.movementX=o.movementX||o.mozMovementX||o.webkitMovementX||0,this.movementY=o.movementY||o.mozMovementY||o.webkitMovementY||0),this.moveTime=o.timeStamp,this.wasTouch=!1},wheel:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.deltaX=o.deltaX,this.deltaY=o.deltaY,this.deltaZ=o.deltaZ,this.wasTouch=!1},touchstart:function(o,h){o.pointerId&&(this.pointerId=o.pointerId),this.identifier=o.identifier,this.target=o.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(o,h){this.event=h,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(o,h){this.buttons=0,this.event=h,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(o,h){this.buttons=0,this.event=h,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?i(this.downX,this.downY,this.x,this.y):i(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(o,h){o===void 0&&(o=10),h===void 0&&(h=[]);for(var d=this.prevPosition.x,v=this.prevPosition.y,c=this.position.x,m=this.position.y,g=0;g<o;g++){var y=1/o*g;h[g]={x:a(y,d,c),y:a(y,v,m)}}return h},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},time:{get:function(){return this.event?this.event.timeStamp:0}}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(51),i=t(1),r=new e({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=i,this.onTouchStartWindow=i,this.onTouchMove=i,this.onTouchEnd=i,this.onTouchEndWindow=i,this.onTouchCancel=i,this.onTouchCancelWindow=i,this.onTouchOver=i,this.onTouchOut=i,n.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this,n=this.manager.canvas,s=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(d){s&&window.focus(),!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchStart(d),a.capture&&d.cancelable&&d.target===n&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&d.target!==n&&a.manager.onTouchStart(d)},this.onTouchMove=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchMove(d),a.capture&&d.cancelable&&d.preventDefault())},this.onTouchEnd=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchEnd(d),a.capture&&d.cancelable&&d.target===n&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&d.target!==n&&a.manager.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchCancel(d),a.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.onTouchCancel(d)},this.onTouchOver=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOver(d)},this.onTouchOut=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOut(d)};var u=this.target;if(u){var o={passive:!0},h={passive:!1};u.addEventListener("touchstart",this.onTouchStart,this.capture?h:o),u.addEventListener("touchmove",this.onTouchMove,this.capture?h:o),u.addEventListener("touchend",this.onTouchEnd,this.capture?h:o),u.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:o),u.addEventListener("touchover",this.onTouchOver,this.capture?h:o),u.addEventListener("touchout",this.onTouchOut,this.capture?h:o),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),a.removeEventListener("touchover",this.onTouchOver),a.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(22),i=t(9),r=t(8),a=t(16),n=t(5),s=t(2),u=t(24),o=t(93),h=new e({Extends:i,initialize:function(v){i.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(f.BOOT,this.boot,this)},boot:function(){var d,v,c,m,g,y,E,S=this.game.config,C=S.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),d=0;d<C.length;d++)v=C[d],c=s(v,"key",null),m=s(v,"plugin",null),g=s(v,"start",!1),y=s(v,"mapping",null),E=s(v,"data",null),c&&(m?this.install(c,m,g,y,E):console.warn("Missing `plugin` for key: "+c));for(C=S.installScenePlugins,C=C.concat(this._pendingScene),d=0;d<C.length;d++)v=C[d],c=s(v,"key",null),m=s(v,"plugin",null),y=s(v,"mapping",null),c&&(m?this.installScenePlugin(c,m,y):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(f.DESTROY,this.destroy,this)},addToScene:function(d,v,c){var m,g,y,E=this.game,S=d.scene,C=d.settings.map,P=d.settings.isBooted;for(m=0;m<v.length;m++)g=v[m],E[g]?(d[g]=E[g],C.hasOwnProperty(g)&&(S[C[g]]=d[g])):g==="game"&&C.hasOwnProperty(g)&&(S[C[g]]=E);for(var A=0;A<c.length;A++)for(y=c[A],m=0;m<y.length;m++)if(g=y[m],!!u.hasCore(g)){var R=u.getCore(g),M=R.mapping,L=new R.plugin(S,this,M);d[M]=L,R.custom?S[M]=L:C.hasOwnProperty(M)&&(S[C[M]]=L),P&&L.boot()}for(y=this.plugins,m=0;m<y.length;m++){var F=y[m];F.mapping&&(S[F.mapping]=F.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,v,c,m,g){if(g===void 0&&(g=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(!u.hasCore(d))u.register(d,v,c,!0),this.scenePlugins.push(d);else if(!g&&u.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(m){var y=new v(m,this,d);m.sys[d]=y,c&&c!==""&&(m[c]=y),y.boot()}},install:function(d,v,c,m,g){if(c===void 0&&(c=!1),m===void 0&&(m=null),g===void 0&&(g=null),typeof v!="function")return console.warn("Invalid Plugin: "+d),null;if(u.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(m!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:v,start:c,mapping:m,data:g});else if(u.registerCustom(d,v,m,g),c)return this.start(d);return null},getIndex:function(d){for(var v=this.plugins,c=0;c<v.length;c++){var m=v[c];if(m.key===d)return c}return-1},getEntry:function(d){var v=this.getIndex(d);if(v!==-1)return this.plugins[v]},isActive:function(d){var v=this.getEntry(d);return v&&v.active},start:function(d,v){v===void 0&&(v=d);var c=this.getEntry(v);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(d,v)),c?c.plugin:null},createEntry:function(d,v){var c=u.getCustom(d);if(c){var m=new c.plugin(this);c={key:v,plugin:m,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),m.init(c.data),m.start()}return c},stop:function(d){var v=this.getEntry(d);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(d,v){v===void 0&&(v=!0);var c=this.getEntry(d);if(c)return c.plugin;var m=this.getClass(d);return m&&v?(c=this.createEntry(d,d),c?c.plugin:null):m||null},getClass:function(d){return u.getCustomClass(d)},removeGlobalPlugin:function(d){var v=this.getEntry(d);v&&o(this.plugins,v),u.removeCustom(d)},removeScenePlugin:function(d){o(this.scenePlugins,d),u.remove(d)},registerGameObject:function(d,v,c){return v&&n.register(d,v),c&&a.register(d,c),this},removeGameObject:function(d,v,c){return v===void 0&&(v=!0),c===void 0&&(c=!0),v&&n.remove(d),c&&a.remove(d),this},registerFileType:function(d,v,c){r.register(d,v),c&&c.sys.load&&(c.sys.load[d]=v)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),f=t(0),i=t(9),r=t(104),a=t(22),n=t(401),s=t(407),u=t(402),o=t(1),h=t(10),d=t(416),v=t(76),c=t(3),m=new f({Extends:i,initialize:function(y){i.call(this),this.game=y,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new c(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:o,windowResize:o,fullScreenChange:o,fullScreenError:o}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(a.PRE_STEP,this.step,this),g.events.once(a.READY,this.refresh,this),g.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var y=g.width,E=g.height,S=g.scaleMode,C=g.zoom,P=g.autoRound;if(typeof y=="string"){var A=this.parentSize.width;A===0&&(A=window.innerWidth);var R=parseInt(y,10)/100;y=Math.floor(A*R)}if(typeof E=="string"){var M=this.parentSize.height;M===0&&(M=window.innerHeight);var L=parseInt(E,10)/100;E=Math.floor(M*L)}this.scaleMode=S,this.autoRound=P,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,P&&(y=Math.floor(y),E=Math.floor(E)),this.gameSize.setSize(y,E),C===e.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,E),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*C,g.minHeight*C),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*C,g.maxHeight*C),this.displaySize.setSize(y,E),this.orientation=u(y,E)},getParent:function(g){var y=g.parent;if(y!==null){if(this.parent=s(y),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==e.SCALE_MODE.NONE){var E=this.parent.getBoundingClientRect();(this.parentIsWindow||E.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",E=this.parent.getBoundingClientRect(),!this.parentIsWindow&&E.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=n(!0));var E=y.width,S=y.height;return g.width!==E||g.height!==S?(g.setSize(E,S),!0):!1},lockOrientation:function(g){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,g):!1},setParentSize:function(g,y){return this.parentSize.setSize(g,y),this.refresh()},setGameSize:function(g,y){var E=this.autoRound;E&&(g=Math.floor(g),y=Math.floor(y));var S=this.width,C=this.height;return this.gameSize.resize(g,y),this.baseSize.resize(g,y),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,C)},resize:function(g,y){var E=this.zoom,S=this.autoRound;S&&(g=Math.floor(g),y=Math.floor(y));var C=this.width,P=this.height;this.gameSize.resize(g,y),this.baseSize.resize(g,y),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*E,y*E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var A=this.canvas.style,R=g*E,M=y*E;return S&&(R=Math.floor(R),M=Math.floor(M)),(R!==g||M!==y)&&(A.width=R+"px",A.height=M+"px"),this.refresh(C,P)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(g,y){g===void 0&&(g=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var E=this.game.domContainer;if(E){this.baseSize.setCSS(E);var S=this.canvas.style,C=E.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=S.marginLeft,C.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=u(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(r.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,y=this.gameSize.width,E=this.gameSize.height,S,C,P=this.zoom,A=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(y*P,E*P),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),this._resetZoom&&(g.width=S+"px",g.height=C+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),g.width=S+"px",g.height=C+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=v(this.parentSize.width,this.gameSize.width,0,!0),y=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,y),1)},updateCenter:function(){var g=this.autoCenter;if(g!==e.CENTER.NO_CENTER){var y=this.canvas,E=y.style,S=y.getBoundingClientRect(),C=S.width,P=S.height,A=Math.floor((this.parentSize.width-C)/2),R=Math.floor((this.parentSize.height-P)/2);g===e.CENTER.CENTER_HORIZONTALLY?R=0:g===e.CENTER.CENTER_VERTICALLY&&(A=0),E.marginLeft=A+"px",E.marginTop=R+"px"}},updateBounds:function(){var g=this.canvasBounds,y=this.canvas.getBoundingClientRect();g.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=y.width,g.height=y.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var E=this.getFullscreenTarget();y.keyboard?E[y.request](Element.ALLOW_KEYBOARD_INPUT):E[y.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var y=g.parentNode;y.insertBefore(this.canvas,g),y.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,y=this.listeners;if(y.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0},y.windowResize=function(){g.updateBounds(),g.dirty=!0},window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(S){return g.onFullScreenChange(S)},y.fullScreenError=function(S){return g.onFullScreenError(S)};var E=["webkit","moz",""];E.forEach(function(S){document.addEventListener(S+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(g,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.listeners;window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(E){document.removeEventListener(E+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(E+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(76),r=t(3),a=new f({initialize:function(s,u,o,h){s===void 0&&(s=0),u===void 0&&(u=s),o===void 0&&(o=0),h===void 0&&(h=null),this._width=s,this._height=u,this._parent=h,this.aspectMode=o,this.aspectRatio=u===0?1:s/u,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,s){return n===void 0&&(n=0),s===void 0&&(s=n),this.snapTo.set(n,s),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,s){return n===void 0&&(n=0),s===void 0&&(s=n),this.minWidth=e(n,0,this.maxWidth),this.minHeight=e(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,s){return n===void 0&&(n=Number.MAX_VALUE),s===void 0&&(s=n),this.maxWidth=e(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,s){switch(n===void 0&&(n=0),s===void 0&&(s=n),this.aspectMode){case a.NONE:this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(i(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(i(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(n,s,!0);break;case a.ENVELOP:this.constrain(n,s,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,s){return this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(i(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,s){return s===void 0&&(s=!0),n=e(n,this.minWidth,this.maxWidth),s&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,s){return s===void 0&&(s=!0),n=e(n,this.minHeight,this.maxHeight),s&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,s,u){n===void 0&&(n=0),s===void 0&&(s=n),u===void 0&&(u=!0),n=this.getNewWidth(n),s=this.getNewHeight(s);var o=this.snapTo,h=s===0?1:n/s;return u&&this.aspectRatio>h||!u&&this.aspectRatio<h?(n=i(n,o.x),s=n/this.aspectRatio,o.y>0&&(s=i(s,o.y),n=s*this.aspectRatio)):(u&&this.aspectRatio<h||!u&&this.aspectRatio>h)&&(s=i(s,o.y),n=s*this.aspectRatio,o.x>0&&(n=i(n,o.x),s=n*(1/this.aspectRatio))),this._width=n,this._height=s,this},fitTo:function(n,s){return this.constrain(n,s,!0)},envelop:function(n,s){return this.constrain(n,s,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(144),i=t(20),r=t(22),a=t(6),n=t(95),s=t(1),u=t(418),o=t(204),h=new e({initialize:function(v,c){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,c){Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)this._pending.push({key:"default",scene:c[m],autoStart:m===0,data:{}})}v.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var d,v,c,m;for(d=0;d<this._pending.length;d++){v=this._pending[d],c=v.key,m=v.scene;var g;m instanceof u?g=this.createSceneFromInstance(c,m):typeof m=="object"?g=this.createSceneFromObject(c,m):typeof m=="function"&&(g=this.createSceneFromFunction(c,m)),c=g.sys.settings.key,this.keys[c]=g,this.scenes.push(g),this._data[c]&&(g.sys.settings.data=this._data[c].data,this._data[c].autoStart&&(v.autoStart=!0)),(v.autoStart||g.sys.settings.active)&&this._start.push(c)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0}},processQueue:function(){var d=this._pending.length,v=this._queue.length;if(!(d===0&&v===0)){var c,m;if(d){for(c=0;c<d;c++)m=this._pending[c],this.add(m.key,m.scene,m.autoStart,m.data);for(c=0;c<this._start.length;c++)m=this._start[c],this.start(m);this._start.length=0,this._pending.length=0;return}for(c=0;c<this._queue.length;c++)m=this._queue[c],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(d,v,c,m){if(c===void 0&&(c=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:v,autoStart:c,data:m}),this.isBooted||(this._data[d]={data:m}),null;d=this.getKey(d,v);var g;return v instanceof u?g=this.createSceneFromInstance(d,v):typeof v=="object"?(v.key=d,g=this.createSceneFromObject(d,v)):typeof v=="function"&&(g=this.createSceneFromFunction(d,v)),g.sys.settings.data=m,d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),(c||g.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),g},remove:function(d){if(this.isProcessing)this._queue.push({op:"remove",keyA:d,keyB:null});else{var v=this.getScene(d);if(!v||v.sys.isTransitioning())return this;var c=this.scenes.indexOf(v),m=v.sys.settings.key;c>-1&&(delete this.keys[m],this.scenes.splice(c,1),this._start.indexOf(m)>-1&&(c=this._start.indexOf(m),this._start.splice(c,1)),v.sys.destroy())}return this},bootScene:function(d){var v=d.sys,c=v.settings;v.sceneUpdate=s,d.init&&(d.init.call(d,c.data),c.status=f.INIT,c.isTransition&&v.events.emit(i.TRANSITION_INIT,c.transitionFrom,c.transitionDuration));var m;v.load&&(m=v.load,m.reset()),m&&d.preload?(d.preload.call(d),m.list.size===0?this.create(d):(c.status=f.LOADING,m.once(n.COMPLETE,this.loadComplete,this),m.start())):this.create(d)},loadComplete:function(d){this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,v){this.processQueue(),this.isProcessing=!0;for(var c=this.scenes.length-1;c>=0;c--){var m=this.scenes[c].sys;m.settings.status>f.START&&m.settings.status<=f.RUNNING&&m.step(d,v)}},render:function(d){for(var v=0;v<this.scenes.length;v++){var c=this.scenes[v].sys;c.settings.visible&&c.settings.status>=f.LOADING&&c.settings.status<f.SLEEPING&&c.render(d)}this.isProcessing=!1},create:function(d){var v=d.sys,c=v.settings;d.create&&(c.status=f.CREATING,d.create.call(d,c.data),c.status===f.DESTROYED)||(c.isTransition&&v.events.emit(i.TRANSITION_START,c.transitionFrom,c.transitionDuration),d.update&&(v.sceneUpdate=d.update),c.status=f.RUNNING,v.events.emit(i.CREATE,d))},createSceneFromFunction:function(d,v){var c=new v;if(c instanceof u){var m=c.sys.settings.key;if(m!==""&&(d=m),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return this.createSceneFromInstance(d,c)}else return c.sys=new o(c),c.sys.settings.key=d,c.sys.init(this.game),c},createSceneFromInstance:function(d,v){var c=v.sys.settings.key;return c===""&&(v.sys.settings.key=d),v.sys.init(this.game),v},createSceneFromObject:function(d,v){var c=new u(v),m=c.sys.settings.key;m!==""?d=m:c.sys.settings.key=d,c.sys.init(this.game);for(var g=["init","preload","create","update","render"],y=0;y<g.length;y++){var E=a(v,g[y],null);E&&(c[g[y]]=E)}if(v.hasOwnProperty("extend")){for(var S in v.extend)if(v.extend.hasOwnProperty(S)){var C=v.extend[S];S==="data"&&c.hasOwnProperty("data")&&typeof C=="object"?c.data.merge(C):S!=="sys"&&(c[S]=C)}}return c},getKey:function(d,v){if(d||(d="default"),typeof v=="function")return d;if(v instanceof u?d=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(d=v.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return d},getScenes:function(d,v){d===void 0&&(d=!0),v===void 0&&(v=!1);for(var c=[],m=this.scenes,g=0;g<m.length;g++){var y=m[g];y&&(!d||d&&y.sys.isActive())&&c.push(y)}return v?c.reverse():c},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var v=0;v<this.scenes.length;v++)if(d===this.scenes[v])return d;return null},isActive:function(d){var v=this.getScene(d);return v?v.sys.isActive():null},isPaused:function(d){var v=this.getScene(d);return v?v.sys.isPaused():null},isVisible:function(d){var v=this.getScene(d);return v?v.sys.isVisible():null},isSleeping:function(d){var v=this.getScene(d);return v?v.sys.isSleeping():null},pause:function(d,v){var c=this.getScene(d);return c&&c.sys.pause(v),this},resume:function(d,v){var c=this.getScene(d);return c&&c.sys.resume(v),this},sleep:function(d,v){var c=this.getScene(d);return c&&!c.sys.isTransitioning()&&c.sys.sleep(v),this},wake:function(d,v){var c=this.getScene(d);return c&&c.sys.wake(v),this},run:function(d,v){var c=this.getScene(d);if(!c){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===d){this.queueOp("start",d,v);break}return this}c.sys.isSleeping()?c.sys.wake(v):c.sys.isPaused()?c.sys.resume(v):this.start(d,v)},start:function(d,v){if(!this.isBooted)return this._data[d]={autoStart:!0,data:v},this;var c=this.getScene(d);if(c){var m=c.sys;if(m.isActive()||m.isPaused())m.shutdown(),m.sceneUpdate=s,m.start(v);else{m.sceneUpdate=s,m.start(v);var g;if(m.load&&(g=m.load),g&&m.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:m.settings.pack})))return m.settings.status=f.LOADING,g.once(n.COMPLETE,this.payloadComplete,this),g.start(),this}this.bootScene(c)}return this},stop:function(d,v){var c=this.getScene(d);return c&&!c.sys.isTransitioning()&&c.sys.shutdown(v),this},switch:function(d,v){var c=this.getScene(d),m=this.getScene(v);return c&&m&&c!==m&&(this.sleep(d),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var v=this.getScene(d);return this.scenes.indexOf(v)},bringToTop:function(d){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v!==-1&&v<this.scenes.length){var c=this.getScene(d);this.scenes.splice(v,1),this.scenes.push(c)}}return this},sendToBack:function(d){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v!==-1&&v>0){var c=this.getScene(d);this.scenes.splice(v,1),this.scenes.unshift(c)}}return this},moveDown:function(d){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v>0){var c=v-1,m=this.getScene(d),g=this.getAt(c);this.scenes[v]=g,this.scenes[c]=m}}return this},moveUp:function(d){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v<this.scenes.length-1){var c=v+1,m=this.getScene(d),g=this.getAt(c);this.scenes[v]=g,this.scenes[c]=m}}return this},moveAbove:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:d,keyB:v});else{var c=this.getIndex(d),m=this.getIndex(v);if(c!==-1&&m!==-1){var g=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(c+1,0,g)}}return this},moveBelow:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:d,keyB:v});else{var c=this.getIndex(d),m=this.getIndex(v);if(c!==-1&&m!==-1){var g=this.getAt(m);this.scenes.splice(m,1),c===0?this.scenes.unshift(g):this.scenes.splice(c,0,g)}}return this},queueOp:function(d,v,c){return this._queue.push({op:d,keyA:v,keyB:c}),this},swapPosition:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:d,keyB:v});else{var c=this.getIndex(d),m=this.getIndex(v);if(c!==m&&c!==-1&&m!==-1){var g=this.getAt(c);this.scenes[c]=this.scenes[m],this.scenes[m]=g}}return this},dump:function(){for(var d=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],c=0;c<this.scenes.length;c++){var m=this.scenes[c].sys,g=m.settings.visible&&(m.settings.status===f.RUNNING||m.settings.status===f.PAUSED)?"[*] ":"[-] ";g+=m.settings.key+" ("+v[m.settings.status]+")",d.push(g)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.destroy()}this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(204),i=new e({initialize:function(a){this.sys=new f(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=t(205),i=function(r){var a=r.game.config.defaultPhysicsSystem,n=e(r.settings,"physics",!1);if(!(!a&&!n)){var s=[];if(a&&s.push(f(a+"Physics")),n)for(var u in n)u=f(u.concat("Physics")),s.indexOf(u)===-1&&s.push(u);return s}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=function(i){var r=i.plugins.getDefaultScenePlugins(),a=e(i.settings,"plugins",!1);return Array.isArray(a)?a:r||[]};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),f=t(6),i=t(127),r=t(978),a={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:e.PENDING,key:f(n,"key",""),active:f(n,"active",!1),visible:f(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:f(n,"pack",!1),cameras:f(n,"cameras",null),map:f(n,"map",i(r,f(n,"mapAdd",{}))),physics:f(n,"physics",{}),loader:f(n,"loader",{}),plugins:f(n,"plugins",!1),input:f(n,"input",{})}}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=t(423),i=t(0),r=t(38),a=t(33),n=t(9),s=t(106),u=t(22),o=t(388),h=t(6),d=t(425),v=t(206),c=new i({Extends:n,initialize:function(g){n.call(this),this.game=g,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,g.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(s.LOAD,this.updatePending,this),this.on(s.ERROR,this.updatePending,this);var m=this.game.config;this.addBase64("__DEFAULT",m.defaultImage),this.addBase64("__MISSING",m.missingImage),this.addBase64("__WHITE",m.whiteImage),this.game.events.once(u.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(s.LOAD),this.off(s.ERROR),this.emit(s.READY))},checkKey:function(m){return this.exists(m)?(console.error("Texture key already in use: "+m),!1):!0},remove:function(m){if(typeof m=="string")if(this.exists(m))m=this.get(m);else return console.warn("No texture found matching key: "+m),this;return this.list.hasOwnProperty(m.key)&&(m.destroy(),this.emit(s.REMOVE,m.key)),this},removeKey:function(m){return this.list.hasOwnProperty(m)&&delete this.list[m],this},addBase64:function(m,g){if(this.checkKey(m)){var y=this,E=new Image;E.onerror=function(){y.emit(s.ERROR,m)},E.onload=function(){var S=y.create(m,E);d.Image(S,0),y.emit(s.ADD,m,S),y.emit(s.LOAD,m,S)},E.src=g}return this},getBase64:function(m,g,y,E){y===void 0&&(y="image/png"),E===void 0&&(E=.92);var S="",C=this.getFrame(m,g);if(C&&(C.source.isRenderTexture||C.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(C){var P=C.canvasData,A=e.create2D(this,P.width,P.height),R=A.getContext("2d");R.drawImage(C.source.image,P.x,P.y,P.width,P.height,0,0,P.width,P.height),S=A.toDataURL(y,E),e.remove(A)}return S},addImage:function(m,g,y){var E=null;return this.checkKey(m)&&(E=this.create(m,g),d.Image(E,0),y&&E.setDataSource(y),this.emit(s.ADD,m,E)),E},addGLTexture:function(m,g,y,E){var S=null;return this.checkKey(m)&&(y===void 0&&(y=g.width),E===void 0&&(E=g.height),S=this.create(m,g,y,E),S.add("__BASE",0,0,0,y,E),this.emit(s.ADD,m,S)),S},addRenderTexture:function(m,g){var y=null;return this.checkKey(m)&&(y=this.create(m,g),y.add("__BASE",0,0,0,g.width,g.height),this.emit(s.ADD,m,y)),y},generate:function(m,g){if(this.checkKey(m)){var y=e.create(this,1,1);return g.canvas=y,o(g),this.addCanvas(m,y)}else return null},createCanvas:function(m,g,y){if(g===void 0&&(g=256),y===void 0&&(y=256),this.checkKey(m)){var E=e.create(this,g,y,a.CANVAS,!0);return this.addCanvas(m,E)}return null},addCanvas:function(m,g,y){y===void 0&&(y=!1);var E=null;return y?E=new f(this,m,g,g.width,g.height):this.checkKey(m)&&(E=new f(this,m,g,g.width,g.height),this.list[m]=E,this.emit(s.ADD,m,E)),E},addAtlas:function(m,g,y,E){return Array.isArray(y.textures)||Array.isArray(y.frames)?this.addAtlasJSONArray(m,g,y,E):this.addAtlasJSONHash(m,g,y,E)},addAtlasJSONArray:function(m,g,y,E){var S=null;if(this.checkKey(m)){if(S=this.create(m,g),Array.isArray(y))for(var C=y.length===1,P=0;P<S.source.length;P++){var A=C?y[0]:y[P];d.JSONArray(S,P,A)}else d.JSONArray(S,0,y);E&&S.setDataSource(E),this.emit(s.ADD,m,S)}return S},addAtlasJSONHash:function(m,g,y,E){var S=null;if(this.checkKey(m)){if(S=this.create(m,g),Array.isArray(y))for(var C=0;C<y.length;C++)d.JSONHash(S,C,y[C]);else d.JSONHash(S,0,y);E&&S.setDataSource(E),this.emit(s.ADD,m,S)}return S},addAtlasXML:function(m,g,y,E){var S=null;return this.checkKey(m)&&(S=this.create(m,g),d.AtlasXML(S,0,y),E&&S.setDataSource(E),this.emit(s.ADD,m,S)),S},addUnityAtlas:function(m,g,y,E){var S=null;return this.checkKey(m)&&(S=this.create(m,g),d.UnityYAML(S,0,y),E&&S.setDataSource(E),this.emit(s.ADD,m,S)),S},addSpriteSheet:function(m,g,y){var E=null;if(this.checkKey(m)){E=this.create(m,g);var S=E.source[0].width,C=E.source[0].height;d.SpriteSheet(E,0,0,0,S,C,y),this.emit(s.ADD,m,E)}return E},addSpriteSheetFromAtlas:function(m,g){if(!this.checkKey(m))return null;var y=h(g,"atlas",null),E=h(g,"frame",null);if(!(!y||!E)){var S=this.get(y),C=S.get(E);if(C){var P=this.create(m,C.source.image);return C.trimmed?d.SpriteSheetFromAtlas(P,C,g):d.SpriteSheet(P,0,C.cutX,C.cutY,C.cutWidth,C.cutHeight,g),this.emit(s.ADD,m,P),P}}},create:function(m,g,y,E){var S=null;return this.checkKey(m)&&(S=new v(this,m,g,y,E),this.list[m]=S),S},exists:function(m){return this.list.hasOwnProperty(m)},get:function(m){return m===void 0&&(m="__DEFAULT"),this.list[m]?this.list[m]:m instanceof v?m:this.list.__MISSING},cloneFrame:function(m,g){if(this.list[m])return this.list[m].get(g).clone()},getFrame:function(m,g){if(this.list[m])return this.list[m].get(g)},getTextureKeys:function(){var m=[];for(var g in this.list)g!=="__DEFAULT"&&g!=="__MISSING"&&m.push(g);return m},getPixel:function(m,g,y,E){var S=this.getFrame(y,E);if(S){m-=S.x,g-=S.y;var C=S.data.cut;if(m+=C.x,g+=C.y,m>=C.x&&m<C.r&&g>=C.y&&g<C.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(S.source.image,m,g,1,1,0,0,1,1);var A=P.getImageData(0,0,1,1);return new r(A.data[0],A.data[1],A.data[2],A.data[3])}}return null},getPixelAlpha:function(m,g,y,E){var S=this.getFrame(y,E);if(S){m-=S.x,g-=S.y;var C=S.data.cut;if(m+=C.x,g+=C.y,m>=C.x&&m<C.r&&g>=C.y&&g<C.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(S.source.image,m,g,1,1,0,0,1,1);var A=P.getImageData(0,0,1,1);return A.data[3]}}return null},setTexture:function(m,g,y){return this.list[g]&&(m.texture=this.list[g],m.frame=m.texture.get(y)),m},renameTexture:function(m,g){var y=this.get(m);return y&&m!==g?(y.key=g,this.list[g]=y,delete this.list[m],!0):!1},each:function(m,g){for(var y=[null],E=1;E<arguments.length;E++)y.push(arguments[E]);for(var S in this.list)y[0]=this.list[S],m.apply(g,y)},destroy:function(){for(var m in this.list)this.list[m].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});l.exports=c},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(18),i=t(38),r=t(33),a=t(138),n=t(206),s=new e({Extends:n,initialize:function(o,h,d,v,c){n.call(this,o,h,d,v,c),this.add("__BASE",0,0,0,v,c),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=c,this.imageData=this.context.getImageData(0,0,v,c),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(u,o,h){return this.context.drawImage(h,u,o),this.update()},drawFrame:function(u,o,h,d){h===void 0&&(h=0),d===void 0&&(d=0);var v=this.manager.getFrame(u,o);if(v){var c=v.canvasData,m=v.cutWidth,g=v.cutHeight,y=v.source.resolution;return this.context.drawImage(v.source.image,c.x,c.y,m,g,h,d,m/y,g/y),this.update()}else return this},setPixel:function(u,o,h,d,v,c){c===void 0&&(c=255),u=Math.abs(Math.floor(u)),o=Math.abs(Math.floor(o));var m=this.getIndex(u,o);if(m>-1){var g=this.context.getImageData(u,o,1,1);g.data[0]=h,g.data[1]=d,g.data[2]=v,g.data[3]=c,this.context.putImageData(g,u,o)}return this},putData:function(u,o,h,d,v,c,m){return d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=u.width),m===void 0&&(m=u.height),this.context.putImageData(u,o,h,d,v,c,m),this},getData:function(u,o,h,d){u=f(Math.floor(u),0,this.width-1),o=f(Math.floor(o),0,this.height-1),h=f(h,1,this.width-u),d=f(d,1,this.height-o);var v=this.context.getImageData(u,o,h,d);return v},getPixel:function(u,o,h){h||(h=new i);var d=this.getIndex(u,o);if(d>-1){var v=this.data,c=v[d+0],m=v[d+1],g=v[d+2],y=v[d+3];h.setTo(c,m,g,y)}return h},getPixels:function(u,o,h,d){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=this.width),d===void 0&&(d=h),u=Math.abs(Math.round(u)),o=Math.abs(Math.round(o));for(var v=f(u,0,this.width),c=f(u+h,0,this.width),m=f(o,0,this.height),g=f(o+d,0,this.height),y=new i,E=[],S=m;S<g;S++){for(var C=[],P=v;P<c;P++)y=this.getPixel(P,S,y),C.push({x:P,y:S,color:y.color,alpha:y.alphaGL});E.push(C)}return E},getIndex:function(u,o){return u=Math.abs(Math.round(u)),o=Math.abs(Math.round(o)),u<this.width&&o<this.height?(u+o*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(u,o,h,d){return u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=this.width),d===void 0&&(d=this.height),this.context.clearRect(u,o,h,d),this.update()},setSize:function(u,o){return o===void 0&&(o=u),(u!==this.width||o!==this.height)&&(this.canvas.width=u,this.canvas.height=o,this._source.width=u,this._source.height=o,this._source.isPowerOf2=a(u,o),this.frames.__BASE.setSize(u,o,0,0),this.width=u,this.height=o,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=t(0),i=t(138),r=t(168),a=new f({initialize:function(s,u,o,h,d){d===void 0&&(d=!1);var v=s.manager.game;this.renderer=v.renderer,this.texture=s,this.source=u,this.image=u,this.compressionAlgorithm=null,this.resolution=1,this.width=o||u.naturalWidth||u.videoWidth||u.width||0,this.height=h||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&u instanceof WebGLTexture,this.isPowerOf2=i(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=d,this.init(v)},init:function(n){var s=this.renderer;s&&(s.gl?this.isCanvas?this.glTexture=s.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=s.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=s.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=s.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer.gl;n&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):n&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),f=t(430),i=t(432),r={create:function(a){var n=a.config.audio,s=a.device.audio;return n.noAudio||!s.webAudio&&!s.audioData?new f(a):s.webAudio&&!n.disableWebAudio?new i(a):new e(a)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),f=t(0),i=t(70),r=t(429),a=new f({Extends:e,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,s)},add:function(n,s){var u=new r(this,n,s);return this.sounds.push(u),u},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(h,d){for(var v=0;v<d.length;v++)if(d[v].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var s=!1,u=function(){s=!0},o=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",u),document.body.removeEventListener("touchend",o);var h=[];if(n.game.cache.audio.entries.each(function(v,c){for(var m=0;m<c.length;m++){var g=c[m];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var d=h[h.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,h.forEach(function(v){v.dataset.locked="false"}),n.unlocked=!0},h.forEach(function(v){v.load()})}};this.once(i.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",u,!1),document.body.addEventListener("touchend",o,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,s,u){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:s,value:u}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(i.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(i.GLOBAL_VOLUME,this,n)}}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s))for(var u=n;u<s;u++){var o=i[u];if(!r||r&&a===void 0&&o.hasOwnProperty(r)||r&&a!==void 0&&o[r]===a)return o}return null};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),f=t(0),i=t(70),r=t(18),a=new f({Extends:e,initialize:function(s,u,o){if(o===void 0&&(o={}),this.tags=s.game.cache.audio.get(u),!this.tags)throw new Error('There is no audio asset with key "'+u+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,s,u,o)},play:function(n,s){return this.manager.isLocked(this,"play",[n,s])||!e.prototype.play.call(this,n,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(i.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,s=this.currentConfig.delay,u=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=u,this.audio.currentTime=u,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var s=this.tags[n];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var u=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&u.push(h)},this),u.sort(function(h,d){return h.loop===d.loop?d.seek/d.duration-h.seek/h.duration:h.loop?1:-1});var o=u[0];return this.audio=o.audio,o.reset(),o.audio=null,o.startTime=0,o.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,u=s+this.duration,o=this.audio.currentTime;if(this.currentConfig.loop)o>=u-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,o-u),o=this.audio.currentTime):o<s&&(this.audio.currentTime+=s,o=this.audio.currentTime),o<this.previousTime&&this.emit(i.LOOPED,this);else if(o>=u){this.reset(),this.stopAndReleaseAudioTag(),this.emit(i.COMPLETE,this);return}this.previousTime=o}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(i.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(i.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,i.RATE,n)&&(this.calculateRate(),this.emit(i.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,i.DETUNE,n)&&(this.calculateRate(),this.emit(i.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(i.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(i.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(i.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),f=t(0),i=t(9),r=t(431),a=t(1),n=new f({Extends:i,initialize:function(u){i.call(this),this.game=u,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,u){var o=new r(this,s,u);return this.sounds.push(o),o},addAudioSprite:function(s,u){var o=this.add(s,u);return o.spritemap={},o},play:function(s,u){return!1},playAudioSprite:function(s,u,o){return!1},remove:function(s){return e.prototype.remove.call(this,s)},removeByKey:function(s){return e.prototype.removeByKey.call(this,s)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(s,u){e.prototype.forEachActiveSound.call(this,s,u)},destroy:function(){e.prototype.destroy.call(this)}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),f=t(0),i=t(9),r=t(17),a=function(){return!1},n=function(){return null},s=function(){return this},u=new f({Extends:i,initialize:function(h,d,v){v===void 0&&(v={}),i.call(this),this.manager=h,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:n,play:a,pause:a,resume:a,stop:a,destroy:function(){e.prototype.destroy.call(this)},setMute:s,setVolume:s,setRate:s,setDetune:s,setSeek:s,setLoop:s,setPan:s});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),f=t(145),i=t(0),r=t(70),a=t(22),n=t(434),s=new i({Extends:f,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),f.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(u){var o=u.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,o){var h=new n(this,u,o);return this.sounds.push(h),h},decodeAudio:function(u,o){var h;Array.isArray(u)?h=u:h=[{key:u,data:o}];for(var d=this.game.cache.audio,v=h.length,c=0;c<h.length;c++){var m=h[c],g=m.key,y=m.data;typeof y=="string"&&(y=e(y));var E=function(C,P){d.add(C,P),this.emit(r.DECODED,C),v--,v===0&&this.emit(r.DECODED_ALL)}.bind(this,g),S=function(C,P){console.error("Error decoding audio: "+C+" - ",P?P.message:""),v--,v===0&&this.emit(r.DECODED_ALL)}.bind(this,g);this.context.decodeAudioData(y,E,S)}},unlock:function(){var u=this,o=document.body,h=function d(){if(u.context&&o){var v=o.removeEventListener;u.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d),u.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d)})}};o&&(o.addEventListener("touchstart",h,!1),o.addEventListener("touchend",h,!1),o.addEventListener("click",h,!1),o.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;(u.state==="suspended"||u.state==="interrupted")&&!this.locked&&u.resume()},update:function(u,o){f.prototype.update.call(this,u,o);var h=this.context;h&&h.state==="interrupted"&&h.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}f.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(r.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(r.GLOBAL_VOLUME,this,u)}}});l.exports=s},function(l,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),f=0;f<t.length;f++)e[t.charCodeAt(f)]=f;var i=function(r){r=r.substr(r.indexOf(",")+1);var a=r.length,n=a*.75,s=0,u,o,h,d;r[a-1]==="="&&(n--,r[a-2]==="="&&n--);for(var v=new ArrayBuffer(n),c=new Uint8Array(v),m=0;m<a;m+=4)u=e[r.charCodeAt(m)],o=e[r.charCodeAt(m+1)],h=e[r.charCodeAt(m+2)],d=e[r.charCodeAt(m+3)],c[s++]=u<<2|o>>4,c[s++]=(o&15)<<4|h>>2,c[s++]=(h&3)<<6|d&63;return v};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),f=t(0),i=t(70),r=new f({Extends:e,initialize:function(n,s,u){if(u===void 0&&(u={}),this.audioBuffer=n.game.cache.audio.get(s),!this.audioBuffer)throw new Error('Audio key "'+s+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,n,s,u)},play:function(a,n){return e.prototype.play.call(this,a,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(i.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(i.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(i.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,n=this.currentConfig.delay,s=this.manager.context.currentTime+n,u=(this.currentMarker?this.currentMarker.start:0)+a,o=this.duration-a;this.playTime=s-a,this.startTime=s,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,s),Math.max(0,u),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,s=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,n),Math.max(0,s))},createBufferSource:function(){var a=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(s){s.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(i.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(i.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,n=0;n<this.rateUpdates.length;n++){var s=0;n<this.rateUpdates.length-1?s=this.rateUpdates[n+1].time:s=this.manager.context.currentTime-this.playTime,a+=(s-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return a},getLoopTime:function(){for(var a=0,n=0;n<this.rateUpdates.length-1;n++)a+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var s=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+s.time+(this.duration-a)/s.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(i.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(i.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(i.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(i.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(i.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(i.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(i.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=e.length,i=e[0].length,r=new Array(i),a=0;a<i;a++){r[a]=new Array(f);for(var n=f-1;n>-1;n--)r[a][n]=e[n][a]}return r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i,r,a){var n=i[r];i[r]=i[a],i[a]=n}function e(i,r){return i<r?-1:i>r?1:0}var f=function(i,r,a,n,s){for(a===void 0&&(a=0),n===void 0&&(n=i.length-1),s===void 0&&(s=e);n>a;){if(n-a>600){var u=n-a+1,o=r-a+1,h=Math.log(u),d=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*d*(u-d)/u)*(o-u/2<0?-1:1),c=Math.max(a,Math.floor(r-o*d/u+v)),m=Math.min(n,Math.floor(r+(u-o)*d/u+v));f(i,r,c,m,s)}var g=i[r],y=a,E=n;for(t(i,a,r),s(i[n],g)>0&&t(i,a,n);y<E;){for(t(i,y,E),y++,E--;s(i[y],g)<0;)y++;for(;s(i[E],g)>0;)E--}s(i[a],g)===0?t(i,a,E):(E++,t(i,E,n)),E<=r&&(a=E+1),r<=E&&(n=E-1)}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f=t(131),i=function(a,n,s){for(var u=[],o=0;o<a.length;o++)for(var h=0;h<n.length;h++)for(var d=0;d<s;d++)u.push({a:a[o],b:n[h]});return u},r=function(a,n,s){var u=e(s,"max",0),o=e(s,"qty",1),h=e(s,"random",!1),d=e(s,"randomB",!1),v=e(s,"repeat",0),c=e(s,"yoyo",!1),m=[];if(d&&f(n),v===-1)if(u===0)v=0;else{var g=a.length*n.length*o;c&&(g*=2),v=Math.ceil(u/g)}for(var y=0;y<=v;y++){var E=i(a,n,o);h&&f(E),m=m.concat(E),c&&(E.reverse(),m=m.concat(E))}return u&&m.splice(u),m};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),f=function(i,r){var a=e(r,"anims",null);if(a===null)return i;if(typeof a=="string")i.anims.play(a);else if(typeof a=="object"){var n=i.anims,s=e(a,"key",void 0);if(s){var u=e(a,"startFrame",void 0),o=e(a,"delay",0),h=e(a,"repeat",0),d=e(a,"repeatDelay",0),v=e(a,"yoyo",!1),c=e(a,"play",!1),m=e(a,"delayedPlay",0),g={key:s,delay:o,repeat:h,repeatDelay:d,yoyo:v,startFrame:u};c?n.play(g):m>0?n.playAfterDelay(g,m):n.load(g)}}return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(109),i=new e({initialize:function(a,n,s,u,o){this.parent=a,this.x=n,this.y=s,this.frame=u,this.data={},this.tint=16777215,this._visible=o,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof f&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,a,n){return this.x=r,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(r,a){return this.x=r,this.y=a,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,a){return this.flipX=r,this.flipY=a,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r,a){a===void 0&&(a=new e);var n=Math.min(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.right,r.right)-n,o=Math.max(i.bottom,r.bottom)-s;return a.setTo(n,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(1055),r=t(15),a=t(7),n=t(202),s=t(20),u=t(140),o=new e({Extends:r,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Origin,f.ScrollFactor,f.Transform,f.Visible,i],initialize:function(d,v,c,m,g,y){r.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,c),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),g,y):this.createElement(m,g,y):m&&this.setElement(m,g,y),d.sys.events.on(s.SLEEP,this.handleSceneEvent,this),d.sys.events.on(s.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(h){var d=this.node,v=d.style;d&&(v.display=h.settings.visible?"block":"none")},setSkew:function(h,d){return h===void 0&&(h=0),d===void 0&&(d=h),this.skewX=h,this.skewY=d,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var d=0;d<h.length;d++)this.node.addEventListener(h[d],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var d=0;d<h.length;d++)this.node.removeEventListener(h[d],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,d,v){return this.setElement(document.createElement(h),d,v)},setElement:function(h,d,v){this.removeElement();var c;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),c=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(c=h),!c)return this;if(this.node=c,d&&a(d))for(var m in d)c.style[m]=d[m];else typeof d=="string"&&(c.style=d);return c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),v&&(c.innerText=v),this.updateSize()},createFromCache:function(h,d){var v=this.cache.get(h);return v&&this.createFromHTML(v,d),this},createFromHTML:function(h,d){d===void 0&&(d="div"),this.removeElement();var v=document.createElement(d);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var h=this.node,d=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=d.width||0,this.displayHeight=d.height||0,this},getChildByProperty:function(h,d){if(this.node){for(var v=this.node.querySelectorAll("*"),c=0;c<v.length;c++)if(v[c][h]===d)return v[c]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preUpdate:function(){var h=this.parentContainer,d=this.node;d&&h&&!h.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this)}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),f=t(15),i=t(25),r=new i,a=new i,n=new i,s=function(u,o,h,d){if(o.node){var v=o.node.style,c=o.scene.sys.settings;if(!v||!c.visible||f.RENDER_MASK!==o.renderFlags||o.cameraFilter!==0&&o.cameraFilter&h.id||o.parentContainer&&!o.parentContainer.willRender()){v.display="none";return}var m=o.parentContainer,g=h.alpha*o.alpha;m&&(g*=m.alpha);var y=r,E=a,S=n,C=0,P=0,A="0%",R="0%";d?(C=o.width*o.scaleX*o.originX,P=o.height*o.scaleY*o.originY,E.applyITRS(o.x-C,o.y-P,o.rotation,o.scaleX,o.scaleY),y.copyFrom(h.matrix),y.multiplyWithOffset(d,-h.scrollX*o.scrollFactorX,-h.scrollY*o.scrollFactorY),E.e=o.x-C,E.f=o.y-P,y.multiply(E,S)):(C=o.width*o.originX,P=o.height*o.originY,E.applyITRS(o.x-C,o.y-P,o.rotation,o.scaleX,o.scaleY),y.copyFrom(h.matrix),A=100*o.originX+"%",R=100*o.originY+"%",E.e-=h.scrollX*o.scrollFactorX,E.f-=h.scrollY*o.scrollFactorY,y.multiply(E,S)),o.transformOnly||(v.display="block",v.opacity=g,v.zIndex=o._depth,v.pointerEvents=o.pointerEvents,v.mixBlendMode=e[o._blendMode]),v.transform=S.getCSSMatrix()+" skew("+o.skewX+"rad, "+o.skewY+"rad) rotate3d("+o.rotate3d.x+","+o.rotate3d.y+","+o.rotate3d.z+","+o.rotate3d.w+o.rotate3dAngle+")",v.transformOrigin=A+" "+R}};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(1060),a=new e({Extends:i,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.Origin,f.ScrollFactor,f.Size,f.Texture,f.Tint,f.Transform,f.Visible,r],initialize:function(s){i.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),f=t(98),i=t(14),r=t(4),a=function(n,s,u){u===void 0&&(u=new r);var o=f(s,0,i.PI2);return e(n,o,u)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),f=t(218),i=t(98),r=t(14),a=function(n,s,u,o){o===void 0&&(o=[]),!s&&u>0&&(s=e(n)/u);for(var h=0;h<s;h++){var d=i(h/s,0,r.PI2);o.push(f(n,d))}return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=e.width/2,i=e.height/2,r=Math.pow(f-i,2)/Math.pow(f+i,2);return Math.PI*(f+i)*(1+3*r/(10+Math.sqrt(4-3*r)))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),f=t(30),i=function(r,a,n,s,u,o){var h=a.commandBuffer,d=h.length,v=u||r.currentContext;if(!(d===0||!f(r,v,a,n,s))){n.addToRenderList(a);var c=1,m=1,g=0,y=0,E=1,S=0,C=0,P=0;v.beginPath();for(var A=0;A<d;++A){var R=h[A];switch(R){case e.ARC:v.arc(h[A+1],h[A+2],h[A+3],h[A+4],h[A+5],h[A+6]),A+=7;break;case e.LINE_STYLE:E=h[A+1],g=h[A+2],c=h[A+3],S=(g&16711680)>>>16,C=(g&65280)>>>8,P=g&255,v.strokeStyle="rgba("+S+","+C+","+P+","+c+")",v.lineWidth=E,A+=3;break;case e.FILL_STYLE:y=h[A+1],m=h[A+2],S=(y&16711680)>>>16,C=(y&65280)>>>8,P=y&255,v.fillStyle="rgba("+S+","+C+","+P+","+m+")",A+=2;break;case e.BEGIN_PATH:v.beginPath();break;case e.CLOSE_PATH:v.closePath();break;case e.FILL_PATH:o||v.fill();break;case e.STROKE_PATH:o||v.stroke();break;case e.FILL_RECT:o?v.rect(h[A+1],h[A+2],h[A+3],h[A+4]):v.fillRect(h[A+1],h[A+2],h[A+3],h[A+4]),A+=4;break;case e.FILL_TRIANGLE:v.beginPath(),v.moveTo(h[A+1],h[A+2]),v.lineTo(h[A+3],h[A+4]),v.lineTo(h[A+5],h[A+6]),v.closePath(),o||v.fill(),A+=6;break;case e.STROKE_TRIANGLE:v.beginPath(),v.moveTo(h[A+1],h[A+2]),v.lineTo(h[A+3],h[A+4]),v.lineTo(h[A+5],h[A+6]),v.closePath(),o||v.stroke(),A+=6;break;case e.LINE_TO:v.lineTo(h[A+1],h[A+2]),A+=2;break;case e.MOVE_TO:v.moveTo(h[A+1],h[A+2]),A+=2;break;case e.LINE_FX_TO:v.lineTo(h[A+1],h[A+2]),A+=5;break;case e.MOVE_FX_TO:v.moveTo(h[A+1],h[A+2]),A+=5;break;case e.SAVE:v.save();break;case e.RESTORE:v.restore();break;case e.TRANSLATE:v.translate(h[A+1],h[A+2]),A+=2;break;case e.SCALE:v.scale(h[A+1],h[A+2]),A+=2;break;case e.ROTATE:v.rotate(h[A+1]),A+=1;break;case e.GRADIENT_FILL_STYLE:A+=5;break;case e.GRADIENT_LINE_STYLE:A+=6;break}}v.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(137),i=t(80),r=t(2),a=t(68),n=new e({initialize:function(u,o,h,d){d===void 0&&(d=!1),this.propertyKey=o,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=d,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(u)},loadConfig:function(s,u){s===void 0&&(s={}),u&&(this.propertyKey=u),this.propertyValue=r(s,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(s){return this.propertyValue=s,this.setMethods()},setMethods:function(){var s=this.propertyValue,u=typeof s;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,u==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(s))this.onEmit=this.randomStaticValueEmit;else if(u==="function")this.emitOnly?this.onEmit=s:this.onUpdate=s;else if(u==="object"&&this.hasBoth(s,"start","end")){this.start=s.start,this.end=s.end;var o=this.has(s,"random");if(o&&(this.onEmit=this.randomRangedValueEmit),this.has(s,"steps"))this.steps=s.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var h=this.has(s,"ease")?s.ease:"Linear";this.ease=i(h,s.easeParams),o||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(u==="object"&&this.hasBoth(s,"min","max"))this.start=s.min,this.end=s.max,this.onEmit=this.randomRangedValueEmit;else if(u==="object"&&this.has(s,"random")){var d=s.random;Array.isArray(d)&&(this.start=d[0],this.end=d[1]),this.onEmit=this.randomRangedValueEmit}else u==="object"&&this.hasEither(s,"onEmit","onUpdate")&&(this.has(s,"onEmit")&&(this.onEmit=s.onEmit),this.has(s,"onUpdate")&&(this.onUpdate=s.onUpdate));return this},has:function(s,u){return s.hasOwnProperty(u)},hasBoth:function(s,u,o){return s.hasOwnProperty(u)&&s.hasOwnProperty(o)},hasEither:function(s,u,o){return s.hasOwnProperty(u)||s.hasOwnProperty(o)},defaultEmit:function(s,u,o){return o},defaultUpdate:function(s,u,o,h){return h},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var s=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[s]},randomRangedValueEmit:function(s,u){var o=f(this.start,this.end);return s&&s.data[u]&&(s.data[u].min=o),o},steppedEmit:function(){var s=this.counter,u=this.counter+(this.end-this.start)/this.steps;return this.counter=a(u,this.start,this.end),s},easedValueEmit:function(s,u){if(s&&s.data[u]){var o=s.data[u];o.min=this.start,o.max=this.end}return this.start},easeValueUpdate:function(s,u,o){var h=s.data[u];return(h.max-h.min)*this.ease(o)+h.min}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=new e({initialize:function(a,n,s,u,o){if(typeof a=="object"){var h=a;a=f(h,"x",0),n=f(h,"y",0),s=f(h,"power",0),u=f(h,"epsilon",100),o=f(h,"gravity",50)}else a===void 0&&(a=0),n===void 0&&(n=0),s===void 0&&(s=0),u===void 0&&(u=100),o===void 0&&(o=50);this.x=a,this.y=n,this.active=!0,this._gravity=o,this._power=0,this._epsilon=0,this.power=s,this.epsilon=u},update:function(r,a){var n=this.x-r.x,s=this.y-r.y,u=n*n+s*s;if(u!==0){var o=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var h=this._power*a/(u*o)*100;r.velocityX+=n*h,r.velocityY+=s*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var a=this.power;this._gravity=r,this.power=a}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(36),i=t(50),r=new e({initialize:function(n){this.emitter=n,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(a,n){var s=this.emitter;this.frame=s.getFrame(),s.emitZone&&s.emitZone.getPoint(this),a===void 0?this.x+=s.x.onEmit(this,"x"):this.x+=a,n===void 0?this.y+=s.y.onEmit(this,"y"):this.y+=n,this.life=s.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var u=s.speedX.onEmit(this,"speedX"),o=s.speedY?s.speedY.onEmit(this,"speedY"):u;if(s.radial){var h=f(s.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(u),this.velocityY=Math.sin(h)*Math.abs(o)}else if(s.moveTo){var d=s.moveToX.onEmit(this,"moveToX"),v=s.moveToY?s.moveToY.onEmit(this,"moveToY"):d,c=Math.atan2(v-this.y,d-this.x),m=i(this.x,this.y,d,v)/(this.life/1e3);this.velocityX=Math.cos(c)*m,this.velocityY=Math.sin(c)*m}else this.velocityX=u,this.velocityY=o;s.acceleration&&(this.accelerationX=s.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=s.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=s.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=s.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=s.delay.onEmit(this,"delay"),this.scaleX=s.scaleX.onEmit(this,"scaleX"),this.scaleY=s.scaleY?s.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=s.rotate.onEmit(this,"rotate"),this.rotation=f(this.angle),this.bounce=s.bounce.onEmit(this,"bounce"),this.alpha=s.alpha.onEmit(this,"alpha"),this.tint=s.tint.onEmit(this,"tint")},computeVelocity:function(a,n,s,u){var o=this.velocityX,h=this.velocityY,d=this.accelerationX,v=this.accelerationY,c=this.maxVelocityX,m=this.maxVelocityY;o+=a.gravityX*s,h+=a.gravityY*s,d&&(o+=d*s),v&&(h+=v*s),o>c?o=c:o<-c&&(o=-c),h>m?h=m:h<-m&&(h=-m),this.velocityX=o,this.velocityY=h;for(var g=0;g<u.length;g++)u[g].update(this,n,s)},checkBounds:function(a){var n=a.bounds,s=-this.bounce;this.x<n.x&&a.collideLeft?(this.x=n.x,this.velocityX*=s):this.x>n.right&&a.collideRight&&(this.x=n.right,this.velocityX*=s),this.y<n.y&&a.collideTop?(this.y=n.y,this.velocityY*=s):this.y>n.bottom&&a.collideBottom&&(this.y=n.bottom,this.velocityY*=s)},update:function(a,n,s){if(this.delayCurrent>0)return this.delayCurrent-=a,!1;var u=this.emitter,o=1-this.lifeCurrent/this.life;return this.lifeT=o,this.computeVelocity(u,a,n,s),this.x+=this.velocityX*n,this.y+=this.velocityY*n,u.bounds&&this.checkBounds(u),u.deathZone&&u.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=u.scaleX.onUpdate(this,"scaleX",o,this.scaleX),u.scaleY?this.scaleY=u.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=u.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=f(this.angle),this.alpha=u.alpha.onUpdate(this,"alpha",o,this.alpha),this.tint=u.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),f=t(0),i=t(11),r=t(453),a=t(454),n=t(449),s=t(2),u=t(210),o=t(455),h=t(126),d=t(451),v=t(456),c=t(10),m=t(79),g=t(3),y=t(68),E=new f({Mixins:[i.BlendMode,i.Mask,i.ScrollFactor,i.Visible],initialize:function(C,P){this.manager=C,this.texture=C.texture,this.frames=[C.defaultFrame],this.defaultFrame=C.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new n(P,"x",0,!0),this.y=new n(P,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(P,"accelerationX",0,!0),this.accelerationY=new n(P,"accelerationY",0,!0),this.maxVelocityX=new n(P,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(P,"maxVelocityY",1e4,!0),this.speedX=new n(P,"speedX",0,!0),this.speedY=new n(P,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(P,"moveToX",0,!0),this.moveToY=new n(P,"moveToY",0,!0),this.bounce=new n(P,"bounce",0,!0),this.scaleX=new n(P,"scaleX",1),this.scaleY=new n(P,"scaleY",1),this.tint=new n(P,"tint",16777215),this.alpha=new n(P,"alpha",1),this.lifespan=new n(P,"lifespan",1e3,!0),this.angle=new n(P,"angle",{min:0,max:360},!0),this.rotate=new n(P,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(P,"quantity",1,!0),this.delay=new n(P,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new g,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,P&&this.fromJSON(P)},fromJSON:function(S){if(!S)return this;var C=0,P="";for(C=0;C<this.configFastMap.length;C++)P=this.configFastMap[C],h(S,P)&&(this[P]=s(S,P));for(C=0;C<this.configOpMap.length;C++)P=this.configOpMap[C],h(S,P)&&this[P].loadConfig(S);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,h(S,"speed")&&(this.speedX.loadConfig(S,"speed"),this.speedY=null),(o(S,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),h(S,"scale")&&(this.scaleX.loadConfig(S,"scale"),this.scaleY=null),h(S,"callbackScope")){var A=s(S,"callbackScope",null);this.emitCallbackScope=A,this.deathCallbackScope=A}return h(S,"emitZone")&&this.setEmitZone(S.emitZone),h(S,"deathZone")&&this.setDeathZone(S.deathZone),h(S,"bounds")&&this.setBounds(S.bounds),h(S,"followOffset")&&this.followOffset.setFromObject(s(S,"followOffset",0)),h(S,"frame")&&this.setFrame(S.frame),h(S,"reserve")&&this.reserve(S.reserve),this},toJSON:function(S){S===void 0&&(S={});var C=0,P="";for(C=0;C<this.configFastMap.length;C++)P=this.configFastMap[C],S[P]=this[P];for(C=0;C<this.configOpMap.length;C++)P=this.configOpMap[C],this[P]&&(S[P]=this[P].toJSON());return this.speedY||(delete S.speedX,S.speed=this.speedX.toJSON()),this.scaleY||(delete S.scaleX,S.scale=this.scaleX.toJSON()),S},startFollow:function(S,C,P,A){return C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=!1),this.follow=S,this.followOffset.set(C,P),this.trackVisible=A,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return u(this.frames);var S=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=y(this.currentFrame+1,0,this._frameLength)),S},setFrame:function(S,C,P){C===void 0&&(C=!0),P===void 0&&(P=1),this.randomFrame=C,this.frameQuantity=P,this.currentFrame=0,this._frameCounter=0;var A=typeof S;if(Array.isArray(S)||A==="string"||A==="number")this.manager.setEmitterFrames(S,this);else if(A==="object"){var R=S;S=s(R,"frames",null),S&&this.manager.setEmitterFrames(S,this);var M=s(R,"cycle",!1);this.randomFrame=!M,this.frameQuantity=s(R,"quantity",P)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(S){return S===void 0&&(S=!0),this.radial=S,this},setPosition:function(S,C){return this.x.onChange(S),this.y.onChange(C),this},setBounds:function(S,C,P,A){if(typeof S=="object"){var R=S;S=R.x,C=R.y,P=h(R,"w")?R.w:R.width,A=h(R,"h")?R.h:R.height}return this.bounds?this.bounds.setTo(S,C,P,A):this.bounds=new c(S,C,P,A),this},setSpeedX:function(S){return this.speedX.onChange(S),this.radial=!1,this},setSpeedY:function(S){return this.speedY&&(this.speedY.onChange(S),this.radial=!1),this},setSpeed:function(S){return this.speedX.onChange(S),this.speedY=null,this.radial=!0,this},setScaleX:function(S){return this.scaleX.onChange(S),this},setScaleY:function(S){return this.scaleY.onChange(S),this},setScale:function(S){return this.scaleX.onChange(S),this.scaleY=null,this},setGravityX:function(S){return this.gravityX=S,this},setGravityY:function(S){return this.gravityY=S,this},setGravity:function(S,C){return this.gravityX=S,this.gravityY=C,this},setAlpha:function(S){return this.alpha.onChange(S),this},setTint:function(S){return this.tint.onChange(S),this},setEmitterAngle:function(S){return this.angle.onChange(S),this},setAngle:function(S){return this.angle.onChange(S),this},setLifespan:function(S){return this.lifespan.onChange(S),this},setQuantity:function(S){return this.quantity.onChange(S),this},setFrequency:function(S,C){return this.frequency=S,this._counter=0,C&&this.quantity.onChange(C),this},setEmitZone:function(S){if(S===void 0)this.emitZone=null;else{var C=s(S,"type","random"),P=s(S,"source",null);switch(C){case"random":this.emitZone=new v(P);break;case"edge":var A=s(S,"quantity",1),R=s(S,"stepRate",0),M=s(S,"yoyo",!1),L=s(S,"seamless",!0);this.emitZone=new a(P,A,R,M,L);break}}return this},setDeathZone:function(S){if(S===void 0)this.deathZone=null;else{var C=s(S,"type","onEnter"),P=s(S,"source",null);if(P&&typeof P.contains=="function"){var A=C==="onEnter";this.deathZone=new r(P,A)}}return this},reserve:function(S){for(var C=this.dead,P=0;P<S;P++)C.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(S,C){return S===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof S=="function"&&(this.emitCallback=S,C&&(this.emitCallbackScope=C)),this},onParticleDeath:function(S,C){return S===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof S=="function"&&(this.deathCallback=S,C&&(this.deathCallbackScope=C)),this},killAll:function(){for(var S=this.dead,C=this.alive;C.length>0;)S.push(C.pop());return this},forEachAlive:function(S,C){for(var P=this.alive,A=P.length,R=0;R<A;++R)S.call(C,P[R],this);return this},forEachDead:function(S,C){for(var P=this.dead,A=P.length,R=0;R<A;++R)S.call(C,P[R],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return m(this.alive,this.depthSortCallback),this},flow:function(S,C){return C===void 0&&(C=1),this.frequency=S,this.quantity.onChange(C),this.start()},explode:function(S,C,P){return this.frequency=-1,this.emitParticle(S,C,P)},emitParticleAt:function(S,C,P){return this.emitParticle(P,S,C)},emitParticle:function(S,C,P){if(!this.atLimit()){S===void 0&&(S=this.quantity.onEmit());for(var A=this.dead,R=this.follow?this.follow.x+this.followOffset.x:C,M=this.follow?this.follow.y+this.followOffset.y:P,L=0;L<S;L++){var F=A.pop();if(F||(F=new this.particleClass(this)),F.fire(R,M),this.particleBringToTop?this.alive.push(F):this.alive.unshift(F),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,F,this),this.atLimit())break}return F}},preUpdate:function(S,C){C*=this.timeScale;var P=C/1e3;this.trackVisible&&(this.visible=this.follow.visible);var A=this.manager.getProcessors(),R=this.alive,M=this.dead,L=0,F=[],I=R.length;for(L=0;L<I;L++){var N=R[L];N.update(C,P,A)&&F.push({index:L,particle:N})}if(I=F.length,I>0){var z=this.deathCallback,W=this.deathCallbackScope;for(L=I-1;L>=0;L--){var $=F[L];R.splice($.index,1),M.push($.particle),z&&z.call(W,$.particle),$.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=C,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(S,C){return S.y-C.y}});l.exports=E},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a){this.source=r,this.killOnEnter=a},willKill:function(i){var r=this.source.contains(i.x,i.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s,u){s===void 0&&(s=!1),u===void 0&&(u=!0),this.source=r,this.points=[],this.quantity=a,this.stepRate=n,this.yoyo=s,this.counter=-1,this.seamless=u,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var i=this.points[0],r=this.points[this.points.length-1];i.x===r.x&&i.y===r.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(i){return this.source=i,this.updateSource()},getPoint:function(i){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(i.x=r.x,i.y=r.y)}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){for(var i=0;i<f.length;i++)if(e.hasOwnProperty(f[i]))return!0;return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(3),i=new e({initialize:function(a){this.source=a,this._tempVec=new f},getPoint:function(r){var a=this._tempVec;this.source.getRandomPoint(a),r.x=a.x,r.y=a.y}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(73),r=new e({Extends:i,Mixins:[f.PathFollower],initialize:function(n,s,u,o,h,d){i.call(this,n,u,o,h,d),this.path=s},preUpdate:function(a,n){this.anims.update(a,n),this.pathUpdate(a)}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=e.canvas,a=e.context,n=e.style,s=[],u=0,o=i.length;n.maxLines>0&&n.maxLines<i.length&&(o=n.maxLines),n.syncFont(r,a);for(var h=0;h<o;h++){var d=n.strokeThickness;d+=a.measureText(i[h]).width,n.wordWrap&&(d-=a.measureText(" ").width),s[h]=Math.ceil(d),u=Math.max(u,s[h])}var v=f.fontSize+n.strokeThickness,c=v*o,m=e.lineSpacing;return o>1&&(c+=m*(o-1)),{width:u,height:c,lines:o,lineWidths:s,lineSpacing:m,lineHeight:v}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(13),i=t(6),r=t(460),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new e({initialize:function(u,o){this.parent=u,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(o,!1,!0);var h=i(o,"metrics",!1);h?this.metrics={ascent:i(h,"ascent",0),descent:i(h,"descent",0),fontSize:i(h,"fontSize",0)}:this.metrics=r(this)},setStyle:function(s,u,o){u===void 0&&(u=!0),o===void 0&&(o=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var h in a){var d=o?a[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=i(s,a[h][0],d):this[h]=f(s,a[h][0],d)}var v=i(s,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var c=i(s,"fill",null);return c!==null&&(this.color=c),u?this.update(!0):this.parent},syncFont:function(s,u){u.font=this._font},syncStyle:function(s,u){u.textBaseline="alphabetic",u.fillStyle=this.color,u.strokeStyle=this.stroke,u.lineWidth=this.strokeThickness,u.lineCap="round",u.lineJoin="round"},syncShadow:function(s,u){u?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,u){u===void 0&&(u=!0);var o=s,h="",d="";if(typeof s!="string")o=i(s,"fontFamily","Courier"),h=i(s,"fontSize","16px"),d=i(s,"fontStyle","");else{var v=s.split(" "),c=0;d=v.length>2?v[c++]:"",h=v[c++]||"16px",o=v[c++]||"Courier"}return(o!==this.fontFamily||h!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=o,this.fontSize=h,this.fontStyle=d,u&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,u){return this.fixedWidth=s,this.fixedHeight=u,s&&(this.parent.width=s),u&&(this.parent.height=u),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,u){return u===void 0&&(u=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==u)&&(this.stroke=s,this.strokeThickness=u,this.update(!0)),this.parent},setShadow:function(s,u,o,h,d,v){return s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o="#000"),h===void 0&&(h=0),d===void 0&&(d=!1),v===void 0&&(v=!0),this.shadowOffsetX=s,this.shadowOffsetY=u,this.shadowColor=o,this.shadowBlur=h,this.shadowStroke=d,this.shadowFill=v,this.update(!1)},setShadowOffset:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this.shadowOffsetX=s,this.shadowOffsetY=u,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,u){return u===void 0&&(u=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=u,this.update(!1)},setWordWrapCallback:function(s,u){return u===void 0&&(u=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=u,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var u in a)s[u]=this[u];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),f=function(i){var r=e.create(this),a=r.getContext("2d");i.syncFont(r,a);var n=a.measureText(i.testString);if("actualBoundingBoxAscent"in n){var s=n.actualBoundingBoxAscent,u=n.actualBoundingBoxDescent;return e.remove(r),{ascent:s,descent:u,fontSize:s+u}}var o=Math.ceil(n.width*i.baselineX),h=o,d=2*h;h=h*i.baselineY|0,r.width=o,r.height=d,a.fillStyle="#f00",a.fillRect(0,0,o,d),a.font=i._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(i.testString,0,h);var v={ascent:0,descent:0,fontSize:0},c=a.getImageData(0,0,o,d);if(!c)return v.ascent=h,v.descent=h+6,v.fontSize=v.ascent+v.descent,e.remove(r),v;var m=c.data,g=m.length,y=o*4,E,S,C=0,P=!1;for(E=0;E<h;E++){for(S=0;S<y;S+=4)if(m[C+S]!==255){P=!0;break}if(!P)C+=y;else break}for(v.ascent=h-E,C=g-y,P=!1,E=d;E>h;E--){for(S=0;S<y;S+=4)if(m[C+S]!==255){P=!0;break}if(!P)C-=y;else break}return v.descent=E-h,v.fontSize=v.ascent+v.descent,e.remove(r),v};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),f=t(0),i=t(36),r=t(59),a=t(65),n=t(14),s=t(34),u=new f({Extends:s,Mixins:[e],initialize:function(h,d,v,c,m,g,y,E,S){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=128),m===void 0&&(m=0),g===void 0&&(g=360),y===void 0&&(y=!1),s.call(this,h,"Arc",new a(0,0,c)),this._startAngle=m,this._endAngle=g,this._anticlockwise=y,this._iterations=.01,this.setPosition(d,v);var C=this.geom.radius*2;this.setSize(C,C),E!==void 0&&this.setFillStyle(E,S),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(o){this._iterations=o,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(o){this.geom.radius=o;var h=o*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(o){this._startAngle=o,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(o){this._endAngle=o,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(o){this._anticlockwise=o,this.updateData()}},setRadius:function(o){return this.radius=o,this},setIterations:function(o){return o===void 0&&(o=.01),this.iterations=o,this},setStartAngle:function(o,h){return this._startAngle=o,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(o,h){return this._endAngle=o,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var o=this._iterations,h=o,d=this.geom.radius,v=i(this._startAngle),c=i(this._endAngle),m=this._anticlockwise,g=d,y=d;c-=v,m?c<-n.PI2?c=-n.PI2:c>0&&(c=-n.PI2+c%n.PI2):c>n.PI2?c=n.PI2:c<0&&(c=n.PI2+c%n.PI2);for(var E=[g+Math.cos(v)*d,y+Math.sin(v)*d],S;h<1;)S=c*h+v,E.push(g+Math.cos(S)*d,y+Math.sin(S)*d),h+=o;return S=c+v,E.push(g+Math.cos(S)*d,y+Math.sin(S)*d),E.push(g+Math.cos(v)*d,y+Math.sin(v)*d),this.pathIndexes=r(E),this.pathData=E,this}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(1100),i=t(59),r=t(10),a=t(34),n=new e({Extends:a,Mixins:[f],initialize:function(u,o,h,d,v,c){o===void 0&&(o=0),h===void 0&&(h=0),a.call(this,u,"Curve",d),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(o,h),v!==void 0&&this.setFillStyle(v,c),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,u=this._smoothness;this.geom.getBounds(s,u),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var o=[],h=this.geom.getPoints(u),d=0;d<h.length;d++)o.push(h[d].x,h[d].y);return o.push(h[0].x,h[0].y),this.pathIndexes=i(o),this.pathData=o,this}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(59),i=t(1103),r=t(111),a=t(34),n=new e({Extends:a,Mixins:[i],initialize:function(u,o,h,d,v,c,m){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=128),v===void 0&&(v=128),a.call(this,u,"Ellipse",new r(d/2,v/2,d,v)),this._smoothness=64,this.setPosition(o,h),this.width=d,this.height=v,c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,u){return this.width=s,this.height=u,this.geom.setPosition(s/2,u/2),this.geom.setSize(s,u),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],u=this.geom.getPoints(this._smoothness),o=0;o<u.length;o++)s.push(u[o].x,u[o].y);return s.push(u[0].x,u[0].y),this.pathIndexes=f(s),this.pathData=s,this}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(34),i=t(1106),r=new e({Extends:f,Mixins:[i],initialize:function(n,s,u,o,h,d,v,c,m,g,y){s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o=128),h===void 0&&(h=128),d===void 0&&(d=32),v===void 0&&(v=32),f.call(this,n,"Grid",null),this.cellWidth=d,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,u),this.setSize(o,h),this.setFillStyle(c,m),g!==void 0&&this.setOutlineStyle(g,y),this.updateDisplayOrigin()},setFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=n,this.showOutline=!0),this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),f=t(0),i=t(34),r=new f({Extends:i,Mixins:[e],initialize:function(n,s,u,o,h,d,v,c){s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o=48),h===void 0&&(h=32),d===void 0&&(d=15658734),v===void 0&&(v=10066329),c===void 0&&(c=13421772),i.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,u),this.setSize(o,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,n,s){return a===void 0&&(a=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),this.showTop=a,this.showLeft=n,this.showRight=s,this},setFillStyle:function(a,n,s){return this.fillTop=a,this.fillLeft=n,this.fillRight=s,this.isFilled=!0,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(1112),i=t(34),r=new e({Extends:i,Mixins:[f],initialize:function(n,s,u,o,h,d,v,c,m){s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o=48),h===void 0&&(h=32),d===void 0&&(d=!1),v===void 0&&(v=15658734),c===void 0&&(c=10066329),m===void 0&&(m=13421772),i.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=c,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(s,u),this.setSize(o,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,n,s){return a===void 0&&(a=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),this.showTop=a,this.showLeft=n,this.showRight=s,this},setFillStyle:function(a,n,s){return this.fillTop=a,this.fillLeft=n,this.fillRight=s,this.isFilled=!0,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(34),i=t(47),r=t(1115),a=new e({Extends:f,Mixins:[r],initialize:function(s,u,o,h,d,v,c,m,g){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=128),c===void 0&&(c=0),f.call(this,s,"Line",new i(h,d,v,c));var y=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(u,o),this.setSize(y,E),m!==void 0&&this.setStrokeStyle(1,m,g),this.updateDisplayOrigin()},setLineWidth:function(n,s){return s===void 0&&(s=n),this._startWidth=n,this._endWidth=s,this.lineWidth=n,this},setTo:function(n,s,u,o){return this.geom.setTo(n,s,u,o),this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),f=t(0),i=t(59),r=t(469),a=t(227),n=t(34),s=t(472),u=new f({Extends:n,Mixins:[e],initialize:function(h,d,v,c,m,g){d===void 0&&(d=0),v===void 0&&(v=0),n.call(this,h,"Polygon",new a(c));var y=r(this.geom);this.setPosition(d,v),this.setSize(y.width,y.height),m!==void 0&&this.setFillStyle(m,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(o){o===void 0&&(o=1);for(var h=0;h<o;h++)s(this.geom);return this.updateData()},updateData:function(){for(var o=[],h=this.geom.points,d=0;d<h.length;d++)o.push(h[d].x,h[d].y);return o.push(h[0].x,h[0].y),this.pathIndexes=i(o),this.pathData=o,this}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r){r===void 0&&(r=new e);for(var a=1/0,n=1/0,s=-a,u=-n,o,h=0;h<i.points.length;h++)o=i.points[h],a=Math.min(a,o.x),n=Math.min(n,o.y),s=Math.max(s,o.x),u=Math.max(u,o.y);return r.x=a,r.y=n,r.width=s-a,r.height=u-n,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=t(47),i=t(471),r=function(a,n,s,u){u===void 0&&(u=[]);var o=a.points,h=i(a);!n&&s>0&&(n=h/s);for(var d=0;d<n;d++)for(var v=h*(d/n),c=0,m=0;m<o.length;m++){var g=o[m],y=o[(m+1)%o.length],E=new f(g.x,g.y,y.x,y.y),S=e(E);if(v<c||v>c+S){c+=S;continue}var C=E.getPoint((v-c)/S);u.push(C);break}return u};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=t(47),i=function(r){for(var a=r.points,n=0,s=0;s<a.length;s++){var u=a[s],o=a[(s+1)%a.length],h=new f(u.x,u.y,o.x,o.y);n+=e(h)}return n};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(f,i){return f[0]=i[0],f[1]=i[1],f},e=function(f){var i,r=[],a=f.points;for(i=0;i<a.length;i++)r.push([a[i].x,a[i].y]);var n=[];for(r.length>0&&n.push(t([0,0],r[0])),i=0;i<r.length-1;i++){var s=r[i],u=r[i+1],o=s[0],h=s[1],d=u[0],v=u[1];n.push([.85*o+.15*d,.85*h+.15*v]),n.push([.15*o+.85*d,.15*h+.85*v])}return r.length>1&&n.push(t([0,0],r[r.length-1])),f.setTo(n)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(10),i=t(34),r=t(1121),a=new e({Extends:i,Mixins:[r],initialize:function(s,u,o,h,d,v,c){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=128),d===void 0&&(d=128),i.call(this,s,"Rectangle",new f(0,0,h,d)),this.setPosition(u,o),this.setSize(h,d),v!==void 0&&this.setFillStyle(v,c),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,s){return this.width=n,this.height=s,this.geom.setSize(n,s),this.updateData(),this},updateData:function(){var n=[],s=this.geom,u=this._tempLine;return s.getLineA(u),n.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),n.push(u.x2,u.y2),s.getLineC(u),n.push(u.x2,u.y2),s.getLineD(u),n.push(u.x2,u.y2),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),f=t(0),i=t(59),r=t(34),a=new f({Extends:r,Mixins:[e],initialize:function(s,u,o,h,d,v,c,m){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=5),d===void 0&&(d=32),v===void 0&&(v=64),r.call(this,s,"Star",null),this._points=h,this._innerRadius=d,this._outerRadius=v,this.setPosition(u,o),this.setSize(v*2,v*2),c!==void 0&&this.setFillStyle(c,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],s=this._points,u=this._innerRadius,o=this._outerRadius,h=Math.PI/2*3,d=Math.PI/s,v=o,c=o;n.push(v,c+-o);for(var m=0;m<s;m++)n.push(v+Math.cos(h)*o,c+Math.sin(h)*o),h+=d,n.push(v+Math.cos(h)*u,c+Math.sin(h)*u),h+=d;return n.push(v,c+-o),this.pathIndexes=i(n),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(34),i=t(82),r=t(1127),a=new e({Extends:f,Mixins:[r],initialize:function(s,u,o,h,d,v,c,m,g,y,E){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=128),v===void 0&&(v=64),c===void 0&&(c=0),m===void 0&&(m=128),g===void 0&&(g=128),f.call(this,s,"Triangle",new i(h,d,v,c,m,g));var S=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(u,o),this.setSize(S,C),y!==void 0&&this.setFillStyle(y,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,s,u,o,h,d){return this.geom.setTo(n,s,u,o,h,d),this.updateData()},updateData:function(){var n=[],s=this.geom,u=this._tempLine;return s.getLineA(u),n.push(u.x1,u.y1,u.x2,u.y2),s.getLineB(u),n.push(u.x2,u.y2),s.getLineC(u),n.push(u.x2,u.y2),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(67),i=function(r,a,n){n===void 0&&(n=new e);var s=r.getLineA(),u=r.getLineB(),o=r.getLineC();if(a<=0||a>=1)return n.x=s.x1,n.y=s.y1,n;var h=f(s),d=f(u),v=f(o),c=h+d+v,m=c*a,g=0;return m<h?(g=m/h,n.x=s.x1+(s.x2-s.x1)*g,n.y=s.y1+(s.y2-s.y1)*g):m>h+d?(m-=h+d,g=m/v,n.x=o.x1+(o.x2-o.x1)*g,n.y=o.y1+(o.y2-o.y1)*g):(m-=h,g=m/d,n.x=u.x1+(u.x2-u.x1)*g,n.y=u.y1+(u.y2-u.y1)*g),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=t(4),i=function(r,a,n,s){s===void 0&&(s=[]);var u=r.getLineA(),o=r.getLineB(),h=r.getLineC(),d=e(u),v=e(o),c=e(h),m=d+v+c;!a&&n>0&&(a=m/n);for(var g=0;g<a;g++){var y=m*(g/a),E=0,S=new f;y<d?(E=y/d,S.x=u.x1+(u.x2-u.x1)*E,S.y=u.y1+(u.y2-u.y1)*E):y>d+v?(y-=d+v,E=y/c,S.x=h.x1+(h.x2-h.x1)*E,S.y=h.y1+(h.y2-h.y1)*E):(y-=d,E=y/v,S.x=o.x1+(o.x2-o.x1)*E,S.y=o.y1+(o.y2-o.y1)*E),s.push(S)}return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(f))return e[f]=i,!0;if(f.indexOf(".")!==-1){for(var r=f.split("."),a=e,n=e,s=0;s<r.length;s++)if(a.hasOwnProperty(r[s]))n=a,a=a[r[s]];else return!1;return n[r[r.length-1]]=i,!0}return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),f=t(117),i=function(r,a,n,s,u,o,h){if(s===void 0&&(s=!1),o===void 0&&(o=16777215),h===void 0&&(h=1),r.length!==a.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,c,m,g,y,E,S,C,P,A,R,M=s?3:2,L=Array.isArray(o),F=Array.isArray(h);if(Array.isArray(n)&&n.length>0)for(v=0;v<n.length;v++){var I=n[v],N=n[v]*2,z=n[v]*M;c=r[z],m=r[z+1],g=s?r[z+2]:0,y=a[N],E=a[N+1],S=L?o[I]:o,C=F?h[I]:h,P=0,A=0,R=0,u&&(P=u[z],A=u[z+1],R=s?u[z+2]:0),d.vertices.push(new f(c,m,g,y,E,S,C,P,A,R))}else{var W=0,$=0;for(v=0;v<r.length;v+=M)c=r[v],m=r[v+1],g=s?r[v+2]:0,y=a[W],E=a[W+1],S=L?o[$]:o,C=F?h[$]:h,P=0,A=0,R=0,u&&(P=u[v],A=u[v+1],R=s?u[v+2]:0),d.vertices.push(new f(c,m,g,y,E,S,C,P,A,R)),W+=2,$++}for(v=0;v<d.vertices.length;v+=3){var Z=d.vertices[v],D=d.vertices[v+1],O=d.vertices[v+2];d.faces.push(new e(Z,D,O))}return d};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),f=t(69),i=t(39),r=t(117),a=new i,n=new i,s=new f,u=function(o,h,d,v,c,m,g,y,E,S){d===void 0&&(d=1),v===void 0&&(v=0),c===void 0&&(c=0),m===void 0&&(m=0),g===void 0&&(g=0),y===void 0&&(y=0),E===void 0&&(E=0),S===void 0&&(S=!0);var C={faces:[],verts:[]},P=o.materials;a.set(v,c,m),n.set(g,y,E),s.fromRotationXYTranslation(n,a,S);for(var A=0;A<o.models.length;A++)for(var R=o.models[A],M=R.vertices,L=R.textureCoords,F=R.faces,I=0;I<F.length;I++){var N=F[I],z=N.vertices[0],W=N.vertices[1],$=N.vertices[2],Z=M[z.vertexIndex],D=M[W.vertexIndex],O=M[$.vertexIndex],B=z.textureCoordsIndex,G=W.textureCoordsIndex,Y=$.textureCoordsIndex,V=B===-1?{u:0,v:1}:L[B],b=G===-1?{u:0,v:0}:L[G],H=Y===-1?{u:1,v:1}:L[Y],j=16777215;N.material!==""&&P[N.material]&&(j=P[N.material]);var q=new r(Z.x*d,Z.y*d,Z.z*d,V.u,V.v,j).transformMat4(s),et=new r(D.x*d,D.y*d,D.z*d,b.u,b.v,j).transformMat4(s),ot=new r(O.x*d,O.y*d,O.z*d,H.u,H.v,j).transformMat4(s);C.verts.push(q,et,ot),C.faces.push(new e(q,et,ot))}return h&&(h.faces=h.faces.concat(C.faces),h.vertices=h.vertices.concat(C.verts)),C};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),f=t(0),i=t(11),r=t(200),a=t(12),n=new f({Extends:e,Mixins:[i.ScrollFactor,i.Visible],initialize:function(u,o,h,d,v,c,m){e.call(this,u,o,h),this.color=new r(d,v,c),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(s){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var u=a.getFloatsFromUintRGB(s);return this.color.set(u[0],u[1],u[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});n.RENDER_MASK=15,l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),f=t(0),i=t(50),r=t(481),a=t(150),n=t(200),s=t(74),u=t(79),o=t(12),h=new f({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,v,c,m,g,y){return this.systems.displayList.add(new a(this.scene,d,v,c,m,g,y))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var v=this.lights,c=d.worldView,m=[],g=0;g<v.length;g++){var y=v[g];y.willRender(d)&&e(y,c)&&m.push({light:y,distance:i(y.x,y.y,c.centerX,c.centerY)})}return m.length>this.maxLights&&(u(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(d,v){return d.distance>=v.distance},setAmbientColor:function(d){var v=o.getFloatsFromUintRGB(d);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,v,c,m,g){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=128),m===void 0&&(m=16777215),g===void 0&&(g=1);var y=o.getFloatsFromUintRGB(m),E=new r(d,v,c,y[0],y[1],y[2],g);return this.lights.push(E),E},removeLight:function(d){var v=this.lights.indexOf(d);return v>=0&&s(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),f=t(17),i={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),f=function(i,r,a){var n=i.x1,s=i.y1,u=i.x2,o=i.y2,h=r.x1,d=r.y1,v=r.x2,c=r.y2,m=u-n,g=o-s,y=v-h,E=c-d,S=E*m-y*g;if(m===0||S===0)return!1;var C=(m*(d-s)+g*(n-h))/(y*g-E*m),P=(h+y*C-n)/m;return P<0||C<0||C>1?null:(a===void 0&&(a=new e),a.set(n+m*P,s+g*P,P))};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),f=t(485),i=t(47),r=new i,a=new e,n=function(s,u,o){o===void 0&&(o=new e);var h=!1;o.set(),a.set();for(var d=u[0],v=1;v<u.length;v++){var c=u[v];r.setTo(d.x,d.y,c.x,c.y),d=c,f(s,r,a)&&(!h||a.z<o.z)&&(o.copy(a),h=!0)}return h?o:null};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),f=t(140),i=t(486),r=new e,a=function(n,s,u){u===void 0&&(u=new f),Array.isArray(s)||(s=[s]);var o=!1;u.set(),r.set();for(var h=0;h<s.length;h++)i(n,s[h].points,r)&&(!o||r.z<u.z)&&(u.set(r.x,r.y,r.z,h),o=!0);return o?u:null};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.x1,r=e.y1,a=e.x2,n=e.y2,s=f.x,u=f.y,o=f.right,h=f.bottom,d=0;if(i>=s&&i<=o&&r>=u&&r<=h||a>=s&&a<=o&&n>=u&&n<=h)return!0;if(i<s&&a>=s){if(d=r+(n-r)*(s-i)/(a-i),d>u&&d<=h)return!0}else if(i>o&&a<=o&&(d=r+(n-r)*(o-i)/(a-i),d>=u&&d<=h))return!0;if(r<u&&n>=u){if(d=i+(a-i)*(u-r)/(n-r),d>=s&&d<=o)return!0}else if(r>h&&n<=h&&(d=i+(a-i)*(h-r)/(n-r),d>=s&&d<=o))return!0;return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),f=t(57),i=t(235),r=t(490),a=function(n,s){if(s.left>n.right||s.right<n.left||s.top>n.bottom||s.bottom<n.top)return!1;var u=s.getLineA(),o=s.getLineB(),h=s.getLineC();if(f(n,u.x1,u.y1)||f(n,u.x2,u.y2)||f(n,o.x1,o.y1)||f(n,o.x2,o.y2)||f(n,h.x1,h.y1)||f(n,h.x2,h.y2))return!0;var d=n.getLineA(),v=n.getLineB(),c=n.getLineC(),m=n.getLineD();if(e(u,d)||e(u,v)||e(u,c)||e(u,m)||e(o,d)||e(o,v)||e(o,c)||e(o,m)||e(h,d)||e(h,v)||e(h,c)||e(h,m))return!0;var g=r(n),y=i(s,g,!0);return y.length>0};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x,y:e.y}),f.push({x:e.right,y:e.y}),f.push({x:e.right,y:e.bottom}),f.push({x:e.x,y:e.bottom}),f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),f=t(115),i=function(r,a){return r.left>a.right||r.right<a.left||r.top>a.bottom||r.bottom<a.top?!1:!!(f(r,a.x,a.y)||e(r.getLineA(),a)||e(r.getLineB(),a)||e(r.getLineC(),a))};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(493),i=t(96),r=function(a,n,s){if(s===void 0&&(s=[]),f(a,n))for(var u=a.getLineA(),o=a.getLineB(),h=a.getLineC(),d=[new e,new e,new e],v=[i(u,n,d[0]),i(o,n,d[1]),i(h,n,d[2])],c=0;c<3;c++)v[c]&&s.push(d[c]);return s};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),f=function(i,r){return!!(i.contains(r.x1,r.y1)||i.contains(r.x2,r.y2)||e(i.getLineA(),r)||e(i.getLineB(),r)||e(i.getLineC(),r))};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),f=t(495),i=t(96),r=function(a,n){if(a.left>n.right||a.right<n.left||a.top>n.bottom||a.bottom<n.top)return!1;var s=a.getLineA(),u=a.getLineB(),o=a.getLineC(),h=n.getLineA(),d=n.getLineB(),v=n.getLineC();if(i(s,h)||i(s,d)||i(s,v)||i(u,h)||i(u,d)||i(u,v)||i(o,h)||i(o,d)||i(o,v))return!0;var c=f(a),m=e(n,c,!0);return m.length>0||(c=f(n),m=e(a,c,!0),m.length>0)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=[]),f.push({x:e.x1,y:e.y1}),f.push({x:e.x2,y:e.y2}),f.push({x:e.x3,y:e.y3}),f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){i===void 0&&(i=1);var r=f.x1,a=f.y1,n=f.x2,s=f.y2,u=e.x,o=e.y,h=(n-r)*(n-r)+(s-a)*(s-a);if(h===0)return!1;var d=((u-r)*(n-r)+(o-a)*(s-a))/h;if(d<0)return Math.sqrt((r-u)*(r-u)+(a-o)*(a-o))<=i;if(d>=0&&d<=1){var v=((a-o)*(n-r)-(r-u)*(s-a))/h;return Math.abs(v)*Math.sqrt(h)<=i}else return Math.sqrt((n-u)*(n-u)+(s-o)*(s-o))<=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(68),i=t(97),r=function(a){var n=i(a)-e.TAU;return f(n,-Math.PI,Math.PI)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",f="",i="";function r(g){var y=g.indexOf("#");return y>-1?g.substring(0,y):g}function a(g){return g.models.length===0&&g.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),f="",g.models[g.models.length-1]}function n(g,y){var E=g.length>=2?g[1]:e;y.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),f=""}function s(g){g.length===2&&(f=g[1])}function u(g,y){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;a(y).vertices.push({x:S,y:C,z:P})}function o(g,y){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;isNaN(S)&&(S=0),isNaN(C)&&(C=0),isNaN(P)&&(P=0),t&&(C=1-C),a(y).textureCoords.push({u:S,v:C,w:P})}function h(g,y){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;a(y).vertexNormals.push({x:S,y:C,z:P})}function d(g,y){var E=g.length-1;if(!(E<3)){for(var S={group:f,material:i,vertices:[]},C=0;C<E;C++){var P=g[C+1],A=P.split("/"),R=A.length;if(!(R<1||R>3)){var M=0,L=0,F=0;M=parseInt(A[0],10),R>1&&A[1]!==""&&(L=parseInt(A[1],10)),R>2&&(F=parseInt(A[2],10)),M!==0&&(M<0&&(M=a(y).vertices.length+1+M),L-=1,M-=1,F-=1,S.vertices.push({textureCoordsIndex:L,vertexIndex:M,vertexNormalIndex:F}))}}a(y).faces.push(S)}}function v(g,y){g.length>=2&&y.materialLibraries.push(g[1])}function c(g){g.length>=2&&(i=g[1])}var m=function(g,y){y===void 0&&(y=!0),t=y;var E={materials:{},materialLibraries:[],models:[]};f="",i="";for(var S=g.split(`
`),C=0;C<S.length;C++){var P=r(S[C]),A=P.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":n(A,E);break;case"g":s(A);break;case"v":u(A,E);break;case"vt":o(A,E);break;case"vn":h(A,E);break;case"f":d(A,E);break;case"mtllib":v(A,E);break;case"usemtl":c(A);break}}return E};l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),f=function(i){for(var r={},a=i.split(`
`),n="",s=0;s<a.length;s++){var u=a[s].trim();if(!(u.indexOf("#")===0||u==="")){var o=u.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":{n=o[1];break}case"kd":{var h=Math.floor(o[1]*255),d=o.length>=2?Math.floor(o[2]*255):h,v=o.length>=3?Math.floor(o[3]*255):h;r[n]=e(h,d,v);break}}}}return r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.width*f.height>e.width*e.height?!1:f.x>e.x&&f.x<e.right&&f.right>e.x&&f.right<e.right&&f.y>e.y&&f.y<e.bottom&&f.bottom>e.y&&f.bottom<e.bottom};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.x=(i.x1+i.x2+i.x3)/3,r.y=(i.y1+i.y2+i.y3)/3,r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x1+=f,e.y1+=i,e.x2+=f,e.y2+=i,e.x3+=f,e.y3+=i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function f(r,a,n,s){var u=r-n,o=a-s,h=u*u+o*o;return Math.sqrt(h)}var i=function(r,a){a===void 0&&(a=new e);var n=r.x1,s=r.y1,u=r.x2,o=r.y2,h=r.x3,d=r.y3,v=f(h,d,u,o),c=f(n,s,h,d),m=f(u,o,n,s),g=v+c+m;return a.x=(n*v+u*c+h*m)/g,a.y=(s*v+o*c+d*m)/g,a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return function(i,r,a,n){var s=e.getPixelAlpha(r,a,n.texture.key,n.frame.name);return s&&s>=f}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:f,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a){this.pad=r,this.events=r.events,this.index=a,this.value=0,this.threshold=.1},update:function(i){this.value=i},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(239),i=new e({initialize:function(a,n){this.pad=a,this.events=a.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var a=this.pad,n=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(f.BUTTON_DOWN,a,this,r),this.pad.emit(f.GAMEPAD_BUTTON_DOWN,n,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(f.BUTTON_UP,a,this,r),this.pad.emit(f.GAMEPAD_BUTTON_UP,n,r,this))},destroy:function(){this.pad=null,this.events=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),f=t(510),i=t(0),r=t(9),a=t(3),n=new i({Extends:r,initialize:function(u,o){r.call(this),this.manager=u,this.pad=o,this.id=o.id,this.index=o.index;for(var h=[],d=0;d<o.buttons.length;d++)h.push(new f(this,d));this.buttons=h;var v=[];for(d=0;d<o.axes.length;d++)v.push(new e(this,d));this.axes=v,this.vibration=o.vibrationActuator;var c={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:c,this._LCRight=h[15]?h[15]:c,this._LCTop=h[12]?h[12]:c,this._LCBottom=h[13]?h[13]:c,this._RCLeft=h[2]?h[2]:c,this._RCRight=h[1]?h[1]:c,this._RCTop=h[3]?h[3]:c,this._RCBottom=h[0]?h[0]:c,this._FBLeftTop=h[4]?h[4]:c,this._FBLeftBottom=h[6]?h[6]:c,this._FBRightTop=h[5]?h[5]:c,this._FBRightBottom=h[7]?h[7]:c;var m={value:0};this._HAxisLeft=v[0]?v[0]:m,this._VAxisLeft=v[1]?v[1]:m,this._HAxisRight=v[2]?v[2]:m,this._VAxisRight=v[3]?v[3]:m,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var u=0;u<this.axes.length;u++)this.axes[u].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var u,o=this.buttons,h=s.buttons,d=o.length;for(u=0;u<d;u++)o[u].update(h[u].value);var v=this.axes,c=s.axes;for(d=v.length,u=0;u<d;u++)v[u].update(c[u]);d>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),d>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(154),r=new e({Extends:f,initialize:function(n,s){f.call(this),this.plugin=n,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(i.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(i.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(i.UP,this,a))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(154),i=t(2),r=t(514),a=t(516),n=new e({initialize:function(u,o,h){if(h===void 0&&(h={}),o.length<2)return!1;this.manager=u,this.enabled=!0,this.keyCodes=[];for(var d=0;d<o.length;d++){var v=o[d];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=i(h,"resetOnWrongKey",!0),this.maxKeyDelay=i(h,"maxKeyDelay",0),this.resetOnMatch=i(h,"resetOnMatch",!1),this.deleteOnMatch=i(h,"deleteOnMatch",!1);var c=this,m=function(g){if(!(c.matched||!c.enabled)){var y=r(g,c);y&&(c.manager.emit(f.COMBO_MATCH,c,g),c.resetOnMatch?a(c):c.deleteOnMatch&&c.destroy())}};this.onKeyDown=m,this.manager.on(f.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(f.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),f=function(i,r){if(r.matched)return!0;var a=!1,n=!1;if(i.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;i.timeStamp<=s&&(n=!0,a=e(i,r))}else n=!0,a=e(i,r);return!n&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),a&&(r.timeLastMatched=i.timeStamp,r.matched=!0,r.timeMatched=i.timeStamp),a};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.timeLastMatched=e.timeStamp,f.index++,f.index===f.size?!0:(f.current=f.keyCodes[f.index],!1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),f=function(i,r){var a=e(r,i.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",i.src,a.async,a.user,a.password),n.responseType=i.xhrSettings.responseType,n.timeout=a.timeout,a.headers)for(var s in a.headers)n.setRequestHeader(s,a.headers[s]);return a.header&&a.headerValue&&n.setRequestHeader(a.header,a.headerValue),a.requestedWith&&n.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&n.overrideMimeType(a.overrideMimeType),a.withCredentials&&(n.withCredentials=!0),n.onload=i.onLoad.bind(i,n),n.onerror=i.onError.bind(i,n),n.onprogress=i.onProgress.bind(i),n.send(),n};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(519),s=t(7),u=new e({Extends:i,initialize:function(h,d,v,c,m){if(s(d)){var g=d;d=a(g,"key"),c=a(g,"xhrSettings"),m=a(g,"context",m)}var y={type:"audio",cache:h.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:d,url:v.url,xhrSettings:c,config:{context:m}};i.call(this,h,y)},onProcess:function(){this.state=f.FILE_PROCESSING;var o=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){o.data=h,o.onProcessComplete()},function(h){console.error("Error decoding audio: "+o.key+" - ",h?h.message:null),o.onProcessError()}),this.config.context=null}});u.create=function(o,h,d,v,c){var m=o.systems.game,g=m.config.audio,y=m.device.audio;s(h)&&(d=a(h,"url",[]),v=a(h,"config",{}));var E=u.getAudioURL(m,d);return E?y.webAudio&&!g.disableWebAudio?new u(o,h,E,c,m.sound.context):new n(o,h,E,v):null},u.getAudioURL=function(o,h){Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=a(h[d],"url",h[d]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var c=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(c=a(h[d],"type",c?c[1]:"").toLowerCase(),o.device.audio[c])return{url:v,type:c}}return null},r.register("audio",function(o,h,d,v){var c=this.systems.game,m=c.config.audio,g=c.device.audio;if(m.noAudio||!g.webAudio&&!g.audioData)return this;var y;if(Array.isArray(o))for(var E=0;E<o.length;E++)y=u.create(this,o[E]),y&&this.addFile(y);else y=u.create(this,o,h,d,v),y&&this.addFile(y);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(95),i=t(23),r=t(2),a=t(155),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){if(n(h)){var c=h;h=r(c,"key"),v=r(c,"config",v)}var m={type:"audio",cache:o.cacheManager.audio,extension:d.type,key:h,url:d.url,config:v};i.call(this,o,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var u=0;u<this.data.length;u++){var o=this.data[u];o.oncanplaythrough=null,o.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(u){var o=u.target;o.oncanplaythrough=null,o.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var u=this.config&&this.config.instances||1;this.filesTotal=u,this.filesLoaded=0,this.percentComplete=0;for(var o=0;o<u;o++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+o).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(o=0;o<this.data.length;o++)h=this.data[o],h.src=a(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="js";if(n(h)){var m=h;h=a(m,"key"),d=a(m,"url"),v=a(m,"xhrSettings"),c=a(m,"extension",c)}var g={type:"script",cache:!1,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),f=t(157),i=t(0),r=t(62),a=t(524),n=t(525),s=new i({initialize:function(o){this.world=o,this.scene=o.scene,this.sys=o.scene.sys},collider:function(u,o,h,d,v){return this.world.addCollider(u,o,h,d,v)},overlap:function(u,o,h,d,v){return this.world.addOverlap(u,o,h,d,v)},existing:function(u,o){var h=o?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(u,h),u},staticImage:function(u,o,h,d){var v=new e(this.scene,u,o,h,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},image:function(u,o,h,d){var v=new e(this.scene,u,o,h,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticSprite:function(u,o,h,d){var v=new f(this.scene,u,o,h,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},sprite:function(u,o,h,d){var v=new f(this.scene,u,o,h,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticGroup:function(u,o){return this.sys.updateList.add(new n(this.world,this.world.scene,u,o))},group:function(u,o){return this.sys.updateList.add(new a(this.world,this.world.scene,u,o))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(243),i=t(125),r=new e({Extends:i,Mixins:[f.Acceleration,f.Angular,f.Bounce,f.Debug,f.Drag,f.Enable,f.Friction,f.Gravity,f.Immovable,f.Mass,f.Pushable,f.Size,f.Velocity],initialize:function(n,s,u,o,h){i.call(this,n,s,u,o,h),this.body=null}});l.exports=r},function(l,x,t){var e=t(244),f=t(65),i=t(231),r=t(151),a=function(n,s,u,o,h,d){var v=e(n,s-o,u-o,2*o,2*o,h,d);if(v.length===0)return v;for(var c=new f(s,u,o),m=new f,g=[],y=0;y<v.length;y++){var E=v[y];E.isCircle?(m.setTo(E.center.x,E.center.y,E.halfWidth),i(c,m)&&g.push(E)):r(c,E)&&g.push(E)}return g};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),f=t(0),i=t(62),r=t(2),a=t(113),n=t(7),s=new f({Extends:a,initialize:function(o,h,d,v){if(!d&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){v=d[0];var c=this;d.forEach(function(m){m.internalCreateCallback=c.createCallbackHandler,m.internalRemoveCallback=c.removeCallbackHandler}),d=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,v.classType=r(v,"classType",e),this.physicsType=i.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},a.call(this,h,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,i.DYNAMIC_BODY);var o=u.body;for(var h in this.defaults)o[h](this.defaults[h])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,o,h){h===void 0&&(h=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(u+v*h,o+v*h);return this},setVelocityX:function(u,o){o===void 0&&(o=0);for(var h=this.getChildren(),d=0;d<h.length;d++)h[d].body.velocity.x=u+d*o;return this},setVelocityY:function(u,o){o===void 0&&(o=0);for(var h=this.getChildren(),d=0;d<h.length;d++)h[d].body.velocity.y=u+d*o;return this}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),f=t(0),i=t(62),r=t(2),a=t(113),n=t(7),s=new f({Extends:a,initialize:function(o,h,d,v){!d&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:n(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",e)):Array.isArray(d)&&n(d[0])?(v=d,d=null,v.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=r(c,"classType",e)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=i.STATIC_BODY,a.call(this,h,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,i.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,o=0;o<u.length;o++)u[o].body.reset();return this}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),f=t(527),i=t(18),r=t(0),a=t(528),n=t(62),s=t(50),u=t(9),o=t(245),h=t(124),d=t(354),v=t(355),c=t(246),m=t(247),g=t(529),y=t(6),E=t(14),S=t(211),C=t(530),P=t(10),A=t(531),R=t(532),M=t(537),L=t(538),F=t(149),I=t(539),N=t(248),z=t(25),W=t(3),$=t(68),Z=new r({Extends:u,initialize:function(O,B){u.call(this),this.scene=O,this.bodies=new F,this.staticBodies=new F,this.pendingDestroy=new F,this.colliders=new S,this.gravity=new W(y(B,"gravity.x",0),y(B,"gravity.y",0)),this.bounds=new P(y(B,"x",0),y(B,"y",0),y(B,"width",O.sys.scale.width),y(B,"height",O.sys.scale.height)),this.checkCollision={up:y(B,"checkCollision.up",!0),down:y(B,"checkCollision.down",!0),left:y(B,"checkCollision.left",!0),right:y(B,"checkCollision.right",!0)},this.fps=y(B,"fps",60),this.fixedStep=y(B,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(B,"timeScale",1),this.OVERLAP_BIAS=y(B,"overlapBias",4),this.TILE_BIAS=y(B,"tileBias",16),this.forceX=y(B,"forceX",!1),this.isPaused=y(B,"isPaused",!1),this._total=0,this.drawDebug=y(B,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(B,"debugShowBody",!0),debugShowStaticBody:y(B,"debugShowStaticBody",!0),debugShowVelocity:y(B,"debugShowVelocity",!0),bodyDebugColor:y(B,"debugBodyColor",16711935),staticBodyDebugColor:y(B,"debugStaticBodyColor",255),velocityDebugColor:y(B,"debugVelocityColor",65280)},this.maxEntries=y(B,"maxEntries",16),this.useTree=y(B,"useTree",!0),this.tree=new A(this.maxEntries),this.staticTree=new A(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new z,this._tempMatrix2=new z,this.drawDebug&&this.createDebugGraphic()},enable:function(D,O){O===void 0&&(O=n.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var B=0;B<D.length;B++){var G=D[B];if(G.isParent)for(var Y=G.getChildren(),V=0;V<Y.length;V++){var b=Y[V];b.isParent?this.enable(b,O):this.enableBody(b,O)}else this.enableBody(G,O)}},enableBody:function(D,O){return O===void 0&&(O=n.DYNAMIC_BODY),D.body||(O===n.DYNAMIC_BODY?D.body=new f(this,D):O===n.STATIC_BODY&&(D.body=new I(this,D))),this.add(D.body),D},add:function(D){return D.physicsType===n.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===n.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var O=0;O<D.length;O++){var B=D[O];if(B.isParent)for(var G=B.getChildren(),Y=0;Y<G.length;Y++){var V=G[Y];V.isParent?this.disable(V):this.disableBody(V.body)}else this.disableBody(B.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===n.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,O,B,G,Y,V,b,H){return this.bounds.setTo(D,O,B,G),Y!==void 0&&this.setBoundsCollision(Y,V,b,H),this},setBoundsCollision:function(D,O,B,G){return D===void 0&&(D=!0),O===void 0&&(O=!0),B===void 0&&(B=!0),G===void 0&&(G=!0),this.checkCollision.left=D,this.checkCollision.right=O,this.checkCollision.up=B,this.checkCollision.down=G,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(D,O,B,G,Y){B===void 0&&(B=null),G===void 0&&(G=null),Y===void 0&&(Y=B);var V=new a(this,!1,D,O,B,G,Y);return this.colliders.add(V),V},addOverlap:function(D,O,B,G,Y){B===void 0&&(B=null),G===void 0&&(G=null),Y===void 0&&(Y=B);var V=new a(this,!0,D,O,B,G,Y);return this.colliders.add(V),V},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,O){if(!(this.isPaused||this.bodies.size===0)){var B,G=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=O;var V,b=this.bodies.entries,H=this._elapsed>=Y;for(this.fixedStep||(G=O*.001,H=!0,this._elapsed=0),B=0;B<b.length;B++)V=b[B],V.enable&&V.preUpdate(H,G);if(H){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(b));var j=this.colliders.update();for(B=0;B<j.length;B++){var q=j[B];q.active&&q.update()}this.emit(o.WORLD_STEP,G)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(G)}},step:function(D){var O,B,G=this.bodies.entries,Y=G.length;for(O=0;O<Y;O++)B=G[O],B.enable&&B.update(D);this.useTree&&(this.tree.clear(),this.tree.load(G));var V=this.colliders.update();for(O=0;O<V.length;O++){var b=V[O];b.active&&b.update()}this.emit(o.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,O,B=this.bodies.entries,G=B.length,Y=this.bodies,V=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<G;D++)O=B[D],O.enable&&O.postUpdate();if(this.drawDebug){var b=this.debugGraphic;for(b.clear(),D=0;D<G;D++)O=B[D],O.willDrawDebug()&&O.drawDebug(b);for(B=V.entries,G=B.length,D=0;D<G;D++)O=B[D],O.willDrawDebug()&&O.drawDebug(b)}var H=this.pendingDestroy;if(H.size>0){var j=this.tree,q=this.staticTree;for(B=H.entries,G=B.length,D=0;D<G;D++)O=B[D],O.physicsType===n.DYNAMIC_BODY?(j.remove(O),Y.delete(O)):O.physicsType===n.STATIC_BODY&&(q.remove(O),V.delete(O)),O.world=void 0,O.gameObject=void 0;H.clear()}},updateMotion:function(D,O){D.allowRotation&&this.computeAngularVelocity(D,O),this.computeVelocity(D,O)},computeAngularVelocity:function(D,O){var B=D.angularVelocity,G=D.angularAcceleration,Y=D.angularDrag,V=D.maxAngular;G?B+=G*O:D.allowDrag&&Y&&(Y*=O,d(B-Y,0,.1)?B-=Y:v(B+Y,0,.1)?B+=Y:B=0),B=i(B,-V,V);var b=B-D.angularVelocity;D.angularVelocity+=b,D.rotation+=D.angularVelocity*O},computeVelocity:function(D,O){var B=D.velocity.x,G=D.acceleration.x,Y=D.drag.x,V=D.maxVelocity.x,b=D.velocity.y,H=D.acceleration.y,j=D.drag.y,q=D.maxVelocity.y,et=D.speed,ot=D.maxSpeed,K=D.allowDrag,Q=D.useDamping;D.allowGravity&&(B+=(this.gravity.x+D.gravity.x)*O,b+=(this.gravity.y+D.gravity.y)*O),G?B+=G*O:K&&Y&&(Q?(Y=Math.pow(Y,O),B*=Y,et=Math.sqrt(B*B+b*b),h(et,0,.001)&&(B=0)):(Y*=O,d(B-Y,0,.01)?B-=Y:v(B+Y,0,.01)?B+=Y:B=0)),H?b+=H*O:K&&j&&(Q?(j=Math.pow(j,O),b*=j,et=Math.sqrt(B*B+b*b),h(et,0,.001)&&(b=0)):(j*=O,d(b-j,0,.01)?b-=j:v(b+j,0,.01)?b+=j:b=0)),B=i(B,-V,V),b=i(b,-q,q),D.velocity.set(B,b),ot>-1&&et>ot&&(D.velocity.normalize().scale(ot),et=ot),D.speed=et},separate:function(D,O,B,G,Y,V){if(!V&&!D.enable||!O.enable||D.checkCollision.none||O.checkCollision.none||!this.intersects(D,O)||B&&B.call(G,D.gameObject,O.gameObject)===!1)return!1;if(D.isCircle&&O.isCircle)return this.separateCircle(D,O,Y);if(D.isCircle!==O.isCircle){var b=D.isCircle?O:D,H=D.isCircle?D:O,j={x:b.x,y:b.y,right:b.right,bottom:b.bottom},q=H.center;if((q.y<j.y||q.y>j.bottom)&&(q.x<j.x||q.x>j.right))return this.separateCircle(D,O,Y)}var et=!1,ot=!1;Y?(et=M(D,O,Y,this.OVERLAP_BIAS),ot=L(D,O,Y,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(et=M(D,O,Y,this.OVERLAP_BIAS),this.intersects(D,O)&&(ot=L(D,O,Y,this.OVERLAP_BIAS))):(ot=L(D,O,Y,this.OVERLAP_BIAS),this.intersects(D,O)&&(et=M(D,O,Y,this.OVERLAP_BIAS)));var K=et||ot;return K&&(Y?(D.onOverlap||O.onOverlap)&&this.emit(o.OVERLAP,D.gameObject,O.gameObject,D,O):(D.onCollide||O.onCollide)&&this.emit(o.COLLIDE,D.gameObject,O.gameObject,D,O)),K},separateCircle:function(D,O,B,G){c(D,O,!1,G),m(D,O,!1,G);var Y=0;if(D.isCircle!==O.isCircle){var V={x:O.isCircle?D.position.x:O.position.x,y:O.isCircle?D.position.y:O.position.y,right:O.isCircle?D.right:O.right,bottom:O.isCircle?D.bottom:O.bottom},b={x:D.isCircle?D.center.x:O.center.x,y:D.isCircle?D.center.y:O.center.y,radius:D.isCircle?D.halfWidth:O.halfWidth};b.y<V.y?b.x<V.x?Y=s(b.x,b.y,V.x,V.y)-b.radius:b.x>V.right&&(Y=s(b.x,b.y,V.right,V.y)-b.radius):b.y>V.bottom&&(b.x<V.x?Y=s(b.x,b.y,V.x,V.bottom)-b.radius:b.x>V.right&&(Y=s(b.x,b.y,V.right,V.bottom)-b.radius)),Y*=-1}else Y=D.halfWidth+O.halfWidth-s(D.center.x,D.center.y,O.center.x,O.center.y);if(D.overlapR=Y,O.overlapR=Y,B||Y===0||D.immovable&&O.immovable||D.customSeparateX||O.customSeparateX)return Y!==0&&(D.onOverlap||O.onOverlap)&&this.emit(o.OVERLAP,D.gameObject,O.gameObject,D,O),Y!==0;var H=D.center.x-O.center.x,j=D.center.y-O.center.y,q=Math.sqrt(Math.pow(H,2)+Math.pow(j,2)),et=(O.center.x-D.center.x)/q||0,ot=(O.center.y-D.center.y)/q||0,K=2*(D.velocity.x*et+D.velocity.y*ot-O.velocity.x*et-O.velocity.y*ot)/(D.mass+O.mass);(D.immovable||O.immovable)&&(K*=2),D.immovable||(D.velocity.x=D.velocity.x-K/D.mass*et,D.velocity.y=D.velocity.y-K/D.mass*ot),O.immovable||(O.velocity.x=O.velocity.x+K/O.mass*et,O.velocity.y=O.velocity.y+K/O.mass*ot),!D.immovable&&!O.immovable&&(Y/=2);var Q=e(D.center,O.center),tt=(Y+E.EPSILON)*Math.cos(Q),nt=(Y+E.EPSILON)*Math.sin(Q);return D.immovable||(D.x-=tt,D.y-=nt,D.updateCenter()),O.immovable||(O.x+=tt,O.y+=nt,O.updateCenter()),D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,O.velocity.x*=O.bounce.x,O.velocity.y*=O.bounce.y,(D.onCollide||O.onCollide)&&this.emit(o.COLLIDE,D.gameObject,O.gameObject,D,O),!0},intersects:function(D,O){return D===O?!1:!D.isCircle&&!O.isCircle?!(D.right<=O.position.x||D.bottom<=O.position.y||D.position.x>=O.right||D.position.y>=O.bottom):D.isCircle?O.isCircle?s(D.center.x,D.center.y,O.center.x,O.center.y)<=D.halfWidth+O.halfWidth:this.circleBodyIntersects(D,O):this.circleBodyIntersects(O,D)},circleBodyIntersects:function(D,O){var B=i(D.center.x,O.left,O.right),G=i(D.center.y,O.top,O.bottom),Y=(D.center.x-B)*(D.center.x-B),V=(D.center.y-G)*(D.center.y-G);return Y+V<=D.halfWidth*D.halfWidth},overlap:function(D,O,B,G,Y){return B===void 0&&(B=null),G===void 0&&(G=null),Y===void 0&&(Y=B),this.collideObjects(D,O,B,G,Y,!0)},collide:function(D,O,B,G,Y){return B===void 0&&(B=null),G===void 0&&(G=null),Y===void 0&&(Y=B),this.collideObjects(D,O,B,G,Y,!1)},collideObjects:function(D,O,B,G,Y,V){var b,H;D.isParent&&D.physicsType===void 0&&(D=D.children.entries),O&&O.isParent&&O.physicsType===void 0&&(O=O.children.entries);var j=Array.isArray(D),q=Array.isArray(O);if(this._total=0,!j&&!q)this.collideHandler(D,O,B,G,Y,V);else if(!j&&q)for(b=0;b<O.length;b++)this.collideHandler(D,O[b],B,G,Y,V);else if(j&&!q)if(O)for(b=0;b<D.length;b++)this.collideHandler(D[b],O,B,G,Y,V);else for(b=0;b<D.length;b++){var et=D[b];for(H=b+1;H<D.length;H++)b!==H&&this.collideHandler(et,D[H],B,G,Y,V)}else for(b=0;b<D.length;b++)for(H=0;H<O.length;H++)this.collideHandler(D[b],O[H],B,G,Y,V);return this._total>0},collideHandler:function(D,O,B,G,Y,V){if(O===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,B,G,Y,V);if(!D||!O)return!1;if(D.body){if(O.body)return this.collideSpriteVsSprite(D,O,B,G,Y,V);if(O.isParent)return this.collideSpriteVsGroup(D,O,B,G,Y,V);if(O.isTilemap)return this.collideSpriteVsTilemapLayer(D,O,B,G,Y,V)}else if(D.isParent){if(O.body)return this.collideSpriteVsGroup(O,D,B,G,Y,V);if(O.isParent)return this.collideGroupVsGroup(D,O,B,G,Y,V);if(O.isTilemap)return this.collideGroupVsTilemapLayer(D,O,B,G,Y,V)}else if(D.isTilemap){if(O.body)return this.collideSpriteVsTilemapLayer(O,D,B,G,Y,V);if(O.isParent)return this.collideGroupVsTilemapLayer(O,D,B,G,Y,V)}},collideSpriteVsSprite:function(D,O,B,G,Y,V){return!D.body||!O.body?!1:(this.separate(D.body,O.body,G,Y,V)&&(B&&B.call(Y,D,O),this._total++),!0)},collideSpriteVsGroup:function(D,O,B,G,Y,V){var b=D.body;if(!(O.length===0||!b||!b.enable||b.checkCollision.none)){var H,j,q;if(this.useTree||O.physicsType===n.STATIC_BODY){var et=this.treeMinMax;et.minX=b.left,et.minY=b.top,et.maxX=b.right,et.maxY=b.bottom;var ot=O.physicsType===n.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(j=ot.length,H=0;H<j;H++)q=ot[H],!(b===q||!q.enable||q.checkCollision.none||!O.contains(q.gameObject))&&this.separate(b,q,G,Y,V,!0)&&(B&&B.call(Y,b.gameObject,q.gameObject),this._total++)}else{var K=O.getChildren(),Q=O.children.entries.indexOf(D);for(j=K.length,H=0;H<j;H++)q=K[H].body,!(!q||H===Q||!q.enable)&&this.separate(b,q,G,Y,V)&&(B&&B.call(Y,b.gameObject,q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,O,B,G,Y,V){var b=D.getChildren();if(b.length===0)return!1;for(var H=!1,j=0;j<b.length;j++)b[j].body&&this.collideSpriteVsTilemapLayer(b[j],O,B,G,Y,V)&&(H=!0);return H},collideTiles:function(D,O,B,G,Y){return!D.body.enable||O.length===0?!1:this.collideSpriteVsTilesHandler(D,O,B,G,Y,!1,!1)},overlapTiles:function(D,O,B,G,Y){return!D.body.enable||O.length===0?!1:this.collideSpriteVsTilesHandler(D,O,B,G,Y,!0,!1)},collideSpriteVsTilemapLayer:function(D,O,B,G,Y,V){var b=D.body;if(!b.enable||b.checkCollision.none)return!1;var H=b.position.x,j=b.position.y,q=b.width,et=b.height,ot=O.layer;if(ot.tileWidth>ot.baseTileWidth){var K=(ot.tileWidth-ot.baseTileWidth)*O.scaleX;H-=K,q+=K}if(ot.tileHeight>ot.baseTileHeight){var Q=(ot.tileHeight-ot.baseTileHeight)*O.scaleY;et+=Q}var tt=g(H,j,q,et,null,O.scene.cameras.main,O.layer);return tt.length===0?!1:this.collideSpriteVsTilesHandler(D,tt,B,G,Y,V,!0)},collideSpriteVsTilesHandler:function(D,O,B,G,Y,V,b){for(var H=D.body,j,q={left:0,right:0,top:0,bottom:0},et,ot=!1,K=0;K<O.length;K++){j=O[K],et=j.tilemapLayer;var Q=et.tileToWorldXY(j.x,j.y);q.left=Q.x,q.top=Q.y,j.baseHeight!==j.height&&(q.top-=(j.height-j.baseHeight)*et.scaleY),q.right=q.left+j.width*et.scaleX,q.bottom=q.top+j.height*et.scaleY,N(q,H)&&(!G||G.call(Y,D,j))&&C(j,D)&&(V||R(K,H,j,q,et,this.TILE_BIAS,b))&&(this._total++,ot=!0,B&&B.call(Y,D,j),V&&H.onOverlap?this.emit(o.TILE_OVERLAP,D,j,H):H.onCollide&&this.emit(o.TILE_COLLIDE,D,j,H))}return ot},collideGroupVsGroup:function(D,O,B,G,Y,V){if(!(D.length===0||O.length===0))for(var b=D.getChildren(),H=0;H<b.length;H++)this.collideSpriteVsGroup(b[H],O,B,G,Y,V)},wrap:function(D,O){D.body?this.wrapObject(D,O):D.getChildren?this.wrapArray(D.getChildren(),O):Array.isArray(D)?this.wrapArray(D,O):this.wrapObject(D,O)},wrapArray:function(D,O){for(var B=0;B<D.length;B++)this.wrapObject(D[B],O)},wrapObject:function(D,O){O===void 0&&(O=0),D.x=$(D.x,this.bounds.left-O,this.bounds.right+O),D.y=$(D.y,this.bounds.top-O,this.bounds.bottom+O)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});l.exports=Z},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(62),i=t(245),r=t(196),a=t(10),n=t(57),s=t(3),u=new e({initialize:function(h,d){var v=d.displayWidth?d.displayWidth:64,c=d.displayHeight?d.displayHeight:64;this.world=h,this.gameObject=d,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=v,this.height=c,this.sourceWidth=v,this.sourceHeight=c,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(c/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a},updateBounds:function(){var o=this.gameObject,h=this.transform;if(o.parentContainer){var d=o.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);h.x=d.tx,h.y=d.ty,h.rotation=r(d.rotation),h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.displayOriginX=o.displayOriginX,h.displayOriginY=o.displayOriginY}else h.x=o.x,h.y=o.y,h.rotation=o.angle,h.scaleX=o.scaleX,h.scaleY=o.scaleY,h.displayOriginX=o.displayOriginX,h.displayOriginY=o.displayOriginY;var v=!1;if(this.syncBounds){var c=o.getBounds(this._bounds);this.width=c.width,this.height=c.height,v=!0}else{var m=Math.abs(h.scaleX),g=Math.abs(h.scaleY);(this._sx!==m||this._sy!==g)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*g,this._sx=m,this._sy=g,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var o=this.transform;this.position.x=o.x+o.scaleX*(this.offset.x-o.displayOriginX),this.position.y=o.y+o.scaleY*(this.offset.y-o.displayOriginY),this.updateCenter()},resetFlags:function(o){o===void 0&&(o=!1);var h=this.wasTouching,d=this.touching,v=this.blocked;o?(h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1):(h.none=d.none,h.up=d.up,h.down=d.down,h.left=d.left,h.right=d.right),d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(o,h){o&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),o&&this.update(h)},update:function(o){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,o);var h=this.velocity.x,d=this.velocity.y;this.newVelocity.set(h*o,d*o),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(d,h),this.speed=Math.sqrt(h*h+d*d),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(i.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var o=this.position.x-this.prevFrame.x,h=this.position.y-this.prevFrame.y;if(this.moves){var d=this.deltaMax.x,v=this.deltaMax.y;d!==0&&o!==0&&(o<0&&o<-d?o=-d:o>0&&o>d&&(o=d)),v!==0&&h!==0&&(h<0&&h<-v?h=-v:h>0&&h>v&&(h=v)),this.gameObject.x+=o,this.gameObject.y+=h}o<0?this.facing=f.FACING_LEFT:o>0&&(this.facing=f.FACING_RIGHT),h<0?this.facing=f.FACING_UP:h>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=o,this._ty=h},setBoundsRectangle:function(o){return this.customBoundsRectangle=o||this.world.bounds,this},checkWorldBounds:function(){var o=this.position,h=this.customBoundsRectangle,d=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,c=this.worldBounce?-this.worldBounce.y:-this.bounce.y,m=!1;return o.x<h.x&&d.left?(o.x=h.x,this.velocity.x*=v,this.blocked.left=!0,m=!0):this.right>h.right&&d.right&&(o.x=h.right-this.width,this.velocity.x*=v,this.blocked.right=!0,m=!0),o.y<h.y&&d.up?(o.y=h.y,this.velocity.y*=c,this.blocked.up=!0,m=!0):this.bottom>h.bottom&&d.down&&(o.y=h.bottom-this.height,this.velocity.y*=c,this.blocked.down=!0,m=!0),m&&(this.blocked.none=!1,this.updateCenter()),m},setOffset:function(o,h){return h===void 0&&(h=o),this.offset.set(o,h),this},setSize:function(o,h,d){d===void 0&&(d=!0);var v=this.gameObject;if(!o&&v.frame&&(o=v.frame.realWidth),!h&&v.frame&&(h=v.frame.realHeight),this.sourceWidth=o,this.sourceHeight=h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&v.getCenter){var c=(v.width-o)/2,m=(v.height-h)/2;this.offset.set(c,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(o,h,d){return h===void 0&&(h=this.offset.x),d===void 0&&(d=this.offset.y),o>0?(this.isCircle=!0,this.radius=o,this.sourceWidth=o*2,this.sourceHeight=o*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,d),this.updateCenter()):this.isCircle=!1,this},reset:function(o,h){this.stop();var d=this.gameObject;d.setPosition(o,h),d.getTopLeft?d.getTopLeft(this.position):this.position.set(o,h),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=d.angle,this.preRotation=d.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,h){if(!this.isCircle)return n(this,o,h);if(this.radius>0&&o>=this.left&&o<=this.right&&h>=this.top&&h<=this.bottom){var d=(this.center.x-o)*(this.center.x-o),v=(this.center.y-h)*(this.center.y-h);return d+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(o){var h=this.position,d=h.x+this.halfWidth,v=h.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor),this.isCircle?o.strokeCircle(d,v,this.width/2):(this.checkCollision.up&&o.lineBetween(h.x,h.y,h.x+this.width,h.y),this.checkCollision.right&&o.lineBetween(h.x+this.width,h.y,h.x+this.width,h.y+this.height),this.checkCollision.down&&o.lineBetween(h.x,h.y+this.height,h.x+this.width,h.y+this.height),this.checkCollision.left&&o.lineBetween(h.x,h.y,h.x,h.y+this.height))),this.debugShowVelocity&&(o.lineStyle(o.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),o.lineBetween(d,v,d+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(o,h,d,v){o===void 0&&(o=!0),this.collideWorldBounds=o;var c=h!==void 0,m=d!==void 0;return(c||m)&&(this.worldBounce||(this.worldBounce=new s),c&&(this.worldBounce.x=h),m&&(this.worldBounce.y=d)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(o,h){return this.velocity.set(o,h),o=this.velocity.x,h=this.velocity.y,this.speed=Math.sqrt(o*o+h*h),this},setVelocityX:function(o){this.velocity.x=o;var h=o,d=this.velocity.y;return this.speed=Math.sqrt(h*h+d*d),this},setVelocityY:function(o){this.velocity.y=o;var h=this.velocity.x,d=o;return this.speed=Math.sqrt(h*h+d*d),this},setMaxVelocity:function(o,h){return this.maxVelocity.set(o,h),this},setMaxVelocityX:function(o){return this.maxVelocity.x=o,this},setMaxVelocityY:function(o){return this.maxVelocity.y=o,this},setMaxSpeed:function(o){return this.maxSpeed=o,this},setBounce:function(o,h){return this.bounce.set(o,h),this},setBounceX:function(o){return this.bounce.x=o,this},setBounceY:function(o){return this.bounce.y=o,this},setAcceleration:function(o,h){return this.acceleration.set(o,h),this},setAccelerationX:function(o){return this.acceleration.x=o,this},setAccelerationY:function(o){return this.acceleration.y=o,this},setAllowDrag:function(o){return o===void 0&&(o=!0),this.allowDrag=o,this},setAllowGravity:function(o){return o===void 0&&(o=!0),this.allowGravity=o,this},setAllowRotation:function(o){return o===void 0&&(o=!0),this.allowRotation=o,this},setDrag:function(o,h){return this.drag.set(o,h),this},setDamping:function(o){return this.useDamping=o,this},setDragX:function(o){return this.drag.x=o,this},setDragY:function(o){return this.drag.y=o,this},setGravity:function(o,h){return this.gravity.set(o,h),this},setGravityX:function(o){return this.gravity.x=o,this},setGravityY:function(o){return this.gravity.y=o,this},setFriction:function(o,h){return this.friction.set(o,h),this},setFrictionX:function(o){return this.friction.x=o,this},setFrictionY:function(o){return this.friction.y=o,this},setAngularVelocity:function(o){return this.angularVelocity=o,this},setAngularAcceleration:function(o){return this.angularAcceleration=o,this},setAngularDrag:function(o){return this.angularDrag=o,this},setMass:function(o){return this.mass=o,this},setImmovable:function(o){return o===void 0&&(o=!0),this.immovable=o,this},setEnable:function(o){return o===void 0&&(o=!0),this.enable=o,this},processX:function(o,h,d,v){this.x+=o,this.updateCenter(),h!==null&&(this.velocity.x=h);var c=this.blocked;d&&(c.left=!0),v&&(c.right=!0)},processY:function(o,h,d,v){this.y+=o,this.updateCenter(),h!==null&&(this.velocity.y=h);var c=this.blocked;d&&(c.up=!0),v&&(c.down=!0)},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s,u,o,h){this.world=r,this.name="",this.active=!0,this.overlapOnly=a,this.object1=n,this.object2=s,this.collideCallback=u,this.processCallback=o,this.callbackContext=h},setName:function(i){return this.name=i,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(3),i=new f,r=new f,a=function(n,s,u,o,h,d,v){var c=v.tilemapLayer.tilemap._convert.WorldToTileXY;c(n,s,!0,i,d,v);var m=i.x,g=i.y;c(n+u,s+o,!1,r,d,v);var y=Math.ceil(r.x),E=Math.ceil(r.y);return e(m,g,y-m,E-g,h,v)};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,f,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,f,e):!0};l.exports=t},function(l,x,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function f(E){if(!(this instanceof f))return new f(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}f.prototype={all:function(){return this._all(this.data,[])},search:function(E){var S=this.data,C=[],P=this.toBBox;if(!m(E,S))return C;for(var A=[],R,M,L,F;S;){for(R=0,M=S.children.length;R<M;R++)L=S.children[R],F=S.leaf?P(L):L,m(E,F)&&(S.leaf?C.push(L):c(E,F)?this._all(L,C):A.push(L));S=A.pop()}return C},collides:function(E){var S=this.data,C=this.toBBox;if(!m(E,S))return!1;for(var P=[],A,R,M,L;S;){for(A=0,R=S.children.length;A<R;A++)if(M=S.children[A],L=S.leaf?C(M):M,m(E,L)){if(S.leaf||c(E,L))return!0;P.push(M)}S=P.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var S=0,C=E.length;S<C;S++)this.insert(E[S]);return this}var P=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var A=this.data;this.data=P,P=A}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(E,S){if(!E)return this;for(var C=this.data,P=this.toBBox(E),A=[],R=[],M,L,F,I;C||A.length;){if(C||(C=A.pop(),L=A[A.length-1],M=R.pop(),I=!0),C.leaf&&(F=i(E,C.children,S),F!==-1))return C.children.splice(F,1),A.push(C),this._condense(A),this;!I&&!C.leaf&&c(C,P)?(A.push(C),R.push(M),M=0,L=C,C=C.children[0]):L?(M++,C=L.children[M],I=!1):C=null}return this},toBBox:function(E){return E},compareMinX:s,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,S){for(var C=[];E;)E.leaf?S.push.apply(S,E.children):C.push.apply(C,E.children),E=C.pop();return S},_build:function(E,S,C,P){var A=C-S+1,R=this._maxEntries,M;if(A<=R)return M=g(E.slice(S,C+1)),r(M,this.toBBox),M;P||(P=Math.ceil(Math.log(A)/Math.log(R)),R=Math.ceil(A/Math.pow(R,P-1))),M=g([]),M.leaf=!1,M.height=P;var L=Math.ceil(A/R),F=L*Math.ceil(Math.sqrt(R)),I,N,z,W;for(y(E,S,C,F,this.compareMinX),I=S;I<=C;I+=F)for(z=Math.min(I+F-1,C),y(E,I,z,L,this.compareMinY),N=I;N<=z;N+=L)W=Math.min(N+L-1,z),M.children.push(this._build(E,N,W,P-1));return r(M,this.toBBox),M},_chooseSubtree:function(E,S,C,P){for(var A,R,M,L,F,I,N,z;P.push(S),!(S.leaf||P.length-1===C);){for(N=z=1/0,A=0,R=S.children.length;A<R;A++)M=S.children[A],F=o(M),I=d(E,M)-F,I<z?(z=I,N=F<N?F:N,L=M):I===z&&F<N&&(N=F,L=M);S=L||S.children[0]}return S},_insert:function(E,S,C){var P=this.toBBox,A=C?E:P(E),R=[],M=this._chooseSubtree(A,this.data,S,R);for(M.children.push(E),n(M,A);S>=0&&R[S].children.length>this._maxEntries;)this._split(R,S),S--;this._adjustParentBBoxes(A,R,S)},_split:function(E,S){var C=E[S],P=C.children.length,A=this._minEntries;this._chooseSplitAxis(C,A,P);var R=this._chooseSplitIndex(C,A,P),M=g(C.children.splice(R,C.children.length-R));M.height=C.height,M.leaf=C.leaf,r(C,this.toBBox),r(M,this.toBBox),S?E[S-1].children.push(M):this._splitRoot(C,M)},_splitRoot:function(E,S){this.data=g([E,S]),this.data.height=E.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(E,S,C){var P,A,R,M,L,F,I,N;for(F=I=1/0,P=S;P<=C-S;P++)A=a(E,0,P,this.toBBox),R=a(E,P,C,this.toBBox),M=v(A,R),L=o(A)+o(R),M<F?(F=M,N=P,I=L<I?L:I):M===F&&L<I&&(I=L,N=P);return N},_chooseSplitAxis:function(E,S,C){var P=E.leaf?this.compareMinX:s,A=E.leaf?this.compareMinY:u,R=this._allDistMargin(E,S,C,P),M=this._allDistMargin(E,S,C,A);R<M&&E.children.sort(P)},_allDistMargin:function(E,S,C,P){E.children.sort(P);var A=this.toBBox,R=a(E,0,S,A),M=a(E,C-S,C,A),L=h(R)+h(M),F,I;for(F=S;F<C-S;F++)I=E.children[F],n(R,E.leaf?A(I):I),L+=h(R);for(F=C-S-1;F>=S;F--)I=E.children[F],n(M,E.leaf?A(I):I),L+=h(M);return L},_adjustParentBBoxes:function(E,S,C){for(var P=C;P>=0;P--)n(S[P],E)},_condense:function(E){for(var S=E.length-1,C;S>=0;S--)E[S].children.length===0?S>0?(C=E[S-1].children,C.splice(C.indexOf(E[S]),1)):this.clear():r(E[S],this.toBBox)},compareMinX:function(E,S){return E.left-S.left},compareMinY:function(E,S){return E.top-S.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function i(E,S,C){if(!C)return S.indexOf(E);for(var P=0;P<S.length;P++)if(C(E,S[P]))return P;return-1}function r(E,S){a(E,0,E.children.length,S,E)}function a(E,S,C,P,A){A||(A=g(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var R=S,M;R<C;R++)M=E.children[R],n(A,E.leaf?P(M):M);return A}function n(E,S){return E.minX=Math.min(E.minX,S.minX),E.minY=Math.min(E.minY,S.minY),E.maxX=Math.max(E.maxX,S.maxX),E.maxY=Math.max(E.maxY,S.maxY),E}function s(E,S){return E.minX-S.minX}function u(E,S){return E.minY-S.minY}function o(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function h(E){return E.maxX-E.minX+(E.maxY-E.minY)}function d(E,S){return(Math.max(S.maxX,E.maxX)-Math.min(S.minX,E.minX))*(Math.max(S.maxY,E.maxY)-Math.min(S.minY,E.minY))}function v(E,S){var C=Math.max(E.minX,S.minX),P=Math.max(E.minY,S.minY),A=Math.min(E.maxX,S.maxX),R=Math.min(E.maxY,S.maxY);return Math.max(0,A-C)*Math.max(0,R-P)}function c(E,S){return E.minX<=S.minX&&E.minY<=S.minY&&S.maxX<=E.maxX&&S.maxY<=E.maxY}function m(E,S){return S.minX<=E.maxX&&S.minY<=E.maxY&&S.maxX>=E.minX&&S.maxY>=E.minY}function g(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(E,S,C,P,A){for(var R=[S,C],M;R.length;)C=R.pop(),S=R.pop(),!(C-S<=P)&&(M=S+Math.ceil((C-S)/P/2)*P,e(E,M,S,C,A),R.push(S,M,M,C))}l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),f=t(535),i=t(248),r=function(a,n,s,u,o,h,d){var v=u.left,c=u.top,m=u.right,g=u.bottom,y=s.faceLeft||s.faceRight,E=s.faceTop||s.faceBottom;if(d||(y=!0,E=!0),!y&&!E)return!1;var S=0,C=0,P=0,A=1;if(n.deltaAbsX()>n.deltaAbsY()?P=-1:n.deltaAbsX()<n.deltaAbsY()&&(A=-1),n.deltaX()!==0&&n.deltaY()!==0&&y&&E&&(P=Math.min(Math.abs(n.position.x-m),Math.abs(n.right-v)),A=Math.min(Math.abs(n.position.y-g),Math.abs(n.bottom-c))),P<A){if(y&&(S=e(n,s,v,m,h,d),S!==0&&!i(u,n)))return!0;E&&(C=f(n,s,c,g,h,d))}else{if(E&&(C=f(n,s,c,g,h,d),C!==0&&!i(u,n)))return!0;y&&(S=e(n,s,v,m,h,d))}return S!==0||C!==0};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),f=function(i,r,a,n,s,u){var o=0,h=r.faceLeft,d=r.faceRight,v=r.collideLeft,c=r.collideRight;return u||(h=!0,d=!0,v=!0,c=!0),i.deltaX()<0&&c&&i.checkCollision.left?d&&i.x<n&&(o=i.x-n,o<-s&&(o=0)):i.deltaX()>0&&v&&i.checkCollision.right&&h&&i.right>a&&(o=i.right-a,o>s&&(o=0)),o!==0&&(i.customSeparateX?i.overlapX=o:e(i,o)),o};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f<0?(e.blocked.none=!1,e.blocked.left=!0):f>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=f,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),f=function(i,r,a,n,s,u){var o=0,h=r.faceTop,d=r.faceBottom,v=r.collideUp,c=r.collideDown;return u||(h=!0,d=!0,v=!0,c=!0),i.deltaY()<0&&c&&i.checkCollision.up?d&&i.y<n&&(o=i.y-n,o<-s&&(o=0)):i.deltaY()>0&&v&&i.checkCollision.down&&h&&i.bottom>a&&(o=i.bottom-a,o>s&&(o=0)),o!==0&&(i.customSeparateY?i.overlapY=o:e(i,o)),o};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f<0?(e.blocked.none=!1,e.blocked.up=!0):f>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=f,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),f=t(1389),i=function(r,a,n,s){var u=e(r,a,n,s),o=r.immovable,h=a.immovable;if(n||u===0||o&&h||r.customSeparateX||a.customSeparateX)return u!==0||r.embedded&&a.embedded;var d=f.Set(r,a,u);return!o&&!h?d>0?!0:f.Check():(o?f.RunImmovableBody1(d):h&&f.RunImmovableBody2(d),!0)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),f=t(1390),i=function(r,a,n,s){var u=e(r,a,n,s),o=r.immovable,h=a.immovable;if(n||u===0||o&&h||r.customSeparateY||a.customSeparateY)return u!==0||r.embedded&&a.embedded;var d=f.Set(r,a,u);return!o&&!h?d>0?!0:f.Check():(o?f.RunImmovableBody1(d):h&&f.RunImmovableBody2(d),!0)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),f=t(0),i=t(62),r=t(57),a=t(3),n=new f({initialize:function(u,o){var h=o.displayWidth?o.displayWidth:64,d=o.displayHeight?o.displayHeight:64;this.world=u,this.gameObject=o,this.debugShowBody=u.defaults.debugShowStaticBody,this.debugBodyColor=u.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(o.x-h*o.originX,o.y-d*o.originY),this.width=h,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=i.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(s,u){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),u&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,u){return u===void 0&&(u=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,u),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,u,o){o===void 0&&(o=!0);var h=this.gameObject;if(!s&&h.frame&&(s=h.frame.realWidth),!u&&h.frame&&(u=h.frame.realHeight),this.world.staticTree.remove(this),this.width=s,this.height=u,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(u/2),o&&h.getCenter){var d=h.displayWidth/2,v=h.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,u,o){return u===void 0&&(u=this.offset.x),o===void 0&&(o=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(u,o),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,u){var o=this.gameObject;s===void 0&&(s=o.x),u===void 0&&(u=o.y),this.world.staticTree.remove(this),o.setPosition(s,u),o.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,u){return this.isCircle?e(this,s,u):r(this,s,u)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var u=this.position,o=u.x+this.halfWidth,h=u.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(o,h,this.width/2):s.strokeRect(u.x,u.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=n},function(l,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),f=new e({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=new e,i=function(r,a,n,s){var u=n.tilemapLayer,o=u.cullPaddingX,h=u.cullPaddingY,d=u.tilemap.tileToWorldXY(r,a,f,s,u);return d.x>s.worldView.x+u.scaleX*n.tileWidth*(-o-.5)&&d.x<s.worldView.right+u.scaleX*n.tileWidth*(o-.5)&&d.y>s.worldView.y+u.scaleY*n.tileHeight*(-h-1)&&d.y<s.worldView.bottom+u.scaleY*n.tileHeight*(h-.5)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o){for(var h=e(a,n,s,u,null,o),d=0;d<h.length;d++)h[d]&&h[d].index===i&&(h[d].index=r)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=t(139),i=t(76),r=new e,a=function(n,s){var u=n.tilemapLayer.tilemap,o=n.tilemapLayer,h=Math.floor(u.tileWidth*o.scaleX),d=Math.floor(u.tileHeight*o.scaleY),v=i(s.worldView.x-o.x,h,0,!0)-o.cullPaddingX,c=f(s.worldView.right-o.x,h,0,!0)+o.cullPaddingX,m=i(s.worldView.y-o.y,d,0,!0)-o.cullPaddingY,g=f(s.worldView.bottom-o.y,d,0,!0)+o.cullPaddingY;return r.setTo(v,m,c-v,g-m)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),f=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var u=r.tilemapLayer,o=e(r,a);return(u.skipCull||u.scrollFactorX!==1||u.scrollFactorY!==1)&&(o.left=0,o.right=r.width,o.top=0,o.bottom=r.height),f(r,o,s,n),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),f=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var u=r.tilemapLayer;if(!u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1){var o=e(r,a);f(r,o,s,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),f=t(76),i=function(r,a){var n=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(n.tileWidth*s.scaleX),o=Math.floor(n.tileHeight*s.scaleY),h=r.hexSideLength,d=(o-h)/2+h,v=f(a.worldView.x-s.x,u,0,!0)-s.cullPaddingX,c=e(a.worldView.right-s.x,u,0,!0)+s.cullPaddingX,m=f(a.worldView.y-s.y,d,0,!0)-s.cullPaddingY,g=e(a.worldView.bottom-s.y,d,0,!0)+s.cullPaddingY;return{left:v,right:c,top:m,bottom:g}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),f=function(i,r,a,n){a===void 0&&(a=[]),n===void 0&&(n=0),a.length=0;var s=i.tilemapLayer,u=i.data,o=i.width,h=i.height,d=0,v=o,c=0,m=h;if(!s.skipCull){var g,y,E;if(n===0){for(y=c;y<m;y++)for(g=d;u[y]&&g<v;g++)if(e(g,y,i,r)){if(E=u[y][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===1){for(y=c;y<m;y++)for(g=v;u[y]&&g>=d;g--)if(e(g,y,i,r)){if(E=u[y][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===2){for(y=m;y>=c;y--)for(g=d;u[y]&&g<v;g++)if(e(g,y,i,r)){if(E=u[y][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===3){for(y=m;y>=c;y--)for(g=v;u[y]&&g>=d;g--)if(e(g,y,i,r)){if(E=u[y][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}}return s.tilesDrawn=a.length,s.tilesTotal=o*h,a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),f=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var u=r.tilemapLayer;if(!u.skipCull&&u.scrollFactorX===1&&u.scrollFactorY===1){var o=e(r,a);f(r,o,s,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),f=t(76),i=function(r,a){var n=r.tilemapLayer.tilemap,s=r.tilemapLayer,u=Math.floor(n.tileWidth*s.scaleX),o=Math.floor(n.tileHeight*s.scaleY),h=f(a.worldView.x-s.x,u,0,!0)-s.cullPaddingX,d=e(a.worldView.right-s.x,u,0,!0)+s.cullPaddingX,v=f(a.worldView.y-s.y,o/2,0,!0)-s.cullPaddingY,c=e(a.worldView.bottom-s.y,o/2,0,!0)+s.cullPaddingY;return{left:h,right:d,top:v,bottom:c}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s){a||(a=new e);var u=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),u*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=s.hexSideLength,m=(o-c)/2+c,g=d+i*u+r%2*(u/2),y=v+r*m;return a.set(g,y)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s){a||(a=new e);var u=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),u*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=d+(i-r)*(u/2),m=v+(i+r)*(o/2);return a.set(c,m)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s){a||(a=new e);var u=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),u*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=d+i*u+r%2*(u/2),m=v+r*(o/2);return a.set(c,m)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),f=t(254),i=t(3),r=function(a,n,s,u,o){return s||(s=new i(0,0)),s.x=e(a,u,o),s.y=f(n,u,o),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;a&&(f===void 0&&(f=a.scene.cameras.main),n=a.y+f.scrollY*(1-a.scrollFactorY),r*=a.scaleY);var s=a.tilemap.hexSideLength,u=(r-s)/2+s;return n+e*u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;return a&&(f===void 0&&(f=a.scene.cameras.main),n=a.y+f.scrollY*(1-a.scrollFactorY),r*=a.scaleY),n+e*(r/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s,u){n||(n=new e);var o=u.baseTileWidth,h=u.baseTileHeight,d=u.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=u.hexSideLength,c=(h-v)/2+v,m=a?Math.floor(r/c):r/c,g=a?Math.floor((i-m%2*.5*o)/o):(i-m%2*.5*o)/o;return n.set(g,m)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s,u){n||(n=new e);var o=u.baseTileWidth,h=u.baseTileHeight,d=u.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=a?Math.floor((i/(o/2)+r/(h/2))/2):(i/(o/2)+r/(h/2))/2,c=a?Math.floor((r/(h/2)-i/(o/2))/2):(r/(h/2)-i/(o/2))/2;return n.set(v,c)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s,u){n||(n=new e);var o=u.baseTileWidth,h=u.baseTileHeight,d=u.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=a?Math.floor(r/(h/2)):r/(h/2),c=a?Math.floor((i+v%2*.5*o)/o):(i+v%2*.5*o)/o;return n.set(c,v)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),f=t(256),i=t(3),r=function(a,n,s,u,o,h){return s===void 0&&(s=!0),u||(u=new i(0,0)),u.x=e(a,s,o,h),u.y=f(n,s,o,h),u};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=r.baseTileHeight,n=r.tilemapLayer;n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY);var s=r.hexSideLength,u=(a-s)/2+s;return f?Math.floor(e/u):e/u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=r.baseTileHeight,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY),f?Math.floor(e/(a/2)):e/(a/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),f=function(i,r,a){if(e(i,r,a)){var n=a.data[r][i];return n!==null&&n.index>-1}else return!1};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),f=t(119),i=t(252),r=function(a,n,s,u,o){if(s===void 0&&(s=!0),u===void 0&&(u=!0),!f(a,n,o))return null;var h=o.data[n][a];if(h)o.data[n][a]=s?null:new e(o,-1,a,n,o.tileWidth,o.tileHeight);else return null;return u&&h&&h.collides&&i(a,n,o),h};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),f=t(259),i=t(565),r=t(566),a=t(577),n=function(s,u,o,h,d,v){var c;switch(u){case e.ARRAY_2D:c=f(s,o,h,d,v);break;case e.CSV:c=i(s,o,h,d,v);break;case e.TILED_JSON:c=r(s,o,v);break;case e.WELTMEISTER:c=a(s,o,v);break;default:console.warn("Unrecognized tilemap data format: "+u),c=null}return c};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),f=t(259),i=function(r,a,n,s,u){var o=a.trim().split(`
`).map(function(d){return d.split(",")}),h=f(r,o,n,s,u);return h.format=e.CSV,h};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),f=t(568),i=t(29),r=t(40),a=t(258),n=t(121),s=t(569),u=t(570),o=t(573),h=t(575),d=function(v,c,m){var g=new n({width:c.width,height:c.height,name:v,tileWidth:c.tilewidth,tileHeight:c.tileheight,orientation:a(c.orientation),format:r.TILED_JSON,version:c.version,properties:c.properties,renderOrder:c.renderorder,infinite:c.infinite});g.orientation===i.HEXAGONAL&&(g.hexSideLength=c.hexsidelength),g.layers=o(c,m),g.images=s(c);var y=h(c);return g.tilesets=y.tilesets,g.imageCollections=y.imageCollections,g.objects=u(c),g.tiles=f(g),e(g),g};l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),f=function(i){for(var r,a,n,s,u,o=0;o<i.layers.length;o++){r=i.layers[o],s=null;for(var h=0;h<r.data.length;h++){u=r.data[h];for(var d=0;d<u.length;d++)a=u[d],!(a===null||a.index<0)&&(n=i.tiles[a.index][2],s=i.tilesets[n],a.width=s.tileWidth,a.height=s.tileHeight,s.tileProperties&&s.tileProperties[a.index-s.firstgid]&&(a.properties=e(a.properties,s.tileProperties[a.index-s.firstgid])))}}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),f=function(i){var r,a,n=[];for(r=0;r<i.imageCollections.length;r++)for(var s=i.imageCollections[r],u=s.images,o=0;o<u.length;o++){var h=u[o];a=new e(h.image,h.gid,s.imageWidth,s.imageHeight,0,0),a.updateTileData(s.imageWidth,s.imageHeight),i.tilesets.push(a)}for(r=0;r<i.tilesets.length;r++){a=i.tilesets[r];for(var d=a.tileMargin,v=a.tileMargin,c=0,m=0,g=0,y=a.firstgid;y<a.firstgid+a.total&&(n[y]=[d,v,r],d+=a.tileWidth+a.tileSpacing,c++,!(c===a.total||(m++,m===a.columns&&(d=a.tileMargin,v+=a.tileHeight+a.tileSpacing,m=0,g++,g===a.rows))));y++);}return n};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=t(161),i=function(r){for(var a=[],n=[],s=f(r);s.i<s.layers.length||n.length>0;){if(s.i>=s.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=n.pop();continue}var u=s.layers[s.i];if(s.i++,u.type!=="imagelayer"){if(u.type==="group"){var o=f(r,u,s);n.push(s),s=o}continue}var h=e(u,"offsetx",0)+e(u,"startx",0),d=e(u,"offsety",0)+e(u,"starty",0);a.push({name:s.name+u.name,image:u.image,x:s.x+h+u.x,y:s.y+d+u.y,alpha:s.opacity*u.opacity,visible:s.visible&&u.visible,properties:e(u,"properties",{})})}return a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=t(260),i=t(572),r=t(161),a=function(n){for(var s=[],u=[],o=r(n);o.i<o.layers.length||u.length>0;){if(o.i>=o.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=u.pop();continue}var h=o.layers[o.i];if(o.i++,h.opacity*=o.opacity,h.visible=o.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var d=r(n,h,o);u.push(o),o=d}continue}h.name=o.name+h.name;for(var v=o.x+e(h,"startx",0)+e(h,"offsetx",0),c=o.y+e(h,"starty",0)+e(h,"offsety",0),m=[],g=0;g<h.objects.length;g++){var y=f(h.objects[g],v,c);m.push(y)}var E=new i(h);E.objects=m,s.push(E)}return s};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),f=function(i,r){for(var a={},n=0;n<r.length;n++){var s=r[n];e(i,s)&&(a[s]=i[s])}return a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=new e({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","object layer"),this.opacity=f(a,"opacity",1),this.properties=f(a,"properties",{}),this.propertyTypes=f(a,"propertytypes",{}),this.type=f(a,"type","objectgroup"),this.visible=f(a,"visible",!0),this.objects=f(a,"objects",[])}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),f=t(29),i=t(161),r=t(258),a=t(2),n=t(120),s=t(261),u=t(85),o=function(h,d){for(var v=a(h,"infinite",!1),c=[],m=[],g=i(h);g.i<g.layers.length||m.length>0;){if(g.i>=g.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=m.pop();continue}var y=g.layers[g.i];if(g.i++,y.type!=="tilelayer"){if(y.type==="group"){var E=i(h,y,g);m.push(g),g=E}continue}if(y.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+y.name+"'");continue}else if(y.encoding&&y.encoding==="base64"){if(y.chunks)for(var S=0;S<y.chunks.length;S++)y.chunks[S].data=e(y.chunks[S].data);y.data&&(y.data=e(y.data)),delete y.encoding}var C,P,A,R,M=[],L=0;if(v){var F=a(y,"startx",0)+y.x,I=a(y,"starty",0)+y.y;C=new n({name:g.name+y.name,x:g.x+a(y,"offsetx",0)+F*h.tilewidth,y:g.y+a(y,"offsety",0)+I*h.tileheight,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:a(y,"properties",[]),orientation:r(h.orientation)}),C.orientation===f.HEXAGONAL&&(C.hexSideLength=h.hexsidelength);for(var N=0;N<y.height;N++){M.push([null]);for(var z=0;z<y.width;z++)M[N][z]=null}for(N=0,H=y.chunks.length;N<H;N++)for(var W=y.chunks[N],$=W.x-F,Z=W.y-I,D=0,O=0,B=W.data.length;O<B;O++){var G=L+$,Y=D+Z;P=s(W.data[O]),P.gid>0?(A=new u(C,P.gid,G,Y,h.tilewidth,h.tileheight),A.rotation=P.rotation,A.flipX=P.flipped,M[Y][G]=A):(R=d?null:new u(C,-1,G,Y,h.tilewidth,h.tileheight),M[Y][G]=R),L++,L===W.width&&(D++,L=0)}}else{C=new n({name:g.name+y.name,x:g.x+a(y,"offsetx",0)+y.x,y:g.y+a(y,"offsety",0)+y.y,width:y.width,height:y.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*y.opacity,visible:g.visible&&y.visible,properties:a(y,"properties",[]),orientation:r(h.orientation)}),C.orientation===f.HEXAGONAL&&(C.hexSideLength=h.hexsidelength);for(var V=[],b=0,H=y.data.length;b<H;b++)P=s(y.data[b]),P.gid>0?(A=new u(C,P.gid,L,M.length,h.tilewidth,h.tileheight),A.rotation=P.rotation,A.flipX=P.flipped,V.push(A)):(R=d?null:new u(C,-1,L,M.length,h.tilewidth,h.tileheight),V.push(R)),L++,L===y.width&&(M.push(V),L=0,V=[])}C.data=M,c.push(C)}return c};l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=window.atob(e),i=f.length,r=new Array(i/4),a=0;a<i;a+=4)r[a/4]=(f.charCodeAt(a)|f.charCodeAt(a+1)<<8|f.charCodeAt(a+2)<<16|f.charCodeAt(a+3)<<24)>>>0;return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),f=t(576),i=t(260),r=t(1453),a=function(n){for(var s=[],u=[],o=null,h,d=0;d<n.tilesets.length;d++){var v=n.tilesets[d];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var c=new e(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing);if(n.version>1){var m=void 0,g=void 0;if(Array.isArray(v.tiles)){m=m||{},g=g||{};for(var y=0;y<v.tiles.length;y++){var E=v.tiles[y];if(E.properties){var S={};E.properties.forEach(function(N){S[N.name]=N.value}),g[E.id]=S}if(E.objectgroup&&((m[E.id]||(m[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var C=E.objectgroup.objects.map(function(N){return i(N)});m[E.id].objectgroup.objects=C}E.animation&&((m[E.id]||(m[E.id]={})).animation=E.animation),E.type&&((m[E.id]||(m[E.id]={})).type=E.type)}}Array.isArray(v.wangsets)&&(m=m||{},g=g||{},r(v.wangsets,m)),m&&(c.tileData=m,c.tileProperties=g)}else if(v.tileproperties&&(c.tileProperties=v.tileproperties),v.tiles){c.tileData=v.tiles;for(h in c.tileData){var P=c.tileData[h].objectgroup;if(P&&P.objects){var A=P.objects.map(function(N){return i(N)});c.tileData[h].objectgroup.objects=A}}}c.updateTileData(v.imagewidth,v.imageheight),s.push(c)}else{var R=new f(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),M=0;for(y=0;y<v.tiles.length;y++){E=v.tiles[y];var L=E.image,F=parseInt(E.id,10),I=v.firstgid+F;R.addImage(I,L),M=Math.max(F,M)}R.maxId=M,u.push(R)}o&&(o.lastgid=v.firstgid-1),o=v}return{tilesets:s,imageCollections:u}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r,a,n,s,u,o,h){(n===void 0||n<=0)&&(n=32),(s===void 0||s<=0)&&(s=32),u===void 0&&(u=0),o===void 0&&(o=0),this.name=r,this.firstgid=a|0,this.imageWidth=n|0,this.imageHeight=s|0,this.imageMargin=u|0,this.imageSpacing=o|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,r){return this.images.push({gid:i,image:r}),this.total++,this}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),f=t(121),i=t(578),r=t(579),a=function(n,s,u){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var o=0,h=0,d=0;d<s.layer.length;d++)s.layer[d].width>o&&(o=s.layer[d].width),s.layer[d].height>h&&(h=s.layer[d].height);var v=new f({width:o,height:h,name:n,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:e.WELTMEISTER});return v.layers=i(s,u),v.tilesets=r(s),v};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),f=t(85),i=function(r,a){for(var n=[],s=0;s<r.layer.length;s++){for(var u=r.layer[s],o=new e({name:u.name,width:u.width,height:u.height,tileWidth:u.tilesize,tileHeight:u.tilesize,visible:u.visible===1}),h=[],d=[],v=0;v<u.data.length;v++){for(var c=0;c<u.data[v].length;c++){var m=u.data[v][c]-1,g;m>-1?g=new f(o,m,c,v,u.tilesize,u.tilesize):g=a?null:new f(o,-1,c,v,u.tilesize,u.tilesize),h.push(g)}d.push(h),h=[]}o.data=d,n.push(o)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),f=function(i){for(var r=[],a=[],n=0;n<i.layer.length;n++){var s=i.layer[n],u=s.tilesetName;u!==""&&a.indexOf(u)===-1&&(a.push(u),r.push(new e(u,0,s.tilesize,s.tilesize,0,0)))}return r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(36),i=t(40),r=t(2),a=t(120),n=t(29),s=t(362),u=t(74),o=t(73),h=t(85),d=t(251),v=t(581),c=t(122),m=new e({initialize:function(y,E){this.scene=y,this.tileWidth=E.tileWidth,this.tileHeight=E.tileHeight,this.width=E.width,this.height=E.height,this.orientation=E.orientation,this.renderOrder=E.renderOrder,this.format=E.format,this.version=E.version,this.properties=E.properties,this.widthInPixels=E.widthInPixels,this.heightInPixels=E.heightInPixels,this.imageCollections=E.imageCollections,this.images=E.images,this.layers=E.layers,this.tilesets=E.tilesets,this.objects=E.objects,this.currentLayerIndex=0,this.hexSideLength=E.hexSideLength;var S=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(S),WorldToTileX:d.GetWorldToTileXFunction(S),WorldToTileY:d.GetWorldToTileYFunction(S),TileToWorldXY:d.GetTileToWorldXYFunction(S),TileToWorldX:d.GetTileToWorldXFunction(S),TileToWorldY:d.GetTileToWorldYFunction(S)}},createBlankDynamicLayer:function(g,y,E,S,C,P,A,R){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(g,y,E,S,C,P,A,R)},createDynamicLayer:function(g,y,E,S){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(g,y,E,S)},createStaticLayer:function(g,y,E,S){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(g,y,E,S)},setRenderOrder:function(g){var y=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=y[g]),y.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,y,E,S,C,P,A){if(g===void 0)return null;if(y==null&&(y=g),!this.scene.sys.textures.exists(y))return console.warn("Invalid Tileset Image: "+y),null;var R=this.scene.sys.textures.get(y),M=this.getTilesetIndex(g);if(M===null&&this.format===i.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var L=this.tilesets[M];return L?(L.setTileSize(E,S),L.setSpacing(C,P),L.setImage(R),L):(E===void 0&&(E=this.tileWidth),S===void 0&&(S=this.tileHeight),C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=0),L=new c(g,A,E,S,C,P),L.setImage(R),this.tilesets.push(L),L)},copy:function(g,y,E,S,C,P,A,R){return R=this.getLayer(R),R!==null?(d.Copy(g,y,E,S,C,P,A,R),this):null},createBlankLayer:function(g,y,E,S,C,P,A,R){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),A===void 0&&(A=this.tileWidth),R===void 0&&(R=this.tileHeight);var M=this.getLayerIndex(g);if(M!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var L=new a({name:g,tileWidth:A,tileHeight:R,width:C,height:P,orientation:this.orientation}),F,I=0;I<P;I++){F=[];for(var N=0;N<C;N++)F.push(new h(L,-1,N,I,A,R,this.tileWidth,this.tileHeight));L.data.push(F)}this.layers.push(L),this.currentLayerIndex=this.layers.length-1;var z=new v(this.scene,this,this.currentLayerIndex,y,E,S);return z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(z),z},createLayer:function(g,y,E,S){var C=this.getLayerIndex(g);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var P=this.layers[C];if(P.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=C,E===void 0&&(E=P.x),S===void 0&&(S=P.y);var A=new v(this.scene,this,C,y,E,S);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(g,y){var E=[],S=this.getObjectLayer(g);if(!S)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),E;Array.isArray(y)||(y=[y]);for(var C=S.objects,P=0;P<y.length;P++){for(var A=y[P],R=r(A,"id",null),M=r(A,"gid",null),L=r(A,"name",null),F,I=[],N=0;N<C.length;N++)F=C[N],(R===null&&M===null&&L===null||R!==null&&F.id===R||M!==null&&F.gid===M||L!==null&&F.name===L)&&I.push(F);for(var z=r(A,"classType",o),W=r(A,"scene",this.scene),$=r(A,"container",null),Z=r(A,"key",null),D=r(A,"frame",null),O=0;O<I.length;O++){F=I[O];var B=new z(W);B.setName(F.name),B.setPosition(F.x,F.y),B.setTexture(Z,D),F.width&&(B.displayWidth=F.width),F.height&&(B.displayHeight=F.height);var G={x:B.originX*F.width,y:(B.originY-1)*F.height};if(F.rotation){var Y=f(F.rotation);s(G,Y),B.rotation=Y}if(B.x+=G.x,B.y+=G.y,(F.flippedHorizontal!==void 0||F.flippedVertical!==void 0)&&B.setFlip(F.flippedHorizontal,F.flippedVertical),F.visible||(B.visible=!1),Array.isArray(F.properties))F.properties.forEach(function(b){var H=b.name;B[H]!==void 0?B[H]=b.value:B.setData(H,b.value)});else for(var V in F.properties)B[V]!==void 0?B[V]=F.properties[V]:B.setData(V,F.properties[V]);$?$.add(B):W.add.existing(B),E.push(B)}}return E},createFromTiles:function(g,y,E,S,C,P){return P=this.getLayer(P),P===null?null:d.CreateFromTiles(g,y,E,S,C,P)},fill:function(g,y,E,S,C,P,A){return P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(d.Fill(g,y,E,S,C,P,A),this)},filterObjects:function(g,y,E){if(typeof g=="string"){var S=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+S),null}return g.objects.filter(y,E)},filterTiles:function(g,y,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:d.FilterTiles(g,y,E,S,C,P,A,R)},findByIndex:function(g,y,E,S){return S=this.getLayer(S),S===null?null:d.FindByIndex(g,y,E,S)},findObject:function(g,y,E){if(typeof g=="string"){var S=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+S),null}return g.objects.find(y,E)||null},findTile:function(g,y,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:d.FindTile(g,y,E,S,C,P,A,R)},forEachTile:function(g,y,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:(d.ForEachTile(g,y,E,S,C,P,A,R),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,y){for(var E=0;E<g.length;E++)if(g[E].name===y)return E;return null},getLayer:function(g){var y=this.getLayerIndex(g);return y!==null?this.layers[y]:null},getObjectLayer:function(g){var y=this.getIndex(this.objects,g);return y!==null?this.objects[y]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof v?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,y,E,S){return S=this.getLayer(S),S===null?null:d.GetTileAt(g,y,E,S)},getTileAtWorldXY:function(g,y,E,S,C){return C=this.getLayer(C),C===null?null:d.GetTileAtWorldXY(g,y,E,S,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,y,E,S,C,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithin(g,y,E,S,C,P)},getTilesWithinShape:function(g,y,E,S){return S=this.getLayer(S),S===null?null:d.GetTilesWithinShape(g,y,E,S)},getTilesWithinWorldXY:function(g,y,E,S,C,P,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithinWorldXY(g,y,E,S,C,P,A)},getTileset:function(g){var y=this.getIndex(this.tilesets,g);return y!==null?this.tilesets[y]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,y,E){return E=this.getLayer(E),E===null?null:d.HasTileAt(g,y,E)},hasTileAtWorldXY:function(g,y,E,S){return S=this.getLayer(S),S===null?null:d.HasTileAtWorldXY(g,y,E,S)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,y,E,S,C){return S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:d.PutTileAt(g,y,E,S,C)},putTileAtWorldXY:function(g,y,E,S,C,P){return S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:d.PutTileAtWorldXY(g,y,E,S,C,P)},putTilesAt:function(g,y,E,S,C){return S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.PutTilesAt(g,y,E,S,C),this)},randomize:function(g,y,E,S,C,P){return P=this.getLayer(P),P===null?null:(d.Randomize(g,y,E,S,C,P),this)},calculateFacesAt:function(g,y,E){return E=this.getLayer(E),E===null?null:(d.CalculateFacesAt(g,y,E),this)},calculateFacesWithin:function(g,y,E,S,C){return C=this.getLayer(C),C===null?null:(d.CalculateFacesWithin(g,y,E,S,C),this)},removeLayer:function(g){var y=this.getLayerIndex(g);if(y!==null){u(this.layers,y);for(var E=y;E<this.layers.length;E++)this.layers[E].tilemapLayer&&this.layers[E].tilemapLayer.layerIndex--;return this.currentLayerIndex===y&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var y=this.getLayerIndex(g);return y!==null?(g=this.layers[y],g.destroy(),u(this.layers,y),this.currentLayerIndex===y&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,y=0;y<g.length;y++)g[y].tilemapLayer&&g[y].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,y,E){y===void 0&&(y=-1),E===void 0&&(E=!0);var S=[];Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++){var P=g[C];S.push(this.removeTileAt(P.x,P.y,!0,E,P.tilemapLayer)),y>-1&&this.putTileAt(y,P.x,P.y,E,P.tilemapLayer)}return S},removeTileAt:function(g,y,E,S,C){return E===void 0&&(E=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:d.RemoveTileAt(g,y,E,S,C)},removeTileAtWorldXY:function(g,y,E,S,C,P){return E===void 0&&(E=!0),S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAtWorldXY(g,y,E,S,C,P)},renderDebug:function(g,y,E){return E=this.getLayer(E),E===null?null:(this.orientation===n.ORTHOGONAL&&d.RenderDebug(g,y,E),this)},renderDebugFull:function(g,y){for(var E=this.layers,S=0;S<E.length;S++)d.RenderDebug(g,y,E[S]);return this},replaceByIndex:function(g,y,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.ReplaceByIndex(g,y,E,S,C,P,A),this)},setCollision:function(g,y,E,S,C){return y===void 0&&(y=!0),E===void 0&&(E=!0),C===void 0&&(C=!0),S=this.getLayer(S),S===null?null:(d.SetCollision(g,y,E,S,C),this)},setCollisionBetween:function(g,y,E,S,C){return E===void 0&&(E=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionBetween(g,y,E,S,C),this)},setCollisionByProperty:function(g,y,E,S){return y===void 0&&(y=!0),E===void 0&&(E=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionByProperty(g,y,E,S),this)},setCollisionByExclusion:function(g,y,E,S){return y===void 0&&(y=!0),E===void 0&&(E=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionByExclusion(g,y,E,S),this)},setCollisionFromCollisionGroup:function(g,y,E){return g===void 0&&(g=!0),y===void 0&&(y=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionFromCollisionGroup(g,y,E),this)},setTileIndexCallback:function(g,y,E,S){return S=this.getLayer(S),S===null?null:(d.SetTileIndexCallback(g,y,E,S),this)},setTileLocationCallback:function(g,y,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.SetTileLocationCallback(g,y,E,S,C,P,A),this)},setLayer:function(g){var y=this.getLayerIndex(g);return y!==null&&(this.currentLayerIndex=y),this},setBaseTileSize:function(g,y){this.tileWidth=g,this.tileHeight=y,this.widthInPixels=this.width*g,this.heightInPixels=this.height*y;for(var E=0;E<this.layers.length;E++){this.layers[E].baseTileWidth=g,this.layers[E].baseTileHeight=y;for(var S=this.layers[E].data,C=this.layers[E].width,P=this.layers[E].height,A=0;A<P;A++)for(var R=0;R<C;R++){var M=S[A][R];M!==null&&M.setSize(void 0,void 0,g,y)}}return this},setLayerTileSize:function(g,y,E){if(E=this.getLayer(E),E===null)return this;E.tileWidth=g,E.tileHeight=y;for(var S=E.data,C=E.width,P=E.height,A=0;A<P;A++)for(var R=0;R<C;R++){var M=S[A][R];M!==null&&M.setSize(g,y)}return this},shuffle:function(g,y,E,S,C){return C=this.getLayer(C),C===null?null:(d.Shuffle(g,y,E,S,C),this)},swapByIndex:function(g,y,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.SwapByIndex(g,y,E,S,C,P,A),this)},tileToWorldX:function(g,y,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldX(g,y,E)},tileToWorldY:function(g,y,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldY(g,y,E)},tileToWorldXY:function(g,y,E,S,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(g,y,E,S,C)},weightedRandomize:function(g,y,E,S,C,P){return P=this.getLayer(P),P===null?null:(d.WeightedRandomize(y,E,S,C,g,P),this)},worldToTileX:function(g,y,E,S){return S=this.getLayer(S),S===null?null:this._convert.WorldToTileX(g,y,E,S)},worldToTileY:function(g,y,E,S){return S=this.getLayer(S),S===null?null:this._convert.WorldToTileY(g,y,E,S)},worldToTileXY:function(g,y,E,S,C,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileXY(g,y,E,S,C,P)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(11),i=t(15),r=t(251),a=t(1456),n=new e({Extends:i,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Origin,f.Pipeline,f.Transform,f.Visible,f.ScrollFactor,a],initialize:function(u,o,h,d,v,c){i.call(this,u,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=h,this.layer=o.layers[h],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,c),this.setOrigin(),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(s){var u=[],o=[],h=this.tilemap;Array.isArray(s)||(s=[s]);for(var d=0;d<s.length;d++){var v=s[d];if(typeof v=="string"&&(v=h.getTileset(v)),v){o.push(v);for(var c=v.firstgid,m=0;m<v.total;m++)u[c+m]=v}}this.gidMap=u,this.tileset=o},setRenderOrder:function(s){var u=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=u.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,u){return r.CalculateFacesAt(s,u,this.layer),this},calculateFacesWithin:function(s,u,o,h){return r.CalculateFacesWithin(s,u,o,h,this.layer),this},createFromTiles:function(s,u,o,h,d){return r.CreateFromTiles(s,u,o,h,d,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,u,o,h,d,v,c){return r.Copy(s,u,o,h,d,v,c,this.layer),this},fill:function(s,u,o,h,d,v){return r.Fill(s,u,o,h,d,v,this.layer),this},filterTiles:function(s,u,o,h,d,v,c){return r.FilterTiles(s,u,o,h,d,v,c,this.layer)},findByIndex:function(s,u,o){return r.FindByIndex(s,u,o,this.layer)},findTile:function(s,u,o,h,d,v,c){return r.FindTile(s,u,o,h,d,v,c,this.layer)},forEachTile:function(s,u,o,h,d,v,c){return r.ForEachTile(s,u,o,h,d,v,c,this.layer),this},getTileAt:function(s,u,o){return r.GetTileAt(s,u,o,this.layer)},getTileAtWorldXY:function(s,u,o,h){return r.GetTileAtWorldXY(s,u,o,h,this.layer)},getTilesWithin:function(s,u,o,h,d){return r.GetTilesWithin(s,u,o,h,d,this.layer)},getTilesWithinShape:function(s,u,o){return r.GetTilesWithinShape(s,u,o,this.layer)},getTilesWithinWorldXY:function(s,u,o,h,d,v){return r.GetTilesWithinWorldXY(s,u,o,h,d,v,this.layer)},hasTileAt:function(s,u){return r.HasTileAt(s,u,this.layer)},hasTileAtWorldXY:function(s,u,o){return r.HasTileAtWorldXY(s,u,o,this.layer)},putTileAt:function(s,u,o,h){return r.PutTileAt(s,u,o,h,this.layer)},putTileAtWorldXY:function(s,u,o,h,d){return r.PutTileAtWorldXY(s,u,o,h,d,this.layer)},putTilesAt:function(s,u,o,h){return r.PutTilesAt(s,u,o,h,this.layer),this},randomize:function(s,u,o,h,d){return r.Randomize(s,u,o,h,d,this.layer),this},removeTileAt:function(s,u,o,h){return r.RemoveTileAt(s,u,o,h,this.layer)},removeTileAtWorldXY:function(s,u,o,h,d){return r.RemoveTileAtWorldXY(s,u,o,h,d,this.layer)},renderDebug:function(s,u){return r.RenderDebug(s,u,this.layer),this},replaceByIndex:function(s,u,o,h,d,v){return r.ReplaceByIndex(s,u,o,h,d,v,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,u){return s===void 0&&(s=1),u===void 0&&(u=1),this.cullPaddingX=s,this.cullPaddingY=u,this},setCollision:function(s,u,o,h){return r.SetCollision(s,u,o,this.layer,h),this},setCollisionBetween:function(s,u,o,h){return r.SetCollisionBetween(s,u,o,h,this.layer),this},setCollisionByProperty:function(s,u,o){return r.SetCollisionByProperty(s,u,o,this.layer),this},setCollisionByExclusion:function(s,u,o){return r.SetCollisionByExclusion(s,u,o,this.layer),this},setCollisionFromCollisionGroup:function(s,u){return r.SetCollisionFromCollisionGroup(s,u,this.layer),this},setTileIndexCallback:function(s,u,o){return r.SetTileIndexCallback(s,u,o,this.layer),this},setTileLocationCallback:function(s,u,o,h,d,v){return r.SetTileLocationCallback(s,u,o,h,d,v,this.layer),this},shuffle:function(s,u,o,h){return r.Shuffle(s,u,o,h,this.layer),this},swapByIndex:function(s,u,o,h,d,v){return r.SwapByIndex(s,u,o,h,d,v,this.layer),this},tileToWorldX:function(s,u){return this.tilemap.tileToWorldX(s,u,this)},tileToWorldY:function(s,u){return this.tilemap.tileToWorldY(s,u,this)},tileToWorldXY:function(s,u,o,h){return this.tilemap.tileToWorldXY(s,u,o,h,this)},weightedRandomize:function(s,u,o,h,d){return r.WeightedRandomize(u,o,h,d,s,this.layer),this},worldToTileX:function(s,u,o){return this.tilemap.worldToTileX(s,u,o,this)},worldToTileY:function(s,u,o){return this.tilemap.worldToTileY(s,u,o,this)},worldToTileXY:function(s,u,o,h,d){return this.tilemap.worldToTileXY(s,u,o,h,d,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(2),i=new e({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(r){return this.delay=f(r,"delay",0),this.repeat=f(r,"repeat",0),this.loop=f(r,"loop",!1),this.callback=f(r,"callback",void 0),this.callbackScope=f(r,"callbackScope",this.callback),this.args=f(r,"args",[]),this.timeScale=f(r,"timeScale",1),this.startAt=f(r,"startAt",0),this.paused=f(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),f=function(i){var r,a=[];if(i.hasOwnProperty("props"))for(r in i.props)r.substr(0,1)!=="_"&&a.push({key:r,value:i.props[r]});else for(r in i)e.indexOf(r)===-1&&r.substr(0,1)!=="_"&&a.push({key:r,value:i[r]});return a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f=function(i){var r=e(i,"tweens",null);return r===null?[]:(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r]),r)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),f=t(13),i=t(99),r=t(80),a=t(162),n=t(6),s=t(264),u=t(266),o=t(268),h=function(d,v,c){c===void 0&&(c=e);var m=n(v,"from",0),g=n(v,"to",1),y=[{value:m}],E=a(v,"delay",c.delay),S=a(v,"duration",c.duration),C=n(v,"easeParams",c.easeParams),P=r(n(v,"ease",c.ease),C),A=a(v,"hold",c.hold),R=a(v,"repeat",c.repeat),M=a(v,"repeatDelay",c.repeatDelay),L=i(v,"yoyo",c.yoyo),F=[],I=s("value",g),N=o(y[0],0,"value",I.getEnd,I.getStart,I.getActive,P,E,S,L,A,R,M,!1,!1);N.start=m,N.current=m,N.to=g,F.push(N);var z=new u(d,F,y);z.offset=f(v,"offset",null),z.completeDelay=f(v,"completeDelay",0),z.loop=Math.round(f(v,"loop",0)),z.loopDelay=Math.round(f(v,"loopDelay",0)),z.paused=i(v,"paused",!1),z.useFrames=i(v,"useFrames",!1);for(var W=n(v,"callbackScope",z),$=[z,null],Z=u.TYPES,D=0;D<Z.length;D++){var O=Z[D],B=n(v,O,!1);if(B){var G=n(v,O+"Scope",W),Y=n(v,O+"Params",[]);z.setCallback(O,B,$.concat(Y),G)}}return z};l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),f=t(6),i=t(14),r=function(a,n){n===void 0&&(n={});var s,u=f(n,"start",0),o=f(n,"ease",null),h=f(n,"grid",null),d=f(n,"from",0),v=d==="first",c=d==="center",m=d==="last",g=typeof d=="number",y=Array.isArray(a),E=parseFloat(y?a[0]:a),S=y?parseFloat(a[1]):0,C=Math.max(E,S);if(y&&(u+=E),h){var P=h[0],A=h[1],R=0,M=0,L=0,F=0,I=[];m?(R=P-1,M=A-1):g?(R=d%P,M=Math.floor(d/P)):c&&(R=(P-1)/2,M=(A-1)/2);for(var N=i.MIN_SAFE_INTEGER,z=0;z<A;z++){I[z]=[];for(var W=0;W<P;W++){L=R-W,F=M-z;var $=Math.sqrt(L*L+F*F);$>N&&(N=$),I[z][W]=$}}}var Z=o?e(o):null;return h?s=function(D,O,B,G){var Y=0,V=G%P,b=Math.floor(G/P);V>=0&&V<P&&b>=0&&b<A&&(Y=I[b][V]);var H;if(y){var j=S-E;Z?H=Y/N*j*Z(Y/N):H=Y/N*j}else Z?H=Y*E*Z(Y/N):H=Y*E;return H+u}:s=function(D,O,B,G,Y){Y--;var V;v?V=G:c?V=Math.abs(Y/2-G):m?V=Y-G:g&&(V=Math.abs(d-G));var b;if(y){var H;c?H=(S-E)/Y*(V*2):H=(S-E)/Y*V,Z?b=H*Z(V/Y):b=H}else Z?b=Y*C*Z(V/Y):b=V*E;return b+u},s};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),f=t(265),i=t(13),r=t(99),a=t(80),n=t(162),s=t(263),u=t(584),o=t(6),h=t(588),d=t(163),v=function(c,m){var g=new h(c);g.completeDelay=i(m,"completeDelay",0),g.loop=Math.round(i(m,"loop",0)),g.loopDelay=Math.round(i(m,"loopDelay",0)),g.paused=r(m,"paused",!1),g.useFrames=r(m,"useFrames",!1);var y=o(m,"callbackScope",g),E=[g],S=o(m,"onStart",!1);if(S){var C=o(m,"onStartScope",y),P=o(m,"onStartParams",[]);g.setCallback("onStart",S,E.concat(P),C)}var A=o(m,"onUpdate",!1);if(A){var R=o(m,"onUpdateScope",y),M=o(m,"onUpdateParams",[]);g.setCallback("onUpdate",A,E.concat(M),R)}var L=o(m,"onLoop",!1);if(L){var F=o(m,"onLoopScope",y),I=o(m,"onLoopParams",[]);g.setCallback("onLoop",L,E.concat(I),F)}var N=o(m,"onYoyo",!1);if(N){var z=o(m,"onYoyoScope",y),W=o(m,"onYoyoParams",[]);g.setCallback("onYoyo",N,E.concat(null,W),z)}var $=o(m,"onComplete",!1);if($){var Z=o(m,"onCompleteScope",y),D=o(m,"onCompleteParams",[]);g.setCallback("onComplete",$,E.concat(D),Z)}var O=u(m);if(O.length===0)return g.paused=!0,g;var B=e(f);B.targets=s(m);var G=i(m,"totalDuration",0);G>0?B.duration=Math.floor(G/O.length):B.duration=n(m,"duration",B.duration),B.delay=n(m,"delay",B.delay),B.easeParams=o(m,"easeParams",B.easeParams),B.ease=a(o(m,"ease",B.ease),B.easeParams),B.hold=n(m,"hold",B.hold),B.repeat=n(m,"repeat",B.repeat),B.repeatDelay=n(m,"repeatDelay",B.repeatDelay),B.yoyo=r(m,"yoyo",B.yoyo),B.flipX=r(m,"flipX",B.flipX),B.flipY=r(m,"flipY",B.flipY);for(var Y=0;Y<O.length;Y++)g.queue(d(g,O[Y],B));return g};l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(267),r=t(163),a=t(100),n=new e({Extends:f,initialize:function(u){f.call(this),this.manager=u,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(s,u){this.emit(s,this),u&&u.func.apply(u.scope,u.params)},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(s){return this.queue(r(this,s))},queue:function(s){return this.isPlaying()||(s.parent=this,s.parentIsTimeline=!0,this.data.push(s),this.totalData=this.data.length),this},hasOffset:function(s){return s.offset!==null},isOffsetAbsolute:function(s){return typeof s=="number"},isOffsetRelative:function(s){var u=typeof s;if(u==="string"){var o=s[0];if(o==="-"||o==="+")return!0}return!1},getRelativeOffset:function(s,u){var o=s[0],h=parseFloat(s.substr(2)),d=u;switch(o){case"+":d+=h;break;case"-":d-=h;break}return Math.max(0,d)},calcDuration:function(){for(var s=0,u=0,o=0,h=0;h<this.totalData;h++){var d=this.data[h];d.init(),this.hasOffset(d)?this.isOffsetAbsolute(d.offset)?(d.calculatedOffset=d.offset,d.offset===0&&(o=0)):this.isOffsetRelative(d.offset)&&(d.calculatedOffset=this.getRelativeOffset(d.offset,s)):d.calculatedOffset=o,s=d.totalDuration+d.calculatedOffset,u+=d.totalDuration,o+=d.totalDuration}this.duration=u,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=a.PAUSED,!1):!0},resetTweens:function(s){for(var u=0;u<this.totalData;u++){var o=this.data[u];o.play(s)}},setCallback:function(s,u,o,h){return n.TYPES.indexOf(s)!==-1&&(this.callbacks[s]={func:u,scope:h,params:o}),this},makeActive:function(s){return this.manager.makeActive(s)},play:function(){if(this.state!==a.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=a.ACTIVE;this.dispatchTimelineEvent(i.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):(this.state=a.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=a.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(s,u){if(this.state!==a.PAUSED){switch(this.useFrames&&(u=1*this.manager.timeScale),u*=this.timeScale,this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(var o=this.totalData,h=0;h<this.totalData;h++){var d=this.data[h];d.update(s,u)&&o--}this.dispatchTimelineEvent(i.TIMELINE_UPDATE,this.callbacks.onUpdate),o===0&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=a.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop));break;case a.COMPLETE_DELAY:this.countdown-=u,this.countdown<=0&&(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(i.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(i.TIMELINE_RESUME,this)),this},hasTarget:function(s){for(var u=0;u<this.data.length;u++)if(this.data[u].hasTarget(s))return!0;return!1},destroy:function(){for(var s=0;s<this.data.length;s++)this.data[s].stop()}});n.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],l.exports=n},function(l,x,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(41),i=t(32),r=t(2),a=t(64),n={parseBody:function(s,u,o,h){h===void 0&&(h={});for(var d=r(o,"fixtures",[]),v=[],c=0;c<d.length;c++)for(var m=this.parseFixture(d[c]),g=0;g<m.length;g++)v.push(m[g]);var y=i.clone(o,!0);i.extend(y,h,!0),delete y.fixtures,delete y.type;var E=f.create(y);return f.setParts(E,v),f.setPosition(E,{x:s,y:u}),E},parseFixture:function(s){var u=i.extend({},!1,s);delete u.circle,delete u.vertices;var o;if(s.circle){var h=r(s.circle,"x"),d=r(s.circle,"y"),v=r(s.circle,"radius");o=[e.circle(h,d,v,u)]}else s.vertices&&(o=this.parseVertices(s.vertices,u));return o},parseVertices:function(s,u){u===void 0&&(u={});for(var o=[],h=0;h<s.length;h++)a.clockwiseSort(s[h]),o.push(f.create(i.extend({position:a.centre(s[h]),vertices:s[h]},u)));return e.flagCoincidentParts(o)}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(41),i={parseBody:function(r,a,n,s){s===void 0&&(s={});var u,o=n.vertices;if(o.length===1)s.vertices=o[0],u=f.create(s),e.flagCoincidentParts(u.parts);else{for(var h=[],d=0;d<o.length;d++){var v=f.create({vertices:o[d]});h.push(v)}e.flagCoincidentParts(h),s.parts=h,u=f.create(s)}return u.label=n.label,f.setPosition(u,{x:r,y:a}),u}};l.exports=i},function(l,x,t){var e={};l.exports=e;var f=t(118),i=t(128),r=t(32),a=t(41),n=t(86);(function(){e.stack=function(s,u,o,h,d,v,c){for(var m=f.create({label:"Stack"}),g=s,y=u,E,S=0,C=0;C<h;C++){for(var P=0,A=0;A<o;A++){var R=c(g,y,A,C,E,S);if(R){var M=R.bounds.max.y-R.bounds.min.y,L=R.bounds.max.x-R.bounds.min.x;M>P&&(P=M),a.translate(R,{x:L*.5,y:M*.5}),g=R.bounds.max.x+d,f.addBody(m,R),E=R,S+=1}else g+=d}y+=P+v,g=s}return m},e.chain=function(s,u,o,h,d,v){for(var c=s.bodies,m=1;m<c.length;m++){var g=c[m-1],y=c[m],E=g.bounds.max.y-g.bounds.min.y,S=g.bounds.max.x-g.bounds.min.x,C=y.bounds.max.y-y.bounds.min.y,P=y.bounds.max.x-y.bounds.min.x,A={bodyA:g,pointA:{x:S*u,y:E*o},bodyB:y,pointB:{x:P*h,y:C*d}},R=r.extend(A,v);f.addConstraint(s,i.create(R))}return s.label+=" Chain",s},e.mesh=function(s,u,o,h,d){var v=s.bodies,c,m,g,y,E;for(c=0;c<o;c++){for(m=1;m<u;m++)g=v[m-1+c*u],y=v[m+c*u],f.addConstraint(s,i.create(r.extend({bodyA:g,bodyB:y},d)));if(c>0)for(m=0;m<u;m++)g=v[m+(c-1)*u],y=v[m+c*u],f.addConstraint(s,i.create(r.extend({bodyA:g,bodyB:y},d))),h&&m>0&&(E=v[m-1+(c-1)*u],f.addConstraint(s,i.create(r.extend({bodyA:E,bodyB:y},d)))),h&&m<u-1&&(E=v[m+1+(c-1)*u],f.addConstraint(s,i.create(r.extend({bodyA:E,bodyB:y},d))))}return s.label+=" Mesh",s},e.pyramid=function(s,u,o,h,d,v,c){return e.stack(s,u,o,h,d,v,function(m,g,y,E,S,C){var P=Math.min(h,Math.ceil(o/2)),A=S?S.bounds.max.x-S.bounds.min.x:0;if(!(E>P)){E=P-E;var R=E,M=o-1-E;if(!(y<R||y>M)){C===1&&a.translate(S,{x:(y+(o%2===1?1:-1))*A,y:0});var L=S?y*A:0;return c(s+L+y*d,g,y,E,S,C)}}})},e.newtonsCradle=function(s,u,o,h,d){for(var v=f.create({label:"Newtons Cradle"}),c=0;c<o;c++){var m=1.9,g=n.circle(s+c*(h*m),u+d,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),y=i.create({pointA:{x:s+c*(h*m),y:u},bodyB:g});f.addBody(v,g),f.addConstraint(v,y)}return v},e.car=function(s,u,o,h,d){var v=a.nextGroup(!0),c=20,m=-o*.5+c,g=o*.5-c,y=0,E=f.create({label:"Car"}),S=n.rectangle(s,u,o,h,{collisionFilter:{group:v},chamfer:{radius:h*.5},density:2e-4}),C=n.circle(s+m,u+y,d,{collisionFilter:{group:v},friction:.8}),P=n.circle(s+g,u+y,d,{collisionFilter:{group:v},friction:.8}),A=i.create({bodyB:S,pointB:{x:m,y},bodyA:C,stiffness:1,length:0}),R=i.create({bodyB:S,pointB:{x:g,y},bodyA:P,stiffness:1,length:0});return f.addBody(E,S),f.addBody(E,C),f.addBody(E,P),f.addConstraint(E,A),f.addConstraint(E,R),E},e.softBody=function(s,u,o,h,d,v,c,m,g,y){g=r.extend({inertia:1/0},g),y=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var E=e.stack(s,u,o,h,d,v,function(S,C){return n.circle(S,C,m,g)});return e.mesh(E,o,h,c,y),E.label="Soft Body",E}})()},function(l,x,t){var e={};l.exports=e,t(84);var f=t(32);(function(){e.pathToVertices=function(i,r){typeof window<"u"&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,n,s,u,o,h,d,v,c,m,g=[],y,E,S=0,C=0,P=0;r=r||15;var A=function(M,L,F){var I=F%2===1&&F>1;if(!c||M!=c.x||L!=c.y){c&&I?(y=c.x,E=c.y):(y=0,E=0);var N={x:y+M,y:E+L};(I||!c)&&(c=N),g.push(N),C=y+M,P=E+L}},R=function(M){var L=M.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":C=M.x,P=M.y;break;case"H":C=M.x;break;case"V":P=M.y;break}A(C,P,M.pathSegType)}};for(e._svgPathToAbsolute(i),s=i.getTotalLength(),h=[],a=0;a<i.pathSegList.numberOfItems;a+=1)h.push(i.pathSegList.getItem(a));for(d=h.concat();S<s;){if(m=i.getPathSegAtLength(S),o=h[m],o!=v){for(;d.length&&d[0]!=o;)R(d.shift());v=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":u=i.getPointAtLength(S),A(u.x,u.y,0);break}S+=r}for(a=0,n=d.length;a<n;++a)R(d[a]);return g},e._svgPathToAbsolute=function(i){for(var r,a,n,s,u,o,h=i.pathSegList,d=0,v=0,c=h.numberOfItems,m=0;m<c;++m){var g=h.getItem(m),y=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(y))"x"in g&&(d=g.x),"y"in g&&(v=g.y);else switch("x1"in g&&(n=d+g.x1),"x2"in g&&(u=d+g.x2),"y1"in g&&(s=v+g.y1),"y2"in g&&(o=v+g.y2),"x"in g&&(d+=g.x),"y"in g&&(v+=g.y),y){case"m":h.replaceItem(i.createSVGPathSegMovetoAbs(d,v),m);break;case"l":h.replaceItem(i.createSVGPathSegLinetoAbs(d,v),m);break;case"h":h.replaceItem(i.createSVGPathSegLinetoHorizontalAbs(d),m);break;case"v":h.replaceItem(i.createSVGPathSegLinetoVerticalAbs(v),m);break;case"c":h.replaceItem(i.createSVGPathSegCurvetoCubicAbs(d,v,n,s,u,o),m);break;case"s":h.replaceItem(i.createSVGPathSegCurvetoCubicSmoothAbs(d,v,u,o),m);break;case"q":h.replaceItem(i.createSVGPathSegCurvetoQuadraticAbs(d,v,n,s),m);break;case"t":h.replaceItem(i.createSVGPathSegCurvetoQuadraticSmoothAbs(d,v),m);break;case"a":h.replaceItem(i.createSVGPathSegArcAbs(d,v,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),m);break;case"z":case"Z":d=r,v=a;break}(y=="M"||y=="m")&&(r=d,a=v)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(41),i=t(0),r=t(249),a=t(9),n=t(2),s=t(126),u=t(64),o=new i({Extends:a,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,v,c){a.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var m=n(c,"body",null),g=n(c,"addToWorld",!0);if(m)this.setBody(m,g);else{var y=v.getCollisionGroup(),E=n(y,"objects",[]);E.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}},setFromTileRectangle:function(h){h===void 0&&(h={}),s(h,"isStatic")||(h.isStatic=!0),s(h,"addToWorld")||(h.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,c=d.y+d.height/2,m=e.rectangle(v,c,d.width,d.height,h);return this.setBody(m,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),s(h,"isStatic")||(h.isStatic=!0),s(h,"addToWorld")||(h.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),m=this.tile.getTop(),g=this.tile.getCollisionGroup(),y=n(g,"objects",[]),E=[],S=0;S<y.length;S++){var C=y[S],P=c+C.x*d,A=m+C.y*v,R=C.width*d,M=C.height*v,L=null;if(C.rectangle)L=e.rectangle(P+R/2,A+M/2,R,M,h);else if(C.ellipse)L=e.circle(P+R/2,A+M/2,R/2,h);else if(C.polygon||C.polyline){var F=C.polygon?C.polygon:C.polyline,I=F.map(function(W){return{x:W.x*d,y:W.y*v}}),N=u.create(I),z=u.centre(N);P+=z.x,A+=z.y,L=e.fromVertices(P,A,N,h)}L&&E.push(L)}return E.length===1?this.setBody(E[0],h.addToWorld):E.length>1&&(h.parts=E,this.setBody(f.create(h),h.addToWorld)),this},setBody:function(h,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,l.exports=e},function(l,x,t){var e={};l.exports=e;var f=t(32);(function(){e._registry={},e.register=function(i){if(e.isPlugin(i)||f.warn("Plugin.register:",e.toString(i),"does not implement all required fields."),i.name in e._registry){var r=e._registry[i.name],a=e.versionParse(i.version).number,n=e.versionParse(r.version).number;a>n?(f.warn("Plugin.register:",e.toString(r),"was upgraded to",e.toString(i)),e._registry[i.name]=i):a<n?f.warn("Plugin.register:",e.toString(r),"can not be downgraded to",e.toString(i)):i!==r&&f.warn("Plugin.register:",e.toString(i),"is already registered to different plugin object")}else e._registry[i.name]=i;return i},e.resolve=function(i){return e._registry[e.dependencyParse(i).name]},e.toString=function(i){return typeof i=="string"?i:(i.name||"anonymous")+"@"+(i.version||i.range||"0.0.0")},e.isPlugin=function(i){return i&&i.name&&i.version&&i.install},e.isUsed=function(i,r){return i.used.indexOf(r)>-1},e.isFor=function(i,r){var a=i.for&&e.dependencyParse(i.for);return!i.for||r.name===a.name&&e.versionSatisfies(r.version,a.range)},e.use=function(i,r){if(i.uses=(i.uses||[]).concat(r||[]),i.uses.length===0){f.warn("Plugin.use:",e.toString(i),"does not specify any dependencies to install.");return}for(var a=e.dependencies(i),n=f.topologicalSort(a),s=[],u=0;u<n.length;u+=1)if(n[u]!==i.name){var o=e.resolve(n[u]);if(!o){s.push(" "+n[u]);continue}e.isUsed(i,o.name)||(e.isFor(o,i)||(f.warn("Plugin.use:",e.toString(o),"is for",o.for,"but installed on",e.toString(i)+"."),o._warned=!0),o.install?o.install(i):(f.warn("Plugin.use:",e.toString(o),"does not specify an install function."),o._warned=!0),o._warned?(s.push(" "+e.toString(o)),delete o._warned):s.push(" "+e.toString(o)),i.used.push(o.name))}s.length>0&&!o.silent&&f.info(s.join("  "))},e.dependencies=function(i,r){var a=e.dependencyParse(i),n=a.name;if(r=r||{},!(n in r)){i=e.resolve(i)||i,r[n]=f.map(i.uses||[],function(u){e.isPlugin(u)&&e.register(u);var o=e.dependencyParse(u),h=e.resolve(u);return h&&!e.versionSatisfies(h.version,o.range)?(f.warn("Plugin.dependencies:",e.toString(h),"does not satisfy",e.toString(o),"used by",e.toString(a)+"."),h._warned=!0,i._warned=!0):h||(f.warn("Plugin.dependencies:",e.toString(u),"used by",e.toString(a),"could not be resolved."),i._warned=!0),o.name});for(var s=0;s<r[n].length;s+=1)e.dependencies(r[n][s],r);return r}},e.dependencyParse=function(i){if(f.isString(i)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return r.test(i)||f.warn("Plugin.dependencyParse:",i,"is not a valid dependency string."),{name:i.split("@")[0],range:i.split("@")[1]||"*"}}return{name:i.name,range:i.range||i.version}},e.versionParse=function(i){var r=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;r.test(i)||f.warn("Plugin.versionParse:",i,"is not a valid version or range.");var a=i.split("-");i=a[0];var n=isNaN(Number(i[0])),s=n?i.substr(1):i,u=f.map(s.split("."),function(o){return Number(o)});return{isRange:n,version:s,range:i,operator:n?i[0]:"",parts:u,prerelease:a[1],number:u[0]*1e8+u[1]*1e4+u[2]}},e.versionSatisfies=function(i,r){r=r||"*";var a=e.versionParse(r),n=a.parts,s=e.versionParse(i),u=s.parts;if(a.isRange){if(a.operator==="*"||i==="*")return!0;if(a.operator==="~")return u[0]===n[0]&&u[1]===n[1]&&u[2]>=n[2];if(a.operator==="^")return n[0]>0?u[0]===n[0]&&s.number>=a.number:n[1]>0?u[1]===n[1]&&u[2]>=n[2]:u[2]===n[2]}return i===r||i==="*"}})()},function(l,x,t){var e={};l.exports=e;var f=t(118);t(128);var i=t(32);(function(){e.create=function(r){var a=f.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return i.extend(a,n,r)}})()},function(l,x,t){var e={};l.exports=e;var f=t(250),i=t(273),r=t(32);(function(){e.create=function(a){var n={controller:e,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(n,a)},e.update=function(a,n,s,u){var o,h,d,v=s.world,c=a.buckets,m,g,y=!1,E=s.metrics;for(E.broadphaseTests=0,o=0;o<n.length;o++){var S=n[o];if(!(S.isSleeping&&!u)&&!(S.bounds.max.x<v.bounds.min.x||S.bounds.min.x>v.bounds.max.x||S.bounds.max.y<v.bounds.min.y||S.bounds.min.y>v.bounds.max.y)){var C=e._getRegion(a,S);if(!S.region||C.id!==S.region.id||u){E.broadphaseTests+=1,(!S.region||u)&&(S.region=C);var P=e._regionUnion(C,S.region);for(h=P.startCol;h<=P.endCol;h++)for(d=P.startRow;d<=P.endRow;d++){g=e._getBucketId(h,d),m=c[g];var A=h>=C.startCol&&h<=C.endCol&&d>=C.startRow&&d<=C.endRow,R=h>=S.region.startCol&&h<=S.region.endCol&&d>=S.region.startRow&&d<=S.region.endRow;!A&&R&&R&&m&&e._bucketRemoveBody(a,m,S),(S.region===C||A&&!R||u)&&(m||(m=e._createBucket(c,g)),e._bucketAddBody(a,m,S))}S.region=C,y=!0}}}y&&(a.pairsList=e._createActivePairsList(a))},e.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]},e._regionUnion=function(a,n){var s=Math.min(a.startCol,n.startCol),u=Math.max(a.endCol,n.endCol),o=Math.min(a.startRow,n.startRow),h=Math.max(a.endRow,n.endRow);return e._createRegion(s,u,o,h)},e._getRegion=function(a,n){var s=n.bounds,u=Math.floor(s.min.x/a.bucketWidth),o=Math.floor(s.max.x/a.bucketWidth),h=Math.floor(s.min.y/a.bucketHeight),d=Math.floor(s.max.y/a.bucketHeight);return e._createRegion(u,o,h,d)},e._createRegion=function(a,n,s,u){return{id:a+","+n+","+s+","+u,startCol:a,endCol:n,startRow:s,endRow:u}},e._getBucketId=function(a,n){return"C"+a+"R"+n},e._createBucket=function(a,n){var s=a[n]=[];return s},e._bucketAddBody=function(a,n,s){for(var u=0;u<n.length;u++){var o=n[u];if(!(s.id===o.id||s.isStatic&&o.isStatic)){var h=f.id(s,o),d=a.pairs[h];d?d[2]+=1:a.pairs[h]=[s,o,1]}}n.push(s)},e._bucketRemoveBody=function(a,n,s){n.splice(n.indexOf(s),1);for(var u=0;u<n.length;u++){var o=n[u],h=f.id(s,o),d=a.pairs[h];d&&(d[2]-=1)}},e._createActivePairsList=function(a){var n,s,u=[];n=r.keys(a.pairs);for(var o=0;o<n.length;o++)s=a.pairs[n[o]],s[2]>0?u.push(s):delete a.pairs[n[o]];return u}})()},function(l,x,t){var e={};l.exports=e;var f=t(250),i=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(r){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},e.update=function(r,a,n){var s=r.list,u=r.table,o=r.collisionStart,h=r.collisionEnd,d=r.collisionActive,v,c,m,g;for(o.length=0,h.length=0,d.length=0,g=0;g<s.length;g++)s[g].confirmedActive=!1;for(g=0;g<a.length;g++)v=a[g],v.collided&&(c=f.id(v.bodyA,v.bodyB),m=u[c],m?(m.isActive?d.push(m):o.push(m),f.update(m,v,n),m.confirmedActive=!0):(m=f.create(v,n),u[c]=m,o.push(m),s.push(m)));for(g=0;g<s.length;g++)m=s[g],m.isActive&&!m.confirmedActive&&(f.setActive(m,!1,n),h.push(m))},e.removeOld=function(r,a){var n=r.list,s=r.table,u=[],o,h,d,v;for(v=0;v<n.length;v++){if(o=n[v],h=o.collision,h.bodyA.isSleeping||h.bodyB.isSleeping){o.timeUpdated=a;continue}a-o.timeUpdated>e._pairMaxIdleLife&&u.push(v)}for(v=0;v<u.length;v++)d=u[v]-v,o=n[d],delete s[o.id],n.splice(d,1)},e.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},function(l,x,t){var e={};l.exports=e;var f=t(64),i=t(83),r=t(32),a=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var s,u,o;for(s=0;s<n.length;s++)u=n[s],u.isActive&&(o=u.activeContacts.length,u.collision.parentA.totalContacts+=o,u.collision.parentB.totalContacts+=o)},e.solvePosition=function(n,s,u){var o,h,d,v,c,m,g,y,E,S,C,P,A,R,M,L,F=u*e._positionDampen;for(o=0;o<s.length;o++){var I=s[o];I.previousPositionImpulse.x=I.positionImpulse.x,I.previousPositionImpulse.y=I.positionImpulse.y}for(o=0;o<n.length;o++)v=n[o],!(!v.isActive||v.isSensor)&&(c=v.collision,m=c.parentA,g=c.parentB,y=c.normal,C=m.previousPositionImpulse,P=g.previousPositionImpulse,S=c.penetration,R=P.x-C.x+S.x,M=P.y-C.y+S.y,h=y.x,d=y.y,E=h*R+d*M,v.separation=E,L=(E-v.slop)*F,(m.isStatic||g.isStatic)&&(L*=2),m.isStatic||m.isSleeping||(A=L/m.totalContacts,m.positionImpulse.x+=h*A,m.positionImpulse.y+=d*A),g.isStatic||g.isSleeping||(A=L/g.totalContacts,g.positionImpulse.x-=h*A,g.positionImpulse.y-=d*A))},e.postSolvePosition=function(n){for(var s=0;s<n.length;s++){var u=n[s];if(u.totalContacts=0,u.positionImpulse.x!==0||u.positionImpulse.y!==0){for(var o=0;o<u.parts.length;o++){var h=u.parts[o];f.translate(h.vertices,u.positionImpulse),a.update(h.bounds,h.vertices,u.velocity),h.position.x+=u.positionImpulse.x,h.position.y+=u.positionImpulse.y}u.positionPrev.x+=u.positionImpulse.x,u.positionPrev.y+=u.positionImpulse.y,i.dot(u.positionImpulse,u.velocity)<0?(u.positionImpulse.x=0,u.positionImpulse.y=0):(u.positionImpulse.x*=e._positionWarming,u.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(n){var s,u,o,h,d,v,c,m,g,y,E,S,C,P,A=i._temp[0],R=i._temp[1];for(s=0;s<n.length;s++)if(o=n[s],!(!o.isActive||o.isSensor))for(h=o.activeContacts,d=o.collision,v=d.parentA,c=d.parentB,m=d.normal,g=d.tangent,u=0;u<h.length;u++)y=h[u],E=y.vertex,S=y.normalImpulse,C=y.tangentImpulse,(S!==0||C!==0)&&(A.x=m.x*S+g.x*C,A.y=m.y*S+g.y*C,v.isStatic||v.isSleeping||(P=i.sub(E,v.position,R),v.positionPrev.x+=A.x*v.inverseMass,v.positionPrev.y+=A.y*v.inverseMass,v.anglePrev+=i.cross(P,A)*v.inverseInertia),c.isStatic||c.isSleeping||(P=i.sub(E,c.position,R),c.positionPrev.x-=A.x*c.inverseMass,c.positionPrev.y-=A.y*c.inverseMass,c.anglePrev-=i.cross(P,A)*c.inverseInertia))},e.solveVelocity=function(n,s){for(var u=s*s,o=i._temp[0],h=i._temp[1],d=i._temp[2],v=i._temp[3],c=i._temp[4],m=i._temp[5],g=0;g<n.length;g++){var y=n[g];if(!(!y.isActive||y.isSensor)){var E=y.collision,S=E.parentA,C=E.parentB,P=E.normal,A=E.tangent,R=y.activeContacts,M=1/R.length;S.velocity.x=S.position.x-S.positionPrev.x,S.velocity.y=S.position.y-S.positionPrev.y,C.velocity.x=C.position.x-C.positionPrev.x,C.velocity.y=C.position.y-C.positionPrev.y,S.angularVelocity=S.angle-S.anglePrev,C.angularVelocity=C.angle-C.anglePrev;for(var L=0;L<R.length;L++){var F=R[L],I=F.vertex,N=i.sub(I,S.position,h),z=i.sub(I,C.position,d),W=i.add(S.velocity,i.mult(i.perp(N),S.angularVelocity),v),$=i.add(C.velocity,i.mult(i.perp(z),C.angularVelocity),c),Z=i.sub(W,$,m),D=i.dot(P,Z),O=i.dot(A,Z),B=Math.abs(O),G=r.sign(O),Y=(1+y.restitution)*D,V=r.clamp(y.separation+D,0,1)*e._frictionNormalMultiplier,b=O,H=1/0;B>y.friction*y.frictionStatic*V*u&&(H=B,b=r.clamp(y.friction*G*u,-H,H));var j=i.cross(N,P),q=i.cross(z,P),et=M/(S.inverseMass+C.inverseMass+S.inverseInertia*j*j+C.inverseInertia*q*q);if(Y*=et,b*=et,D<0&&D*D>e._restingThresh*u)F.normalImpulse=0;else{var ot=F.normalImpulse;F.normalImpulse=Math.min(F.normalImpulse+Y,0),Y=F.normalImpulse-ot}if(O*O>e._restingThreshTangent*u)F.tangentImpulse=0;else{var K=F.tangentImpulse;F.tangentImpulse=r.clamp(F.tangentImpulse+b,-H,H),b=F.tangentImpulse-K}o.x=P.x*Y+A.x*b,o.y=P.y*Y+A.y*b,S.isStatic||S.isSleeping||(S.positionPrev.x+=o.x*S.inverseMass,S.positionPrev.y+=o.y*S.inverseMass,S.anglePrev+=i.cross(N,o)*S.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=o.x*C.inverseMass,C.positionPrev.y-=o.y*C.inverseMass,C.anglePrev-=i.cross(z,o)*C.inverseInertia)}}}}})()},function(l,x){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}l.exports=t},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),f=function(i,r,a,n){for(var s=i[0],u=1;u<i.length;u++){var o=i[u];e(o,s,r,a,n),s=o}return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"angle",r,a,n,s)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){for(var r=0;r<e.length;r++){var a=e[r];f.call(i,a)}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var a=e[r],n=!0;for(var s in f)a[s]!==f[s]&&(n=!1);if(n)return a}return null};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var a=e[r],n=!0;for(var s in f)a[s]!==f[s]&&(n=!1);if(n)return a}return null};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),f=t(123),i=t(2),r=t(1),a=t(129),n=new a({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1),s=function(u,o){o===void 0&&(o={});var h=o.hasOwnProperty("width"),d=o.hasOwnProperty("height"),v=i(o,"width",-1),c=i(o,"height",-1),m=i(o,"cellWidth",1),g=i(o,"cellHeight",m),y=i(o,"position",f.TOP_LEFT),E=i(o,"x",0),S=i(o,"y",0),C=0,P=0,A=v*m,R=c*g;n.setPosition(E,S),n.setSize(m,g);for(var M=0;M<u.length;M++)if(e(u[M],n,y),h&&v===-1)n.x+=m;else if(d&&c===-1)n.y+=g;else if(d&&!h){if(P+=g,n.y+=g,P===R&&(P=0,C+=m,n.y=S,n.x+=m,C===A))break}else if(C+=m,n.x+=m,C===A&&(C=0,P+=g,n.x=E,n.y+=g,P===R))break;return u};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=2,i={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,a,n,s){return r===void 0&&(r=1),a===void 0?this.alpha=r:(this._alphaTL=e(r,0,1),this._alphaTR=e(a,0,1),this._alphaBL=e(n,0,1),this._alphaBR=e(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=~f:this.renderFlags|=f}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var a=e(r,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=f)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var a=e(r,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=f)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var a=e(r,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=f)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var a=e(r,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=f)}}};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,f,i,r){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,f,i,r,this.flipX,this.flipY);else{var a=e;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,f){return this.flipX=e,this.flipY=f,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=t(308),i=t(3),r={prepareBoundsOutput:function(a,n){if(n===void 0&&(n=!1),this.rotation!==0&&f(a,this.x,this.y,this.rotation),n&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(a.x,a.y,a)}return a},getCenter:function(a){return a===void 0&&(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,a},getTopLeft:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopRight:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getLeftCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getRightCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getBottomLeft:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomRight:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBounds:function(a){a===void 0&&(a=new e);var n,s,u,o,h,d,v,c;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),m.transformPoint(a.x,a.y,a),n=a.x,s=a.y,this.getTopRight(a),m.transformPoint(a.x,a.y,a),u=a.x,o=a.y,this.getBottomLeft(a),m.transformPoint(a.x,a.y,a),h=a.x,d=a.y,this.getBottomRight(a),m.transformPoint(a.x,a.y,a),v=a.x,c=a.y}else this.getTopLeft(a),n=a.x,s=a.y,this.getTopRight(a),u=a.x,o=a.y,this.getBottomLeft(a),h=a.x,d=a.y,this.getBottomRight(a),v=a.x,c=a.y;return a.x=Math.min(n,u,h,v),a.y=Math.min(s,o,d,c),a.width=Math.max(n,u,h,v)-a.x,a.height=Math.max(s,o,d,c)-a.y,a}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="blur"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextlost"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextrestored"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="focus"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="hidden"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="poststep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prestep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="step"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="visible"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,f){return e===void 0&&(e=.5),f===void 0&&(f=e),this.originX=e,this.originY=f,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,f){return e===void 0&&(e=0),f===void 0&&(f=e),this.displayOriginX=e,this.displayOriginY=f,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),f=t(99),i=t(6),r=t(100),a=t(3),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,u){u===void 0&&(u=this.pathConfig);var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this.path=s,u&&this.startFollow(u),this},setRotateToPath:function(s,u){return u===void 0&&(u=0),this.rotateToPath=s,this.pathRotationOffset=u,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,u){s===void 0&&(s={}),u===void 0&&(u=0);var o=this.pathTween;o&&o.isPlaying()&&o.stop(),typeof s=="number"&&(s={duration:s}),s.from=i(s,"from",0),s.to=i(s,"to",1);var h=f(s,"positionOnPath",!1);this.rotateToPath=f(s,"rotateToPath",!1),this.pathRotationOffset=i(s,"rotationOffset",0);var d=i(s,"startAt",u);if(d&&(s.onStart=function(c){var m=c.data[0];m.progress=d,m.elapsed=m.duration*d;var g=m.ease(m.progress);m.current=m.start+(m.end-m.start)*g,m.target[m.key]=m.current}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s){var u=s.data[0],o=this.pathDelta,h=this.pathVector;if(o.copy(h).negate(),u.state===r.COMPLETE){this.path.getPoint(1,h),o.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(u.state!==r.PLAYING_FORWARD&&u.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),h),o.add(h),h.add(this.pathOffset);var d=this.x,v=this.y;this.setPosition(h.x,h.y);var c=this.x-d,m=this.y-v;if(c===0&&m===0)return;if(u.state!==this._prevDirection){this._prevDirection=u.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,c)+e(this.pathRotationOffset))}}};l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,f){return this.width=e,this.height=f,this},setDisplaySize:function(e,f){return this.displayWidth=e,this.displayHeight=f,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(f,i){return this.texture=this.scene.sys.textures.get(f),this.setFrame(i)},setFrame:function(f,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!0),this.frame=this.texture.get(f),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(f,i,r,a){if(f===void 0)this.isCropped=!1;else if(this.frame){if(typeof f=="number")this.frame.setCropUVs(this._crop,f,i,r,a,this.flipX,this.flipY);else{var n=f;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(f,i){return this.texture=this.scene.sys.textures.get(f),this.setFrame(i)},setFrame:function(f,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!0),this.frame=this.texture.get(f),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,f,i,r){return e===void 0&&(e=16777215),f===void 0&&(f=e,i=e,r=e),this.tintTopLeft=e,this.tintTopRight=f,this.tintBottomLeft=i,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(e,f,i,r){return this.setTint(e,f,i,r),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="setdata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="created"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="error"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeking"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="timeout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="create"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postupdate"},function(l,x){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioncomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioninit"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionwake"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wake"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"alpha",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"x",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"x",r,n,u,o),e(i,"y",a,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"y",r,a,n,s)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var a=i,n=(r-i)/e.length,s=0;s<e.length;s++)e[s].x=f.x+f.radius*Math.cos(a),e[s].y=f.y+f.radius*Math.sin(a),a+=n;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var a=i,n=(r-i)/e.length,s=f.width/2,u=f.height/2,o=0;o<e.length;o++)e[o].x=f.x+s*Math.cos(a),e[o].y=f.y+u*Math.sin(a),a+=n;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),f=function(i,r){for(var a=e(r,i.length),n=0;n<i.length;n++){var s=i[n],u=a[n];s.x=u.x,s.y=u.y}return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),f=t(178),i=t(179),r=function(a,n,s){s===void 0&&(s=0);var u=e(n,!1,a.length);s>0?f(u,s):s<0&&i(u,Math.abs(s));for(var o=0;o<a.length;o++)a[o].x=u[o].x,a[o].y=u[o].y;return a};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),f=function(i,r,a){var n=e({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},a),s=e({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},a),u=e({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},a);n.pop(),s.pop(),u.pop(),n=n.concat(s,u);for(var o=n.length/i.length,h=0,d=0;d<i.length;d++){var v=i[d],c=n[Math.floor(h)];v.x=c.x,v.y=c.y,h+=o}return i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){for(var r=0;r<e.length;r++){var a=e[r];a.anims&&a.anims.play(f,i)}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),f=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),f=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),f=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),f=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),f=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"rotation",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),f=t(50),i=function(r,a,n){for(var s=a.x,u=a.y,o=0;o<r.length;o++){var h=r[o];e(h,s,u,n,Math.max(1,f(h.x,h.y,s,u)))}return r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),f=function(i,r,a,n){var s=r.x,u=r.y;if(n===0)return i;for(var o=0;o<i.length;o++)e(i[o],s,u,a,n);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"scaleX",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"scaleX",r,n,u,o),e(i,"scaleY",a,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),f=function(i,r,a,n,s){return e(i,"scaleY",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"alpha",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n){return e(i,"blendMode",r,0,a,n)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"depth",r,a,n,s)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){for(var r=0;r<e.length;r++)e[r].setInteractive(f,i);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"originX",r,n,u,o),e(i,"originY",a,s,u,o),i.forEach(function(h){h.updateDisplayOrigin()}),i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"rotation",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"scaleX",r,n,u,o),e(i,"scaleY",a,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"scaleX",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"scaleY",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"scrollFactorX",r,n,u,o),e(i,"scrollFactorY",a,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"scrollFactorX",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"scrollFactorY",r,a,n,s)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){for(var n=0;n<e.length;n++)e[n].setTint(f,i,r,a);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n){return e(i,"visible",r,0,a,n)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"x",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s,u,o){return a==null&&(a=r),e(i,"x",r,n,u,o),e(i,"y",a,s,u,o)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),f=function(i,r,a,n,s){return e(i,"y",r,a,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=new e);var u,o;if(i.length>1){var h,d,v,c;if(n===0){var m=i.length-1;for(u=i[m].x,o=i[m].y,h=m-1;h>=0;h--)c=i[h],d=c.x,v=c.y,c.x=u,c.y=o,u=d,o=v;i[m].x=r,i[m].y=a}else{for(u=i[0].x,o=i[0].y,h=1;h<i.length;h++)c=i[h],d=c.x,v=c.y,c.x=u,c.y=o,u=d,o=v;i[0].x=r,i[0].y=a}}else u=i[0].x,o=i[0].y,i[0].x=r,i[0].y=a;return s.x=u,s.y=o,s};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),f=function(i){return e(i)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),f=function(i,r,a,n,s){s===void 0&&(s=!1);var u=Math.abs(n-a)/i.length,o;if(s)for(o=0;o<i.length;o++)i[o][r]+=e(o*u,a,n);else for(o=0;o<i.length;o++)i[o][r]=e(o*u,a,n);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),f=function(i,r,a,n,s){s===void 0&&(s=!1);var u=Math.abs(n-a)/i.length,o;if(s)for(o=0;o<i.length;o++)i[o][r]+=e(o*u,a,n);else for(o=0;o<i.length;o++)i[o][r]=e(o*u,a,n);return i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){a===void 0&&(a=!1);var n=Math.abs(r-i)/e.length,s;if(a)for(s=0;s<e.length;s++)e[s][f]+=s*n+i;else for(s=0;s<e.length;s++)e[s][f]=s*n+i;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=0;f<e.length;f++)e[f].visible=!e[f].visible;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),f=function(i,r,a){a===void 0&&(a=0);for(var n=0;n<i.length;n++){var s=i[n];s.x=e(s.x,r.left-a,r.right+a),s.y=e(s.y,r.top-a,r.bottom+a)}return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrepeat"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Controls:t(739),Scene2D:t(742)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(6),i=new e({initialize:function(a){this.camera=f(a,"camera",null),this.left=f(a,"left",null),this.right=f(a,"right",null),this.up=f(a,"up",null),this.down=f(a,"down",null),this.zoomIn=f(a,"zoomIn",null),this.zoomOut=f(a,"zoomOut",null),this.zoomSpeed=f(a,"zoomSpeed",.01),this.minZoom=f(a,"minZoom",.001),this.maxZoom=f(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=f(a,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=f(a,"speed.x",0),this.speedY=f(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(6),i=new e({initialize:function(a){this.camera=f(a,"camera",null),this.left=f(a,"left",null),this.right=f(a,"right",null),this.up=f(a,"up",null),this.down=f(a,"down",null),this.zoomIn=f(a,"zoomIn",null),this.zoomOut=f(a,"zoomOut",null),this.zoomSpeed=f(a,"zoomSpeed",.01),this.minZoom=f(a,"minZoom",.001),this.maxZoom=f(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=f(a,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=f(a,"acceleration.x",0),this.accelY=f(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=f(a,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=f(a,"drag.x",0),this.dragY=f(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var u=f(a,"maxSpeed",null);typeof u=="number"?(this.maxSpeedX=u,this.maxSpeedY=u):(this.maxSpeedX=f(a,"maxSpeed.x",0),this.maxSpeedY=f(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*r|0),this._speedY!==0&&(a.scrollY-=this._speedY*r|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameradestroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeincomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeinstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="followupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapancomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapanstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomstart"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(37),r=new f({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,n,s,u,o,h,d,v){if(a===void 0&&(a=!0),n===void 0&&(n=1e3),s===void 0&&(s=0),u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=a,this.progress=0,this.red=s,this.green=u,this.blue=o,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v;var c=a?i.FADE_OUT_START:i.FADE_IN_START;return this.camera.emit(c,this.camera,this,n,s,u,o),this.camera},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,u=this.red/255,o=this.green/255,h=this.blue/255;return a.drawFillRect(s.x,s.y,s.width,s.height,n(h,o,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?i.FADE_OUT_COMPLETE:i.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(37),r=new f({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,n,s,u,o,h,d){return a===void 0&&(a=250),n===void 0&&(n=255),s===void 0&&(s=255),u===void 0&&(u=255),o===void 0&&(o=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=n,this.green=s,this.blue=u,this.alpha=1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(i.FLASH_START,this.camera,this,a,n,s,u),this.camera)},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning)return!1;var s=this.camera,u=this.red/255,o=this.green/255,h=this.blue/255;return a.drawFillRect(s.x,s.y,s.width,s.height,n(h,o,u,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(134),r=t(37),a=t(3),n=new f({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,u,o,h,d,v,c){o===void 0&&(o=1e3),h===void 0&&(h=i.Linear),d===void 0&&(d=!1),v===void 0&&(v=null),c===void 0&&(c=this.camera.scene);var m=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(s,u),m.getScroll(s,u,this.current),typeof h=="string"&&i.hasOwnProperty(h)?this.ease=i[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=c,this.camera.emit(r.PAN_START,this.camera,this,o,s,u)),m},update:function(s,u){if(this.isRunning){this._elapsed+=u;var o=e(this._elapsed/this.duration,0,1);this.progress=o;var h=this.camera;if(this._elapsed<this.duration){var d=this.ease(o);h.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*d,c=this.source.y+(this.current.y-this.source.y)*d;h.setScroll(v,c),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,o,v,c)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,o,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1.70158),e*e*((f+1)*e-f)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1.70158),--e*e*((f+1)*e+f)+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=1.70158);var i=f*1.525;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=!1;return e<.5?(e=1-e*2,f=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,f?(1-e)*.5:e*.5+.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===void 0&&(f=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return f<1?f=1:r=i*Math.asin(1/f)/(2*Math.PI),-(f*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===void 0&&(f=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return f<1?f=1:r=i*Math.asin(1/f)/(2*Math.PI),f*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/i)+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===void 0&&(f=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return f<1?f=1:r=i*Math.asin(1/f)/(2*Math.PI),(e*=2)<1?-.5*(f*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)):f*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)*.5+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1),e<=0?0:e>=1?1:((f*e|0)+1)*(1/f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(37),r=t(3),a=new f({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,s,u,o,h){return n===void 0&&(n=100),s===void 0&&(s=.05),u===void 0&&(u=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(i.SHAKE_START,this.camera,this,n,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,s){if(this.isRunning)if(this._elapsed+=s,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var u=this.intensity,o=this.camera.width,h=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*u.x*o*2-u.x*o)*d,this._offsetY=(Math.random()*u.y*h*2-u.y*h)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});l.exports=a},function(l,x,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),f=t(0),i=t(37),r=t(134),a=new f({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,s,u,o,h,d,v){u===void 0&&(u=1e3),o===void 0&&(o=r.Linear),h===void 0&&(h=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var c=n;n<0?(c=-1*n,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;c=c-Math.floor(c/m)*m;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=u,this.progress=0,this.source=g.rotation,this.destination=c,typeof o=="string"&&r.hasOwnProperty(o)?this.ease=r[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.shortestPath){var y=0,E=0;this.destination>this.source?y=Math.abs(this.destination-this.source):y=Math.abs(this.destination+m)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+m)-this.destination,y<E?this.clockwise=!0:y>E&&(this.clockwise=!1)}return this.camera.emit(i.ROTATE_START,this.camera,this,u,c),g},update:function(n,s){if(this.isRunning){this._elapsed+=s;var u=e(this._elapsed/this.duration,0,1);this.progress=u;var o=this.camera;if(this._elapsed<this.duration){var h=this.ease(u);this.current=o.rotation;var d=0,v=360*Math.PI/180,c=this.destination,m=this.current;this.clockwise===!1&&(c=this.current,m=this.destination),c>=m?d=Math.abs(c-m):d=Math.abs(c+v)-m;var g=0;this.clockwise?g=o.rotation+d*h:g=o.rotation-d*h,o.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,u,g)}else o.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,u,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(134),r=t(37),a=new f({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,s,u,o,h,d){s===void 0&&(s=1e3),u===void 0&&(u=i.Linear),o===void 0&&(o=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!o&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=v.zoom,this.destination=n,typeof u=="string"&&i.hasOwnProperty(u)?this.ease=i[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(r.ZOOM_START,this.camera,this,s,n)),v},update:function(n,s){this.isRunning&&(this._elapsed+=s,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),f=t(0),i=t(2),r=t(24),a=t(57),n=t(104),s=t(20),u=new f({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(s.BOOT,this.boot,this),h.sys.events.on(s.START,this.start,this)},boot:function(){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,o.scale.width,o.scale.height).setScene(this.scene),o.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(s.UPDATE,this.update,this),h.once(s.SHUTDOWN,this.shutdown,this)},add:function(o,h,d,v,c,m){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),c===void 0&&(c=!1),m===void 0&&(m="");var g=new e(o,h,d,v);return g.setName(m),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),c&&(this.main=g),g},addExisting:function(o,h){h===void 0&&(h=!1);var d=this.cameras.indexOf(o);return d===-1?(o.id=this.getNextID(),o.setRoundPixels(this.roundPixels),this.cameras.push(o),h&&(this.main=o),o):null},getNextID:function(){for(var o=this.cameras,h=1,d=0;d<32;d++){for(var v=!1,c=0;c<o.length;c++){var m=o[c];if(m&&m.id===h){v=!0;continue}}if(v)h=h<<1;else return h}return 0},getTotal:function(o){o===void 0&&(o=!1);for(var h=0,d=this.cameras,v=0;v<d.length;v++){var c=d[v];(!o||o&&c.visible)&&h++}return h},fromJSON:function(o){Array.isArray(o)||(o=[o]);for(var h=this.scene.sys.scale.width,d=this.scene.sys.scale.height,v=0;v<o.length;v++){var c=o[v],m=i(c,"x",0),g=i(c,"y",0),y=i(c,"width",h),E=i(c,"height",d),S=this.add(m,g,y,E);S.name=i(c,"name",""),S.zoom=i(c,"zoom",1),S.rotation=i(c,"rotation",0),S.scrollX=i(c,"scrollX",0),S.scrollY=i(c,"scrollY",0),S.roundPixels=i(c,"roundPixels",!1),S.visible=i(c,"visible",!0);var C=i(c,"backgroundColor",!1);C&&S.setBackgroundColor(C);var P=i(c,"bounds",null);if(P){var A=i(P,"x",0),R=i(P,"y",0),M=i(P,"width",h),L=i(P,"height",d);S.setBounds(A,R,M,L)}}return this},getCamera:function(o){for(var h=this.cameras,d=0;d<h.length;d++)if(h[d].name===o)return h[d];return null},getCamerasBelowPointer:function(o){for(var h=this.cameras,d=o.x,v=o.y,c=[],m=0;m<h.length;m++){var g=h[m];g.visible&&g.inputEnabled&&a(g,d,v)&&c.unshift(g)}return c},remove:function(o,h){h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);for(var d=0,v=this.cameras,c=0;c<o.length;c++){var m=v.indexOf(o[c]);m!==-1&&(h?v[m].destroy():v[m].renderList=[],v.splice(m,1),d++)}return!this.main&&v[0]&&(this.main=v[0]),d},render:function(o,h){for(var d=this.scene,v=this.cameras,c=0;c<this.cameras.length;c++){var m=v[c];if(m.visible&&m.alpha>0){m.preRender();var g=this.getVisibleChildren(h.getChildren(),m);o.render(d,g,m)}}},getVisibleChildren:function(o,h){for(var d=[],v=0;v<o.length;v++){var c=o[v];c.willRender(h)&&d.push(c)}return d},resetAll:function(){for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(o,h){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(o,h)},onResize:function(o,h,d,v,c){for(var m=0;m<this.cameras.length;m++){var g=this.cameras[m];g._x===0&&g._y===0&&g._width===v&&g._height===c&&g.setSize(h.width,h.height)}},resize:function(o,h){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(o,h)},shutdown:function(){this.main=void 0;for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();this.cameras=[];var h=this.systems.events;h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});r.register("CameraManager",u,"cameras"),l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="enterfullscreen"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenfailed"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenunsupported"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="leavefullscreen"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="orientationchange"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(l,x){var t=l.exports={},e,f;function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?f=clearTimeout:f=r}catch{f=r}})();function a(g){if(e===setTimeout)return setTimeout(g,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function n(g){if(f===clearTimeout)return clearTimeout(g);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(g);try{return f(g)}catch{try{return f.call(null,g)}catch{return f.call(this,g)}}}var s=[],u=!1,o,h=-1;function d(){!u||!o||(u=!1,o.length?s=o.concat(s):h=-1,s.length&&v())}function v(){if(!u){var g=a(d);u=!0;for(var y=s.length;y;){for(o=s,s=[];++h<y;)o&&o[h].run();h=-1,y=s.length}o=null,u=!1,n(g)}}t.nextTick=function(g){var y=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)y[E-1]=arguments[E];s.push(new c(g,y)),s.length===1&&!u&&a(v)};function c(g,y){this.fun=g,this.array=y}c.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function m(){}t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),f={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function i(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(f.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(f.mspointer=!0),navigator.getGamepads&&(f.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?f.wheelEvent="wheel":"onmousewheel"in window?f.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(f.wheelEvent="DOMMouseScroll")),f}l.exports=i()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),f={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function i(){if(typeof importScripts=="function")return f;f.audioData=!!window.Audio,f.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),a=!!r.canPlayType;try{if(a&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(f.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(f.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(f.mp3=!0),r.canPlayType("audio/wav").replace(/^no$/,"")&&(f.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(f.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(f.webm=!0),r.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)f.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(n===10&&s>=11||n>10)&&(f.dolby=!0)}}}catch{}return f}l.exports=i()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var f=document.createElement("video"),i=!!f.canPlayType;try{i&&(f.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),f.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),f.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),f.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}l.exports=e()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var f,i="Fullscreen",r="FullScreen",a=["request"+i,"request"+r,"webkitRequest"+i,"webkitRequest"+r,"msRequest"+i,"msRequest"+r,"mozRequest"+r,"mozRequest"+i];for(f=0;f<a.length;f++)if(document.documentElement[a[f]]){t.available=!0,t.request=a[f];break}var n=["cancel"+r,"exit"+i,"webkitCancel"+r,"webkitExit"+i,"msCancel"+r,"msExit"+i,"mozCancel"+r,"mozExit"+i];if(t.available){for(f=0;f<n.length;f++)if(document[n[f]]){t.cancel=n[f];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}l.exports=e()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return Math.atan2(f.x-e.x,f.y-e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return Math.atan2(i-e,r-f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=function(i){return i>Math.PI&&(i-=e.PI2),Math.abs(((i+e.TAU)%e.PI2-e.PI2)%e.PI2)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),f=function(){return e(-Math.PI,Math.PI)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),f=function(){return e(-180,180)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),f=function(i){return e(i+Math.PI)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=function(i,r,a){return a===void 0&&(a=.05),i===r||(Math.abs(r-i)<=a||Math.abs(r-i)>=e.PI2-a?i=r:(Math.abs(r-i)>Math.PI&&(r<i?r+=e.PI2:r-=e.PI2),r>i?i+=a:r<i&&(i-=a))),i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=f-e;if(i===0)return 0;var r=Math.floor((i- -180)/360);return i-r*360};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.x-f.x,r=e.y-f.y;return i*i+r*r};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return Math.max(Math.abs(e-i),Math.abs(f-r))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(i-e,a)+Math.pow(r-f,a))};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return Math.abs(e-i)+Math.abs(f-r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1e-4),Math.ceil(e-f)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1e-4),Math.floor(e+f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),f=function(i,r){for(var a=0,n=i.length-1,s=0;s<=n;s++)a+=Math.pow(1-r,n-s)*Math.pow(r,s)*i[s]*e(n,s);return a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),f=function(i,r){var a=i.length-1,n=a*r,s=Math.floor(n);return i[0]===i[a]?(r<0&&(s=Math.floor(n=a*(1+r))),e(n-s,i[(s-1+a)%a],i[s],i[(s+1)%a],i[(s+2)%a])):r<0?i[0]-(e(-n,i[0],i[0],i[1],i[1])-i[0]):r>1?i[a]-(e(n-a,i[a],i[a],i[a-1],i[a-1])-i[a]):e(n-s,i[s?s-1:0],i[s],i[a<s+1?a:s+1],i[a<s+2?a:s+2])};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),f=function(i,r){var a=i.length-1,n=a*r,s=Math.floor(n);return r<0?e(i[0],i[1],n):r>1?e(i[a],i[a-1],a-n):e(i[s],i[s+1>a?a:s+1],n-s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),f=function(i,r,a){return r+(a-r)*e(i,0,1)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){return i===void 0&&(i=0),f===0?e:(e-=i,e=f*Math.round(e/f),r?(i+e)/f:i+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=new e({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var i=2091639*this.s0+this.c*23283064365386963e-26;return this.c=i|0,this.s0=this.s1,this.s1=this.s2,this.s2=i-this.c,this.s2},hash:function(i){var r,a=this.n;i=i.toString();for(var n=0;n<i.length;n++)a+=i.charCodeAt(n),r=.02519603282416938*a,a=r>>>0,r-=a,r*=a,a=r>>>0,r-=a,a+=r*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(i){typeof i=="string"?this.state(i):this.sow(i)},sow:function(i){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!i)for(var r=0;r<i.length&&i[r]!=null;r++){var a=i[r];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(i,r){return Math.floor(this.realInRange(0,r-i+1)+i)},between:function(i,r){return Math.floor(this.realInRange(0,r-i+1)+i)},realInRange:function(i,r){return this.frac()*(r-i)+i},normal:function(){return 1-2*this.frac()},uuid:function(){var i="",r="";for(r=i="";i++<36;r+=~i%5|i*3&4?(i^15?8^this.frac()*(i^20?16:4):4).toString(16):"-");return r},pick:function(i){return i[this.integerInRange(0,i.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(i){return i[~~(Math.pow(this.frac(),2)*(i.length-1)+.5)]},timestamp:function(i,r){return this.realInRange(i||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(i){return typeof i=="string"&&i.match(/^!rnd/)&&(i=i.split(","),this.c=parseFloat(i[1]),this.s0=parseFloat(i[2]),this.s1=parseFloat(i[3]),this.s2=parseFloat(i[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(i){for(var r=i.length-1,a=r;a>0;a--){var n=Math.floor(this.frac()*(a+1)),s=i[n];i[n]=i[a],i[a]=s}return i}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=0,i=0;i<e.length;i++)f+=+e[i];return f/e.length};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){f===void 0&&(f=0),i===void 0&&(i=10);var r=Math.pow(i,-f);return Math.ceil(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return Math.abs(e-f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(69),r=t(1),a=new i,n=new f({initialize:function s(u,o,h,d){u===void 0&&(u=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=s.DefaultOrder),this._x=u,this._y=o,this._z=h,this._order=d,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,u,o,h){return h===void 0&&(h=this._order),this._x=s,this._y=u,this._z=o,this._order=h,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,u,o){return u===void 0&&(u=this._order),o===void 0&&(o=!1),a.fromQuat(s),this.setFromRotationMatrix(a,u,o)},setFromRotationMatrix:function(s,u,o){u===void 0&&(u=this._order),o===void 0&&(o=!1);var h=s.val,d=h[0],v=h[4],c=h[8],m=h[1],g=h[5],y=h[9],E=h[2],S=h[6],C=h[10],P=0,A=0,R=0,M=.99999;switch(u){case"XYZ":{A=Math.asin(e(c,-1,1)),Math.abs(c)<M?(P=Math.atan2(-y,C),R=Math.atan2(-v,d)):P=Math.atan2(S,g);break}case"YXZ":{P=Math.asin(-e(y,-1,1)),Math.abs(y)<M?(A=Math.atan2(c,C),R=Math.atan2(m,g)):A=Math.atan2(-E,d);break}case"ZXY":{P=Math.asin(e(S,-1,1)),Math.abs(S)<M?(A=Math.atan2(-E,C),R=Math.atan2(-v,g)):R=Math.atan2(m,d);break}case"ZYX":{A=Math.asin(-e(E,-1,1)),Math.abs(E)<M?(P=Math.atan2(S,C),R=Math.atan2(m,d)):R=Math.atan2(-v,g);break}case"YZX":{R=Math.asin(e(m,-1,1)),Math.abs(m)<M?(P=Math.atan2(-y,g),A=Math.atan2(-E,d)):A=Math.atan2(c,C);break}case"XZY":{R=Math.asin(-e(v,-1,1)),Math.abs(v)<M?(P=Math.atan2(S,g),A=Math.atan2(c,d)):P=Math.atan2(-y,C);break}}return this._x=P,this._y=A,this._z=R,this._order=u,o&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){f===void 0&&(f=0),i===void 0&&(i=10);var r=Math.pow(i,-f);return Math.floor(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e/f/1e3};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return Math.min(e+f,i)};l.exports=t},function(l,x){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=e.length;if(f===0)return 0;e.sort(function(r,a){return r-a});var i=Math.floor(f/2);return f%2===0?(e[i]+e[i-1])/2:e[i]};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return Math.max(e-f,i)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i===void 0&&(i=f+1);var a=(e-f)/(i-f);return a>1?r!==void 0?(a=(r-e)/(r-i),a<0&&(a=0)):a=1:a<0&&(a=0),a};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=1);var i=Math.random()*2*Math.PI;return e.x=Math.cos(i)*f,e.y=Math.sin(i)*f,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=1);var i=Math.random()*2*Math.PI,r=Math.random()*2-1,a=Math.sqrt(1-r*r)*f;return e.x=Math.cos(i)*a,e.y=Math.sin(i)*a,e.z=r*f,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f=1),e.x=(Math.random()*2-1)*f,e.y=(Math.random()*2-1)*f,e.z=(Math.random()*2-1)*f,e.w=(Math.random()*2-1)*f,e};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){return e.x=f+a*Math.cos(r),e.y=i+a*Math.sin(r),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){f===void 0&&(f=0),i===void 0&&(i=10);var r=Math.pow(i,-f);return Math.round(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f===void 0&&(f=1),i===void 0&&(i=1),r===void 0&&(r=1),r*=Math.PI/e;for(var a=[],n=[],s=0;s<e;s++)i-=f*r,f+=i*r,a[s]=i,n[s]=f;return{sin:n,cos:a,length:e}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),f=function(i,r,a,n){n===void 0&&(n=new e);var s=0,u=0,o=r*a;return i>0&&i<=o&&(i>r-1?(u=Math.floor(i/r),s=i-u*r):s=i),n.set(s,u)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return Math.abs(e-f)<=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),f=t(69),i=t(365),r=new f,a=new i,n=new e,s=function(u,o,h){return a.setAxisAngle(o,h),r.fromRotationTranslation(a,n.set(0,0,0)),u.transformMat4(r)};l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addtexture"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onerror"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onload"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removetexture"},function(l,x){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineafterflush"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebeforeflush"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebind"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineboot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinedestroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinerebind"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineresize"},function(l,x){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GenerateTexture:t(388),Palettes:t(889)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(390),i=t(391),r=t(5),a=t(392),n=t(393),s=t(394),u=t(10),o=t(395),h=t(3),d=t(14),v=new e({initialize:function(m,g){m===void 0&&(m=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,g)},add:function(c){return this.curves.push(c),this},circleTo:function(c,m,g){return m===void 0&&(m=!1),this.ellipseTo(c,c,0,360,m,g)},closePath:function(){var c=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return c.equals(m)||this.curves.push(new a(m,c)),this},cubicBezierTo:function(c,m,g,y,E,S){var C=this.getEndPoint(),P,A,R;return c instanceof h?(P=c,A=m,R=g):(P=new h(g,y),A=new h(E,S),R=new h(c,m)),this.add(new f(C,P,A,R))},quadraticBezierTo:function(c,m,g,y){var E=this.getEndPoint(),S,C;return c instanceof h?(S=c,C=m):(S=new h(g,y),C=new h(c,m)),this.add(new s(E,S,C))},draw:function(c,m){for(var g=0;g<this.curves.length;g++){var y=this.curves[g];y.active&&y.draw(c,m)}return c},ellipseTo:function(c,m,g,y,E,S){var C=new i(0,0,c,m,g,y,E,S),P=this.getEndPoint(this._tmpVec2A),A=C.getStartPoint(this._tmpVec2B);return P.subtract(A),C.x=P.x,C.y=P.y,this.add(C)},fromJSON:function(c){this.curves=[],this.cacheLengths=[],this.startPoint.set(c.x,c.y),this.autoClose=c.autoClose;for(var m=0;m<c.curves.length;m++){var g=c.curves[m];switch(g.type){case"LineCurve":this.add(a.fromJSON(g));break;case"EllipseCurve":this.add(i.fromJSON(g));break;case"SplineCurve":this.add(o.fromJSON(g));break;case"CubicBezierCurve":this.add(f.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(c,m){c===void 0&&(c=new u),m===void 0&&(m=16),c.x=Number.MAX_VALUE,c.y=Number.MAX_VALUE;for(var g=new u,y=d.MIN_SAFE_INTEGER,E=d.MIN_SAFE_INTEGER,S=0;S<this.curves.length;S++){var C=this.curves[S];C.active&&(C.getBounds(g,m),c.x=Math.min(c.x,g.x),c.y=Math.min(c.y,g.y),y=Math.max(y,g.right),E=Math.max(E,g.bottom))}return c.right=y,c.bottom=E,c},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var c=[],m=0,g=0;g<this.curves.length;g++)m+=this.curves[g].getLength(),c.push(m);return this.cacheLengths=c,c},getEndPoint:function(c){return c===void 0&&(c=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,c):c.copy(this.startPoint),c},getLength:function(){var c=this.getCurveLengths();return c[c.length-1]},getPoint:function(c,m){m===void 0&&(m=new h);for(var g=c*this.getLength(),y=this.getCurveLengths(),E=0;E<y.length;){if(y[E]>=g){var S=y[E]-g,C=this.curves[E],P=C.getLength(),A=P===0?0:1-S/P;return C.getPointAt(A,m)}E++}return null},getPoints:function(c){c===void 0&&(c=12);for(var m=[],g,y=0;y<this.curves.length;y++){var E=this.curves[y];if(E.active)for(var S=E.getResolution(c),C=E.getPoints(S),P=0;P<C.length;P++){var A=C[P];g&&g.equals(A)||(m.push(A),g=A)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(c){return c===void 0&&(c=new h),this.getPoint(Math.random(),c)},getSpacedPoints:function(c){c===void 0&&(c=40);for(var m=[],g=0;g<=c;g++)m.push(this.getPoint(g/c));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(c){return c===void 0&&(c=new h),c.copy(this.startPoint)},getTangent:function(c,m){m===void 0&&(m=new h);for(var g=c*this.getLength(),y=this.getCurveLengths(),E=0;E<y.length;){if(y[E]>=g){var S=y[E]-g,C=this.curves[E],P=C.getLength(),A=P===0?0:1-S/P;return C.getTangentAt(A,m)}E++}return null},lineTo:function(c,m){c instanceof h?this._tmpVec2B.copy(c):this._tmpVec2B.set(c,m);var g=this.getEndPoint(this._tmpVec2A);return this.add(new a([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(c){return c.unshift(this.getEndPoint()),this.add(new o(c))},moveTo:function(c,m){return c instanceof h?this.add(new n(c.x,c.y)):this.add(new n(c,m))},toJSON:function(){for(var c=[],m=0;m<this.curves.length;m++)c.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:c}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(c,m){return new v(c,m)}),l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(101),i=t(24),r=t(20),a=new e({Extends:f,initialize:function(s){f.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){f.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});i.register("DataManagerPlugin",a,"data"),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),f=t(17),i={In:t(900),To:t(901)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),f=t(43),i=t(44),r=t(45),a=function(n,s){s===void 0&&(s={});var u=f(n),o=r(n);return s.x=u,s.y=o,s.width=i(n)-u,s.height=e(n)-o,s};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===void 0&&(f="none"),e.style.msTouchAction=f,e.style["ms-touch-action"]=f,e.style["touch-action"]=f,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f="none");var i=["-webkit-","-khtml-","-moz-","-ms-",""];return i.forEach(function(r){e.style[r+"user-select"]=f}),e.style["-webkit-touch-callout"]=f,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),f=function(i){i===void 0&&(i=1024);var r=[],a=255,n,s=255,u=0,o=0;for(n=0;n<=a;n++)r.push({r:s,g:n,b:o,color:e(s,n,o)});for(u=255,n=a;n>=0;n--)r.push({r:n,g:u,b:o,color:e(n,u,o)});for(s=0,n=0;n<=a;n++,u--)r.push({r:s,g:u,b:n,color:e(s,u,n)});for(u=0,o=255,n=0;n<=a;n++,o--,s++)r.push({r:s,g:u,b:o,color:e(s,u,o)});if(i===1024)return r;var h=[],d=0,v=1024/i;for(n=0;n<i;n++)h.push(r[Math.floor(d)]),d+=v;return h};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(f.a=e>>>24),f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),f=t(399),i=function(r,a,n){var s=n,u=n,o=n;if(a!==0){var h=n<.5?n*(1+a):n+a-n*a,d=2*n-h;s=f(d,h,r+1/3),u=f(d,h,r),o=f(d,h,r-1/3)}var v=new e;return v.setGLTo(s,u,o,1)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),f=function(i,r){i===void 0&&(i=1),r===void 0&&(r=1);for(var a=[],n=0;n<=359;n++)a.push(e(n/359,i,r));return a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),f=function(a,n,s,u,o,h,d,v){d===void 0&&(d=100),v===void 0&&(v=0);var c=v/d;return{r:e(a,u,c),g:e(n,o,c),b:e(s,h,c)}},i=function(a,n,s,u){return s===void 0&&(s=100),u===void 0&&(u=0),f(a.r,a.g,a.b,n.r,n.g,n.b,s,u)},r=function(a,n,s,u,o,h){return o===void 0&&(o=100),h===void 0&&(h=0),f(a.r,a.g,a.b,n,s,u,o,h)};l.exports={RGBWithRGB:f,ColorWithRGB:r,ColorWithColor:i}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),f=t(38),i=function(r,a){return r===void 0&&(r=0),a===void 0&&(a=255),new f(e(r,a),e(r,a),e(r,a))};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),f=function(i,r,a,n,s){return n===void 0&&(n=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(i<<16)+(r<<8)+a).toString(16).slice(1,7):"0x"+e(n)+e(i)+e(r)+e(a)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EventEmitter:t(919)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(24),r=new e({Extends:f,initialize:function(){f.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});i.register("EventEmitter",r,"events"),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),f=t(321),i=t(325),r=t(31),a=t(0),n=t(346),s=t(921),u=t(366),o=t(101),h=t(384),d=t(347),v=t(400),c=t(9),m=t(22),g=t(409),y=t(24),E=t(414),S=t(415),C=t(417),P=t(106),A=t(422),R=t(385),M=t(387),L=t(426),F=new a({initialize:function(N){this.config=new n(N),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new c,this.anims=new f(this),this.textures=new A(this),this.cache=new i(this),this.registry=new o(this),this.input=new g(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=d,this.scale=new S(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new R(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){if(!y.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),s(this),h(this),e(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),M(this);var I=this.events;I.on(m.HIDDEN,this.onHidden,this),I.on(m.VISIBLE,this.onVisible,this),I.on(m.BLUR,this.onBlur,this),I.on(m.FOCUS,this.onFocus,this)},step:function(I,N){if(this.pendingDestroy)return this.runDestroy();var z=this.events;z.emit(m.PRE_STEP,I,N),z.emit(m.STEP,I,N),this.scene.update(I,N),z.emit(m.POST_STEP,I,N);var W=this.renderer;W.preRender(),z.emit(m.PRE_RENDER,W,I,N),this.scene.render(W),W.postRender(),z.emit(m.POST_RENDER,W,I,N)},headlessStep:function(I,N){if(this.pendingDestroy)return this.runDestroy();var z=this.events;z.emit(m.PRE_STEP,I,N),z.emit(m.STEP,I,N),this.scene.update(I,N),z.emit(m.POST_STEP,I,N),z.emit(m.PRE_RENDER),z.emit(m.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,N){N===void 0&&(N=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=N},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});l.exports=F},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),f=function(i){var r=i.config;if(!(!r.parent||!r.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+i.scale.width+"px;","height: "+i.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),i.domContainer=a,e(a,r.parent)}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectmove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectwheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="process"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdownoutside"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerupoutside"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerlockchange"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addfile"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loaderror"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="load"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fileprogress"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postprocess"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="progress"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=e.source[f];e.add("__BASE",f,0,0,r.width,r.height);for(var a=i.getElementsByTagName("SubTexture"),n,s=0;s<a.length;s++){var u=a[s].attributes,o=u.name.value,h=parseInt(u.x.value,10),d=parseInt(u.y.value,10),v=parseInt(u.width.value,10),c=parseInt(u.height.value,10);if(n=e.add(o,f,h,d,v,c),u.frameX){var m=Math.abs(parseInt(u.frameX.value,10)),g=Math.abs(parseInt(u.frameY.value,10)),y=parseInt(u.frameWidth.value,10),E=parseInt(u.frameHeight.value,10);n.setTrim(v,c,m,g,y,E)}}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.source[f];return e.add("__BASE",f,0,0,i.width,i.height),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.source[f];return e.add("__BASE",f,0,0,i.width,i.height),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),f=function(i,r,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height);for(var s=Array.isArray(a.textures)?a.textures[r].frames:a.frames,u,o=0;o<s.length;o++){var h=s[o];u=i.add(h.filename,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&u.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(u.rotated=!0,u.updateUVsInverted());var d=h.anchor||h.pivot;d&&(u.customPivot=!0,u.pivotX=d.x,u.pivotY=d.y),u.customData=e(h)}for(var v in a)v!=="frames"&&(Array.isArray(a[v])?i.customData[v]=a[v].slice(0):i.customData[v]=a[v]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),f=function(i,r,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height);var s=a.frames,u;for(var o in s)if(s.hasOwnProperty(o)){var h=s[o];u=i.add(o,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&u.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(u.rotated=!0,u.updateUVsInverted());var d=h.anchor||h.pivot;d&&(u.customPivot=!0,u.pivotX=d.x,u.pivotY=d.y),u.customData=e(h)}for(var v in a)v!=="frames"&&(Array.isArray(a[v])?i.customData[v]=a[v].slice(0):i.customData[v]=a[v]);return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=function(i,r,a,n,s,u,o){var h=e(o,"frameWidth",null),d=e(o,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=i.source[r];i.add("__BASE",r,0,0,v.width,v.height);var c=e(o,"startFrame",0),m=e(o,"endFrame",-1),g=e(o,"margin",0),y=e(o,"spacing",0),E=Math.floor((s-g+y)/(h+y)),S=Math.floor((u-g+y)/(d+y)),C=E*S;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",i.key),(c>C||c<-C)&&(c=0),c<0&&(c=C+c),m!==-1&&(C=c+(m+1));for(var P=g,A=g,R=0,M=0,L=0;L<C;L++){R=0,M=0;var F=P+h,I=A+d;F>s&&(R=F-s),I>u&&(M=I-u),i.add(L,r,a+P,n+A,h-R,d-M),P+=h+y,P+h>s&&(P=g,A+=d+y)}return i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),f=function(i,r,a){var n=e(a,"frameWidth",null),s=e(a,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var u=i.source[0];i.add("__BASE",0,0,0,u.width,u.height),e(a,"startFrame",0),e(a,"endFrame",-1);for(var o=e(a,"margin",0),h=e(a,"spacing",0),d=r.cutX,v=r.cutY,c=r.cutWidth,m=r.cutHeight,g=r.realWidth,y=r.realHeight,E=Math.floor((g-o+h)/(n+h)),S=Math.floor((y-o+h)/(s+h)),C=r.x,P=n-C,A=n-(g-c-C),R=r.y,M=s-R,L=s-(y-m-R),F,I=o,N=o,z=0,W=r.sourceIndex,$=0;$<S;$++){for(var Z=$===0,D=$===S-1,O=0;O<E;O++){var B=O===0,G=O===E-1;if(F=i.add(z,W,d+I,v+N,n,s),B||Z||G||D){var Y=B?C:0,V=Z?R:0,b=0,H=0;B&&(b+=n-P),G&&(b+=n-A),Z&&(H+=s-M),D&&(H+=s-L);var j=n-b,q=s-H;F.cutWidth=j,F.cutHeight=q,F.setTrim(n,s,Y,V,j,q)}I+=h,B?I+=P:G?I+=A:I+=n,z++}I=o,N+=h,Z?N+=M:D?N+=L:N+=s}return i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(i,r,a,n){var s=t-n.y-n.height;i.add(a,r,n.x,s,n.width,n.height)},f=function(i,r,a){var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height),t=n.height;for(var s=a.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",h="",d={x:0,y:0,width:0,height:0},v=0;v<s.length;v++){var c=s[v].match(u);if(c){var m=c[1]==="- ",g=c[2],y=c[3];if(m&&(h!==o&&(e(i,r,h,d),o=h),d={x:0,y:0,width:0,height:0}),g==="name"){h=y;continue}switch(g){case"x":case"y":case"width":case"height":d[g]=parseInt(y,10);break}}}return h!==o&&e(i,r,h,d),i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decoded"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decodedall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="looped"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,x){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pan"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seek"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stopall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(110),i=t(24),r=t(75),a=t(20),n=t(79),s=new e({Extends:f,initialize:function(o){f.call(this,o),this.sortChildrenFlag=!1,this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(u){u.displayList&&u.displayList!==this&&u.removeFromDisplayList(),u.displayList||(this.queueDepthSort(),u.displayList=this,u.emit(r.ADDED_TO_SCENE,u,this.scene),this.events.emit(a.ADDED_TO_SCENE,u,this.scene))},removeChildCallback:function(u){this.queueDepthSort(),u.displayList=null,u.emit(r.REMOVED_FROM_SCENE,u,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,u,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(u,o){return u._depth-o._depth},getChildren:function(){return this.list},shutdown:function(){for(var u=this.list,o=u.length;o--;)u[o].destroy(!0);u.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});i.register("DisplayList",s,"displayList"),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),f=t(209),i=function(r){var a="";if(!f(r))return a;for(var n=0;n<r.length;n++){for(var s=0;s<r[n].length;s++){var u=r[n][s].toString();u!=="undefined"?a+=e(u,2):a+="?",s<r[n].length-1&&(a+=" |")}if(n<r.length-1){a+=`
`;for(var o=0;o<r[n].length;o++)a+="---",o<r[n].length-1&&(a+="+");a+=`
`}}return a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var f=0;f<e.length;f++)e[f].reverse();return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),f=function(i){return e(i,180)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),f=function(i){return e(i,90)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),f=function(i){return e(i,-90)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),f=t(179),i=function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),n!==0&&(n<0?e(r,Math.abs(n)):f(r,n)),a!==0)for(var s=0;s<r.length;s++){var u=r[s];a<0?e(u,Math.abs(a)):f(u,a)}return r};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){if(a===void 0&&(a=e),i>0){var n=i-e.length;if(n<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.push(f),r&&r.call(a,f),f):null;for(var s=f.length-1;s>=0;)e.indexOf(f[s])!==-1&&f.splice(s,1),s--;if(s=f.length,s===0)return null;i>0&&s>n&&(f.splice(n),s=n);for(var u=0;u<s;u++){var o=f[u];e.push(o),r&&r.call(a,o)}return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n){if(i===void 0&&(i=0),n===void 0&&(n=e),r>0){var s=r-e.length;if(s<=0)return null}if(!Array.isArray(f))return e.indexOf(f)===-1?(e.splice(i,0,f),a&&a.call(n,f),f):null;for(var u=f.length-1;u>=0;)e.indexOf(f[u])!==-1&&f.pop(),u--;if(u=f.length,u===0)return null;r>0&&u>s&&(f.splice(s),u=s);for(var o=u-1;o>=0;o--){var h=f[o];e.splice(i,0,h),a&&a.call(n,h)}return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.indexOf(f);return i!==-1&&i<e.length&&(e.splice(i,1),e.push(f)),f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);var u=0;if(e(i,n,s))for(var o=n;o<s;o++){var h=i[o];h[r]===a&&u++}return u};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r,a=[null];for(r=3;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<e.length;r++)a[0]=e[r],f.apply(i,a);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s)){var u,o=[null];for(u=5;u<arguments.length;u++)o.push(arguments[u]);for(u=n;u<s;u++)o[0]=i[u],r.apply(a,o)}return i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.indexOf(f);if(i>0){var r=e[i-1],a=e.indexOf(r);e[i]=r,e[a]=f}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=e.indexOf(f);if(r===-1||i<0||i>=e.length)throw new Error("Supplied index out of bounds");return r!==i&&(e.splice(r,1),e.splice(i,0,f)),f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.indexOf(f);if(i!==-1&&i<e.length-1){var r=e[i+1],a=e.indexOf(r);e[i]=r,e[a]=f}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===i)return e;var r=e.indexOf(f),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r>a||(e.splice(r,1),a===e.length-1?e.push(f):e.splice(a,0,f)),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===i)return e;var r=e.indexOf(f),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r<a||(e.splice(r,1),a===0?e.unshift(f):e.splice(a,0,f)),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),f=function(i,r,a){i===void 0&&(i=0),r===void 0&&(r=null),a===void 0&&(a=1),r===null&&(r=i,i=0);for(var n=[],s=Math.max(e((r-i)/(a||1)),0),u=0;u<s;u++)n.push(i),i+=a;return n};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),f=function(i,r,a,n){if(n===void 0&&(n=i),r<0||r>i.length-1)throw new Error("Index out of bounds");var s=e(i,r);return a&&a.call(n,s),s};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){if(r===void 0&&(r=0),a===void 0&&(a=i.length),s===void 0&&(s=i),e(i,r,a)){var u=a-r,o=i.splice(r,u);if(n)for(var h=0;h<o.length;h++){var d=o[h];n.call(s,d)}return o}else return[]};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),f=function(i,r,a){r===void 0&&(r=0),a===void 0&&(a=i.length);var n=r+Math.floor(Math.random()*a);return e(i,n)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=e.indexOf(f),a=e.indexOf(i);return r!==-1&&a===-1?(e[r]=i,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.indexOf(f);return i!==-1&&i>0&&(e.splice(i,1),e.unshift(f)),f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),f=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s))for(var u=n;u<s;u++){var o=i[u];o.hasOwnProperty(r)&&(o[r]=a)}return i};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){if(f===i)return e;var r=e.indexOf(f),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return e[r]=i,e[a]=f,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(211),i=t(24),r=t(20),a=new e({Extends:f,initialize:function(s){f.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(r.PRE_UPDATE,this.update,this),n.on(r.UPDATE,this.sceneUpdate,this),n.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,s){for(var u=this._active,o=u.length,h=0;h<o;h++){var d=u[h];d.active&&d.preUpdate.call(d,n,s)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});i.register("UpdateList",a,"updateList"),l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){if(i===void 0&&(i=!1),r===void 0)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},r;var a=e.text,n=a.length,s=e.maxWidth,u=e.wordWrapCharCode,o=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,v=0,c=e.fontData.chars,m=e.fontData.lineHeight,g=e.letterSpacing,y=0,E=0,S=0,C=null,P=e._align,A=0,R=0,M=e.fontSize/e.fontData.size,L=M*e.scaleX,F=M*e.scaleY,I=null,N=0,z=[],W=Number.MAX_VALUE,$=0,Z=0,D=0,O,B=[],G=[],Y=null;if(s>0){for(O=0;O<n;O++){if(S=a.charCodeAt(O),S===10){Y!==null&&(B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!0}),Y=null),y=0,E+=m,I=null;continue}if(C=c[S],!!C){if(I!==null)var V=C.kerning[N];S===u?Y!==null&&(B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!1}),Y=null):(Y===null&&(Y={word:"",i:O,x:y,y:E,w:0,h:m,cr:!1}),Y.word=Y.word.concat(a[O]),Y.w+=C.xOffset+C.xAdvance+(V!==void 0?V:0)),y+=C.xAdvance+g,I=C,N=S}}Y!==null&&B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!1}),y=0,E=0,I=null,N=0;var b,H=0,j=[];for(O=0;O<B.length;O++){var q=B[O],et=q.x,ot=q.x+q.w;if(b){var K=et-(b.x+b.w);H=et-(K+b.w),b=null}var Q=et-H,tt=ot-H;Q>s||tt>s?(j.push(q.i-1),q.cr?(j.push(q.i+q.word.length),H=0,b=null):b=q):q.cr&&(j.push(q.i+q.word.length),H=0,b=null)}var nt=function(It,Yt,ie){return It.substr(0,Yt)+ie+It.substr(Yt+1)};for(O=j.length-1;O>=0;O--)a=nt(a,j[O],`
`);r.wrappedText=a,n=a.length,B=[],Y=null}var ut=0;for(O=0;O<n;O++){if(S=a.charCodeAt(O),S===10){Y!==null&&(B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),Y=null),y=0,E+=m,I=null,z[Z]=D,D>$&&($=D),D<W&&(W=D),Z++,D=0;continue}if(C=c[S],!!C){if(A=y,R=E,I!==null){var pt=C.kerning[N];A+=pt!==void 0?pt:0}o>A&&(o=A),h>R&&(h=R);var vt=A+C.xAdvance,at=R+m;d<vt&&(d=vt),v<at&&(v=at);var yt=C.xOffset+C.xAdvance+(pt!==void 0?pt:0);S===u?Y!==null&&(B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),Y=null):(Y===null&&(Y={word:"",i:ut,x:y,y:E,w:0,h:m}),Y.word=Y.word.concat(a[O]),Y.w+=yt),G.push({i:ut,char:a[O],code:S,x:(C.xOffset+y)*M,y:(C.yOffset+E)*M,w:C.width*M,h:C.height*M,t:E*M,r:vt*M,b:m*M,line:Z,glyph:C}),y+=C.xAdvance+g,I=C,N=S,D=vt*M,ut++}}if(Y!==null&&B.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),z[Z]=D,D>$&&($=D),D<W&&(W=D),P>0)for(var lt=0;lt<G.length;lt++){var Tt=G[lt];if(P===1){var Pt=($-z[Tt.line])/2;Tt.x+=Pt,Tt.r+=Pt}else if(P===2){var Lt=$-z[Tt.line];Tt.x+=Lt,Tt.r+=Lt}}var At=r.local,Mt=r.global,Bt=r.lines;return At.x=o*M,At.y=h*M,At.width=d*M,At.height=v*M,Mt.x=e.x-e._displayOriginX+o*L,Mt.y=e.y-e._displayOriginY+h*F,Mt.width=d*L,Mt.height=v*F,Bt.shortest=W,Bt.longest=$,Bt.lengths=z,f&&(At.x=Math.ceil(At.x),At.y=Math.ceil(At.y),At.width=Math.ceil(At.width),At.height=Math.ceil(At.height),Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y),Mt.width=Math.ceil(Mt.width),Mt.height=Math.ceil(Mt.height),Bt.shortest=Math.ceil(W),Bt.longest=Math.ceil($)),i&&(e._displayOriginX=e.originX*At.width,e._displayOriginY=e.originY*At.height,Mt.x=e.x-e._displayOriginX*e.scaleX,Mt.y=e.y-e._displayOriginY*e.scaleY,f&&(Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y))),r.words=B,r.characters=G,r.lines.height=m,r.scale=M,r.scaleX=e.scaleX,r.scaleY=e.scaleY,r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),f=function(i,r,a,n,s,u,o){var h=i.sys.textures.get(a),d=h.get(n),v=i.sys.cache.xml.get(s);if(d&&v){var c=e(v,d,u,o,h);return i.sys.cache.bitmapFont.add(r,{data:c,texture:a,frame:n,fromAtlas:!0}),!0}else return!1};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1046),f=t(1048),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),f=t(19),i=t(12),r=function(a,n,s,u){var o=n._text,h=o.length;if(h!==0){s.addToRenderList(n);var d=a.pipelines.set(n.pipeline,n),v=f(n,s,u).calc,c=s.roundPixels,m=s.alpha,g=n.charColors,y=n.tintFill,E=i.getTintAppendFloatAlpha,S=E(n.tintTopLeft,m*n._alphaTL),C=E(n.tintTopRight,m*n._alphaTR),P=E(n.tintBottomLeft,m*n._alphaBL),A=E(n.tintBottomRight,m*n._alphaBR),R=n.frame.glTexture,M=d.setGameObject(n),L=n.getTextBounds(!1),F,I,N,z=L.characters,W=n.dropShadowX,$=n.dropShadowY,Z=W!==0||$!==0;if(a.pipelines.preBatch(n),Z){var D=n.dropShadowColor,O=n.dropShadowAlpha,B=E(D,m*O*n._alphaTL),G=E(D,m*O*n._alphaTR),Y=E(D,m*O*n._alphaBL),V=E(D,m*O*n._alphaBR);for(F=0;F<z.length;F++)I=z[F],N=I.glyph,!(I.code===32||N.width===0||N.height===0)&&e(d,n,I,N,W,$,v,c,B,G,Y,V,1,R,M)}for(F=0;F<z.length;F++)if(I=z[F],N=I.glyph,!(I.code===32||N.width===0||N.height===0))if(g[I.i]){var b=g[I.i],H=b.tintEffect,j=E(b.tintTL,m*n._alphaTL),q=E(b.tintTR,m*n._alphaTR),et=E(b.tintBL,m*n._alphaBL),ot=E(b.tintBR,m*n._alphaBR);e(d,n,I,N,0,0,v,c,j,q,et,ot,H,R,M)}else e(d,n,I,N,0,0,v,c,S,C,P,A,y,R,M);a.pipelines.postBatch(n)}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n,s,u,o,h,d,v,c,m,g){var y=i.x-f.displayOriginX+a,E=i.y-f.displayOriginY+n,S=y+i.w,C=E+i.h,P=s.getXRound(y,E,u),A=s.getYRound(y,E,u),R=s.getXRound(y,C,u),M=s.getYRound(y,C,u),L=s.getXRound(S,C,u),F=s.getYRound(S,C,u),I=s.getXRound(S,E,u),N=s.getYRound(S,E,u);e.batchQuad(f,P,A,R,M,L,F,I,N,r.u0,r.v0,r.u1,r.v1,o,h,d,v,c,m,g)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),f=function(i,r,a,n){var s=r._text,u=s.length,o=i.currentContext;if(!(u===0||!e(i,o,r,a,n))){a.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,d=r.fontData.chars,v=r.fontData.lineHeight,c=r._letterSpacing,m=0,g=0,y=0,E=null,S=0,C=0,P=0,A=0,R=0,M=0,L=null,F=0,I=h.source.image,N=h.cutX,z=h.cutY,W=r._fontSize/r.fontData.size,$=r._align,Z=0,D=0,O=r.getTextBounds(!1);r.maxWidth>0&&(s=O.wrappedText,u=s.length);var B=r._bounds.lines;$===1?D=(B.longest-B.lengths[0])/2:$===2&&(D=B.longest-B.lengths[0]),o.translate(-r.displayOriginX,-r.displayOriginY);for(var G=a.roundPixels,Y=0;Y<u;Y++){if(y=s.charCodeAt(Y),y===10){Z++,$===1?D=(B.longest-B.lengths[Z])/2:$===2&&(D=B.longest-B.lengths[Z]),m=0,g+=v,L=null;continue}if(E=d[y],!!E){if(S=N+E.x,C=z+E.y,P=E.width,A=E.height,R=E.xOffset+m,M=E.yOffset+g,L!==null){var V=E.kerning[F];R+=V!==void 0?V:0}R*=W,M*=W,R+=D,m+=E.xAdvance+c,L=E,F=y,!(P===0||A===0||y===32)&&(G&&(R=Math.round(R),M=Math.round(M)),o.save(),o.translate(R,M),o.scale(W,W),o.drawImage(I,S,C,P,A,0,0,P,A),o.restore())}}o.restore()}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1050),f=t(1051),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),f=t(12),i=new e,r=function(a,n,s,u){var o=n.getRenderList();if(o.length!==0){var h=s.alpha*n.alpha;if(h!==0){s.addToRenderList(n);var d=a.pipelines.set(this.pipeline,n),v=s.scrollX*n.scrollFactorX,c=s.scrollY*n.scrollFactorY,m=i.copyFrom(s.matrix);u&&(m.multiplyWithOffset(u,-v,-c),v=0,c=0);var g=n.x-v,y=n.y-c,E=-1,S=!1,C=s.roundPixels;a.pipelines.preBatch(n);for(var P=0;P<o.length;P++){var A=o[P],R=A.frame,M=A.alpha*h;if(M!==0){var L=R.width,F=R.height,I=g+A.x+R.x,N=y+A.y+R.y;A.flipX&&(L*=-1,I+=R.width),A.flipY&&(F*=-1,N+=R.height);var z=I+L,W=N+F,$=m.getX(I,N),Z=m.getY(I,N),D=m.getX(z,W),O=m.getY(z,W),B=f.getTintAppendFloatAlpha(A.tint,M);if(R.sourceIndex!==E){var G=d.setGameObject(n,R);E=R.sourceIndex}C&&($=Math.round($),Z=Math.round(Z),D=Math.round(D),O=Math.round(O)),d.batchQuad(n,$,Z,$,O,D,O,D,Z,R.u0,R.v0,R.u1,R.v1,B,B,B,B,S,R.glTexture,G)&&(E=-1)}}a.pipelines.postBatch(n)}}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a=f.getRenderList();if(a.length!==0){var n=e.currentContext,s=i.alpha*f.alpha;if(s!==0){i.addToRenderList(f),n.globalCompositeOperation=e.blendModes[f.blendMode],n.imageSmoothingEnabled=!(!e.antialias||f.frame.source.scaleMode);var u=f.x-i.scrollX*f.scrollFactorX,o=f.y-i.scrollY*f.scrollFactorY;n.save(),r&&r.copyToContext(n);for(var h=i.roundPixels,d=0;d<a.length;d++){var v=a[d],c=v.flipX||v.flipY,m=v.frame,g=m.canvasData,y=m.x,E=m.y,S=1,C=1,P=v.alpha*s;P!==0&&(n.globalAlpha=P,c?(v.flipX&&(S=-1,y-=g.width),v.flipY&&(C=-1,E-=g.height),n.save(),n.translate(v.x+u,v.y+o),n.scale(S,C),n.drawImage(m.source.image,g.x,g.y,g.width,g.height,y,E,g.width,g.height),n.restore()):(h&&(y=Math.round(y),E=Math.round(E)),n.drawImage(m.source.image,g.x,g.y,g.width,g.height,y+v.x+u,E+v.y+o,g.width,g.height)))}n.restore()}}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1053),f=t(1054),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f);var a=f.list,n=a.length;if(n!==0){var s=f.localTransform;r?(s.loadIdentity(),s.multiply(r),s.translate(f.x,f.y),s.rotate(f.rotation),s.scale(f.scaleX,f.scaleY)):s.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),e.pipelines.preBatch(f);var u=f.blendMode!==-1;u||e.setBlendMode(0);for(var o=f.alpha,h=f.scrollFactorX,d=f.scrollFactorY,v=0;v<n;v++){var c=a[v];if(c.willRender(i)){var m,g,y,E;if(c.alphaTopLeft!==void 0)m=c.alphaTopLeft,g=c.alphaTopRight,y=c.alphaBottomLeft,E=c.alphaBottomRight;else{var S=c.alpha;m=S,g=S,y=S,E=S}var C=c.scrollFactorX,P=c.scrollFactorY;!u&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode);var A=c.mask;A&&A.preRenderWebGL(e,c,i);var R=c.type;R!==e.currentType&&(e.newType=!0,e.currentType=R),e.nextTypeMatch=v<n-1?a[v+1].type===e.currentType:!1,c.setScrollFactor(C*h,P*d),c.setAlpha(m*o,g*o,y*o,E*o),c.renderWebGL(e,c,i,s),c.setAlpha(m,g,y,E),c.setScrollFactor(C,P),A&&A.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(f)}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f);var a=f.list;if(a.length!==0){var n=f.localTransform;r?(n.loadIdentity(),n.multiply(r),n.translate(f.x,f.y),n.rotate(f.rotation),n.scale(f.scaleX,f.scaleY)):n.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var s=f.blendMode!==-1;s||e.setBlendMode(0);var u=f._alpha,o=f.scrollFactorX,h=f.scrollFactorY;f.mask&&f.mask.preRenderCanvas(e,null,i);for(var d=0;d<a.length;d++){var v=a[d];if(v.willRender(i)){var c=v.alpha,m=v.scrollFactorX,g=v.scrollFactorY;!s&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode),v.setScrollFactor(m*o,g*h),v.setAlpha(c*u),v.renderCanvas(e,v,i,n),v.setAlpha(c),v.setScrollFactor(m,g)}}f.mask&&f.mask.postRenderCanvas(e)}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(443),f=t(443),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1058),f=t(1059),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(25),i=t(12),r=new f,a=function(n,s,u,o){var h=s.text,d=h.length;if(d!==0){u.addToRenderList(s);var v=n.pipelines.set(s.pipeline,s),c=e(s,u,o),m=c.sprite,g=c.calc,y=r,E=s.cropWidth>0||s.cropHeight>0;E&&(v.flush(),n.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var S=s.frame,C=S.glTexture,P=s.tintFill,A=i.getTintAppendFloatAlpha(s.tintTopLeft,u.alpha*s._alphaTL),R=i.getTintAppendFloatAlpha(s.tintTopRight,u.alpha*s._alphaTR),M=i.getTintAppendFloatAlpha(s.tintBottomLeft,u.alpha*s._alphaBL),L=i.getTintAppendFloatAlpha(s.tintBottomRight,u.alpha*s._alphaBR),F=v.setGameObject(s),I=0,N=0,z=0,W=0,$=s.letterSpacing,Z,D=0,O=0,B,G=s.scrollX,Y=s.scrollY,V=s.fontData,b=V.chars,H=V.lineHeight,j=s.fontSize/V.size,q=0,et=s._align,ot=0,K=0,Q=s.getTextBounds(!1);s.maxWidth>0&&(h=Q.wrappedText,d=h.length);var tt=s._bounds.lines;et===1?K=(tt.longest-tt.lengths[0])/2:et===2&&(K=tt.longest-tt.lengths[0]);var nt=u.roundPixels,ut=s.displayCallback,pt=s.callbackData;n.pipelines.preBatch(s);for(var vt=0;vt<d;vt++){if(z=h.charCodeAt(vt),z===10){ot++,et===1?K=(tt.longest-tt.lengths[ot])/2:et===2&&(K=tt.longest-tt.lengths[ot]),I=0,N+=H,B=null;continue}if(Z=b[z],!!Z){D=Z.width,O=Z.height;var at=Z.xOffset+I-G,yt=Z.yOffset+N-Y;if(B!==null){var lt=Z.kerning[W];at+=lt!==void 0?lt:0}if(I+=Z.xAdvance+$,B=Z,W=z,!(D===0||O===0||z===32)){if(j=s.fontSize/s.fontData.size,q=0,ut){pt.color=0,pt.tint.topLeft=A,pt.tint.topRight=R,pt.tint.bottomLeft=M,pt.tint.bottomRight=L,pt.index=vt,pt.charCode=z,pt.x=at,pt.y=yt,pt.scale=j,pt.rotation=q,pt.data=Z.data;var Tt=ut(pt);at=Tt.x,yt=Tt.y,j=Tt.scale,q=Tt.rotation,Tt.color?(A=Tt.color,R=Tt.color,M=Tt.color,L=Tt.color):(A=Tt.tint.topLeft,R=Tt.tint.topRight,M=Tt.tint.bottomLeft,L=Tt.tint.bottomRight),A=i.getTintAppendFloatAlpha(A,u.alpha*s._alphaTL),R=i.getTintAppendFloatAlpha(R,u.alpha*s._alphaTR),M=i.getTintAppendFloatAlpha(M,u.alpha*s._alphaBL),L=i.getTintAppendFloatAlpha(L,u.alpha*s._alphaBR)}at*=j,yt*=j,at-=s.displayOriginX,yt-=s.displayOriginY,at+=K,y.applyITRS(at,yt,q,j,j),g.multiply(y,m);var Pt=Z.u0,Lt=Z.v0,At=Z.u1,Mt=Z.v1,Bt=D,It=O,Yt=m.e,ie=m.f,ae=It*m.c+m.e,Le=It*m.d+m.f,Wt=Bt*m.a+It*m.c+m.e,Me=Bt*m.b+It*m.d+m.f,ve=Bt*m.a+m.e,Xt=Bt*m.b+m.f;nt&&(Yt=Math.round(Yt),ie=Math.round(ie),ae=Math.round(ae),Le=Math.round(Le),Wt=Math.round(Wt),Me=Math.round(Me),ve=Math.round(ve),Xt=Math.round(Xt)),v.batchQuad(s,Yt,ie,ae,Le,Wt,Me,ve,Xt,Pt,Lt,At,Mt,A,R,M,L,P,C,F)}}}E&&(v.flush(),n.popScissor()),n.pipelines.postBatch(s)}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),f=function(i,r,a,n){var s=r._text,u=s.length,o=i.currentContext;if(!(u===0||!e(i,o,r,a,n))){a.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,d=r.displayCallback,v=r.callbackData,c=r.fontData.chars,m=r.fontData.lineHeight,g=r._letterSpacing,y=0,E=0,S=0,C=null,P=0,A=0,R=0,M=0,L=0,F=0,I=null,N=0,z=r.frame.source.image,W=h.cutX,$=h.cutY,Z=0,D=0,O=r._fontSize/r.fontData.size,B=r._align,G=0,Y=0;r.getTextBounds(!1);var V=r._bounds.lines;B===1?Y=(V.longest-V.lengths[0])/2:B===2&&(Y=V.longest-V.lengths[0]),o.translate(-r.displayOriginX,-r.displayOriginY);var b=a.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(o.beginPath(),o.rect(0,0,r.cropWidth,r.cropHeight),o.clip());for(var H=0;H<u;H++){if(D=O,Z=0,S=s.charCodeAt(H),S===10){G++,B===1?Y=(V.longest-V.lengths[G])/2:B===2&&(Y=V.longest-V.lengths[G]),y=0,E+=m,I=null;continue}if(C=c[S],!!C){if(P=W+C.x,A=$+C.y,R=C.width,M=C.height,L=C.xOffset+y-r.scrollX,F=C.yOffset+E-r.scrollY,I!==null){var j=C.kerning[N];L+=j!==void 0?j:0}if(d){v.index=H,v.charCode=S,v.x=L,v.y=F,v.scale=D,v.rotation=Z,v.data=C.data;var q=d(v);L=q.x,F=q.y,D=q.scale,Z=q.rotation}L*=D,F*=D,L+=Y,y+=C.xAdvance+g,I=C,N=S,!(R===0||M===0||S===32)&&(b&&(L=Math.round(L),F=Math.round(F)),o.save(),o.translate(L,F),o.rotate(Z),o.scale(D,D),o.drawImage(z,P,A,R,M,0,0,R,M),o.restore())}}o.restore()}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1061),f=t(1062),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=function(i,r,a,n){i.pipelines.clear();var s=e(r,a,n).calc;r.render.call(r,i,a,s),i.pipelines.rebind()};l.exports=f},function(l,x){},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1064),f=t(448),f=t(448),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),f=t(19),i=t(25),r=t(12),a=function(h,d,v){this.x=h,this.y=d,this.width=v},n=function(h,d,v){this.points=[],this.pointsLength=1,this.points[0]=new a(h,d,v)},s=[],u=new i,o=function(h,d,v,c){if(d.commandBuffer.length!==0){v.addToRenderList(d);var m=h.pipelines.set(d.pipeline,d);h.pipelines.preBatch(d);for(var g=f(d,v,c).calc,y=u.loadIdentity(),E=d.commandBuffer,S=v.alpha*d.alpha,C=1,P=m.fillTint,A=m.strokeTint,R=0,M=0,L=0,F=.01,I=Math.PI*2,N,z=[],W=0,$=!0,Z=null,D=r.getTintAppendFloatAlpha,O=0;O<E.length;O++)switch(N=E[O],N){case e.BEGIN_PATH:{z.length=0,Z=null,$=!0;break}case e.CLOSE_PATH:{$=!1,Z&&Z.points.length&&Z.points.push(Z.points[0]);break}case e.FILL_PATH:{for(W=0;W<z.length;W++)m.batchFillPath(z[W].points,y,g);break}case e.STROKE_PATH:{for(W=0;W<z.length;W++)m.batchStrokePath(z[W].points,C,$,y,g);break}case e.LINE_STYLE:{C=E[++O];var B=E[++O],G=E[++O]*S,Y=D(B,G);A.TL=Y,A.TR=Y,A.BL=Y,A.BR=Y;break}case e.FILL_STYLE:{var V=E[++O],b=E[++O]*S,H=D(V,b);P.TL=H,P.TR=H,P.BL=H,P.BR=H;break}case e.GRADIENT_FILL_STYLE:{var j=E[++O]*S,q=E[++O]*S,et=E[++O]*S,ot=E[++O]*S;P.TL=D(E[++O],j),P.TR=D(E[++O],q),P.BL=D(E[++O],et),P.BR=D(E[++O],ot);break}case e.GRADIENT_LINE_STYLE:{C=E[++O];var K=E[++O]*S;A.TL=D(E[++O],K),A.TR=D(E[++O],K),A.BL=D(E[++O],K),A.BR=D(E[++O],K);break}case e.ARC:{var Q=0,tt=E[++O],nt=E[++O],ut=E[++O],pt=E[++O],vt=E[++O],at=E[++O],yt=E[++O];for(vt-=pt,at?vt<-I?vt=-I:vt>0&&(vt=-I+vt%I):vt>I?vt=I:vt<0&&(vt=I+vt%I),Z===null&&(Z=new n(tt+Math.cos(pt)*ut,nt+Math.sin(pt)*ut,C),z.push(Z),Q+=F);Q<1+yt;)L=vt*Q+pt,R=tt+Math.cos(L)*ut,M=nt+Math.sin(L)*ut,Z.points.push(new a(R,M,C)),Q+=F;L=vt+pt,R=tt+Math.cos(L)*ut,M=nt+Math.sin(L)*ut,Z.points.push(new a(R,M,C));break}case e.FILL_RECT:{m.batchFillRect(E[++O],E[++O],E[++O],E[++O],y,g);break}case e.FILL_TRIANGLE:{m.batchFillTriangle(E[++O],E[++O],E[++O],E[++O],E[++O],E[++O],y,g);break}case e.STROKE_TRIANGLE:{m.batchStrokeTriangle(E[++O],E[++O],E[++O],E[++O],E[++O],E[++O],C,y,g);break}case e.LINE_TO:{Z!==null?Z.points.push(new a(E[++O],E[++O],C)):(Z=new n(E[++O],E[++O],C),z.push(Z));break}case e.MOVE_TO:{Z=new n(E[++O],E[++O],C),z.push(Z);break}case e.SAVE:{s.push(y.copyToArray());break}case e.RESTORE:{y.copyFromArray(s.pop());break}case e.TRANSLATE:{tt=E[++O],nt=E[++O],y.translate(tt,nt);break}case e.SCALE:{tt=E[++O],nt=E[++O],y.scale(tt,nt);break}case e.ROTATE:{y.rotate(E[++O]);break}}h.pipelines.postBatch(d)}};l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1066),f=t(1067),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f),f.pipeline.batchSprite(f,i,r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f),e.batchSprite(f,f.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1069),f=t(1070),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f),this.pipeline.batchSprite(f,i,r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f),e.batchSprite(f,f.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1072),f=t(1073),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=f.list,a=r.length;if(a!==0){f.depthSort(),e.pipelines.preBatch(f);var n=f.blendMode!==-1;n||e.setBlendMode(0);for(var s=f.alpha,u=0;u<a;u++){var o=r[u];if(o.willRender(i)){var h,d,v,c;if(o.alphaTopLeft!==void 0)h=o.alphaTopLeft,d=o.alphaTopRight,v=o.alphaBottomLeft,c=o.alphaBottomRight;else{var m=o.alpha;h=m,d=m,v=m,c=m}!n&&o.blendMode!==e.currentBlendMode&&e.setBlendMode(o.blendMode);var g=o.mask;g&&g.preRenderWebGL(e,o,i);var y=o.type;y!==e.currentType&&(e.newType=!0,e.currentType=y),e.nextTypeMatch=u<a-1?r[u+1].type===e.currentType:!1,o.setAlpha(h*s,d*s,v*s,c*s),o.renderWebGL(e,o,i),o.setAlpha(h,d,v,c),g&&g.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(f)}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=f.list;if(r.length!==0){f.depthSort();var a=f.blendMode!==-1;a||e.setBlendMode(0);var n=f._alpha;f.mask&&f.mask.preRenderCanvas(e,null,i);for(var s=0;s<r.length;s++){var u=r[s];if(u.willRender(i)){var o=u.alpha;!a&&u.blendMode!==e.currentBlendMode&&e.setBlendMode(u.blendMode),u.setAlpha(o*n),u.renderCanvas(e,u,i),u.setAlpha(o)}}f.mask&&f.mask.postRenderCanvas(e)}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1076),f=t(1077),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),f=t(12),i=new e,r=new e,a=new e,n=new e,s=function(u,o,h,d){var v=o.emitters.list,c=v.length;if(c!==0){var m=u.pipelines.set(o.pipeline),g=i,y=r,E=a,S=n;d?(S.loadIdentity(),S.multiply(d),S.translate(o.x,o.y),S.rotate(o.rotation),S.scale(o.scaleX,o.scaleY)):S.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var C=h.roundPixels,P=o.defaultFrame.glTexture,A=f.getTintAppendFloatAlpha,R=m.setGameObject(o,o.defaultFrame);u.pipelines.preBatch(o);for(var M=0;M<c;M++){var L=v[M],F=L.alive,I=F.length;if(!(!L.visible||I===0)){h.addToRenderList(L);var N=L.scrollFactorX,z=L.scrollFactorY;u.setBlendMode(L.blendMode),L.mask&&(L.mask.preRenderWebGL(u,L,h),u.pipelines.set(o.pipeline));for(var W=0,$=0;$<I;$++){var Z=F[$],D=Z.alpha*h.alpha;if(!(D<=0)){E.applyITRS(Z.x,Z.y,Z.rotation,Z.scaleX,Z.scaleY),g.copyFrom(h.matrix),g.multiplyWithOffset(S,-h.scrollX*N,-h.scrollY*z),E.e=Z.x,E.f=Z.y,g.multiply(E,y);var O=Z.frame,B=-O.halfWidth,G=-O.halfHeight,Y=B+O.width,V=G+O.height,b=y.getXRound(B,G,C),H=y.getYRound(B,G,C),j=y.getXRound(B,V,C),q=y.getYRound(B,V,C),et=y.getXRound(Y,V,C),ot=y.getYRound(Y,V,C),K=y.getXRound(Y,G,C),Q=y.getYRound(Y,G,C),tt=A(Z.tint,D);m.batchQuad(L,b,H,j,q,et,ot,K,Q,O.u0,O.v0,O.u1,O.v1,tt,tt,tt,tt,W,P,R)}}L.mask&&L.mask.postRenderWebGL(u,h)}}u.pipelines.postBatch(o)}};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),f=new e,i=new e,r=new e,a=new e,n=function(s,u,o,h){var d=u.emitters.list,v=d.length;if(v!==0){var c=f.copyFrom(o.matrix),m=i,g=r,y=a;h?(y.loadIdentity(),y.multiply(h),y.translate(u.x,u.y),y.rotate(u.rotation),y.scale(u.scaleX,u.scaleY)):y.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);for(var E=s.currentContext,S=o.roundPixels,C=0;C<v;C++){var P=d[C],A=P.alive,R=A.length;if(!(!P.visible||R===0)){o.addToRenderList(P);var M=P.scrollFactorX,L=P.scrollFactorY;E.save(),E.globalCompositeOperation=s.blendModes[P.blendMode];for(var F=0;F<R;F++){var I=A[F],N=I.alpha*o.alpha;if(!(N<=0)){g.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),c.copyFrom(o.matrix),c.multiplyWithOffset(y,-o.scrollX*M,-o.scrollY*L),g.e=I.x,g.f=I.y,c.multiply(g,m);var z=I.frame,W=z.canvasData,$=-z.halfWidth,Z=-z.halfHeight;E.globalAlpha=N,E.save(),m.setToContext(E),S&&($=Math.round($),Z=Math.round(Z)),E.imageSmoothingEnabled=!(!s.antialias||z.source.scaleMode),E.drawImage(z.source.image,W.x,W.y,W.width,W.height,$,Z,W.width,W.height),E.restore()}}E.restore()}}}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1080),f=t(1081),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a,n){a.addToRenderList(r);var s=a.alpha,u=r.renderTarget,o=u.width,h=u.height,d=e.getTintAppendFloatAlpha,v=i.pipelines.set(r.pipeline),c=v.setTexture2D(u.texture);i.pipelines.preBatch(r),v.batchTexture(r,u.texture,o,h,r.x,r.y,o,h,r.scaleX,r.scaleY,r.rotation,r.flipX,!r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,h,d(r.tintTopLeft,s*r._alphaTL),d(r.tintTopRight,s*r._alphaTR),d(r.tintBottomLeft,s*r._alphaBL),d(r.tintBottomRight,s*r._alphaBR),r.tintFill,0,0,a,n,!0,c),i.resetTextures(),i.pipelines.postBatch(r)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){i.addToRenderList(f),e.batchSprite(f,f.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),f=t(17),i={Parse:t(1084)};i=f(!1,i,e),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f=function(i,r){var a=r.width,n=r.height,s=Math.floor(a/2),u=Math.floor(n/2),o=e(r,"chars","");if(o!==""){var h=e(r,"image",""),d=i.sys.textures.getFrame(h),v=d.cutX,c=d.cutY,m=d.source.width,g=d.source.height,y=e(r,"offset.x",0),E=e(r,"offset.y",0),S=e(r,"spacing.x",0),C=e(r,"spacing.y",0),P=e(r,"lineSpacing",0),A=e(r,"charsPerRow",null);A===null&&(A=m/a,A>o.length&&(A=o.length));for(var R=y,M=E,L={retroFont:!0,font:h,size:a,lineHeight:n+P,chars:{}},F=0,I=0;I<o.length;I++){var N=o.charCodeAt(I),z=(v+R)/m,W=(c+M)/g,$=(v+R+a)/m,Z=(c+M+n)/g;L.chars[N]={x:R,y:M,width:a,height:n,centerX:s,centerY:u,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:z,v0:W,u1:$,v1:Z},F++,F===A?(F=0,R=y,M+=n+C):R+=a+S}var D={data:L,frame:null,texture:h};return D}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1086),f=t(1087),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(12),i=function(r,a,n,s){n.addToRenderList(a);var u=r.pipelines.set(a.pipeline,a),o=e(a,n,s).calc,h=a.vertices,d=a.uv,v=a.colors,c=a.alphas,m=a.alpha,g=f.getTintAppendFloatAlpha,y=n.roundPixels,E=h.length,S=Math.floor(E*.5);u.flush(),r.pipelines.preBatch(a);var C=u.setGameObject(a),P=u.vertexViewF32,A=u.vertexViewU32,R=u.vertexCount*u.currentShader.vertexComponentCount-1,M=0,L=a.tintFill;a.dirty&&a.updateVertices();for(var F=a.debugCallback,I=[],N=0;N<E;N+=2){var z=h[N+0],W=h[N+1],$=z*o.a+W*o.c+o.e,Z=z*o.b+W*o.d+o.f;y&&($=Math.round($),Z=Math.round(Z)),P[++R]=$,P[++R]=Z,P[++R]=d[N+0],P[++R]=d[N+1],P[++R]=C,P[++R]=L,A[++R]=g(v[M],n.alpha*(c[M]*m)),M++,F&&(I[N+0]=$,I[N+1]=Z)}F&&F.call(a,a,E,I),u.vertexCount+=S,r.pipelines.postBatch(a)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1089),f=t(1090),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a,n){if(!(r.width===0||r.height===0)){a.addToRenderList(r);var s=r.frame,u=s.width,o=s.height,h=e.getTintAppendFloatAlpha,d=i.pipelines.set(r.pipeline,r),v=d.setTexture2D(s.glTexture,r);i.pipelines.preBatch(r),d.batchTexture(r,s.glTexture,u,o,r.x,r.y,u/r.style.resolution,o/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,u,o,h(r.tintTopLeft,a.alpha*r._alphaTL),h(r.tintTopRight,a.alpha*r._alphaTR),h(r.tintBottomLeft,a.alpha*r._alphaBL),h(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,0,0,a,n,!1,v),i.pipelines.postBatch(r)}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f.width===0||f.height===0||(i.addToRenderList(f),e.batchSprite(f,f.frame,i,r))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1092),f=t(1093),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a,n){r.updateCanvas();var s=r.width,u=r.height;if(!(s===0||u===0)){a.addToRenderList(r),i.pipelines.preBatch(r);var o=e.getTintAppendFloatAlpha,h=i.pipelines.set(r.pipeline,r),d=h.setTexture2D(r.fillPattern,r);h.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,u,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*u,0,0,s,u,o(r.tintTopLeft,a.alpha*r._alphaTL),o(r.tintTopRight,a.alpha*r._alphaTR),o(r.tintBottomLeft,a.alpha*r._alphaBL),o(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,a,n,!1,d),i.pipelines.postBatch(r)}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f.updateCanvas(),i.addToRenderList(f),e.batchSprite(f,f.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1095),f=t(1096),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f.videoTexture&&(i.addToRenderList(f),f.pipeline.batchSprite(f,i,r))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f.videoTexture&&(i.addToRenderList(f),e.batchSprite(f,f.frame,i,r))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1098),f=t(1099),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(114),i=t(81),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,u),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,m=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&f(o,d,n,m,v,c),n.isStroked&&i(o,n,m,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),f=t(48),i=t(60),r=t(30),a=function(n,s,u,o){u.addToRenderList(s);var h=n.currentContext;if(r(n,h,s,u,o)){var d=s.radius;h.beginPath(),h.arc(d-s.originX*(d*2),d-s.originY*(d*2),d,e(s._startAngle),e(s._endAngle),s.anticlockwise),s.closePath&&h.closePath(),s.isFilled&&(f(h,s),h.fill()),s.isStroked&&(i(h,s),h.stroke()),h.restore()}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1101),f=t(1102),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),f=t(19),i=t(81),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=f(n,s,u),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX+n._curveBounds.x,c=n._displayOriginY+n._curveBounds.y,m=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,m,v,c),n.isStroked&&i(o,n,m,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX+n._curveBounds.x,d=n._displayOriginY+n._curveBounds.y,v=n.pathData,c=v.length-1,m=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(m,g),n.closePath||(c-=2);for(var y=2;y<c;y+=2){var E=v[y]-h,S=v[y+1]-d;o.lineTo(E,S)}n.closePath&&o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1104),f=t(1105),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),f=t(19),i=t(81),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=f(n,s,u),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,m=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,m,v,c),n.isStroked&&i(o,n,m,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,m=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(m,g),n.closePath||(c-=2);for(var y=2;y<c;y+=2){var E=v[y]-h,S=v[y+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1107),f=t(1108),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(12),i=function(r,a,n,s){n.addToRenderList(a);var u=r.pipelines.set(a.pipeline),o=e(a,n,s),h=u.calcMatrix.copyFrom(o.calc);h.translate(-a._displayOriginX,-a._displayOriginY);var d=n.alpha*a.alpha,v=a.width,c=a.height,m=a.cellWidth,g=a.cellHeight,y=Math.ceil(v/m),E=Math.ceil(c/g),S=m,C=g,P=m-(y*m-v),A=g-(E*g-c),R,M,L=a.showCells,F=a.showAltCells,I=a.showOutline,N=0,z=0,W=0,$=0,Z=0;if(I&&(S--,C--,P===m&&P--,A===g&&A--),r.pipelines.preBatch(a),L&&a.fillAlpha>0)for(R=u.fillTint,M=f.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*d),R.TL=M,R.TR=M,R.BL=M,R.BR=M,z=0;z<E;z++)for(F&&(W=z%2),N=0;N<y;N++){if(F&&W){W=0;continue}W++,$=N<y-1?S:P,Z=z<E-1?C:A,u.batchFillRect(N*m,z*g,$,Z)}if(F&&a.altFillAlpha>0)for(R=u.fillTint,M=f.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*d),R.TL=M,R.TR=M,R.BL=M,R.BR=M,z=0;z<E;z++)for(F&&(W=z%2),N=0;N<y;N++){if(F&&!W){W=1;continue}W=0,$=N<y-1?S:P,Z=z<E-1?C:A,u.batchFillRect(N*m,z*g,$,Z)}if(I&&a.outlineFillAlpha>0){var D=u.strokeTint,O=f.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*d);for(D.TL=O,D.TR=O,D.BL=O,D.BR=O,N=1;N<y;N++){var B=N*m;u.batchLine(B,0,B,c,1,1,1,0,!1)}for(z=1;z<E;z++){var G=z*g;u.batchLine(0,G,v,G,1,1,1,0,!1)}}r.pipelines.postBatch(a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=-n._displayOriginX,d=-n._displayOriginY,v=s.alpha*n.alpha,c=n.width,m=n.height,g=n.cellWidth,y=n.cellHeight,E=Math.ceil(c/g),S=Math.ceil(m/y),C=g,P=y,A=g-(E*g-c),R=y-(S*y-m),M=n.showCells,L=n.showAltCells,F=n.showOutline,I=0,N=0,z=0,W=0,$=0;if(F&&(C--,P--,A===g&&A--,R===y&&R--),M&&n.fillAlpha>0)for(e(o,n),N=0;N<S;N++)for(L&&(z=N%2),I=0;I<E;I++){if(L&&z){z=0;continue}z++,W=I<E-1?C:A,$=N<S-1?P:R,o.fillRect(h+I*g,d+N*y,W,$)}if(L&&n.altFillAlpha>0)for(e(o,n,n.altFillColor,n.altFillAlpha*v),N=0;N<S;N++)for(L&&(z=N%2),I=0;I<E;I++){if(L&&!z){z=1;continue}z=0,W=I<E-1?C:A,$=N<S-1?P:R,o.fillRect(h+I*g,d+N*y,W,$)}if(F&&n.outlineFillAlpha>0){for(f(o,n,n.outlineFillColor,n.outlineFillAlpha*v),I=1;I<E;I++){var Z=I*g;o.beginPath(),o.moveTo(Z+h,d),o.lineTo(Z+h,m+d),o.stroke()}for(N=1;N<S;N++){var D=N*y;o.beginPath(),o.moveTo(h,D+d),o.lineTo(h+c,D+d),o.stroke()}}o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1110),f=t(1111),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(12),i=function(r,a,n,s){n.addToRenderList(a);var u=r.pipelines.set(a.pipeline),o=e(a,n,s),h=u.calcMatrix.copyFrom(o.calc),d=a.width,v=a.height,c=d/2,m=d/a.projection,g=n.alpha*a.alpha;if(a.isFilled){var y,E,S,C,P,A,R,M,L;r.pipelines.preBatch(a),a.showTop&&(y=f.getTintAppendFloatAlpha(a.fillTop,g),E=h.getX(-c,-v),S=h.getY(-c,-v),C=h.getX(0,-m-v),P=h.getY(0,-m-v),A=h.getX(c,-v),R=h.getY(c,-v),M=h.getX(0,m-v),L=h.getY(0,m-v),u.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,y,y,y,y,2)),a.showLeft&&(y=f.getTintAppendFloatAlpha(a.fillLeft,g),E=h.getX(-c,0),S=h.getY(-c,0),C=h.getX(0,m),P=h.getY(0,m),A=h.getX(0,m-v),R=h.getY(0,m-v),M=h.getX(-c,-v),L=h.getY(-c,-v),u.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,y,y,y,y,2)),a.showRight&&(y=f.getTintAppendFloatAlpha(a.fillRight,g),E=h.getX(c,0),S=h.getY(c,0),C=h.getX(0,m),P=h.getY(0,m),A=h.getX(0,m-v),R=h.getY(0,m-v),M=h.getX(c,-v),L=h.getY(c,-v),u.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,y,y,y,y,2)),r.pipelines.postBatch(a)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(30),i=function(r,a,n,s){n.addToRenderList(a);var u=r.currentContext;if(f(r,u,a,n,s)&&a.isFilled){var o=a.width,h=a.height,d=o/2,v=o/a.projection;a.showTop&&(e(u,a,a.fillTop),u.beginPath(),u.moveTo(-d,-h),u.lineTo(0,-v-h),u.lineTo(d,-h),u.lineTo(d,-1),u.lineTo(0,v-1),u.lineTo(-d,-1),u.lineTo(-d,-h),u.fill()),a.showLeft&&(e(u,a,a.fillLeft),u.beginPath(),u.moveTo(-d,0),u.lineTo(0,v),u.lineTo(0,v-h),u.lineTo(-d,-h),u.lineTo(-d,0),u.fill()),a.showRight&&(e(u,a,a.fillRight),u.beginPath(),u.moveTo(d,0),u.lineTo(0,v),u.lineTo(0,v-h),u.lineTo(d,-h),u.lineTo(d,0),u.fill()),u.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1113),f=t(1114),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(12),i=function(r,a,n,s){n.addToRenderList(a);var u=r.pipelines.set(a.pipeline),o=e(a,n,s),h=u.calcMatrix.copyFrom(o.calc),d=a.width,v=a.height,c=d/2,m=d/a.projection,g=a.isReversed,y=n.alpha*a.alpha;if(a.isFilled){r.pipelines.preBatch(a);var E,S,C,P,A,R,M;if(a.showTop&&g){E=f.getTintAppendFloatAlpha(a.fillTop,y),S=h.getX(-c,-v),C=h.getY(-c,-v),P=h.getX(0,-m-v),A=h.getY(0,-m-v),R=h.getX(c,-v),M=h.getY(c,-v);var L=h.getX(0,m-v),F=h.getY(0,m-v);u.batchQuad(a,S,C,P,A,R,M,L,F,0,0,1,1,E,E,E,E,2)}a.showLeft&&(E=f.getTintAppendFloatAlpha(a.fillLeft,y),g?(S=h.getX(-c,-v),C=h.getY(-c,-v),P=h.getX(0,m),A=h.getY(0,m),R=h.getX(0,m-v),M=h.getY(0,m-v)):(S=h.getX(-c,0),C=h.getY(-c,0),P=h.getX(0,m),A=h.getY(0,m),R=h.getX(0,m-v),M=h.getY(0,m-v)),u.batchTri(a,S,C,P,A,R,M,0,0,1,1,E,E,E,2)),a.showRight&&(E=f.getTintAppendFloatAlpha(a.fillRight,y),g?(S=h.getX(c,-v),C=h.getY(c,-v),P=h.getX(0,m),A=h.getY(0,m),R=h.getX(0,m-v),M=h.getY(0,m-v)):(S=h.getX(c,0),C=h.getY(c,0),P=h.getX(0,m),A=h.getY(0,m),R=h.getX(0,m-v),M=h.getY(0,m-v)),u.batchTri(a,S,C,P,A,R,M,0,0,1,1,E,E,E,2)),r.pipelines.postBatch(a)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(30),i=function(r,a,n,s){n.addToRenderList(a);var u=r.currentContext;if(f(r,u,a,n,s)&&a.isFilled){var o=a.width,h=a.height,d=o/2,v=o/a.projection,c=a.isReversed;a.showTop&&c&&(e(u,a,a.fillTop),u.beginPath(),u.moveTo(-d,-h),u.lineTo(0,-v-h),u.lineTo(d,-h),u.lineTo(0,v-h),u.fill()),a.showLeft&&(e(u,a,a.fillLeft),u.beginPath(),c?(u.moveTo(-d,-h),u.lineTo(0,v),u.lineTo(0,v-h)):(u.moveTo(-d,0),u.lineTo(0,v),u.lineTo(0,v-h)),u.fill()),a.showRight&&(e(u,a,a.fillRight),u.beginPath(),c?(u.moveTo(d,-h),u.lineTo(0,v),u.lineTo(0,v-h)):(u.moveTo(d,0),u.lineTo(0,v),u.lineTo(0,v-h)),u.fill()),u.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1116),f=t(1117),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(12),i=function(r,a,n,s){n.addToRenderList(a);var u=r.pipelines.set(a.pipeline),o=e(a,n,s);u.calcMatrix.copyFrom(o.calc);var h=a._displayOriginX,d=a._displayOriginY,v=n.alpha*a.alpha;if(r.pipelines.preBatch(a),a.isStroked){var c=u.strokeTint,m=f.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*v);c.TL=m,c.TR=m,c.BL=m,c.BR=m;var g=a._startWidth,y=a._endWidth;u.batchLine(a.geom.x1-h,a.geom.y1-d,a.geom.x2-h,a.geom.y2-d,g,y,1,0,!1,o.sprite,o.camera)}r.pipelines.postBatch(a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),f=t(30),i=function(r,a,n,s){n.addToRenderList(a);var u=r.currentContext;if(f(r,u,a,n,s)){var o=a._displayOriginX,h=a._displayOriginY;a.isStroked&&(e(u,a),u.beginPath(),u.moveTo(a.geom.x1-o,a.geom.y1-h),u.lineTo(a.geom.x2-o,a.geom.y2-h),u.stroke()),u.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1119),f=t(1120),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),f=t(19),i=t(81),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=f(n,s,u),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,m=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,m,v,c),n.isStroked&&i(o,n,m,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,m=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(m,g),n.closePath||(c-=2);for(var y=2;y<c;y+=2){var E=v[y]-h,S=v[y+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1122),f=t(1123),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(81),i=t(12),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,u);o.calcMatrix.copyFrom(h.calc);var d=n._displayOriginX,v=n._displayOriginY,c=s.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var m=o.fillTint,g=i.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*c);m.TL=g,m.TR=g,m.BL=g,m.BR=g,o.batchFillRect(-d,-v,n.width,n.height)}n.isStroked&&f(o,n,c,d,v),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX,d=n._displayOriginY;n.isFilled&&(e(o,n),o.fillRect(-h,-d,n.width,n.height)),n.isStroked&&(f(o,n),o.beginPath(),o.rect(-h,-d,n.width,n.height),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1125),f=t(1126),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),f=t(19),i=t(81),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=f(n,s,u),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,m=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,m,v,c),n.isStroked&&i(o,n,m,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,m=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(m,g),n.closePath||(c-=2);for(var y=2;y<c;y+=2){var E=v[y]-h,S=v[y+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1128),f=t(1129),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=t(81),i=t(12),r=function(a,n,s,u){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,u);o.calcMatrix.copyFrom(h.calc);var d=n._displayOriginX,v=n._displayOriginY,c=s.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var m=o.fillTint,g=i.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*c);m.TL=g,m.TR=g,m.BL=g,m.BR=g;var y=n.geom.x1-d,E=n.geom.y1-v,S=n.geom.x2-d,C=n.geom.y2-v,P=n.geom.x3-d,A=n.geom.y3-v;o.batchFillTriangle(y,E,S,C,P,A,h.sprite,h.camera)}n.isStroked&&f(o,n,c,d,v),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),f=t(60),i=t(30),r=function(a,n,s,u){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,u)){var h=n._displayOriginX,d=n._displayOriginY,v=n.geom.x1-h,c=n.geom.y1-d,m=n.geom.x2-h,g=n.geom.y2-d,y=n.geom.x3-h,E=n.geom.y3-d;o.beginPath(),o.moveTo(v,c),o.lineTo(m,g),o.lineTo(y,E),o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(f(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),f=t(5);f.register("blitter",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),f=t(5);f.register("container",function(i,r,a){return this.displayList.add(new e(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),f=t(5);f.register("dom",function(i,r,a,n,s){var u=new e(this.scene,i,r,a,n,s);return this.displayList.add(u),u})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),f=t(5);f.register("dynamicBitmapText",function(i,r,a,n,s){return this.displayList.add(new e(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),f=t(5);f.register("extern",function(){var i=new e(this.scene);return this.displayList.add(i),i})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),f=t(5);f.register("graphics",function(i){return this.displayList.add(new e(this.scene,i))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),f=t(5);f.register("group",function(i,r){return this.updateList.add(new e(this.scene,i,r))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),f=t(5);f.register("image",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),f=t(5);f.register("layer",function(i){return this.displayList.add(new e(this.scene,i))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(220);e.register("particles",function(i,r,a){return this.displayList.add(new f(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(457);e.register("follower",function(i,r,a,n,s){var u=new f(this.scene,i,r,a,n,s);return this.displayList.add(u),this.updateList.add(u),u})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(221);e.register("renderTexture",function(i,r,a,n,s,u){return this.displayList.add(new f(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),f=t(5);f.register("rope",function(i,r,a,n,s,u,o,h){return this.displayList.add(new e(this.scene,i,r,a,n,s,u,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(73);e.register("sprite",function(i,r,a,n){var s=new f(this.scene,i,r,a,n);return this.displayList.add(s),s})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),f=t(5);f.register("bitmapText",function(i,r,a,n,s,u){return this.displayList.add(new e(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),f=t(5);f.register("text",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),f=t(5);f.register("tileSprite",function(i,r,a,n,s,u){return this.displayList.add(new e(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),f=t(5);f.register("zone",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),f=t(5);f.register("video",function(i,r,a){return this.displayList.add(new e(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),f=t(5);f.register("arc",function(i,r,a,n,s,u,o,h){return this.displayList.add(new e(this.scene,i,r,a,n,s,u,o,h))}),f.register("circle",function(i,r,a,n,s){return this.displayList.add(new e(this.scene,i,r,a,0,360,!1,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(462);e.register("curve",function(i,r,a,n,s){return this.displayList.add(new f(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),f=t(5);f.register("ellipse",function(i,r,a,n,s,u){return this.displayList.add(new e(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(464);e.register("grid",function(i,r,a,n,s,u,o,h,d,v){return this.displayList.add(new f(this.scene,i,r,a,n,s,u,o,h,d,v))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(465);e.register("isobox",function(i,r,a,n,s,u,o){return this.displayList.add(new f(this.scene,i,r,a,n,s,u,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(466);e.register("isotriangle",function(i,r,a,n,s,u,o,h){return this.displayList.add(new f(this.scene,i,r,a,n,s,u,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(467);e.register("line",function(i,r,a,n,s,u,o,h){return this.displayList.add(new f(this.scene,i,r,a,n,s,u,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(468);e.register("polygon",function(i,r,a,n,s){return this.displayList.add(new f(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(473);e.register("rectangle",function(i,r,a,n,s,u){return this.displayList.add(new f(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),f=t(5);f.register("star",function(i,r,a,n,s,u,o){return this.displayList.add(new e(this.scene,i,r,a,n,s,u,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(475);e.register("triangle",function(i,r,a,n,s,u,o,h,d,v){return this.displayList.add(new f(this.scene,i,r,a,n,s,u,o,h,d,v))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),f=t(28),i=t(16),r=t(13);i.register("blitter",function(a,n){a===void 0&&(a={});var s=r(a,"key",null),u=r(a,"frame",null),o=new e(this.scene,0,0,s,u);return n!==void 0&&(a.add=n),f(this.scene,o,a),o})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(214),i=t(16),r=t(13);i.register("container",function(a,n){a===void 0&&(a={});var s=r(a,"x",0),u=r(a,"y",0),o=r(a,"children",null),h=new f(this.scene,s,u,o);return n!==void 0&&(a.add=n),e(this.scene,h,a),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),f=t(28),i=t(16),r=t(13);i.register("dynamicBitmapText",function(a,n){a===void 0&&(a={});var s=r(a,"font",""),u=r(a,"text",""),o=r(a,"size",!1),h=new e(this.scene,0,0,s,u,o);return n!==void 0&&(a.add=n),f(this.scene,h,a),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),f=t(216);e.register("graphics",function(i,r){i===void 0&&(i={}),r!==void 0&&(i.add=r);var a=new f(this.scene,i);return i.add&&this.scene.sys.displayList.add(a),a})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),f=t(113);e.register("group",function(i){return new f(this.scene,null,i)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(125);f.register("image",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),u=i(a,"frame",null),o=new r(this.scene,0,0,s,u);return n!==void 0&&(a.add=n),e(this.scene,o,a),o})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(219),i=t(16),r=t(13);i.register("layer",function(a,n){a===void 0&&(a={});var s=r(a,"children",null),u=new f(this.scene,s);return n!==void 0&&(a.add=n),e(this.scene,u,a),u})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),f=t(13),i=t(2),r=t(220);e.register("particles",function(a,n){a===void 0&&(a={});var s=f(a,"key",null),u=f(a,"frame",null),o=i(a,"emitters",null),h=new r(this.scene,s,u,o);n!==void 0&&(a.add=n);var d=i(a,"add",!1);return d?this.displayList.add(h):this.updateList.add(h),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(221);f.register("renderTexture",function(a,n){a===void 0&&(a={});var s=i(a,"x",0),u=i(a,"y",0),o=i(a,"width",32),h=i(a,"height",32),d=i(a,"key",void 0),v=i(a,"frame",void 0),c=new r(this.scene,s,u,o,h,d,v);return n!==void 0&&(a.add=n),e(this.scene,c,a),c})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(6),a=t(223);f.register("rope",function(n,s){n===void 0&&(n={});var u=i(n,"key",null),o=i(n,"frame",null),h=i(n,"horizontal",!0),d=r(n,"points",void 0),v=r(n,"colors",void 0),c=r(n,"alphas",void 0),m=new a(this.scene,0,0,u,o,d,h,v,c);return s!==void 0&&(n.add=s),e(this.scene,m,n),n.add||this.updateList.add(m),m})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(439),i=t(16),r=t(13),a=t(73);i.register("sprite",function(n,s){n===void 0&&(n={});var u=r(n,"key",null),o=r(n,"frame",null),h=new a(this.scene,0,0,u,o);return s!==void 0&&(n.add=s),e(this.scene,h,n),f(h,n),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),f=t(28),i=t(16),r=t(13),a=t(6);i.register("bitmapText",function(n,s){n===void 0&&(n={});var u=a(n,"font",""),o=r(n,"text",""),h=r(n,"size",!1),d=a(n,"align",0),v=new e(this.scene,0,0,u,o,h,d);return s!==void 0&&(n.add=s),f(this.scene,v,n),v})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(224);f.register("text",function(a,n){a===void 0&&(a={});var s=i(a,"text",""),u=i(a,"style",null),o=i(a,"padding",null);o!==null&&(u.padding=o);var h=new r(this.scene,0,0,s,u);return n!==void 0&&(a.add=n),e(this.scene,h,a),h.autoRound=i(a,"autoRound",!0),h.resolution=i(a,"resolution",1),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(225);f.register("tileSprite",function(a,n){a===void 0&&(a={});var s=i(a,"x",0),u=i(a,"y",0),o=i(a,"width",512),h=i(a,"height",512),d=i(a,"key",""),v=i(a,"frame",""),c=new r(this.scene,s,u,o,h,d,v);return n!==void 0&&(a.add=n),e(this.scene,c,a),c})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),f=t(13),i=t(129);e.register("zone",function(r){var a=f(r,"x",0),n=f(r,"y",0),s=f(r,"width",1),u=f(r,"height",s);return new i(this.scene,a,n,s,u)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(226);f.register("video",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),u=new r(this.scene,0,0,s);return n!==void 0&&(a.add=n),e(this.scene,u,a),a.add||this.updateList.add(u),u})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1177),f=t(1178),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=function(i,r,a,n){if(r.shader){if(a.addToRenderList(r),i.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=e(r,a,n).calc;(i.width!==r._rendererWidth||i.height!==r._rendererHeight)&&r.projOrtho(0,i.width,i.height,0),r.load(s.matrix),r.flush()}i.pipelines.rebind()}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1180),f=t(1181),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=function(i,r,a,n){var s=r.faces,u=s.length;if(u!==0){a.addToRenderList(r);var o=i.pipelines.set(r.pipeline,r),h=e(r,a,n).calc,d=o.setGameObject(r),v=o.vertexViewF32,c=o.vertexViewU32,m=o.vertexCount*o.currentShader.vertexComponentCount-1,g=r.tintFill,y=[],E=r.debugCallback,S=h.a,C=h.b,P=h.c,A=h.d,R=h.e,M=h.f,L=r.viewPosition.z,F=r.hideCCW,I=a.roundPixels,N=a.alpha*r.alpha,z=0;i.pipelines.preBatch(r);for(var W=0;W<u;W++){var $=s[W];$.isInView(a,F,L,N,S,C,P,A,R,M,I)&&(o.shouldFlush(3)&&(o.flush(),m=0),m=$.load(v,c,m,d,g),z++,o.vertexCount+=3,E&&y.push($))}r.totalFrame+=z,E&&E.call(r,r,y),i.pipelines.postBatch(r)}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1183),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),f=function(i,r,a,n){a.addToRenderList(r);var s=i.pipelines.set(r.pipeline),u=e(r,a,n).calc,o=r.width,h=r.height,d=-r._radius,v=-r._radius,c=d+o,m=v+h,g=u.getX(0,0),y=u.getY(0,0),E=u.getX(d,v),S=u.getY(d,v),C=u.getX(d,m),P=u.getY(d,m),A=u.getX(c,m),R=u.getY(c,m),M=u.getX(c,v),L=u.getY(c,v);i.pipelines.preBatch(r),s.batchPointLight(r,a,E,S,C,P,A,R,M,L,g,y),i.pipelines.postBatch(r)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),f=t(5);f.register("shader",function(i,r,a,n,s,u,o){return this.displayList.add(new e(this.scene,i,r,a,n,s,u,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),f=t(5);f.register("mesh",function(i,r,a,n,s,u,o,h,d,v,c){return this.displayList.add(new e(this.scene,i,r,a,n,s,u,o,h,d,v,c))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(150);e.register("pointlight",function(i,r,a,n,s,u){return this.displayList.add(new f(this.scene,i,r,a,n,s,u))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(229);f.register("shader",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),u=i(a,"x",0),o=i(a,"y",0),h=i(a,"width",128),d=i(a,"height",128),v=new r(this.scene,s,u,o,h,d);return n!==void 0&&(a.add=n),e(this.scene,v,a),v})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(6),a=t(230);f.register("mesh",function(n,s){n===void 0&&(n={});var u=i(n,"key",null),o=i(n,"frame",null),h=r(n,"vertices",[]),d=r(n,"uvs",[]),v=r(n,"indicies",[]),c=r(n,"containsZ",!1),m=r(n,"normals",[]),g=r(n,"colors",16777215),y=r(n,"alphas",1),E=new a(this.scene,0,0,u,o,h,d,v,c,m,g,y);return s!==void 0&&(n.add=s),e(this.scene,E,n),E})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),f=t(16),i=t(13),r=t(150);f.register("pointlight",function(a,n){a===void 0&&(a={});var s=i(a,"color",16777215),u=i(a,"radius",128),o=i(a,"intensity",1),h=i(a,"attenuation",.1),d=new r(this.scene,0,0,s,u,o,h);return n!==void 0&&(a.add=n),e(this.scene,d,a),d})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(482),i=t(24),r=t(20),a=new e({Extends:f,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),f.call(this)},boot:function(){var n=this.systems.events;n.on(r.SHUTDOWN,this.shutdown,this),n.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});i.register("LightsPlugin",a,"lights"),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),f=function(i){return new e(i.x,i.y,i.radius)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),f=function(i,r){return e(i,r.x,r.y)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),f=function(i,r){return e(i,r.x,r.y)&&e(i,r.right,r.y)&&e(i,r.x,r.bottom)&&e(i,r.right,r.bottom)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x,e.y,e.radius)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x===f.x&&e.y===f.y&&e.radius===f.radius};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r){return r===void 0&&(r=new e),r.x=i.left,r.y=i.top,r.width=i.diameter,r.height=i.diameter,r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x+=f,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x+=f.x,e.y+=f.y,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),f=function(i){return new e(i.x,i.y,i.width,i.height)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),f=function(i,r){return e(i,r.x,r.y)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),f=function(i,r){return e(i,r.x,r.y)&&e(i,r.right,r.y)&&e(i,r.x,r.bottom)&&e(i,r.right,r.bottom)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r){return r===void 0&&(r=new e),r.x=i.left,r.y=i.top,r.width=i.width,r.height=i.height,r};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x+=f,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x+=f.x,e.y+=f.y,e};l.exports=t},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(231),i=function(r,a,n){if(n===void 0&&(n=[]),f(r,a)){var s=r.x,u=r.y,o=r.radius,h=a.x,d=a.y,v=a.radius,c,m,g,y,E;if(u===d)E=(v*v-o*o-h*h+s*s)/(2*(s-h)),c=1,m=-2*d,g=h*h+E*E-2*h*E+d*d-v*v,y=m*m-4*c*g,y===0?n.push(new e(E,-m/(2*c))):y>0&&(n.push(new e(E,(-m+Math.sqrt(y))/(2*c))),n.push(new e(E,(-m-Math.sqrt(y))/(2*c))));else{var S=(s-h)/(u-d),C=(v*v-o*o-h*h+s*s-d*d+u*u)/(2*(u-d));c=S*S+1,m=2*u*S-2*C*S-2*s,g=s*s+u*u+C*C-o*o-2*u*C,y=m*m-4*c*g,y===0?(E=-m/(2*c),n.push(new e(E,C-E*S))):y>0&&(E=(-m+Math.sqrt(y))/(2*c),n.push(new e(E,C-E*S)),E=(-m-Math.sqrt(y))/(2*c),n.push(new e(E,C-E*S)))}}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),f=t(151),i=function(r,a,n){if(n===void 0&&(n=[]),f(r,a)){var s=a.getLineA(),u=a.getLineB(),o=a.getLineC(),h=a.getLineD();e(s,r,n),e(u,r,n),e(o,r,n),e(h,r,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),f=t(487),i=t(47),r=new i;function a(u,o,h,d,v){var c=Math.cos(u),m=Math.sin(u);r.setTo(o,h,o+c,h+m);var g=f(r,d);g&&v.push(new e(g.x,g.y,u,g.w))}function n(u,o){return u.z-o.z}var s=function(u,o,h){Array.isArray(h)||(h=[h]);for(var d=[],v=[],c=0;c<h.length;c++)for(var m=h[c].points,g=0;g<m.length;g++){var y=Math.atan2(m[g].y-o,m[g].x-u);v.indexOf(y)===-1&&(a(y,u,o,h,d),a(y-1e-5,u,o,h,d),a(y+1e-5,u,o,h,d),v.push(y))}return d.sort(n)};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=t(152),i=function(r,a,n){return n===void 0&&(n=new e),f(r,a)&&(n.x=Math.max(r.x,a.x),n.y=Math.max(r.y,a.y),n.width=Math.min(r.right,a.right)-n.x,n.height=Math.min(r.bottom,a.bottom)-n.y),n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),f=t(152),i=function(r,a,n){if(n===void 0&&(n=[]),f(r,a)){var s=r.getLineA(),u=r.getLineB(),o=r.getLineC(),h=r.getLineD();e(s,a,n),e(u,a,n),e(o,a,n),e(h,a,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),f=t(234),i=function(r,a,n){if(n===void 0&&(n=[]),e(r,a)){var s=a.getLineA(),u=a.getLineB(),o=a.getLineC();f(s,r,n),f(u,r,n),f(o,r,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),f=t(491),i=function(r,a,n){if(n===void 0&&(n=[]),f(r,a)){var s=r.getLineA(),u=r.getLineB(),o=r.getLineC();e(s,a,n),e(u,a,n),e(o,a,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),f=t(492),i=function(r,a,n){if(n===void 0&&(n=[]),e(r,a)){var s=a.getLineA(),u=a.getLineB(),o=a.getLineC();f(r,s,n),f(r,u,n),f(r,o,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),f=function(i,r){if(!e(i,r))return!1;var a=Math.min(r.x1,r.x2),n=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),u=Math.max(r.y1,r.y2);return i.x>=a&&i.x<=n&&i.y>=s&&i.y<=u};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a,n){return n===void 0&&(n=0),!(f>e.right+n||i<e.left-n||r>e.bottom+n||a<e.top-n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=f-(e.x1+e.x2)/2,a=i-(e.y1+e.y2)/2;return e.x1+=r,e.y1+=a,e.x2+=r,e.y2+=a,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),f=function(i){return new e(i.x1,i.y1,i.x2,i.y2)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=function(i,r,a){a===void 0&&(a=r);var n=e(i),s=i.x2-i.x1,u=i.y2-i.y1;return r&&(i.x1=i.x1-s/n*r,i.y1=i.y1-u/n*r),a&&(i.x2=i.x2+s/n*a,i.y2=i.y2+u/n*a),i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),f=t(80),i=t(4),r=function(a,n,s,u,o){u===void 0&&(u=0),o===void 0&&(o=[]);var h=[],d=a.x1,v=a.y1,c=a.x2-d,m=a.y2-v,g=f(n,o),y,E,S=s-1;for(y=0;y<S;y++)E=g(y/S),h.push(new i(d+c*E,v+m*E));if(E=g(1),h.push(new i(d+c*E,v+m*E)),u>0){var C=h[0],P=[C];for(y=1;y<h.length-1;y++){var A=h[y];e(C,A)>=u&&(P.push(A),C=A)}var R=h[h.length-1];return e(C,R)<u&&P.pop(),P.push(R),P}else return h};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.x=(i.x1+i.x2)/2,r.y=(i.y1+i.y2)/2,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){a===void 0&&(a=new e);var n=i.x1,s=i.y1,u=i.x2,o=i.y2,h=(u-n)*(u-n)+(o-s)*(o-s);if(h===0)return a;var d=((r.x-n)*(u-n)+(r.y-s)*(o-s))/h;return a.x=n+d*(u-n),a.y=s+d*(o-s),a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(97),i=t(4),r=function(a,n){n===void 0&&(n=new i);var s=f(a)-e.TAU;return n.x=Math.cos(s),n.y=Math.sin(s),n};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=e.x1,r=e.y1,a=e.x2,n=e.y2,s=(a-i)*(a-i)+(n-r)*(n-r);if(s===0)return!1;var u=((r-f.y)*(a-i)-(i-f.x)*(n-r))/s;return Math.abs(u)*Math.sqrt(s)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(97),i=function(r){return Math.cos(f(r)-e.TAU)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),f=t(97),i=function(r){return Math.sin(f(r)-e.TAU)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x1+=f,e.y1+=i,e.x2+=f,e.y2+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),f=t(497),i=function(r,a){return 2*f(a)-Math.PI-e(r)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),f=function(i,r){var a=(i.x1+i.x2)/2,n=(i.y1+i.y2)/2;return e(i,a,n,r)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),f=function(i,r,a){return e(i,r.x,r.y,a)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r,a){return e.x1=f,e.y1=i,e.x2=f+Math.cos(r)*a,e.y2=i+Math.sin(r)*a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),f=t(2),i=t(69),r=t(39),a=t(117),n=new r,s=new r,u=new i,o=function(h){var d=f(h,"mesh"),v=f(h,"texture",null),c=f(h,"frame"),m=f(h,"width",1),g=f(h,"height",m),y=f(h,"widthSegments",1),E=f(h,"heightSegments",y),S=f(h,"x",0),C=f(h,"y",0),P=f(h,"z",0),A=f(h,"rotateX",0),R=f(h,"rotateY",0),M=f(h,"rotateZ",0),L=f(h,"zIsUp",!0),F=f(h,"isOrtho",d?d.dirtyCache[11]:!1),I=f(h,"colors",[16777215]),N=f(h,"alphas",[1]),z=f(h,"tile",!1),W=f(h,"flipY",!1),$=f(h,"width",null),Z={faces:[],verts:[]};if(n.set(S,C,P),s.set(A,R,M),u.fromRotationXYTranslation(s,n,L),!v&&d)v=d.texture;else if(d&&typeof v=="string")v=d.scene.sys.textures.get(v);else return Z;var D=v.get(c);!$&&F&&v&&d&&(m=D.width/d.height,g=D.height/d.height);var O=m/2,B=g/2,G=Math.floor(y),Y=Math.floor(E),V=G+1,b=Y+1,H=m/G,j=g/Y,q=[],et=[],ot,K,Q=0,tt=1,nt=0,ut=1;D&&(Q=D.u0,tt=D.u1,W?(nt=D.v1,ut=D.v0):(nt=D.v0,ut=D.v1));var pt=tt-Q,vt=ut-nt;for(K=0;K<b;K++){var at=K*j-B;for(ot=0;ot<V;ot++){var yt=ot*H-O;et.push(yt,-at);var lt=Q+pt*(ot/G),Tt=nt+vt*(K/Y);q.push(lt,Tt)}}Array.isArray(I)||(I=[I]),Array.isArray(N)||(N=[N]);var Pt=0,Lt=0;for(K=0;K<Y;K++)for(ot=0;ot<G;ot++){var At=(ot+V*K)*2,Mt=(ot+V*(K+1))*2,Bt=(ot+1+V*(K+1))*2,It=(ot+1+V*K)*2,Yt=I[Lt],ie=N[Pt],ae=new a(et[At],et[At+1],0,q[At],q[At+1],Yt,ie).transformMat4(u),Le=new a(et[Mt],et[Mt+1],0,q[Mt],q[Mt+1],Yt,ie).transformMat4(u),Wt=new a(et[It],et[It+1],0,q[It],q[It+1],Yt,ie).transformMat4(u),Me=new a(et[Mt],et[Mt+1],0,q[Mt],q[Mt+1],Yt,ie).transformMat4(u),ve=new a(et[Bt],et[Bt+1],0,q[Bt],q[Bt+1],Yt,ie).transformMat4(u),Xt=new a(et[It],et[It+1],0,q[It],q[It+1],Yt,ie).transformMat4(u);z&&(ae.setUVs(Q,ut),Le.setUVs(Q,nt),Wt.setUVs(tt,ut),Me.setUVs(Q,nt),ve.setUVs(tt,nt),Xt.setUVs(tt,ut)),Lt++,Lt===I.length&&(Lt=0),Pt++,Pt===N.length&&(Pt=0),Z.verts.push(ae,Le,Wt,Me,ve,Xt),Z.faces.push(new e(ae,Le,Wt),new e(Me,ve,Xt))}return d&&(d.faces=d.faces.concat(Z.faces),d.vertices=d.vertices.concat(Z.verts)),Z};l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){var a,n;if(i===void 0&&r===void 0){var s=e.getInCenter();a=s.x,n=s.y}var u=Math.cos(f),o=Math.sin(f),h=e.vertex1,d=e.vertex2,v=e.vertex3,c=h.x-a,m=h.y-n;h.set(c*u-m*o+a,c*o+m*u+n),c=d.x-a,m=d.y-n,d.set(c*u-m*o+a,c*o+m*u+n),c=v.x-a,m=v.y-n,v.set(c*u-m*o+a,c*o+m*u+n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i){return new e(i.x,i.y)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x,e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x===f.x&&e.y===f.y};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){if(r===void 0&&(r=new e),!Array.isArray(i))throw new Error("GetCentroid points argument must be an array");var a=i.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)r.x=i[0].x,r.y=i[0].y;else{for(var n=0;n<a;n++)r.x+=i[n].x,r.y+=i[n].y;r.x/=a,r.y/=a}return r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r){r===void 0&&(r=new e);for(var a=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,o=0;o<i.length;o++){var h=i[o];h.x>a&&(a=h.x),h.x<n&&(n=h.x),h.y>s&&(s=h.y),h.y<u&&(u=h.y)}return r.x=n,r.y=u,r.width=a-n,r.height=s-u,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a,n){return a===void 0&&(a=0),n===void 0&&(n=new e),n.x=i.x+(r.x-i.x)*a,n.y=i.y+(r.y-i.y)*a,n};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.setTo(-i.x,-i.y)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(501),i=function(r,a,n){n===void 0&&(n=new e);var s=r.x*a.x+r.y*a.y,u=s/f(a);return u!==0&&(n.x=u*a.x,n.y=u*a.y),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r,a){a===void 0&&(a=new e);var n=i.x*r.x+i.y*r.y;return n!==0&&(a.x=n*r.x,a.y=n*r.y),a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),f=function(i,r){if(i.x!==0||i.y!==0){var a=e(i);i.x/=a,i.y/=a}return i.x*=r,i.y*=r,i};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),f=function(i){return new e(i.points)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),f=function(i,r){return e(i,r.x,r.y)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=[]);for(var i=0;i<e.points.length;i++)f.push(e.points[i].x),f.push(e.points[i].y);return f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};l.exports=t},function(l,x){function t(n,s){var u=n.x-s.x,o=n.y-s.y;return u*u+o*o}function e(n,s,u){var o=s.x,h=s.y,d=u.x-o,v=u.y-h;if(d!==0||v!==0){var c=((n.x-o)*d+(n.y-h)*v)/(d*d+v*v);c>1?(o=u.x,h=u.y):c>0&&(o+=d*c,h+=v*c)}return d=n.x-o,v=n.y-h,d*d+v*v}function f(n,s){for(var u=n[0],o=[u],h,d=1,v=n.length;d<v;d++)h=n[d],t(h,u)>s&&(o.push(h),u=h);return u!==h&&o.push(h),o}function i(n,s,u,o,h){for(var d=o,v,c=s+1;c<u;c++){var m=e(n[c],n[s],n[u]);m>d&&(v=c,d=m)}d>o&&(v-s>1&&i(n,s,v,o,h),h.push(n[v]),u-v>1&&i(n,v,u,o,h))}function r(n,s){var u=n.length-1,o=[n[0]];return i(n,0,u,s,o),o.push(n[u]),o}var a=function(n,s,u){s===void 0&&(s=1),u===void 0&&(u=!1);var o=n.points;if(o.length>2){var h=s*s;u||(o=f(o,h)),n.setTo(r(o,h))}return n};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){for(var r=e.points,a=0;a<r.length;a++)r[a].x+=f,r[a].y+=i;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i){return new e(i.x,i.y,i.width,i.height)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),f=function(i,r){return e(i,r.x,r.y)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),f=function(i,r){var a=e(i);return a<e(r)?i.setSize(r.height*a,r.height):i.setSize(r.width,r.width/a),i.setPosition(r.centerX-i.width/2,r.centerY-i.height/2)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),f=function(i,r){var a=e(i);return a>e(r)?i.setSize(r.height*a,r.height):i.setSize(r.width,r.width/a),i.setPosition(r.centerX-i.width/2,r.centerY-i.height/2)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};l.exports=t},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=function(i,r,a,n,s){return s===void 0&&(s=new e),s.setTo(Math.min(i,a),Math.min(r,n),Math.abs(i-a),Math.abs(r-n))};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.x=i.centerX,r.y=i.centerY,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=function(i,r){return r===void 0&&(r=new e),r.x=i.width,r.y=i.height,r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),f=function(i,r,a){var n=i.centerX,s=i.centerY;return i.setSize(i.width+r*2,i.height+a*2),e(i,n,s)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),f=t(152),i=function(r,a,n){return n===void 0&&(n=new e),f(r,a)?(n.x=Math.max(r.x,a.x),n.y=Math.max(r.y,a.y),n.width=Math.min(r.right,a.right)-n.x,n.height=Math.min(r.bottom,a.bottom)-n.y):n.setEmpty(),n};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){for(var i=e.x,r=e.right,a=e.y,n=e.bottom,s=0;s<f.length;s++)i=Math.min(i,f[s].x),r=Math.max(r,f[s].x),a=Math.min(a,f[s].y),n=Math.max(n,f[s].y);return e.x=i,e.y=a,e.width=r-i,e.height=n-a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){var i=Math.min(e.x,f.x),r=Math.max(e.right,f.right);e.x=i,e.width=r-i;var a=Math.min(e.y,f.y),n=Math.max(e.bottom,f.bottom);return e.y=a,e.height=n-a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){var r=Math.min(e.x,f),a=Math.max(e.right,f);e.x=r,e.width=a-r;var n=Math.min(e.y,i),s=Math.max(e.bottom,i);return e.y=n,e.height=s-n,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return e.x+=f,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x+=f.x,e.y+=f.y,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x<f.right&&e.right>f.x&&e.y<f.bottom&&e.bottom>f.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),f=t(36),i=function(r,a,n){n===void 0&&(n=new e),a=f(a);var s=Math.sin(a),u=Math.cos(a),o=u>0?r.width/2:r.width/-2,h=s>0?r.height/2:r.height/-2;return Math.abs(o*s)<Math.abs(h*u)?h=o*s/u:o=h*u/s,n.x=o+r.centerX,n.y=h+r.centerY,n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),f=t(503),i=t(4),r=function(a,n,s){if(s===void 0&&(s=new i),f(a,n))switch(e(0,3)){case 0:s.x=a.x+Math.random()*(n.right-a.x),s.y=a.y+Math.random()*(n.top-a.y);break;case 1:s.x=n.x+Math.random()*(a.right-n.x),s.y=n.bottom+Math.random()*(a.bottom-n.bottom);break;case 2:s.x=a.x+Math.random()*(n.x-a.x),s.y=n.y+Math.random()*(a.bottom-n.y);break;case 3:s.x=n.right+Math.random()*(a.right-n.right),s.y=a.y+Math.random()*(n.bottom-a.y);break}return s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.width===f.width&&e.height===f.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i){return i===void 0&&(i=f),e.width*=f,e.height*=i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var f=e.x1,i=e.y1,r=e.x2,a=e.y2,n=e.x3,s=e.y3;return Math.abs(((n-f)*(a-i)-(r-f)*(s-i))/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),f=function(i,r,a){var n=a*(Math.sqrt(3)/2),s=i,u=r,o=i+a/2,h=r+n,d=i-a/2,v=r+n;return new e(s,u,o,h,d,v)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),f=t(82),i=function(r,a,n,s,u){a===void 0&&(a=null),n===void 0&&(n=1),s===void 0&&(s=1),u===void 0&&(u=[]);for(var o=e(r,a),h,d,v,c,m,g,y,E,S,C=0;C<o.length;C+=3)h=o[C],d=o[C+1],v=o[C+2],c=r[h*2]*n,m=r[h*2+1]*s,g=r[d*2]*n,y=r[d*2+1]*s,E=r[v*2]*n,S=r[v*2+1]*s,u.push(new f(c,m,g,y,E,S));return u};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),f=function(i,r,a,n){n===void 0&&(n=a);var s=i,u=r,o=i,h=r-n,d=i+a,v=r;return new e(s,u,o,h,d,v)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),f=t(505),i=function(r,a,n,s){s===void 0&&(s=e);var u=s(r),o=a-u.x,h=n-u.y;return f(r,o,h)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function f(r,a,n,s){return r*s-a*n}var i=function(r,a){a===void 0&&(a=new e);var n=r.x3,s=r.y3,u=r.x1-n,o=r.y1-s,h=r.x2-n,d=r.y2-s,v=2*f(u,o,h,d),c=f(o,u*u+o*o,d,h*h+d*d),m=f(u,u*u+o*o,h,h*h+d*d);return a.x=n-c/v,a.y=s+m/v,a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),f=function(i,r){r===void 0&&(r=new e);var a=i.x1,n=i.y1,s=i.x2,u=i.y2,o=i.x3,h=i.y3,d=s-a,v=u-n,c=o-a,m=h-n,g=d*(a+s)+v*(n+u),y=c*(a+o)+m*(n+h),E=2*(d*(h-u)-v*(o-s)),S,C;if(Math.abs(E)<1e-6){var P=Math.min(a,s,o),A=Math.min(n,u,h);S=(Math.max(a,s,o)-P)*.5,C=(Math.max(n,u,h)-A)*.5,r.x=P+S,r.y=A+C,r.radius=Math.sqrt(S*S+C*C)}else r.x=(m*g-v*y)/E,r.y=(d*y-c*g)/E,S=r.x-a,C=r.y-n,r.radius=Math.sqrt(S*S+C*C);return r};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),f=function(i){return new e(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),f=function(i,r){return e(i,r.x,r.y)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.x1===f.x1&&e.y1===f.y1&&e.x2===f.x2&&e.y2===f.y2&&e.x3===f.x3&&e.y3===f.y3};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),f=function(i){var r=i.getLineA(),a=i.getLineB(),n=i.getLineC();return e(r)+e(a)+e(n)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),f=t(506),i=function(r,a){var n=f(r);return e(r,n.x,n.y,a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),f=function(i,r,a){return e(i,r.x,r.y,a)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),f=t(17),i={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="connected"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="disconnected"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(239),r=t(511),a=t(6),n=t(153),s=t(51),u=new e({Extends:f,initialize:function(h){f.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(s.BOOT,this.boot,this),h.pluginEvents.on(s.START,this.start,this)},boot:function(){var o=this.scene.sys.game,h=this.settings.input,d=o.config;this.enabled=a(h,"gamepad",d.inputGamepad)&&o.device.input.gamepads,this.target=a(h,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var o=this,h=this.target,d=function(v){v.defaultPrevented||!o.isActive()||(o.refreshPads(),o.queue.push(v))};this.onGamepadHandler=d,h.addEventListener("gamepadconnected",d,!1),h.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].removeAllListeners()},disconnectAll:function(){for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].pad.connected=!1},refreshPads:function(){var o=navigator.getGamepads();if(!o)this.disconnectAll();else for(var h=this.gamepads,d=0;d<o.length;d++){var v=o[d];if(v){var c=v.id,m=v.index,g=h[m];if(g)g.id!==c?(g.destroy(),h[m]=new r(this,v)):g.update(v);else{var y=new r(this,v);h[m]=y,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=y):this._pad3=y:this._pad2=y:this._pad1=y}}}},getAll:function(){for(var o=[],h=this.gamepads,d=0;d<h.length;d++)h[d]&&o.push(h[d]);return o},getPad:function(o){for(var h=this.gamepads,d=0;d<h.length;d++)if(h[d]&&h[d].index===o)return h[d]},update:function(){if(this.enabled){this.refreshPads();var o=this.queue.length;if(o!==0)for(var h=this.queue.splice(0,o),d=0;d<o;d++){var v=h[d],c=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(i.CONNECTED,c,v):v.type==="gamepaddisconnected"&&this.emit(i.DISCONNECTED,c,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var o=0;o<this.gamepads.length;o++)this.gamepads[o]&&this.gamepads[o].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),f=t(66),i=t(0),r=t(203),a=t(508),n=t(507),s=t(50),u=t(111),o=t(112),h=t(51),d=t(9),v=t(2),c=t(56),m=t(153),g=t(7),y=t(24),E=t(10),S=t(57),C=t(20),P=t(82),A=t(115),R=new i({Extends:d,initialize:function(L){d.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var F={cancelled:!1};this._eventContainer={stopPropagation:function(){F.cancelled=!0}},this._eventData=F,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var M=this.systems.events;M.on(C.TRANSITION_START,this.transitionIn,this),M.on(C.TRANSITION_OUT,this.transitionOut,this),M.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),M.on(C.PRE_UPDATE,this.preUpdate,this),M.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(M){this.isActive()&&this.emit(h.GAME_OVER,M.timeStamp,M)},onGameOut:function(M){this.isActive()&&this.emit(h.GAME_OUT,M.timeStamp,M)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var M=this._pendingRemoval,L=this._pendingInsertion,F=M.length,I=L.length;if(!(F===0&&I===0)){for(var N=this._list,z=0;z<F;z++){var W=M[z],$=N.indexOf(W);$>-1&&(N.splice($,1),this.clear(W,!0))}M.length=0,this._pendingRemoval.length=0,this._list=N.concat(L.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(M,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,M,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var F,I=this.manager,N=I.pointers,z=I.pointersTotal;for(F=0;F<z;F++)N[F].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(F=0;F<z;F++){var Z=0,D=N[F];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Z+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,M),Z>0&&($=!0)}return $},update:function(M,L){if(!this.isActive())return!1;for(var F=L.length,I=!1,N=0;N<F;N++){var z=0,W=L[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),M){case r.MOUSE_DOWN:z+=this.processDragDownEvent(W),z+=this.processDownEvents(W),z+=this.processOverOutEvents(W);break;case r.MOUSE_UP:z+=this.processDragUpEvent(W),z+=this.processUpEvents(W),z+=this.processOverOutEvents(W);break;case r.TOUCH_START:z+=this.processDragDownEvent(W),z+=this.processDownEvents(W),z+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:z+=this.processDragUpEvent(W),z+=this.processUpEvents(W),z+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:z+=this.processDragMoveEvent(W),z+=this.processMoveEvents(W),z+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:z+=this.processWheelEvent(W);break}z>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(M,L){L===void 0&&(L=!1);var F=M.input;if(F){L||this.queueForRemoval(M),F.gameObject=void 0,F.target=void 0,F.hitArea=void 0,F.hitAreaCallback=void 0,F.callbackContext=void 0,M.input=null;var I=this._draggable.indexOf(M);return I>-1&&this._draggable.splice(I,1),I=this._drag[0].indexOf(M),I>-1&&this._drag[0].splice(I,1),I=this._over[0].indexOf(M),I>-1&&(this._over[0].splice(I,1),this.manager.resetCursor(F)),M}},disable:function(M){M.input.enabled=!1},enable:function(M,L,F,I){return I===void 0&&(I=!1),M.input?M.input.enabled=!0:this.setHitArea(M,L,F),M.input&&I&&!M.input.dropZone&&(M.input.dropZone=I),this},hitTestPointer:function(M){for(var L=this.cameras.getCamerasBelowPointer(M),F=0;F<L.length;F++){for(var I=L[F],N=this.manager.hitTest(M,this._list,I),z=0;z<N.length;z++){var W=N[z];W.input.dropZone&&this._tempZones.push(W)}if(N.length>0)return M.camera=I,N}return M.camera=L[0],[]},processDownEvents:function(M){var L=0,F=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var z=!1,W=0;W<F.length;W++){var $=F[W];if($.input){if(L++,$.emit(h.GAMEOBJECT_POINTER_DOWN,M,$.input.localX,$.input.localY,N),I.cancelled||!$.input){z=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,M,$,N),I.cancelled||!$.input){z=!0;break}}}return!z&&this.manager&&(M.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,M,F):this.emit(h.POINTER_DOWN_OUTSIDE,M)),L},getDragState:function(M){return this._dragState[M.id]},setDragState:function(M,L){this._dragState[M.id]=L},processDragThresholdEvent:function(M,L){var F=!1,I=this.dragTimeThreshold,N=this.dragDistanceThreshold;if((N>0&&s(M.x,M.y,M.downX,M.downY)>=N||I>0&&L>=M.downTime+I)&&(F=!0),F)return this.setDragState(M,3),this.processDragStartList(M)},processDragStartList:function(M){if(this.getDragState(M)!==3)return 0;for(var L=this._drag[M.id],F=0;F<L.length;F++){var I=L[F],N=I.input;N.dragState=2,N.dragStartX=I.x,N.dragStartY=I.y,N.dragStartXGlobal=M.worldX,N.dragStartYGlobal=M.worldY,N.dragX=N.dragStartXGlobal-N.dragStartX,N.dragY=N.dragStartYGlobal-N.dragStartY,I.emit(h.GAMEOBJECT_DRAG_START,M,N.dragX,N.dragY),this.emit(h.DRAG_START,M,I)}return this.setDragState(M,4),L.length},processDragDownEvent:function(M){var L=this._temp;if(this._draggable.length===0||L.length===0||!M.primaryDown||this.getDragState(M)!==0)return 0;this.setDragState(M,1);for(var F=[],I=0;I<L.length;I++){var N=L[I];N.input.draggable&&N.input.dragState===0&&F.push(N)}return F.length===0?(this.setDragState(M,0),0):(F.length>1&&(this.sortGameObjects(F,M),this.topOnly&&F.splice(1)),this._drag[M.id]=F,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(M,3),this.processDragStartList(M)):(this.setDragState(M,2),0))},processDragMoveEvent:function(M){if(this.getDragState(M)===2&&this.processDragThresholdEvent(M,this.manager.game.loop.now),this.getDragState(M)!==4)return 0;for(var L=this._tempZones,F=this._drag[M.id],I=0;I<F.length;I++){var N=F[I],z=N.input,W=z.target;if(W){var $=L.indexOf(W);$===0?(N.emit(h.GAMEOBJECT_DRAG_OVER,M,W),this.emit(h.DRAG_OVER,M,N,W)):$>0?(N.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,N,W),z.target=L[0],W=z.target,N.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,N,W)):(N.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,N,W),L[0]?(z.target=L[0],W=z.target,N.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,N,W)):z.target=null)}else!W&&L[0]&&(z.target=L[0],W=z.target,N.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,N,W));var Z,D;if(!N.parentContainer)Z=M.worldX-z.dragX,D=M.worldY-z.dragY;else{var O=M.worldX-z.dragStartXGlobal,B=M.worldY-z.dragStartYGlobal,G=N.getParentRotation(),Y=O*Math.cos(G)+B*Math.sin(G),V=B*Math.cos(G)-O*Math.sin(G);Y*=1/N.parentContainer.scaleX,V*=1/N.parentContainer.scaleY,Z=Y+z.dragStartX,D=V+z.dragStartY}N.emit(h.GAMEOBJECT_DRAG,M,Z,D),this.emit(h.DRAG,M,N,Z,D)}return F.length},processDragUpEvent:function(M){for(var L=this._drag[M.id],F=0;F<L.length;F++){var I=L[F],N=I.input;if(N&&N.dragState===2){N.dragState=0,N.dragX=N.localX-I.displayOriginX,N.dragY=N.localY-I.displayOriginY;var z=!1,W=N.target;W&&(I.emit(h.GAMEOBJECT_DROP,M,W),this.emit(h.DROP,M,I,W),N.target=null,z=!0),I.input&&(I.emit(h.GAMEOBJECT_DRAG_END,M,N.dragX,N.dragY,z),this.emit(h.DRAG_END,M,I,z))}}return this.setDragState(M,0),L.splice(0),0},processMoveEvents:function(M){var L=0,F=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var z=!1,W=0;W<F.length;W++){var $=F[W];if($.input){if(L++,$.emit(h.GAMEOBJECT_POINTER_MOVE,M,$.input.localX,$.input.localY,N),I.cancelled||!$.input){z=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,M,$,N),I.cancelled||!$.input){z=!0;break}if(this.topOnly)break}}return z||this.emit(h.POINTER_MOVE,M,F),L},processWheelEvent:function(M){var L=0,F=this._temp,I=this._eventData,N=this._eventContainer;I.cancelled=!1;for(var z=!1,W=M.deltaX,$=M.deltaY,Z=M.deltaZ,D=0;D<F.length;D++){var O=F[D];if(O.input){if(L++,O.emit(h.GAMEOBJECT_POINTER_WHEEL,M,W,$,Z,N),I.cancelled||!O.input){z=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,M,O,W,$,Z,N),I.cancelled||!O.input){z=!0;break}}}return z||this.emit(h.POINTER_WHEEL,M,F,W,$,Z),L},processOverEvents:function(M){var L=this._temp,F=0,I=L.length,N=[];if(I>0){var z=this.manager,W=this._eventData,$=this._eventContainer;W.cancelled=!1;for(var Z=!1,D=0;D<I;D++){var O=L[D];if(O.input){if(N.push(O),z.setCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OVER,M,O.input.localX,O.input.localY,$),F++,W.cancelled||!O.input){Z=!0;break}if(this.emit(h.GAMEOBJECT_OVER,M,O,$),W.cancelled||!O.input){Z=!0;break}}}Z||this.emit(h.POINTER_OVER,M,N)}return this._over[M.id]=N,F},processOutEvents:function(M){var L=this._over[M.id],F=0,I=L.length;if(I>0){var N=this.manager,z=this._eventData,W=this._eventContainer;z.cancelled=!1;var $=!1;this.sortGameObjects(L,M);for(var Z=0;Z<I;Z++){var D=L[Z];if(D=L[Z],!!D.input){if(N.resetCursor(D.input),D.emit(h.GAMEOBJECT_POINTER_OUT,M,W),F++,z.cancelled||!D.input){$=!0;break}if(this.emit(h.GAMEOBJECT_OUT,M,D,W),z.cancelled||!D.input){$=!0;break}$||this.emit(h.POINTER_OUT,M,L)}}this._over[M.id]=[]}return F},processOverOutEvents:function(M){var L=this._temp,F,I,N=[],z=[],W=[],$=this._over[M.id],Z=this._drag[M.id],D=this.manager;for(F=0;F<$.length;F++)I=$[F],L.indexOf(I)===-1&&Z.indexOf(I)===-1?N.push(I):W.push(I);for(F=0;F<L.length;F++)I=L[F],$.indexOf(I)===-1&&z.push(I);var O=N.length,B=0,G=this._eventData,Y=this._eventContainer;G.cancelled=!1;var V=!1;if(O>0){for(this.sortGameObjects(N,M),F=0;F<O;F++)if(I=N[F],!!I.input){if(D.resetCursor(I.input),I.emit(h.GAMEOBJECT_POINTER_OUT,M,Y),B++,G.cancelled||!I.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OUT,M,I,Y),G.cancelled||!I.input){V=!0;break}}V||this.emit(h.POINTER_OUT,M,N)}if(O=z.length,G.cancelled=!1,V=!1,O>0){for(this.sortGameObjects(z,M),F=0;F<O;F++)if(I=z[F],!!I.input){if(D.setCursor(I.input),I.emit(h.GAMEOBJECT_POINTER_OVER,M,I.input.localX,I.input.localY,Y),B++,G.cancelled||!I.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,M,I,Y),G.cancelled||!I.input){V=!0;break}}V||this.emit(h.POINTER_OVER,M,z)}return $=W.concat(z),this._over[M.id]=this.sortGameObjects($,M),B},processUpEvents:function(M){var L=this._temp,F=this._eventData,I=this._eventContainer;F.cancelled=!1;for(var N=!1,z=0;z<L.length;z++){var W=L[z];if(W.input){if(W.emit(h.GAMEOBJECT_POINTER_UP,M,W.input.localX,W.input.localY,I),F.cancelled||!W.input){N=!0;break}if(this.emit(h.GAMEOBJECT_UP,M,W,I),F.cancelled||!W.input){N=!0;break}}}return!N&&this.manager&&(M.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,M,L):this.emit(h.POINTER_UP_OUTSIDE,M)),L.length},queueForInsertion:function(M){return this._pendingInsertion.indexOf(M)===-1&&this._list.indexOf(M)===-1&&this._pendingInsertion.push(M),this},queueForRemoval:function(M){return this._pendingRemoval.push(M),this},setDraggable:function(M,L){L===void 0&&(L=!0),Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var I=M[F];I.input.draggable=L;var N=this._draggable.indexOf(I);L&&N===-1?this._draggable.push(I):!L&&N>-1&&this._draggable.splice(N,1)}return this},makePixelPerfect:function(M){M===void 0&&(M=1);var L=this.systems.textures;return n(L,M)},setHitArea:function(M,L,F){if(L===void 0)return this.setHitAreaFromTexture(M);Array.isArray(M)||(M=[M]);var I=!1,N=!1,z=!1,W=!1,$=!1,Z=!0;if(g(L)){var D=L;L=v(D,"hitArea",null),F=v(D,"hitAreaCallback",null),I=v(D,"draggable",!1),N=v(D,"dropZone",!1),z=v(D,"cursor",!1),W=v(D,"useHandCursor",!1),$=v(D,"pixelPerfect",!1);var O=v(D,"alphaTolerance",1);$&&(L={},F=this.makePixelPerfect(O)),(!L||!F)&&(this.setHitAreaFromTexture(M),Z=!1)}else typeof L=="function"&&!F&&(F=L,L={});for(var B=0;B<M.length;B++){var G=M[B];if($&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Y=G.input?G.input:a(G,L,F);Y.customHitArea=Z,Y.dropZone=N,Y.cursor=W?"pointer":z,G.input=Y,I&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(M,L,F,I,N){N===void 0&&(N=f);var z=new e(L,F,I);return this.setHitArea(M,z,N)},setHitAreaEllipse:function(M,L,F,I,N,z){z===void 0&&(z=o);var W=new u(L,F,I,N);return this.setHitArea(M,W,z)},setHitAreaFromTexture:function(M,L){L===void 0&&(L=S),Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var I=M[F],N=I.frame,z=0,W=0;if(I.width?(z=I.width,W=I.height):N&&(z=N.realWidth,W=N.realHeight),I.type==="Container"&&(z===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&W!==0&&(I.input=a(I,new E(0,0,z,W),L),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(M,L,F,I,N,z){z===void 0&&(z=S);var W=new E(L,F,I,N);return this.setHitArea(M,W,z)},setHitAreaTriangle:function(M,L,F,I,N,z,W,$){$===void 0&&($=A);var Z=new P(L,F,I,N,z,W);return this.setHitArea(M,Z,$)},enableDebug:function(M,L){L===void 0&&(L=65280);var F=M.input;if(!F||!F.hitArea)return this;var I=F.hitArea,N=I.type,z=F.hitAreaDebug,W=this.systems.add,$=this.systems.updateList;z&&($.remove(z),z.destroy(),z=null);var Z=0,D=0;switch(N){case c.CIRCLE:z=W.arc(0,0,I.radius),Z=I.x-I.radius,D=I.y-I.radius;break;case c.ELLIPSE:z=W.ellipse(0,0,I.width,I.height),Z=I.x-I.width/2,D=I.y-I.height/2;break;case c.LINE:z=W.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case c.POLYGON:z=W.polygon(0,0,I.points);break;case c.RECTANGLE:z=W.rectangle(0,0,I.width,I.height),Z=I.x,D=I.y;break;case c.TRIANGLE:z=W.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return z&&(z.isFilled=!1,z.preUpdate=function(){z.setStrokeStyle(1/M.scale,L),z.setDisplayOrigin(M.displayOriginX,M.displayOriginY);var O=M.x,B=M.y,G=M.rotation,Y=M.scaleX,V=M.scaleY;if(M.parentContainer){var b=M.getWorldTransformMatrix();O=b.tx,B=b.ty,G=b.rotation,Y=b.scaleX,V=b.scaleY}z.setRotation(G),z.setScale(Y,V),z.setPosition(O+Z,B+D),z.setScrollFactor(M.scrollFactorX,M.scrollFactorY),z.setDepth(M.depth)},$.add(z),F.hitAreaDebug=z),this},removeDebug:function(M){var L=M.input;if(L&&L.hitAreaDebug){var F=L.hitAreaDebug;this.systems.updateList.remove(F),F.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(M){return this.pollRate=M,this._pollTimer=0,this},setGlobalTopOnly:function(M){return this.manager.globalTopOnly=M,this},setTopOnly:function(M){return this.topOnly=M,this},sortGameObjects:function(M,L){if(M.length<2)return M;var F=L.camera.renderList;return M.sort(function(I,N){return F.indexOf(N)-F.indexOf(I)})},sortDropZones:function(M){return M.length<2?M:(this.scene.sys.depthSort(),M.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(M,L){if(!M.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(M);if(M.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-M.parentContainer.getIndex(M);if(M.parentContainer===L)return-1;if(L.parentContainer===M)return 1;for(var F=M.getIndexList(),I=L.getIndexList(),N=Math.min(F.length,I.length),z=0;z<N;z++){var W=F[z],$=I[z];if(W!==$)return $-W}return I.length-F.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(M){return this.manager.addPointer(M)},setDefaultCursor:function(M){return this.manager.setDefaultCursor(M),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var M=0;M<10;M++)this._drag[M]=[],this._over[M]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var F=this.systems.events;F.off(C.TRANSITION_START,this.transitionIn,this),F.off(C.TRANSITION_OUT,this.transitionOut,this),F.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),F.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(h.GAME_OUT,this.onGameOut,this),L.events.off(h.GAME_OVER,this.onGameOver,this),F.off(C.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",R,"input"),l.exports=R},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keycombomatch"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(9),i=t(154),r=t(22),a=t(6),n=t(51),s=t(153),u=t(512),o=t(143),h=t(513),d=t(1331),v=t(20),c=t(76),m=new e({Extends:f,initialize:function(y){f.call(this),this.game=y.systems.game,this.scene=y.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=y,this.manager=y.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,y.pluginEvents.once(n.BOOT,this.boot,this),y.pluginEvents.on(n.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=a(g,"keyboard",!0);var y=a(g,"keyboard.capture",null);y&&this.addCaptures(y),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(g,y,E){y===void 0&&(y=!0),E===void 0&&(E=!1);var S={};if(typeof g=="string"){g=g.split(",");for(var C=0;C<g.length;C++){var P=g[C].trim();P&&(S[P]=this.addKey(P,y,E))}}else for(var A in g)S[A]=this.addKey(g[A],y,E);return S},addKey:function(g,y,E){y===void 0&&(y=!0),E===void 0&&(E=!1);var S=this.keys;if(g instanceof u){var C=S.indexOf(g);return C>-1?S[C]=g:S[g.keyCode]=g,y&&this.addCapture(g.keyCode),g.setEmitOnRepeat(E),g}return typeof g=="string"&&(g=o[g.toUpperCase()]),S[g]||(S[g]=new u(this,g),y&&this.addCapture(g),S[g].setEmitOnRepeat(E)),S[g]},removeKey:function(g,y){y===void 0&&(y=!1);var E=this.keys,S;if(g instanceof u){var C=E.indexOf(g);C>-1&&(S=this.keys[C],this.keys[C]=void 0)}else typeof g=="string"&&(g=o[g.toUpperCase()]);return E[g]&&(S=E[g],E[g]=void 0),S&&(S.plugin=null,y&&S.destroy()),this},removeAllKeys:function(g){for(var y=this.keys,E=0;E<y.length;E++){var S=y[E];S&&(y[E]=void 0,g&&S.destroy())}return this},createCombo:function(g,y){return new h(this,g,y)},checkDown:function(g,y){if(y===void 0&&(y=0),this.enabled&&g.isDown){var E=c(this.time-g.timeDown,y);if(E>g._tick)return g._tick=E,!0}return!1},update:function(){var g=this.manager.queue,y=g.length;if(!(!this.isActive()||y===0))for(var E=this.keys,S=0;S<y;S++){var C=g[S],P=C.keyCode,A=E[P],R=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(P===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=P,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(A&&(R=A.isDown,A.onDown(C)),!C.cancelled&&(!A||!R)&&(d[P]&&this.emit(i.KEY_DOWN+d[P],C),C.cancelled||this.emit(i.ANY_KEY_DOWN,C))):(A&&A.onUp(C),C.cancelled||(d[P]&&this.emit(i.KEY_UP+d[P],C),C.cancelled||this.emit(i.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,y=0;y<g.length;y++)g[y]&&g[y].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),f={};for(var i in e)f[e[i]]=i;l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){f===void 0&&(f=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<f};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={MouseManager:t(411)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TouchManager:t(413)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),f=t(17),i={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(61),r=t(95),a=new e({Extends:i,initialize:function(s,u,o,h,d){i.call(this,s,u,o,h,d),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),i.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});f.register("animation",function(n,s,u,o){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new a(this,n[h]));else this.addFile(new a(this,n,s,o,u));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),u=new e({Extends:s,initialize:function(h,d,v,c,m,g){var y,E;if(a(d)){var S=d;d=i(S,"key"),y=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new n(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","json"),xhrSettings:i(S,"atlasXhrSettings")})}else y=new r(h,d,v,m),E=new n(h,d,c,g);y.linkFile?s.call(this,h,"atlasjson",d,[y,E,y.linkFile]):s.call(this,h,"atlasjson",d,[y,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,h.data,d),h.addToCache(),this.complete=!0}}});f.register("aseprite",function(o,h,d,v,c){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new u(this,o[g]),this.addFile(m.files);else m=new u(this,o,h,d,v,c),this.addFile(m.files);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),u=new e({Extends:s,initialize:function(h,d,v,c,m,g){var y,E;if(a(d)){var S=d;d=i(S,"key"),y=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new n(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","json"),xhrSettings:i(S,"atlasXhrSettings")})}else y=new r(h,d,v,m),E=new n(h,d,c,g);y.linkFile?s.call(this,h,"atlasjson",d,[y,E,y.linkFile]):s.call(this,h,"atlasjson",d,[y,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});f.register("atlas",function(o,h,d,v,c){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new u(this,o[g]),this.addFile(m.files);else m=new u(this,o,h,d,v,c),this.addFile(m.files);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(241),u=new e({Extends:n,initialize:function(h,d,v,c,m,g){var y,E;if(a(d)){var S=d;d=i(S,"key"),y=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new s(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","xml"),xhrSettings:i(S,"atlasXhrSettings")})}else y=new r(h,d,v,m),E=new s(h,d,c,g);y.linkFile?n.call(this,h,"atlasxml",d,[y,E,y.linkFile]):n.call(this,h,"atlasxml",d,[y,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});f.register("atlasXML",function(o,h,d,v,c){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new u(this,o[g]),this.addFile(m.files);else m=new u(this,o,h,d,v,c),this.addFile(m.files);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),f=t(0),i=t(8),r=t(2),a=t(7),n=t(61),s=t(49),u=new f({Extends:s,initialize:function(h,d,v,c,m,g,y){if(a(d)){var E=d;d=r(E,"key"),v=r(E,"jsonURL"),c=r(E,"audioURL"),m=r(E,"audioConfig"),g=r(E,"audioXhrSettings"),y=r(E,"jsonXhrSettings")}var S;if(!c)S=new n(h,d,v,y),s.call(this,h,"audiosprite",d,[S]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=g;else{var C=e.create(h,d,c,m,g);C&&(S=new n(h,d,v,y),s.call(this,h,"audiosprite",d,[C,S]),this.config.resourceLoad=!1)}},onFileComplete:function(o){var h=this.files.indexOf(o);if(h!==-1&&(this.pending--,this.config.resourceLoad&&o.type==="json"&&o.data.hasOwnProperty("resources"))){var d=o.data.resources,v=r(this.config,"audioConfig"),c=r(this.config,"audioXhrSettings"),m=e.create(this.loader,o.key,d,v,c);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1];o.addToCache(),h.addToCache(),this.complete=!0}}});i.register("audioSprite",function(o,h,d,v,c,m){var g=this.systems.game,y=g.config.audio,E=g.device.audio;if(y&&y.noAudio||!E.webAudio&&!E.audioData)return this;var S;if(Array.isArray(o))for(var C=0;C<o.length;C++)S=new u(this,o[C]),S.files&&this.addFile(S.files);else S=new u(this,o,h,d,v,c,m),S.files&&this.addFile(S.files);return this})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c){var m="bin";if(n(h)){var g=h;h=a(g,"key"),d=a(g,"url"),v=a(g,"xhrSettings"),m=a(g,"extension",m),c=a(g,"dataType",c)}var y={type:"binary",cache:o.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:d,xhrSettings:v,config:{dataType:c}};i.call(this,o,y)},onProcess:function(){this.state=f.FILE_PROCESSING;var u=this.config.dataType;this.data=u?new u(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(u,o,h,d){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new s(this,u[v]));else this.addFile(new s(this,u,o,d,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(212),u=t(241),o=new e({Extends:n,initialize:function(d,v,c,m,g,y){var E,S;if(a(v)){var C=v;v=i(C,"key"),E=new r(d,{key:v,url:i(C,"textureURL"),extension:i(C,"textureExtension","png"),normalMap:i(C,"normalMap"),xhrSettings:i(C,"textureXhrSettings")}),S=new u(d,{key:v,url:i(C,"fontDataURL"),extension:i(C,"fontDataExtension","xml"),xhrSettings:i(C,"fontDataXhrSettings")})}else E=new r(d,v,c,g),S=new u(d,v,m,y);E.linkFile?n.call(this,d,"bitmapfont",v,[E,S,E.linkFile]):n.call(this,d,"bitmapfont",v,[E,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],d=this.files[1];h.addToCache(),d.pendingDestroy();var v=h.cache.get(h.key),c=s(d.data,h.cache.getFrame(h.key),0,0,v);this.loader.cacheManager.bitmapFont.add(h.key,{data:c,texture:h.key,frame:null}),this.complete=!0}}});f.register("bitmapFont",function(h,d,v,c,m){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new o(this,h[y]),this.addFile(g.files);else g=new o(this,h,d,v,c,m),this.addFile(g.files);return this}),l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="css";if(n(h)){var m=h;h=a(m,"key"),d=a(m,"url"),v=a(m,"xhrSettings"),c=a(m,"extension",c)}var g={type:"script",cache:!1,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(396),u=new e({Extends:i,initialize:function(h,d,v,c,m){var g="glsl";if(n(d)){var y=d;d=a(y,"key"),v=a(y,"url"),c=a(y,"shaderType","fragment"),m=a(y,"xhrSettings"),g=a(y,"extension",g)}else c===void 0&&(c="fragment");var E={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:d,url:v,config:{shaderType:c},xhrSettings:m};i.call(this,h,E)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.split(`
`),h=this.extractBlock(o,0);if(h)for(;h;){var d=this.getShaderName(h.header),v=this.getShaderType(h.header),c=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(d)){var g=this.cache.get(d);v==="fragment"?g.fragmentSrc=m:g.vertexSrc=m,g.uniforms||(g.uniforms=c)}else v==="fragment"?this.cache.add(d,new s(d,m,"",c)):this.cache.add(d,new s(d,"",m,c));h=this.extractBlock(o,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(o){for(var h=0;h<o.length;h++){var d=o[h].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(o){for(var h=0;h<o.length;h++){var d=o[h].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(o){for(var h={},d=0;d<o.length;d++){var v=o[d].trim();if(v.substring(0,8)==="uniform."){var c=v.indexOf(":");if(c){var m=v.substring(8,c);try{h[m]=JSON.parse(v.substring(c+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(o,h){for(var d=-1,v=-1,c=-1,m=!1,g=!1,y=[],E=[],S=h;S<o.length;S++){var C=o[S].trim();if(C==="---")if(d===-1)d=S,m=!0;else if(m)v=S,m=!1,g=!0;else{g=!1;break}else m?y.push(C):g&&(E.push(C),c=S)}return!m&&v!==-1?{header:y,shader:E.join(`
`),offset:c}:null}});r.register("glsl",function(o,h,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new u(this,o[c]));else this.addFile(new u(this,o,h,d,v));return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="html";if(n(h)){var m=h;h=a(m,"key"),d=a(m,"url"),v=a(m,"xhrSettings"),c=a(m,"extension",c)}var g={type:"text",cache:o.cacheManager.html,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,m){v===void 0&&(v=512),c===void 0&&(c=512);var g="html";if(n(h)){var y=h;h=a(y,"key"),d=a(y,"url"),m=a(y,"xhrSettings"),g=a(y,"extension",g),v=a(y,"width",v),c=a(y,"height",c)}var E={type:"html",cache:o.textureManager,extension:g,responseType:"text",key:h,url:d,xhrSettings:m,config:{width:v,height:c}};i.call(this,o,E)},onProcess:function(){this.state=f.FILE_PROCESSING;var u=this.config.width,o=this.config.height,h=[];h.push('<svg width="'+u+'px" height="'+o+'px" viewBox="0 0 '+u+" "+o+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var d=[h.join(`
`)],v=this;try{var c=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=f.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){i.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(v.data),v.onProcessError()},i.createObjectURL(this.data,c,"image/svg+xml")},addToCache:function(){var u=this.cache.addImage(this.key,this.data);this.pendingDestroy(u)}});r.register("htmlTexture",function(u,o,h,d,v){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new s(this,u[c]));else this.addFile(new s(this,u,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),u=new e({Extends:s,initialize:function(h,d,v,c,m,g,y){if(a(d)){var E=d;d=i(E,"key"),i(E,"url",!1)?v=i(E,"url"):v=i(E,"atlasURL"),g=i(E,"xhrSettings"),c=i(E,"path"),m=i(E,"baseURL"),y=i(E,"textureXhrSettings")}var S=new n(h,d,v,g);s.call(this,h,"multiatlas",d,[S]),this.config.path=c,this.config.baseURL=m,this.config.textureXhrSettings=y},onFileComplete:function(o){var h=this.files.indexOf(o);if(h!==-1&&(this.pending--,o.type==="json"&&o.data.hasOwnProperty("textures"))){var d=o.data.textures,v=this.config,c=this.loader,m=c.baseURL,g=c.path,y=c.prefix,E=i(v,"baseURL",this.baseURL),S=i(v,"path",this.path),C=i(v,"prefix",this.prefix),P=i(v,"textureXhrSettings");c.setBaseURL(E),c.setPath(S),c.setPrefix(C);for(var A=0;A<d.length;A++){var R=d[A].image,M="MA"+this.multiKeyIndex+"_"+R,L=new r(c,M,R,P);if(this.addToMultiFile(L),c.addFile(L),d[A].normalMap){var F=new r(c,M,d[A].normalMap,P);F.type="normalMap",L.setLink(F),this.addToMultiFile(F),c.addFile(F)}}c.setBaseURL(m),c.setPath(g),c.setPrefix(y)}},addToCache:function(){if(this.isReadyToProcess()){for(var o=this.files[0],h=[],d=[],v=[],c=1;c<this.files.length;c++){var m=this.files[c];if(m.type!=="normalMap")for(var g=m.key.indexOf("_"),y=m.key.substr(g+1),E=m.data,S=0;S<o.data.textures.length;S++){var C=o.data.textures[S];if(C.image===y){d.push(E),h.push(C),m.linkFile&&v.push(m.linkFile.data);break}}}for(v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,h,v),this.complete=!0,c=0;c<this.files.length;c++)this.files[c].pendingDestroy()}}});f.register("multiatlas",function(o,h,d,v,c){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new u(this,o[g]),this.addFile(m.files);else m=new u(this,o,h,d,v,c),this.addFile(m.files);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(7),a=t(49),n=t(520),s=new e({Extends:a,initialize:function(o,h,d,v){var c="js",m=[];if(r(h)){var g=h;h=i(g,"key"),d=i(g,"url"),v=i(g,"xhrSettings"),c=i(g,"extension",c)}Array.isArray(d)||(d=[d]);for(var y=0;y<d.length;y++){var E=new n(o,{key:h+"_"+y.toString(),url:d[y],extension:c,xhrSettings:v});E.onProcess=function(){this.onProcessComplete()},m.push(E)}a.call(this,o,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var u=0;u<this.files.length;u++){var o=this.files[u];o.data=document.createElement("script"),o.data.language="javascript",o.data.type="text/javascript",o.data.defer=!1,o.data.text=o.xhrLoader.responseText,document.head.appendChild(o.data)}this.complete=!0}}});f.register("scripts",function(u,o,h){var d;if(Array.isArray(u))for(var v=0;v<u.length;v++)d=new s(this,u[v]),this.addFile(d.files);else d=new s(this,u,o,h),this.addFile(d.files);return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(7),a=t(49),n=t(498),s=t(499),u=t(242),o=new e({Extends:a,initialize:function(d,v,c,m,g,y){var E,S,C=d.cacheManager.obj;if(r(v)){var P=v;v=i(P,"key"),E=new u(d,{key:v,type:"obj",cache:C,url:i(P,"url"),extension:i(P,"extension","obj"),xhrSettings:i(P,"xhrSettings"),config:{flipUV:i(P,"flipUV",g)}}),m=i(P,"matURL"),m&&(S=new u(d,{key:v,type:"mat",cache:C,url:m,extension:i(P,"matExtension","mat"),xhrSettings:i(P,"xhrSettings")}))}else E=new u(d,{key:v,url:c,type:"obj",cache:C,extension:"obj",xhrSettings:y,config:{flipUV:g}}),m&&(S=new u(d,{key:v,url:m,type:"mat",cache:C,extension:"mat",xhrSettings:y}));a.call(this,d,"obj",v,[E,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],d=this.files[1],v=n(h.data,h.config.flipUV);d&&(v.materials=s(d.data)),h.cache.add(h.key,v),this.complete=!0}}});f.register("obj",function(h,d,v,c,m){var g;if(Array.isArray(h))for(var y=0;y<h.length;y++)g=new o(this,h[y]),this.addFile(g.files);else g=new o(this,h,d,v,c,m),this.addFile(g.files);return this}),l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(8),r=t(61),a=new e({Extends:r,initialize:function(s,u,o,h,d){r.call(this,s,u,o,h,d),this.type="packfile"},onProcess:function(){this.state!==f.FILE_POPULATED&&(this.state=f.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});i.register("pack",function(n,s,u,o){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new a(this,n[h]));else this.addFile(new a(this,n,s,o,u));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,m){var g="js";if(n(h)){var y=h;h=a(y,"key"),d=a(y,"url"),m=a(y,"xhrSettings"),g=a(y,"extension",g),v=a(y,"start"),c=a(y,"mapping")}var E={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:d,xhrSettings:m,config:{start:v,mapping:c}};i.call(this,o,E),typeof d=="function"&&(this.data=d,this.state=f.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,o=this.config,h=a(o,"start",!1),d=a(o,"mapping",null);if(this.state===f.FILE_POPULATED)u.install(this.key,this.data,h,d);else{this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=u.install(this.key,window[this.key],h,d);(h||d)&&(this.loader.systems[d]=v,this.loader.scene[d]=v)}this.onProcessComplete()}});r.register("plugin",function(u,o,h,d,v){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new s(this,u[c]));else this.addFile(new s(this,u,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="js";if(n(h)){var m=h;h=a(m,"key"),d=a(m,"url"),v=a(m,"xhrSettings"),c=a(m,"extension",c)}var g={type:"text",extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),o=eval;this.loader.sceneManager.add(this.key,o(u)),this.complete=!0}});r.register("sceneFile",function(u,o,h){if(Array.isArray(u))for(var d=0;d<u.length;d++)this.addFile(new s(this,u[d]));else this.addFile(new s(this,u,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,m){var g="js";if(n(h)){var y=h;h=a(y,"key"),d=a(y,"url"),m=a(y,"xhrSettings"),g=a(y,"extension",g),v=a(y,"systemKey"),c=a(y,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:d,xhrSettings:m,config:{systemKey:v,sceneKey:c}};i.call(this,o,E),typeof d=="function"&&(this.data=d,this.state=f.FILE_POPULATED)},onProcess:function(){var u=this.loader.systems.plugins,o=this.config,h=this.key,d=a(o,"systemKey",h),v=a(o,"sceneKey",h);this.state===f.FILE_POPULATED?u.installScenePlugin(d,this.data,v,this.loader.scene,!0):(this.state=f.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),u.installScenePlugin(d,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(u,o,h,d,v){if(Array.isArray(u))for(var c=0;c<u.length;c++)this.addFile(new s(this,u[c]));else this.addFile(new s(this,u,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(71),r=new e({Extends:i,initialize:function(n,s,u,o,h){i.call(this,n,s,u,h,o),this.type="spritesheet"},addToCache:function(){var a=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(a)}});f.register("spritesheet",function(a,n,s,u){if(Array.isArray(a))for(var o=0;o<a.length;o++)this.addFile(new r(this,a[o]));else this.addFile(new r(this,a,n,s,u));return this}),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c){var m="svg";if(n(h)){var g=h;h=a(g,"key"),d=a(g,"url"),v=a(g,"svgConfig",{}),c=a(g,"xhrSettings"),m=a(g,"extension",m)}var y={type:"svg",cache:o.textureManager,extension:m,responseType:"text",key:h,url:d,xhrSettings:c,config:{width:a(v,"width"),height:a(v,"height"),scale:a(v,"scale")}};i.call(this,o,y)},onProcess:function(){this.state=f.FILE_PROCESSING;var u=this.xhrLoader.responseText,o=[u],h=this.config.width,d=this.config.height,v=this.config.scale;t:if(h&&d||v){var c=null,m=new DOMParser;c=m.parseFromString(u,"text/xml");var g=c.getElementsByTagName("svg")[0],y=g.hasAttribute("viewBox"),E=parseFloat(g.getAttribute("width")),S=parseFloat(g.getAttribute("height"));if(!y&&E&&S)g.setAttribute("viewBox","0  0 "+E+" "+S);else if(y&&!E&&!S){var C=g.getAttribute("viewBox").split(/\s+|,/);E=C[2],S=C[3]}if(v)if(E&&S)h=E*v,d=S*v;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",d.toString()+"px"),o=[new XMLSerializer().serializeToString(g)]}try{var P=new window.Blob(o,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,R=!1;this.data.onload=function(){R||i.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){R?A.onProcessError():(R=!0,i.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(o.join("")))},i.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){var u=this.cache.addImage(this.key,this.data);this.pendingDestroy(u)}});r.register("svg",function(u,o,h,d){if(Array.isArray(u))for(var v=0;v<u.length;v++)this.addFile(new s(this,u[v]));else this.addFile(new s(this,u,o,h,d));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(40),u=new e({Extends:i,initialize:function(h,d,v,c){var m="csv";if(n(d)){var g=d;d=a(g,"key"),v=a(g,"url"),c=a(g,"xhrSettings"),m=a(g,"extension",m)}var y={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:d,url:v,xhrSettings:c};i.call(this,h,y),this.tilemapFormat=s.CSV},onProcess:function(){this.state=f.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});r.register("tilemapCSV",function(o,h,d){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new u(this,o[v]));else this.addFile(new u(this,o,h,d));return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(61),r=t(40),a=new e({Extends:i,initialize:function(s,u,o,h){i.call(this,s,u,o,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var n={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});f.register("tilemapImpact",function(n,s,u){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new a(this,n[o]));else this.addFile(new a(this,n,s,u));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(61),r=t(40),a=new e({Extends:i,initialize:function(s,u,o,h){i.call(this,s,u,o,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var n={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});f.register("tilemapTiledJSON",function(n,s,u){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new a(this,n[o]));else this.addFile(new a(this,n,s,u));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(242),u=new e({Extends:n,initialize:function(h,d,v,c,m,g){var y,E;if(a(d)){var S=d;d=i(S,"key"),y=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new s(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","txt"),xhrSettings:i(S,"atlasXhrSettings")})}else y=new r(h,d,v,m),E=new s(h,d,c,g);y.linkFile?n.call(this,h,"unityatlas",d,[y,E,y.linkFile]):n.call(this,h,"unityatlas",d,[y,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});f.register("unityAtlas",function(o,h,d,v,c){var m;if(Array.isArray(o))for(var g=0;g<o.length;g++)m=new u(this,o[g]),this.addFile(m.files);else m=new u(this,o,h,d,v,c),this.addFile(m.files);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(23),r=t(8),a=t(155),n=t(2),s=t(7),u=new e({Extends:i,initialize:function(h,d,v,c,m,g,y){c===void 0&&(c="loadeddata"),m===void 0&&(m=!1),g===void 0&&(g=!1),c!=="loadeddata"&&c!=="canplay"&&c!=="canplaythrough"&&(c="loadeddata");var E={type:"video",cache:h.cacheManager.video,extension:v.type,responseType:"blob",key:d,url:v.url,xhrSettings:y,config:{loadEvent:c,asBlob:m,noAudio:g}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),i.call(this,h,E)},onProcess:function(){if(this.state=f.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var o=this.createVideoElement();this.data=o;var h=this;this.data.onloadeddata=function(){h.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(h.data),h.onProcessError()},i.createObjectURL(o,this.xhrLoader.response,""),o.load()},createVideoElement:function(){var o=document.createElement("video");return o.controls=!1,o.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(o.muted=!0,o.defaultMuted=!0,o.setAttribute("autoplay","autoplay")),o.setAttribute("playsinline","playsinline"),o.setAttribute("preload","auto"),o},onVideoLoadHandler:function(o){var h=o.target;h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0),this.data=h,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(o){var h=o.target;h&&(h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var o=this.config.loadEvent;if(this.config.asBlob)i.prototype.load.call(this);else{this.percentComplete=0;var h=this.createVideoElement();h.addEventListener(o,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=a(this,this.loader.baseURL),h.load()}}});u.create=function(o,h,d,v,c,m,g){var y=o.systems.game;s(h)&&(d=n(h,"url",[]),v=n(h,"loadEvent","loadeddata"),c=n(h,"asBlob",!1),m=n(h,"noAudio",!1),g=n(h,"xhrSettings"),h=n(h,"key"));var E=u.getVideoURL(y,d);if(E)return new u(o,h,E,v,c,m,g)},u.getVideoURL=function(o,h){Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=n(h[d],"url",h[d]);if(v.indexOf("blob:")===0)return{url:v,type:""};var c;if(v.indexOf("data:")===0?c=v.split(",")[0].match(/\/(.*?);/):c=v.match(/\.([a-zA-Z0-9]+)($|\?)/),c=n(h[d],"type",c?c[1]:"").toLowerCase(),o.device.video[c])return{url:v,type:c}}return null},r.register("video",function(o,h,d,v,c,m){var g;if(Array.isArray(o))for(var y=0;y<o.length;y++)g=u.create(this,o[y]),g&&this.addFile(g);else g=u.create(this,o,h,d,v,c,m),g&&this.addFile(g);return this}),l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(21),i=t(149),r=t(9),a=t(95),n=t(8),s=t(2),u=t(24),o=t(20),h=t(156),d=new e({Extends:r,initialize:function(c){r.call(this);var m=c.sys.game.config,g=c.sys.settings.loader;this.scene=c,this.systems=c.sys,this.cacheManager=c.sys.cache,this.textureManager=c.sys.textures,this.sceneManager=c.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(g,"baseURL",m.loaderBaseURL)),this.setPath(s(g,"path",m.loaderPath)),this.setPrefix(s(g,"prefix",m.loaderPrefix)),this.maxParallelDownloads=s(g,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=h(s(g,"responseType",m.loaderResponseType),s(g,"async",m.loaderAsync),s(g,"user",m.loaderUser),s(g,"password",m.loaderPassword),s(g,"timeout",m.loaderTimeout),s(g,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=s(g,"crossOrigin",m.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new i,this.inflight=new i,this.queue=new i,this._deleteQueue=new i,this.totalFailed=0,this.totalComplete=0,this.state=f.LOADER_IDLE,this.multiKeyIndex=0,c.sys.events.once(o.BOOT,this.boot,this),c.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var m=v[c];this.keyExists(m)||(this.list.set(m),this.emit(a.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var c=v.hasCacheConflict();return c||this.list.iterate(function(m){if(m.type===v.type&&m.key===v.key)return c=!0,!1}),!c&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===v.type&&m.key===v.key)return c=!0,!1}),this.queue.iterate(function(m){if(m.type===v.type&&m.key===v.key)return c=!0,!1})),c},addPack:function(v,c){c&&v.hasOwnProperty(c)&&(v={packKey:v[c]});var m=0,g=this.baseURL,y=this.path,E=this.prefix;for(var S in v)if(Object.prototype.hasOwnProperty.call(v,S)){var C=v[S],P=s(C,"baseURL",g),A=s(C,"path",y),R=s(C,"prefix",E),M=s(C,"files",null),L=s(C,"defaultType","void");if(Array.isArray(M)){this.setBaseURL(P),this.setPath(A),this.setPrefix(R);for(var F=0;F<M.length;F++){var I=M[F],N=I.hasOwnProperty("type")?I.type:L;this[N]&&(this[N](I),m++)}}}return this.setBaseURL(g),this.setPath(y),this.setPrefix(E),m>0},isLoading:function(){return this.state===f.LOADER_LOADING||this.state===f.LOADER_PROCESSING},isReady:function(){return this.state===f.LOADER_IDLE||this.state===f.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=f.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===f.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===f.FILE_POPULATED||v.state===f.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,c){this.inflight&&(this.inflight.delete(v),this.updateProgress(),c?(this.totalComplete++,this.queue.set(v),this.emit(a.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(a.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===f.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===f.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=f.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,c){return this.save(JSON.stringify(v),c)},save:function(v,c,m){c===void 0&&(c="file.json"),m===void 0&&(m="application/json");var g=new Blob([v],{type:m}),y=URL.createObjectURL(g),E=document.createElement("a");return E.download=c,E.textContent="Download "+c,E.href=y,E.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,c=this.systems.settings.loader;this.setBaseURL(s(c,"baseURL",v.loaderBaseURL)),this.setPath(s(c,"path",v.loaderPath)),this.setPrefix(s(c,"prefix",v.loaderPrefix)),this.state=f.LOADER_IDLE},shutdown:function(){this.reset(),this.state=f.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=f.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",d,"load"),l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),f=t(17),i={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(36),i=t(50),r=t(353),a=t(521),n=t(2),s=t(127),u=t(523),o=t(244),h=t(24),d=t(20),v=t(3),c=t(526),m=new e({initialize:function(y){this.scene=y,this.systems=y.sys,this.config=this.getConfig(),this.world,this.add,y.sys.events.once(d.BOOT,this.boot,this),y.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new c(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new c(this.scene,this.config),this.add=new a(this.world));var g=this.systems.events;n(this.config,"customUpdate",!1)||g.on(d.UPDATE,this.world.update,this.world),g.on(d.POST_UPDATE,this.world.postUpdate,this.world),g.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,y=this.systems.settings.physics,E=s(n(y,"arcade",{}),n(g,"arcade",{}));return E},overlap:function(g,y,E,S,C){return E===void 0&&(E=null),S===void 0&&(S=null),C===void 0&&(C=E),this.world.collideObjects(g,y,E,S,C,!0)},collide:function(g,y,E,S,C){return E===void 0&&(E=null),S===void 0&&(S=null),C===void 0&&(C=E),this.world.collideObjects(g,y,E,S,C,!1)},collideTiles:function(g,y,E,S,C){return this.world.collideTiles(g,y,E,S,C)},overlapTiles:function(g,y,E,S,C){return this.world.overlapTiles(g,y,E,S,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,y,E,S,C,P){S===void 0&&(S=60);var A=Math.atan2(E-g.y,y-g.x);return g.body.acceleration.setToPolar(A,S),C!==void 0&&P!==void 0&&g.body.maxVelocity.set(C,P),A},accelerateToObject:function(g,y,E,S,C){return this.accelerateTo(g,y.x,y.y,E,S,C)},closest:function(g,y){y||(y=this.world.bodies.entries);for(var E=Number.MAX_VALUE,S=null,C=g.x,P=g.y,A=y.length,R=0;R<A;R++){var M=y[R],L=M.body||M;if(!(g===M||g===L||g===L.gameObject||g===L.center)){var F=r(C,P,L.center.x,L.center.y);F<E&&(S=M,E=F)}}return S},furthest:function(g,y){y||(y=this.world.bodies.entries);for(var E=-1,S=null,C=g.x,P=g.y,A=y.length,R=0;R<A;R++){var M=y[R],L=M.body||M;if(!(g===M||g===L||g===L.gameObject||g===L.center)){var F=r(C,P,L.center.x,L.center.y);F>E&&(S=M,E=F)}}return S},moveTo:function(g,y,E,S,C){S===void 0&&(S=60),C===void 0&&(C=0);var P=Math.atan2(E-g.y,y-g.x);return C>0&&(S=i(g.x,g.y,y,E)/(C/1e3)),g.body.velocity.setToPolar(P,S),P},moveToObject:function(g,y,E,S){return this.moveTo(g,y.x,y.y,E,S)},velocityFromAngle:function(g,y,E){return y===void 0&&(y=60),E===void 0&&(E=new v),E.setToPolar(f(g),y)},velocityFromRotation:function(g,y,E){return y===void 0&&(y=60),E===void 0&&(E=new v),E.setToPolar(g,y)},overlapRect:function(g,y,E,S,C,P){return o(this.world,g,y,E,S,C,P)},overlapCirc:function(g,y,E,S,C){return u(this.world,g,y,E,S,C)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(d.UPDATE,this.world.update,this.world),g.off(d.POST_UPDATE,this.world.postUpdate,this.world),g.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),l.exports=m},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,f){return this.body.acceleration.set(e,f),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,f){return this.body.bounce.set(e,f),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,f,i){return this.body.setCollideWorldBounds(e,f,i),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,f,i){return this.debugShowBody=e,this.debugShowVelocity=f,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,f){return this.body.drag.set(e,f),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,f,i,r,a){return e&&this.body.reset(f,i),r&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,f){return e===void 0&&(e=!1),f===void 0&&(f=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),f&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,f){return this.body.friction.set(e,f),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,f){return this.body.gravity.set(e,f),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,f){return this.body.setOffset(e,f),this},setSize:function(e,f,i){return this.body.setSize(e,f,i),this},setBodySize:function(e,f,i){return this.body.setSize(e,f,i),this},setCircle:function(e,f,i){return this.body.setCircle(e,f,i),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,f){return this.body.setVelocity(e,f),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,f){return this.body.maxVelocity.set(e,f),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collide"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="overlap"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tilecollide"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tileoverlap"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldbounds"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldstep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,f,i,r,a,n,s,u,o,h,d,v,c,m,g,y,E=function(M,L,F){t=M,e=L;var I=t.velocity.x,N=e.velocity.x;return f=t.pushable,u=t._dx<0,o=t._dx>0,h=t._dx===0,m=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),n=N-I*t.bounce.x,i=e.pushable,d=e._dx<0,v=e._dx>0,c=e._dx===0,g=!m,s=I-N*e.bounce.x,y=Math.abs(F),S()},S=function(){return o&&m&&e.blocked.right?(t.processX(-y,n,!1,!0),1):u&&g&&e.blocked.left?(t.processX(y,n,!0),1):v&&g&&t.blocked.right?(e.processX(-y,s,!1,!0),2):d&&m&&t.blocked.left?(e.processX(y,s,!0),2):0},C=function(){var M=t.velocity.x,L=e.velocity.x,F=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),N=(F+I)*.5;return F-=N,I-=N,r=N+F*t.bounce.x,a=N+I*e.bounce.x,u&&g?P(0):d&&m?P(1):o&&m?P(2):v&&g?P(3):!1},P=function(M){if(f&&i)y*=.5,M===0||M===3?(t.processX(y,r),e.processX(-y,a)):(t.processX(-y,r),e.processX(y,a));else if(f&&!i)M===0||M===3?t.processX(y,n,!0):t.processX(-y,n,!1,!0);else if(!f&&i)M===0||M===3?e.processX(-y,s,!1,!0):e.processX(y,s,!0);else{var L=y*.5;M===0?c?(t.processX(y,0,!0),e.processX(0,null,!1,!0)):v?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.x,!0),e.processX(-L,null,!1,!0)):M===1?h?(t.processX(0,null,!1,!0),e.processX(y,0,!0)):o?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,null,!1,!0),e.processX(L,t.velocity.x,!0)):M===2?c?(t.processX(-y,0,!1,!0),e.processX(0,null,!0)):d?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,e.velocity.x,!1,!0),e.processX(L,null,!0)):M===3&&(h?(t.processX(0,null,!0),e.processX(-y,0,!1,!0)):u?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.y,!0),e.processX(-L,null,!1,!0)))}return!0},A=function(M){M===1?e.velocity.x=0:m?e.processX(y,s,!0):e.processX(-y,s,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},R=function(M){M===2?t.velocity.x=0:g?t.processX(y,n,!0):t.processX(-y,n,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};l.exports={BlockCheck:S,Check:C,Set:E,Run:P,RunImmovableBody1:A,RunImmovableBody2:R}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,f,i,r,a,n,s,u,o,h,d,v,c,m,g,y,E=function(M,L,F){t=M,e=L;var I=t.velocity.y,N=e.velocity.y;return f=t.pushable,u=t._dy<0,o=t._dy>0,h=t._dy===0,m=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),n=N-I*t.bounce.y,i=e.pushable,d=e._dy<0,v=e._dy>0,c=e._dy===0,g=!m,s=I-N*e.bounce.y,y=Math.abs(F),S()},S=function(){return o&&m&&e.blocked.down?(t.processY(-y,n,!1,!0),1):u&&g&&e.blocked.up?(t.processY(y,n,!0),1):v&&g&&t.blocked.down?(e.processY(-y,s,!1,!0),2):d&&m&&t.blocked.up?(e.processY(y,s,!0),2):0},C=function(){var M=t.velocity.y,L=e.velocity.y,F=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),N=(F+I)*.5;return F-=N,I-=N,r=N+F*t.bounce.y,a=N+I*e.bounce.y,u&&g?P(0):d&&m?P(1):o&&m?P(2):v&&g?P(3):!1},P=function(M){if(f&&i)y*=.5,M===0||M===3?(t.processY(y,r),e.processY(-y,a)):(t.processY(-y,r),e.processY(y,a));else if(f&&!i)M===0||M===3?t.processY(y,n,!0):t.processY(-y,n,!1,!0);else if(!f&&i)M===0||M===3?e.processY(-y,s,!1,!0):e.processY(y,s,!0);else{var L=y*.5;M===0?c?(t.processY(y,0,!0),e.processY(0,null,!1,!0)):v?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)):M===1?h?(t.processY(0,null,!1,!0),e.processY(y,0,!0)):o?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,null,!1,!0),e.processY(L,t.velocity.y,!0)):M===2?c?(t.processY(-y,0,!1,!0),e.processY(0,null,!0)):d?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,e.velocity.y,!1,!0),e.processY(L,null,!0)):M===3&&(h?(t.processY(0,null,!0),e.processY(-y,0,!1,!0)):u?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)))}return!0},A=function(M){M===1?e.velocity.y=0:m?e.processY(y,s,!0):e.processY(-y,s,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},R=function(M){M===2?t.velocity.y=0:g?t.processY(y,n,!0):t.processY(-y,n,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};l.exports={BlockCheck:S,Check:C,Set:E,Run:P,RunImmovableBody1:A,RunImmovableBody2:R}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(3),i=new e({initialize:function(){this.boundsCenter=new f,this.centerDiff=new f},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,n=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,u=r.bounds.max.y-r.bounds.min.y,o=s*r.centerOfMass.x,h=u*r.centerOfMass.y;return a.set(s/2,u/2),n.set(o-a.x,h-a.y),!0},getTopLeft:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a+s.x+u.x,n+s.y+u.y)}return!1},getTopCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a+u.x,n+s.y+u.y)}return!1},getTopRight:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a-(s.x-u.x),n+s.y+u.y)}return!1},getLeftCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a+s.x+u.x,n+u.y)}return!1},getCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.centerDiff;return new f(a+s.x,n+s.y)}return!1},getRightCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a-(s.x-u.x),n+u.y)}return!1},getBottomLeft:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a+s.x+u.x,n-(s.y-u.y))}return!1},getBottomCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a+u.x,n-(s.y-u.y))}return!1},getBottomRight:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,u=this.centerDiff;return new f(a-(s.x-u.x),n-(s.y-u.y))}return!1}});l.exports=i},function(l,x){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={decomp:M,quickDecomp:N,isSimple:F,removeCollinearPoints:z,removeDuplicatePoints:W,makeCCW:m};function t(D,O,B){B=B||0;var G=[0,0],Y,V,b,H,j,q,et;return Y=D[1][1]-D[0][1],V=D[0][0]-D[1][0],b=Y*D[0][0]+V*D[0][1],H=O[1][1]-O[0][1],j=O[0][0]-O[1][0],q=H*O[0][0]+j*O[0][1],et=Y*j-H*V,$(et,0,B)||(G[0]=(j*b-V*q)/et,G[1]=(Y*q-H*b)/et),G}function e(D,O,B,G){var Y=O[0]-D[0],V=O[1]-D[1],b=G[0]-B[0],H=G[1]-B[1];if(b*V-H*Y===0)return!1;var j=(Y*(B[1]-D[1])+V*(D[0]-B[0]))/(b*V-H*Y),q=(b*(D[1]-B[1])+H*(B[0]-D[0]))/(H*Y-b*V);return j>=0&&j<=1&&q>=0&&q<=1}function f(D,O,B){return(O[0]-D[0])*(B[1]-D[1])-(B[0]-D[0])*(O[1]-D[1])}function i(D,O,B){return f(D,O,B)>0}function r(D,O,B){return f(D,O,B)>=0}function a(D,O,B){return f(D,O,B)<0}function n(D,O,B){return f(D,O,B)<=0}var s=[],u=[];function o(D,O,B,G){if(G){var Y=s,V=u;Y[0]=O[0]-D[0],Y[1]=O[1]-D[1],V[0]=B[0]-O[0],V[1]=B[1]-O[1];var b=Y[0]*V[0]+Y[1]*V[1],H=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),j=Math.sqrt(V[0]*V[0]+V[1]*V[1]),q=Math.acos(b/(H*j));return q<G}else return f(D,O,B)===0}function h(D,O){var B=O[0]-D[0],G=O[1]-D[1];return B*B+G*G}function d(D,O){var B=D.length;return D[O<0?O%B+B:O%B]}function v(D){D.length=0}function c(D,O,B,G){for(var Y=B;Y<G;Y++)D.push(O[Y])}function m(D){for(var O=0,B=D,G=1;G<D.length;++G)(B[G][1]<B[O][1]||B[G][1]===B[O][1]&&B[G][0]>B[O][0])&&(O=G);return i(d(D,O-1),d(D,O),d(D,O+1))?!1:(g(D),!0)}function g(D){for(var O=[],B=D.length,G=0;G!==B;G++)O.push(D.pop());for(var G=0;G!==B;G++)D[G]=O[G]}function y(D,O){return a(d(D,O-1),d(D,O),d(D,O+1))}var E=[],S=[];function C(D,O,B){var G,Y,V=E,b=S;if(r(d(D,O+1),d(D,O),d(D,B))&&n(d(D,O-1),d(D,O),d(D,B)))return!1;Y=h(d(D,O),d(D,B));for(var H=0;H!==D.length;++H)if(!((H+1)%D.length===O||H===O)&&r(d(D,O),d(D,B),d(D,H+1))&&n(d(D,O),d(D,B),d(D,H))&&(V[0]=d(D,O),V[1]=d(D,B),b[0]=d(D,H),b[1]=d(D,H+1),G=t(V,b),h(d(D,O),G)<Y))return!1;return!0}function P(D,O,B){for(var G=0;G!==D.length;++G)if(!(G===O||G===B||(G+1)%D.length===O||(G+1)%D.length===B)&&e(d(D,O),d(D,B),d(D,G),d(D,G+1)))return!1;return!0}function A(D,O,B,G){var Y=G||[];if(v(Y),O<B)for(var V=O;V<=B;V++)Y.push(D[V]);else{for(var V=0;V<=B;V++)Y.push(D[V]);for(var V=O;V<D.length;V++)Y.push(D[V])}return Y}function R(D){for(var O=[],B=[],G=[],Y=[],V=Number.MAX_VALUE,b=0;b<D.length;++b)if(y(D,b)){for(var H=0;H<D.length;++H)if(C(D,b,H)){B=R(A(D,b,H,Y)),G=R(A(D,H,b,Y));for(var j=0;j<G.length;j++)B.push(G[j]);B.length<V&&(O=B,V=B.length,O.push([d(D,b),d(D,H)]))}}return O}function M(D){var O=R(D);return O.length>0?L(D,O):[D]}function L(D,O){if(O.length===0)return[D];if(O instanceof Array&&O.length&&O[0]instanceof Array&&O[0].length===2&&O[0][0]instanceof Array){for(var B=[D],G=0;G<O.length;G++)for(var Y=O[G],V=0;V<B.length;V++){var b=B[V],H=L(b,Y);if(H){B.splice(V,1),B.push(H[0],H[1]);break}}return B}else{var Y=O,G=D.indexOf(Y[0]),V=D.indexOf(Y[1]);return G!==-1&&V!==-1?[A(D,G,V),A(D,V,G)]:!1}}function F(D){var O=D,B;for(B=0;B<O.length-1;B++)for(var G=0;G<B-1;G++)if(e(O[B],O[B+1],O[G],O[G+1]))return!1;for(B=1;B<O.length-2;B++)if(e(O[0],O[O.length-1],O[B],O[B+1]))return!1;return!0}function I(D,O,B,G,Y){Y=Y||0;var V=O[1]-D[1],b=D[0]-O[0],H=V*D[0]+b*D[1],j=G[1]-B[1],q=B[0]-G[0],et=j*B[0]+q*B[1],ot=V*q-j*b;return $(ot,0,Y)?[0,0]:[(q*H-b*et)/ot,(V*et-j*H)/ot]}function N(D,O,B,G,Y,V,b){V=V||100,b=b||0,Y=Y||25,O=typeof O<"u"?O:[],B=B||[],G=G||[];var H=[0,0],j=[0,0],q=[0,0],et=0,ot=0,K=0,Q=0,tt=0,nt=0,ut=0,pt=[],vt=[],at=D,yt=D;if(yt.length<3)return O;if(b++,b>V)return console.warn("quickDecomp: max level ("+V+") reached."),O;for(var lt=0;lt<D.length;++lt)if(y(at,lt)){B.push(at[lt]),et=ot=Number.MAX_VALUE;for(var Tt=0;Tt<D.length;++Tt)i(d(at,lt-1),d(at,lt),d(at,Tt))&&n(d(at,lt-1),d(at,lt),d(at,Tt-1))&&(q=I(d(at,lt-1),d(at,lt),d(at,Tt),d(at,Tt-1)),a(d(at,lt+1),d(at,lt),q)&&(K=h(at[lt],q),K<ot&&(ot=K,j=q,nt=Tt))),i(d(at,lt+1),d(at,lt),d(at,Tt+1))&&n(d(at,lt+1),d(at,lt),d(at,Tt))&&(q=I(d(at,lt+1),d(at,lt),d(at,Tt),d(at,Tt+1)),i(d(at,lt-1),d(at,lt),q)&&(K=h(at[lt],q),K<et&&(et=K,H=q,tt=Tt)));if(nt===(tt+1)%D.length)q[0]=(j[0]+H[0])/2,q[1]=(j[1]+H[1])/2,G.push(q),lt<tt?(c(pt,at,lt,tt+1),pt.push(q),vt.push(q),nt!==0&&c(vt,at,nt,at.length),c(vt,at,0,lt+1)):(lt!==0&&c(pt,at,lt,at.length),c(pt,at,0,tt+1),pt.push(q),vt.push(q),c(vt,at,nt,lt+1));else{if(nt>tt&&(tt+=D.length),Q=Number.MAX_VALUE,tt<nt)return O;for(var Tt=nt;Tt<=tt;++Tt)r(d(at,lt-1),d(at,lt),d(at,Tt))&&n(d(at,lt+1),d(at,lt),d(at,Tt))&&(K=h(d(at,lt),d(at,Tt)),K<Q&&P(at,lt,Tt)&&(Q=K,ut=Tt%D.length));lt<ut?(c(pt,at,lt,ut+1),ut!==0&&c(vt,at,ut,yt.length),c(vt,at,0,lt+1)):(lt!==0&&c(pt,at,lt,yt.length),c(pt,at,0,ut+1),c(vt,at,ut,lt+1))}return pt.length<vt.length?(N(pt,O,B,G,Y,V,b),N(vt,O,B,G,Y,V,b)):(N(vt,O,B,G,Y,V,b),N(pt,O,B,G,Y,V,b)),O}return O.push(D),O}function z(D,O){for(var B=0,G=D.length-1;D.length>3&&G>=0;--G)o(d(D,G-1),d(D,G),d(D,G+1),O)&&(D.splice(G%D.length,1),B++);return B}function W(D,O){for(var B=D.length-1;B>=1;--B)for(var G=D[B],Y=B-1;Y>=0;--Y)if(Z(G,D[Y],O)){D.splice(B,1);continue}}function $(D,O,B){return B=B||0,Math.abs(D-O)<=B}function Z(D,O,B){return $(D[0],O[0],B)&&$(D[1],O[1],B)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(0),i=t(591),r=t(128),a=t(592),n=t(1395),s=t(1396),u=t(1397),o=t(593),h=t(589),d=t(590),v=t(1398),c=t(64),m=new f({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},rectangle:function(g,y,E,S,C){var P=e.rectangle(g,y,E,S,C);return this.world.add(P),P},trapezoid:function(g,y,E,S,C,P){var A=e.trapezoid(g,y,E,S,C,P);return this.world.add(A),A},circle:function(g,y,E,S,C){var P=e.circle(g,y,E,S,C);return this.world.add(P),P},polygon:function(g,y,E,S,C){var P=e.polygon(g,y,E,S,C);return this.world.add(P),P},fromVertices:function(g,y,E,S,C,P,A){typeof E=="string"&&(E=c.fromPath(E));var R=e.fromVertices(g,y,E,S,C,P,A);return this.world.add(R),R},fromPhysicsEditor:function(g,y,E,S,C){C===void 0&&(C=!0);var P=h.parseBody(g,y,E,S);return C&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(g,y,E,S,C,P){S===void 0&&(S=1),C===void 0&&(C={}),P===void 0&&(P=!0);for(var A=E.getElementsByTagName("path"),R=[],M=0;M<A.length;M++){var L=a.pathToVertices(A[M],30);S!==1&&c.scale(L,S,S),R.push(L)}var F=e.fromVertices(g,y,R,C);return P&&this.world.add(F),F},fromJSON:function(g,y,E,S,C){S===void 0&&(S={}),C===void 0&&(C=!0);var P=d.parseBody(g,y,E,S);return P&&C&&this.world.add(P),P},imageStack:function(g,y,E,S,C,P,A,R,M){A===void 0&&(A=0),R===void 0&&(R=0),M===void 0&&(M={});var L=this.world,F=this.sys.displayList;M.addToWorld=!1;var I=i.stack(E,S,C,P,A,R,function(N,z){var W=new s(L,N,z,g,y,M);return F.add(W),W.body});return L.add(I),I},stack:function(g,y,E,S,C,P,A){var R=i.stack(g,y,E,S,C,P,A);return this.world.add(R),R},pyramid:function(g,y,E,S,C,P,A){var R=i.pyramid(g,y,E,S,C,P,A);return this.world.add(R),R},chain:function(g,y,E,S,C,P){return i.chain(g,y,E,S,C,P)},mesh:function(g,y,E,S,C){return i.mesh(g,y,E,S,C)},newtonsCradle:function(g,y,E,S,C){var P=i.newtonsCradle(g,y,E,S,C);return this.world.add(P),P},car:function(g,y,E,S,C){var P=i.car(g,y,E,S,C);return this.world.add(P),P},softBody:function(g,y,E,S,C,P,A,R,M,L){var F=i.softBody(g,y,E,S,C,P,A,R,M,L);return this.world.add(F),F},joint:function(g,y,E,S,C){return this.constraint(g,y,E,S,C)},spring:function(g,y,E,S,C){return this.constraint(g,y,E,S,C)},constraint:function(g,y,E,S,C){S===void 0&&(S=1),C===void 0&&(C={}),C.bodyA=g.type==="body"?g:g.body,C.bodyB=y.type==="body"?y:y.body,isNaN(E)||(C.length=E),C.stiffness=S;var P=r.create(C);return this.world.add(P),P},worldConstraint:function(g,y,E,S){E===void 0&&(E=1),S===void 0&&(S={}),S.bodyB=g.type==="body"?g:g.body,isNaN(y)||(S.length=y),S.stiffness=E;var C=r.create(S);return this.world.add(C),C},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var y=new v(this.scene,this.world,g);return this.world.add(y.constraint),y},image:function(g,y,E,S,C){var P=new s(this.world,g,y,E,S,C);return this.sys.displayList.add(P),P},tileBody:function(g,y){return new o(this.world,g,y)},sprite:function(g,y,E,S,C){var P=new u(this.world,g,y,E,S,C);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(g,y,E){return n(this.world,g,y,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=m},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),f=t(2),i=t(3);function r(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var a=function(n,s,u,o){u===void 0&&(u={}),o===void 0&&(o=!0);var h=s.x,d=s.y;s.body={temp:!0,position:{x:h,y:d}};var v=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(v.forEach(function(m){for(var g in m)r(m[g])?Object.defineProperty(s,g,{get:m[g].get,set:m[g].set}):Object.defineProperty(s,g,{value:m[g]})}),s.world=n,s._tempVec2=new i(h,d),u.hasOwnProperty("type")&&u.type==="body")s.setExistingBody(u,o);else{var c=f(u,"shape",null);c||(c="rectangle"),u.addToWorld=o,s.setBody(c,u)}return s};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(249),i=t(15),r=t(2),a=t(125),n=t(167),s=t(3),u=new e({Extends:a,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,n],initialize:function(h,d,v,c,m,g){i.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new s(d,v);var y=r(g,"shape",null);y?this.setBody(y,g):this.setRectangle(this.width,this.height,g),this.setPosition(d,v),this.initPipeline()}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),f=t(0),i=t(249),r=t(15),a=t(2),n=t(167),s=t(73),u=t(3),o=new f({Extends:s,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,n],initialize:function(d,v,c,m,g,y){r.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(m,g),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new u(v,c);var E=a(y,"shape",null);E?this.setBody(E,y):this.setRectangle(this.width,this.height,y),this.setPosition(v,c),this.initPipeline()}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),f=t(0),i=t(118),r=t(128),a=t(273),n=t(272),s=t(51),u=t(127),o=t(165),h=t(3),d=t(64),v=new f({initialize:function(m,g,y){y===void 0&&(y={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=r.create(u(y,E)),this.world.on(n.BEFORE_UPDATE,this.update,this),m.sys.input.on(s.POINTER_DOWN,this.onDown,this),m.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(c){this.pointer||(this.pointer=c,this.camera=c.camera)},onUp:function(c){c===this.pointer&&(this.pointer=null)},getBody:function(c){var m=this.position,g=this.constraint;this.camera.getWorldPoint(c.x,c.y,m);for(var y=i.allBodies(this.world.localWorld),E=0;E<y.length;E++){var S=y[E];if(!S.ignorePointer&&e.contains(S.bounds,m)&&a.canCollide(S.collisionFilter,g.collisionFilter)&&this.hitTestBody(S,m))return this.world.emit(n.DRAG_START,S,this.part,this),!0}return!1},hitTestBody:function(c,m){for(var g=this.constraint,y=c.parts.length,E=y>1?1:0,S=E;S<y;S++){var C=c.parts[S];if(d.contains(C.vertices,m))return g.pointA=m,g.pointB={x:m.x-c.position.x,y:m.y-c.position.y},g.bodyB=c,g.angleB=c.angle,o.set(c,!1),this.part=C,this.body=c,!0}return!1},update:function(){var c=this.pointer,m=this.body;if(!this.active||!c){m&&this.stopDrag();return}if(!c.isDown&&m){this.stopDrag();return}else if(c.isDown){if(!m&&!this.getBody(c))return;m=this.body;var g=this.position,y=this.constraint;this.camera.getWorldPoint(c.x,c.y,g),y.pointA.x=g.x,y.pointA.y=g.y,o.set(m,!1),this.world.emit(n.DRAG,m,this)}},stopDrag:function(){var c=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,c&&this.world.emit(n.DRAG_END,c,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});l.exports=v},function(l,x,t){var e={};l.exports=e;var f=t(595),i=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){f.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,a){return r=r.replace(/^Matter./,""),i.chainPathBefore(e,r,a)},e.after=function(r,a){return r=r.replace(/^Matter./,""),i.chainPathAfter(e,r,a)}})()},function(l,x,t){var e={};l.exports=e;var f=t(83),i=t(274),r=t(84),a=t(86),n=t(64);(function(){e.collides=function(s,u){for(var o=[],h=0;h<u.length;h++){var d=u[h];if(s!==d&&r.overlaps(d.bounds,s.bounds))for(var v=d.parts.length===1?0:1;v<d.parts.length;v++){var c=d.parts[v];if(r.overlaps(c.bounds,s.bounds)){var m=i.collides(c,s);if(m.collided){o.push(m);break}}}}return o},e.ray=function(s,u,o,h){h=h||1e-100;for(var d=f.angle(u,o),v=f.magnitude(f.sub(u,o)),c=(o.x+u.x)*.5,m=(o.y+u.y)*.5,g=a.rectangle(c,m,v,h,{angle:d}),y=e.collides(g,s),E=0;E<y.length;E+=1){var S=y[E];S.body=S.bodyB=S.bodyA}return y},e.region=function(s,u,o){for(var h=[],d=0;d<s.length;d++){var v=s[d],c=r.overlaps(v.bounds,u);(c&&!o||!c&&o)&&h.push(v)}return h},e.point=function(s,u){for(var o=[],h=0;h<s.length;h++){var d=s[h];if(r.contains(d.bounds,u))for(var v=d.parts.length===1?0:1;v<d.parts.length;v++){var c=d.parts[v];if(r.contains(c.bounds,u)&&n.contains(c.vertices,u)){o.push(d);break}}}return o}})()},function(l,x,t){var e={};l.exports=e;var f=t(596),i=t(165),r=t(599),a=t(598),n=t(1523),s=t(597),u=t(166),o=t(118),h=t(128),d=t(32),v=t(41);(function(){e.create=function(c,m){m=d.isElement(c)?m:c,c=d.isElement(c)?c:null,m=m||{},(c||m.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:s}},y=d.extend(g,m);return y.world=m.world||f.create(y.world),y.pairs=a.create(),y.broadphase=y.broadphase.controller.create(y.broadphase),y.metrics=y.metrics||{extended:!1},y.metrics=n.create(y.metrics),y},e.update=function(c,m,g){m=m||1e3/60,g=g||1;var y=c.world,E=c.timing,S=c.broadphase,C=[],P;E.timestamp+=m*E.timeScale;var A={timestamp:E.timestamp};u.trigger(c,"beforeUpdate",A);var R=o.allBodies(y),M=o.allConstraints(y);for(n.reset(c.metrics),c.enableSleeping&&i.update(R,E.timeScale),e._bodiesApplyGravity(R,y.gravity),e._bodiesUpdate(R,m,E.timeScale,g,y.bounds),h.preSolveAll(R),P=0;P<c.constraintIterations;P++)h.solveAll(M,E.timeScale);h.postSolveAll(R),S.controller?(y.isModified&&S.controller.clear(S),S.controller.update(S,R,c,y.isModified),C=S.pairsList):C=R,y.isModified&&o.setModified(y,!1,!1,!0);var L=S.detector(C,c),F=c.pairs,I=E.timestamp;for(a.update(F,L,I),a.removeOld(F,I),c.enableSleeping&&i.afterCollisions(F.list,E.timeScale),F.collisionStart.length>0&&u.trigger(c,"collisionStart",{pairs:F.collisionStart}),r.preSolvePosition(F.list),P=0;P<c.positionIterations;P++)r.solvePosition(F.list,R,E.timeScale);for(r.postSolvePosition(R),h.preSolveAll(R),P=0;P<c.constraintIterations;P++)h.solveAll(M,E.timeScale);for(h.postSolveAll(R),r.preSolveVelocity(F.list),P=0;P<c.velocityIterations;P++)r.solveVelocity(F.list,E.timeScale);return F.collisionActive.length>0&&u.trigger(c,"collisionActive",{pairs:F.collisionActive}),F.collisionEnd.length>0&&u.trigger(c,"collisionEnd",{pairs:F.collisionEnd}),n.update(c.metrics,c),e._bodiesClearForces(R),u.trigger(c,"afterUpdate",A),c},e.merge=function(c,m){if(d.extend(c,m),m.world){c.world=m.world,e.clear(c);for(var g=o.allBodies(c.world),y=0;y<g.length;y++){var E=g[y];i.set(E,!1),E.id=d.nextId()}}},e.clear=function(c){var m=c.world;a.clear(c.pairs);var g=c.broadphase;if(g.controller){var y=o.allBodies(m);g.controller.clear(g),g.controller.update(g,y,c,!0)}},e._bodiesClearForces=function(c){for(var m=0;m<c.length;m++){var g=c[m];g.force.x=0,g.force.y=0,g.torque=0}},e._bodiesApplyGravity=function(c,m){var g=typeof m.scale<"u"?m.scale:.001;if(!(m.x===0&&m.y===0||g===0))for(var y=0;y<c.length;y++){var E=c[y];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.x+=E.mass*m.x*g*E.gravityScale.x,E.force.y+=E.mass*m.y*g*E.gravityScale.y)}},e._bodiesUpdate=function(c,m,g,y,E){for(var S=0;S<c.length;S++){var C=c[S];C.isStatic||C.isSleeping||v.update(C,m,g,y)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(41),i=t(0),r=t(32),a=t(118),n=t(1401),s=t(9),u=t(272),o=t(2),h=t(6),d=t(41),v=t(166),c=t(593),m=t(596),g=t(83),y=new i({Extends:s,initialize:function(S,C){s.call(this),this.scene=S,this.engine=n.create(C),this.localWorld=this.engine.world;var P=h(C,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(C,"enabled",!0),this.correction=h(C,"correction",1),this.getDelta=h(C,"getDelta",this.update60Hz);var A=o(C,"runner",{}),R=o(A,"fps",!1),M=o(A,"fps",60),L=o(A,"delta",1e3/M),F=o(A,"deltaMin",1e3/M),I=o(A,"deltaMax",1e3/(M*.5));R||(M=1e3/L),this.runner={fps:M,correction:o(A,"correction",1),deltaSampleSize:o(A,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:o(A,"isFixed",!1),delta:L,deltaMin:F,deltaMax:I},this.autoUpdate=h(C,"autoUpdate",!0);var N=h(C,"debug",!1);if(this.drawDebug=typeof N=="object"?!0:N,this.debugGraphic,this.debugConfig={showAxes:o(N,"showAxes",!1),showAngleIndicator:o(N,"showAngleIndicator",!1),angleColor:o(N,"angleColor",15208787),showBroadphase:o(N,"showBroadphase",!1),broadphaseColor:o(N,"broadphaseColor",16757760),showBounds:o(N,"showBounds",!1),boundsColor:o(N,"boundsColor",16777215),showVelocity:o(N,"showVelocity",!1),velocityColor:o(N,"velocityColor",44783),showCollisions:o(N,"showCollisions",!1),collisionColor:o(N,"collisionColor",16094476),showSeparations:o(N,"showSeparations",!1),separationColor:o(N,"separationColor",16753920),showBody:o(N,"showBody",!0),showStaticBody:o(N,"showStaticBody",!0),showInternalEdges:o(N,"showInternalEdges",!1),renderFill:o(N,"renderFill",!1),renderLine:o(N,"renderLine",!0),fillColor:o(N,"fillColor",1075465),fillOpacity:o(N,"fillOpacity",1),lineColor:o(N,"lineColor",2678297),lineOpacity:o(N,"lineOpacity",1),lineThickness:o(N,"lineThickness",1),staticFillColor:o(N,"staticFillColor",857979),staticLineColor:o(N,"staticLineColor",1255396),showSleeping:o(N,"showSleeping",!1),staticBodySleepOpacity:o(N,"staticBodySleepOpacity",.7),sleepFillColor:o(N,"sleepFillColor",4605510),sleepLineColor:o(N,"sleepLineColor",10066585),showSensors:o(N,"showSensors",!0),sensorFillColor:o(N,"sensorFillColor",857979),sensorLineColor:o(N,"sensorLineColor",1255396),showPositions:o(N,"showPositions",!0),positionSize:o(N,"positionSize",4),positionColor:o(N,"positionColor",14697178),showJoint:o(N,"showJoint",!0),jointColor:o(N,"jointColor",14737474),jointLineOpacity:o(N,"jointLineOpacity",1),jointLineThickness:o(N,"jointLineThickness",2),pinSize:o(N,"pinSize",4),pinColor:o(N,"pinColor",4382944),springColor:o(N,"springColor",14697184),anchorColor:o(N,"anchorColor",15724527),anchorSize:o(N,"anchorSize",4),showConvexHulls:o(N,"showConvexHulls",!1),hullColor:o(N,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),o(C,"setBounds",!1)){var z=C.setBounds;if(typeof z=="boolean")this.setBounds();else{var W=o(z,"x",0),$=o(z,"y",0),Z=o(z,"width",S.sys.scale.width),D=o(z,"height",S.sys.scale.height),O=o(z,"thickness",64),B=o(z,"left",!0),G=o(z,"right",!0),Y=o(z,"top",!0),V=o(z,"bottom",!0);this.setBounds(W,$,Z,D,O,B,G,Y,V)}}},setCompositeRenderStyle:function(E){var S=E.bodies,C=E.constraints,P=E.composites,A,R,M;for(A=0;A<S.length;A++)R=S[A],M=R.render,this.setBodyRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(A=0;A<C.length;A++)R=C[A],M=R.render,this.setConstraintRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(A=0;A<P.length;A++)R=P[A],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(E,S,C,P,A,R){var M=E.render,L=this.debugConfig;return M?(S==null&&(S=E.isStatic?L.staticLineColor:L.lineColor),C==null&&(C=L.lineOpacity),P==null&&(P=L.lineThickness),A==null&&(A=E.isStatic?L.staticFillColor:L.fillColor),R==null&&(R=L.fillOpacity),S!==!1&&(M.lineColor=S),C!==!1&&(M.lineOpacity=C),P!==!1&&(M.lineThickness=P),A!==!1&&(M.fillColor=A),R!==!1&&(M.fillOpacity=R),this):this},setConstraintRenderStyle:function(E,S,C,P,A,R,M){var L=E.render,F=this.debugConfig;if(!L)return this;if(S==null){var I=L.type;I==="line"?S=F.jointColor:I==="pin"?S=F.pinColor:I==="spring"&&(S=F.springColor)}return C==null&&(C=F.jointLineOpacity),P==null&&(P=F.jointLineThickness),A==null&&(A=F.pinSize),R==null&&(R=F.anchorColor),M==null&&(M=F.anchorSize),S!==!1&&(L.lineColor=S),C!==!1&&(L.lineOpacity=C),P!==!1&&(L.lineThickness=P),A!==!1&&(L.pinSize=A),R!==!1&&(L.anchorColor=R),M!==!1&&(L.anchorSize=M),this},setEventsProxy:function(){var E=this,S=this.engine,C=this.localWorld;this.drawDebug&&(v.on(C,"compositeModified",function(P){E.setCompositeRenderStyle(P)}),v.on(C,"beforeAdd",function(P){for(var A=[].concat(P.object),R=0;R<A.length;R++){var M=A[R],L=M.render;M.type==="body"?E.setBodyRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity):M.type==="composite"?E.setCompositeRenderStyle(M):M.type==="constraint"&&E.setConstraintRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize)}})),v.on(C,"beforeAdd",function(P){E.emit(u.BEFORE_ADD,P)}),v.on(C,"afterAdd",function(P){E.emit(u.AFTER_ADD,P)}),v.on(C,"beforeRemove",function(P){E.emit(u.BEFORE_REMOVE,P)}),v.on(C,"afterRemove",function(P){E.emit(u.AFTER_REMOVE,P)}),v.on(S,"beforeUpdate",function(P){E.emit(u.BEFORE_UPDATE,P)}),v.on(S,"afterUpdate",function(P){E.emit(u.AFTER_UPDATE,P)}),v.on(S,"collisionStart",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(u.COLLISION_START,P,R,M)}),v.on(S,"collisionActive",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(u.COLLISION_ACTIVE,P,R,M)}),v.on(S,"collisionEnd",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(u.COLLISION_END,P,R,M)})},setBounds:function(E,S,C,P,A,R,M,L,F){return E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),A===void 0&&(A=64),R===void 0&&(R=!0),M===void 0&&(M=!0),L===void 0&&(L=!0),F===void 0&&(F=!0),this.updateWall(R,"left",E-A,S-A,A,P+A*2),this.updateWall(M,"right",E+C,S-A,A,P+A*2),this.updateWall(L,"top",E,S-A,C,A),this.updateWall(F,"bottom",E,S+P,C,A),this},updateWall:function(E,S,C,P,A,R){var M=this.walls[S];E?(M&&m.remove(this.localWorld,M),C+=A/2,P+=R/2,this.walls[S]=this.create(C,P,A,R,{isStatic:!0,friction:0,frictionStatic:0})):(M&&m.remove(this.localWorld,M),this.walls[S]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,S,C){return E===void 0&&(E=0),S===void 0&&(S=1),this.localWorld.gravity.x=E,this.localWorld.gravity.y=S,C!==void 0&&(this.localWorld.gravity.scale=C),this},create:function(E,S,C,P,A){var R=e.rectangle(E,S,C,P,A);return m.add(this.localWorld,R),R},add:function(E){return m.add(this.localWorld,E),this},remove:function(E,S){Array.isArray(E)||(E=[E]);for(var C=0;C<E.length;C++){var P=E[C],A=P.body?P.body:P;a.remove(this.localWorld,A,S)}return this},removeConstraint:function(E,S){return a.remove(this.localWorld,E,S),this},convertTilemapLayer:function(E,S){var C=E.layer,P=E.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(P,S),this},convertTiles:function(E,S){if(E.length===0)return this;for(var C=0;C<E.length;C++)new c(this,E[C],S);return this},nextGroup:function(E){return d.nextGroup(E)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(E,S){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,P=this.runner,A=C.timing,R=this.correction;P.isFixed?S=this.getDelta(E,S):(S=E-P.timePrev||P.delta,P.timePrev=E,P.deltaHistory.push(S),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),S=Math.min.apply(null,P.deltaHistory),S=S<P.deltaMin?P.deltaMin:S,S=S>P.deltaMax?P.deltaMax:S,R=S/P.delta,P.delta=S),P.timeScalePrev!==0&&(R*=A.timeScale/P.timeScalePrev),A.timeScale===0&&(R=0),P.timeScalePrev=A.timeScale,P.correction=R,P.frameCounter+=1,E-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((E-P.counterTimestamp)/1e3),P.counterTimestamp=E,P.frameCounter=0),n.update(C,S,R)}},step:function(E,S){n.update(this.engine,E,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var S=E.hasOwnProperty("body")?E.body:E;return a.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,S=this.engine,C=this.debugGraphic,P=a.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,C,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(P,C,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(P),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(P,C,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(P,C,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(S.pairs.list,C,E.separationColor),E.showCollisions&&this.renderCollisions(S.pairs.list,C,E.collisionColor)}},renderGrid:function(E,S,C,P){S.lineStyle(1,C,P);for(var A=r.keys(E.buckets),R=0;R<A.length;R++){var M=A[R];if(!(E.buckets[M].length<2)){var L=M.split(/C|R/);S.strokeRect(parseInt(L[1],10)*E.bucketWidth,parseInt(L[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,S,C){S.lineStyle(1,C,1);for(var P=0;P<E.length;P++){var A=E[P];if(A.isActive){var R=A.collision,M=R.bodyA,L=R.bodyB,F=M.position,I=L.position,N=R.penetration,z=!M.isStatic&&!L.isStatic?4:1;L.isStatic&&(z=0),S.lineBetween(I.x,I.y,I.x-N.x*z,I.y-N.y*z),z=!M.isStatic&&!L.isStatic?4:1,M.isStatic&&(z=0),S.lineBetween(F.x,F.y,F.x-N.x*z,F.y-N.y*z)}}return this},renderCollisions:function(E,S,C){S.lineStyle(1,C,.5),S.fillStyle(C,1);var P,A;for(P=0;P<E.length;P++)if(A=E[P],!!A.isActive)for(var R=0;R<A.activeContacts.length;R++){var M=A.activeContacts[R],L=M.vertex;S.fillRect(L.x-2,L.y-2,5,5)}for(P=0;P<E.length;P++)if(A=E[P],!!A.isActive){var F=A.collision,I=A.activeContacts;if(I.length>0){var N=I[0].vertex.x,z=I[0].vertex.y;I.length===2&&(N=(I[0].vertex.x+I[1].vertex.x)/2,z=(I[0].vertex.y+I[1].vertex.y)/2),F.bodyB===F.supports[0].body||F.bodyA.isStatic?S.lineBetween(N-F.normal.x*8,z-F.normal.y*8,N,z):S.lineBetween(N+F.normal.x*8,z+F.normal.y*8,N,z)}}return this},renderBodyBounds:function(E,S,C,P){S.lineStyle(1,C,P);for(var A=0;A<E.length;A++){var R=E[A];if(R.render.visible){var M=R.bounds;if(M)S.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var L=R.parts,F=L.length>1?1:0;F<L.length;F++){var I=L[F];S.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(E,S,C,P,A){S.lineStyle(1,P,A);for(var R=0;R<E.length;R++){var M=E[R],L=M.parts;if(M.render.visible){var F,I,N;if(C)for(I=L.length>1?1:0;I<L.length;I++)for(F=L[I],N=0;N<F.axes.length;N++){var z=F.axes[N];S.lineBetween(F.position.x,F.position.y,F.position.x+z.x*20,F.position.y+z.y*20)}else for(I=L.length>1?1:0;I<L.length;I++)for(F=L[I],N=0;N<F.axes.length;N++)S.lineBetween(F.position.x,F.position.y,(F.vertices[0].x+F.vertices[F.vertices.length-1].x)/2,(F.vertices[0].y+F.vertices[F.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,S,C,P,A){S.lineStyle(A,C,P);for(var R=0;R<E.length;R++){var M=E[R];M.render.visible&&S.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(E){for(var S=this.debugGraphic,C=this.debugConfig,P=C.showBody,A=C.showStaticBody,R=C.showSleeping,M=C.showInternalEdges,L=C.showConvexHulls,F=C.renderFill,I=C.renderLine,N=C.staticBodySleepOpacity,z=C.sleepFillColor,W=C.sleepLineColor,$=C.hullColor,Z=0;Z<E.length;Z++){var D=E[Z];if(D.render.visible&&!(!A&&D.isStatic||!P&&!D.isStatic)){var O=D.render.lineColor,B=D.render.lineOpacity,G=D.render.lineThickness,Y=D.render.fillColor,V=D.render.fillOpacity;R&&D.isSleeping&&(D.isStatic?(B*=N,V*=N):(O=W,Y=z)),F||(Y=null),I||(O=null),this.renderBody(D,S,M,O,B,G,Y,V);var b=D.parts.length;L&&b>1&&this.renderConvexHull(D,S,$,G)}}},renderBody:function(E,S,C,P,A,R,M,L){P===void 0&&(P=null),A===void 0&&(A=null),R===void 0&&(R=1),M===void 0&&(M=null),L===void 0&&(L=null);for(var F=this.debugConfig,I=F.sensorFillColor,N=F.sensorLineColor,z=E.parts,W=z.length,$=W>1?1:0;$<W;$++){var Z=z[$],D=Z.render,O=D.opacity;if(!(!D.visible||O===0||Z.isSensor&&!F.showSensors)){var B=Z.circleRadius;if(S.beginPath(),Z.isSensor?(M!==null&&S.fillStyle(I,L*O),P!==null&&S.lineStyle(R,N,A*O)):(M!==null&&S.fillStyle(M,L*O),P!==null&&S.lineStyle(R,P,A*O)),B)S.arc(Z.position.x,Z.position.y,B,0,2*Math.PI);else{var G=Z.vertices,Y=G.length;S.moveTo(G[0].x,G[0].y);for(var V=1;V<Y;V++){var b=G[V];if(!G[V-1].isInternal||C?S.lineTo(b.x,b.y):S.moveTo(b.x,b.y),V<Y&&b.isInternal&&!C){var H=(V+1)%Y;S.moveTo(G[H].x,G[H].y)}}S.closePath()}M!==null&&S.fillPath(),P!==null&&S.strokePath()}}if(F.showPositions&&!E.isStatic){var j=E.position.x,q=E.position.y,et=Math.ceil(F.positionSize/2);S.fillStyle(F.positionColor,1),S.fillRect(j-et,q-et,F.positionSize,F.positionSize)}return this},renderConvexHull:function(E,S,C,P){P===void 0&&(P=1);var A=E.parts,R=A.length;if(R>1){var M=E.vertices;S.lineStyle(P,C),S.beginPath(),S.moveTo(M[0].x,M[0].y);for(var L=1;L<M.length;L++)S.lineTo(M[L].x,M[L].y);S.lineTo(M[0].x,M[0].y),S.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,S=a.allConstraints(this.localWorld),C=0;C<S.length;C++){var P=S[C].render,A=P.lineColor,R=P.lineOpacity,M=P.lineThickness,L=P.pinSize,F=P.anchorColor,I=P.anchorSize;this.renderConstraint(S[C],E,A,R,M,L,F,I)}},renderConstraint:function(E,S,C,P,A,R,M,L){var F=E.render;if(!F.visible||!E.pointA||!E.pointB)return this;S.lineStyle(A,C,P);var I=E.bodyA,N=E.bodyB,z,W;if(I?z=g.add(I.position,E.pointA):z=E.pointA,F.type==="pin")S.strokeCircle(z.x,z.y,R);else{if(N?W=g.add(N.position,E.pointB):W=E.pointB,S.beginPath(),S.moveTo(z.x,z.y),F.type==="spring")for(var $=g.sub(W,z),Z=g.perp(g.normalise($)),D=Math.ceil(r.clamp(E.length/5,12,20)),O,B=1;B<D;B+=1)O=B%2===0?1:-1,S.lineTo(z.x+$.x*(B/D)+Z.x*O*4,z.y+$.y*(B/D)+Z.y*O*4);S.lineTo(W.x,W.y)}return S.strokePath(),F.anchors&&L>0&&(S.fillStyle(M),S.fillCircle(z.x,z.y,L),S.fillCircle(W.x,W.y,L)),this},resetCollisionIDs:function(){return f._nextCollidingGroupId=1,f._nextNonCollidingGroupId=-1,f._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});l.exports=y},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(l,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),f=t(0),i=t(20),r=new f({Extends:e,initialize:function(n,s,u){e.call(this,s),this.scene=n,this.systems=n.sys,this.pluginKey=u,n.sys.events.once(i.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(369),WebGL:t(383)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),f=t(17),i={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),f=t(17),i={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(198),i=t(2),r=t(1411),a=t(382),n=t(58),s=new e({Extends:n,initialize:function(o){o.renderTarget=i(o,"renderTarget",1),o.fragShader=i(o,"fragShader",r),o.vertShader=i(o,"vertShader",a),o.attributes=i(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),o.batchSize=1,o.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,o),this.isPostFX=!0,this.gameObject,this.colorMatrix=new f,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var u=this.manager.UTILITY_PIPELINE;this.fullFrame1=u.fullFrame1,this.fullFrame2=u.fullFrame2,this.halfFrame1=u.halfFrame1,this.halfFrame2=u.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(u){this.bindAndDraw(u)},copyFrame:function(u,o,h,d,v){this.manager.copyFrame(u,o,h,d,v)},copyToGame:function(u){this.manager.copyToGame(u)},drawFrame:function(u,o,h){this.manager.drawFrame(u,o,h,this.colorMatrix)},blendFrames:function(u,o,h,d,v){this.manager.blendFrames(u,o,h,d,v)},blendFramesAdditive:function(u,o,h,d,v){this.manager.blendFramesAdditive(u,o,h,d,v)},clearFrame:function(u,o){this.manager.clearFrame(u,o)},blitFrame:function(u,o,h,d,v,c){this.manager.blitFrame(u,o,h,d,v,c)},copyFrameRect:function(u,o,h,d,v,c,m,g){this.manager.copyFrameRect(u,o,h,d,v,c,m,g)},bindAndDraw:function(u,o,h,d,v){h===void 0&&(h=!0),d===void 0&&(d=!0);var c=this.gl,m=this.renderer;this.bind(v),this.set1i("uMainSampler",0),o?(c.viewport(0,0,o.width,o.height),c.bindFramebuffer(c.FRAMEBUFFER,o.framebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,o.texture,0),h&&(d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1,!1),m.currentFramebuffer||c.viewport(0,0,m.width,m.height)),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.texture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),o?(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null)):m.resetTextures()}});l.exports=s},function(l,x){l.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),f=t(201),i={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};i=e(!1,i,f.CENTER),i=e(!1,i,f.ORIENTATION),i=e(!1,i,f.SCALE_MODE),i=e(!1,i,f.ZOOM),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),f=t(17),i={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),f=t(0),i=t(20),r=t(2),a=t(24),n=new f({initialize:function(u){this.scene=u,this.systems=u.sys,this.settings=u.sys.settings,this.key=u.sys.settings.key,this.manager=u.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,u.sys.events.once(i.BOOT,this.boot,this),u.sys.events.on(i.START,this.pluginStart,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},start:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,u),this},restart:function(s){var u=this.key;return this.manager.queueOp("stop",u),this.manager.queueOp("start",u,s),this},transition:function(s){s===void 0&&(s={});var u=r(s,"target",!1),o=this.manager.getScene(u);if(!u||!this.checkValidTransition(o))return!1;var h=r(s,"duration",1e3);this._elapsed=0,this._target=o,this._duration=h,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var d=r(s,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var v=r(s,"allowInput",!1);this.settings.transitionAllowInput=v;var c=o.sys.settings;return c.isTransition=!0,c.transitionFrom=this.scene,c.transitionDuration=h,c.transitionAllowInput=v,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,u):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,u),o.sys.isSleeping()?o.sys.wake(r(s,"data")):this.manager.start(u,r(s,"data")),this.systems.events.emit(i.TRANSITION_OUT,o,h),this.systems.events.on(i.UPDATE,this.step,this),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,u){this._elapsed+=u,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,u=this._target.sys.settings;this.systems.events.off(i.UPDATE,this.step,this),s.events.emit(i.TRANSITION_COMPLETE,this.scene),u.isTransition=!1,u.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,u,o,h){return this.manager.add(s,u,o,h)},launch:function(s,u){return s&&s!==this.key&&this.manager.queueOp("start",s,u),this},run:function(s,u){return s&&s!==this.key&&this.manager.queueOp("run",s,u),this},pause:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,u),this},resume:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,u),this},sleep:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,u),this},wake:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,u),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,u){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,u),this},setActive:function(s,u,o){u===void 0&&(u=this.key);var h=this.manager.getScene(u);return h&&h.sys.setActive(s,o),this},setVisible:function(s,u){u===void 0&&(u=this.key);var o=this.manager.getScene(u);return o&&o.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.swapPosition(s,u),this},moveAbove:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveAbove(s,u),this},moveBelow:function(s,u){return u===void 0&&(u=this.key),s!==u&&this.manager.moveBelow(s,u),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(i.SHUTDOWN,this.shutdown,this),s.off(i.POST_UPDATE,this.step,this),s.off(i.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",n,"scenePlugin"),l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),f=t(1417),i={CanvasTexture:t(423),Events:t(106),FilterMode:f,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};i=e(!1,i,f),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),f=t(1419),i={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};i=e(!1,i,f.ORIENTATION),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(63),i=function(r,a,n,s,u,o,h,d){h===void 0&&(h=!0),r<0&&(r=0),a<0&&(a=0);for(var v=e(r,a,n,s,null,d),c=u-r,m=o-a,g=0;g<v.length;g++){var y=v[g].x+c,E=v[g].y+m;y>=0&&y<d.width&&E>=0&&E<d.height&&d.data[E][y]&&d.data[E][y].copy(v[g])}h&&f(u-1,o-1,n+2,s+2,d)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(542),i=function(r,a,n,s,u,o){n||(n={}),Array.isArray(r)||(r=[r]);var h=o.tilemapLayer;s||(s=h.scene),u||(u=s.cameras.main);var d=e(0,0,o.width,o.height,null,o),v=[],c;for(c=0;c<d.length;c++){var m=d[c];if(r.indexOf(m.index)!==-1){var g=h.tileToWorldXY(m.x,m.y,void 0,u,o);n.x=g.x,n.y=g.y,v.push(s.make.sprite(n))}}if(typeof a=="number")for(c=0;c<r.length;c++)f(r[c],a,0,0,o.width,o.height,o);else if(Array.isArray(a))for(c=0;c<r.length;c++)f(r[c],a[c],0,0,o.width,o.height,o);return v};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(63),i=t(72),r=function(a,n,s,u,o,h,d){for(var v=d.collideIndexes.indexOf(a)!==-1,c=e(n,s,u,o,null,d),m=0;m<c.length;m++)c[m].index=a,i(c[m],v);h&&f(n-1,s-1,u+2,o+2,d)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o,h){var d=e(a,n,s,u,o,h);return d.filter(i,r)};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){f===void 0&&(f=0),i===void 0&&(i=!1);var a=0,n,s,u;if(i){for(s=r.height-1;s>=0;s--)for(n=r.width-1;n>=0;n--)if(u=r.data[s][n],u&&u.index===e){if(a===f)return u;a+=1}}else for(s=0;s<r.height;s++)for(n=0;n<r.width;n++)if(u=r.data[s][n],u&&u.index===e){if(a===f)return u;a+=1}return null};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o,h){var d=e(a,n,s,u,o,h);return d.find(i,r)||null};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o,h){var d=e(a,n,s,u,o,h);d.forEach(i,r)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(544),i=t(545),r=t(547),a=t(1),n=t(548),s=function(u){return u===e.ORTHOGONAL?f:u===e.HEXAGONAL?i:u===e.STAGGERED?n:u===e.ISOMETRIC?r:a};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),f=t(3),i=new f,r=function(a,n,s,u,o){return o.tilemapLayer.worldToTileXY(a,n,!0,i,u),e(i.x,i.y,s,o)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),f=t(26),i=t(484),r=t(1),a=t(3),n=function(d,v){return i.RectangleToTriangle(v,d)},s=new a,u=new a,o=new a,h=function(d,v,c,m){if(d===void 0)return[];var g=r;d instanceof e.Circle?g=i.CircleToRectangle:d instanceof e.Rectangle?g=i.RectangleToRectangle:d instanceof e.Triangle?g=n:d instanceof e.Line&&(g=i.LineToRectangle),m.tilemapLayer.worldToTileXY(d.left,d.top,!0,u,c);var y=u.x,E=u.y;m.tilemapLayer.worldToTileXY(d.right,d.bottom,!0,o,c);var S=Math.ceil(o.x),C=Math.ceil(o.y),P=Math.max(S-y,1),A=Math.max(C-E,1),R=f(y,E,P,A,v,m),M=m.tileWidth,L=m.tileHeight;m.tilemapLayer&&(M*=m.tilemapLayer.scaleX,L*=m.tilemapLayer.scaleY);for(var F=[],I=new e.Rectangle(0,0,M,L),N=0;N<R.length;N++){var z=R[N];m.tilemapLayer.tileToWorldXY(z.x,z.y,s,c),I.x=s.x,I.y=s.y,g(d,I)&&F.push(z)}return F};l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(1),i=t(253),r=function(a){return a===e.ORTHOGONAL?i:f};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(550),i=t(551),r=t(1),a=t(552),n=t(553),s=function(u){return u===e.ORTHOGONAL?n:u===e.ISOMETRIC?i:u===e.HEXAGONAL?f:u===e.STAGGERED?a:r};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(554),i=t(1),r=t(555),a=t(254),n=function(s){return s===e.ORTHOGONAL?a:s===e.HEXAGONAL?f:s===e.STAGGERED?r:i};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(1),i=t(255),r=function(a){return a===e.ORTHOGONAL?i:f};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(556),i=t(557),r=t(1),a=t(558),n=t(559),s=function(u){return u===e.ORTHOGONAL?n:u===e.ISOMETRIC?i:u===e.HEXAGONAL?f:u===e.STAGGERED?a:r};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),f=t(560),i=t(1),r=t(561),a=t(256),n=function(s){return s===e.ORTHOGONAL?a:s===e.HEXAGONAL?f:s===e.STAGGERED?r:i};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),f=t(3),i=new f,r=function(a,n,s,u){u.tilemapLayer.worldToTileXY(a,n,!0,i,s);var o=i.x,h=i.y;return e(o,h,u)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),f=t(3),i=new f,r=function(a,n,s,u,o,h){return h.tilemapLayer.worldToTileXY(n,s,!0,i,o,h),e(a,i.x,i.y,u,h)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),f=t(257),i=function(r,a,n,s,u){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var o=r.length,h=r[0].length,d=0;d<o;d++)for(var v=0;v<h;v++){var c=r[d][v];f(c,a+v,n+d,!1,u)}s&&e(a-1,n-1,h+2,o+2,u)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(210),i=function(r,a,n,s,u,o){var h,d=e(r,a,n,s,{},o);if(!u)for(u=[],h=0;h<d.length;h++)u.indexOf(d[h].index)===-1&&u.push(d[h].index);for(h=0;h<d.length;h++)d[h].index=f(u)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),f=t(3),i=new f,r=function(a,n,s,u,o,h){return h.tilemapLayer.worldToTileXY(a,n,!0,i,o,h),e(i.x,i.y,s,u,h)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(397),i=new f(105,210,231,150),r=new f(243,134,48,200),a=new f(40,39,37,150),n=function(s,u,o){u===void 0&&(u={});var h=u.tileColor!==void 0?u.tileColor:i,d=u.collidingTileColor!==void 0?u.collidingTileColor:r,v=u.faceColor!==void 0?u.faceColor:a,c=e(0,0,o.width,o.height,null,o);s.translateCanvas(o.tilemapLayer.x,o.tilemapLayer.y),s.scaleCanvas(o.tilemapLayer.scaleX,o.tilemapLayer.scaleY);for(var m=0;m<c.length;m++){var g=c[m],y=g.width,E=g.height,S=g.pixelX,C=g.pixelY,P=g.collides?d:h;P!==null&&(s.fillStyle(P.color,P.alpha/255),s.fillRect(S,C,y,E)),S+=1,C+=1,y-=2,E-=2,v!==null&&(s.lineStyle(1,v.color,v.alpha/255),g.faceTop&&s.lineBetween(S,C,S+y,C),g.faceRight&&s.lineBetween(S+y,C,S+y,C+E),g.faceBottom&&s.lineBetween(S,C+E,S+y,C+E),g.faceLeft&&s.lineBetween(S,C,S,C+E))}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),f=t(63),i=t(160),r=function(a,n,s,u,o){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++)i(a[h],n,u);if(o)for(var d=0;d<u.height;d++)for(var v=0;v<u.width;v++){var c=u.data[d][v];c&&a.indexOf(c.index)!==-1&&e(c,n)}s&&f(0,0,u.width,u.height,u)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),f=t(63),i=t(160),r=function(a,n,s,u,o,h){if(s===void 0&&(s=!0),u===void 0&&(u=!0),h===void 0&&(h=!0),!(a>n)){for(var d=a;d<=n;d++)i(d,s,o);if(h)for(var v=0;v<o.height;v++)for(var c=0;c<o.width;c++){var m=o.data[v][c];m&&m.index>=a&&m.index<=n&&e(m,s)}u&&f(0,0,o.width,o.height,o)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),f=t(63),i=t(160),r=function(a,n,s,u){n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(a)||(a=[a]);for(var o=0;o<u.height;o++)for(var h=0;h<u.width;h++){var d=u.data[o][h];d&&a.indexOf(d.index)===-1&&(e(d,n),i(d.index,n,u))}s&&f(0,0,u.width,u.height,u)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),f=t(63),i=t(126),r=function(a,n,s,u){n===void 0&&(n=!0),s===void 0&&(s=!0);for(var o=0;o<u.height;o++)for(var h=0;h<u.width;h++){var d=u.data[o][h];if(d){for(var v in a)if(i(d.properties,v)){var c=a[v];Array.isArray(c)||(c=[c]);for(var m=0;m<c.length;m++)d.properties[v]===c[m]&&e(d,n)}}}s&&f(0,0,u.width,u.height,u)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),f=t(63),i=function(r,a,n){r===void 0&&(r=!0),a===void 0&&(a=!0);for(var s=0;s<n.height;s++)for(var u=0;u<n.width;u++){var o=n.data[s][u];if(o){var h=o.getCollisionGroup();h&&h.objects&&h.objects.length>0&&e(o,r)}}a&&f(0,0,n.width,n.height,n)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f,i,r){if(typeof e=="number")r.callbacks[e]=f!==null?{callback:f,callbackContext:i}:void 0;else for(var a=0,n=e.length;a<n;a++)r.callbacks[e[a]]=f!==null?{callback:f,callbackContext:i}:void 0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o){for(var h=e(i,r,a,n,null,o),d=0;d<h.length;d++)h[d].setCollisionCallback(s,u)};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=t(131),i=function(r,a,n,s,u){var o=e(r,a,n,s,null,u),h=o.map(function(v){return v.index});f(h);for(var d=0;d<o.length;d++)o[d].index=h[d]};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u,o){for(var h=e(a,n,s,u,null,o),d=0;d<h.length;d++)h[d]&&(h[d].index===i?h[d].index=r:h[d].index===r&&(h[d].index=i))};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),f=function(i,r,a,n,s,u){if(s){var o,h=e(i,r,a,n,null,u),d=0;for(o=0;o<s.length;o++)d+=s[o].weight;if(!(d<=0))for(o=0;o<h.length;o++){for(var v=Math.random()*d,c=0,m=-1,g=0;g<s.length;g++)if(c+=s[g].weight,v<=c){var y=s[g].index;m=Array.isArray(y)?y[Math.floor(Math.random()*y.length)]:y;break}h[o].index=m}}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){for(var i=0;i<e.length;i++){var r=e[i],a=i;if(r.name&&r.name!==""&&(a=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var n={},s={},u,o,h;if(Array.isArray(r.edgecolors))for(u=0;u<r.edgecolors.length;u++)h=1+u,o=r.edgecolors[u],o.name!==""&&(n[h]=o.name);if(Array.isArray(r.cornercolors))for(u=0;u<r.cornercolors.length;u++)h=1+u,o=r.cornercolors[u],o.name!==""&&(s[h]=o.name);if(Array.isArray(r.colors))for(u=0;u<r.colors.length;u++)o=r.colors[u],h=1+u,o.name!==""&&(n[h]=s[h]=o.name);for(var d=[n,s,n,s,n,s,n,s],v=0;v<r.wangtiles.length;v++){var c=r.wangtiles[v],m=f[c.tileid]||(f[c.tileid]={});m=m.wangid||(m.wangid={});for(var g=[],y=0;y<Math.min(d.length,c.wangid.length);y++){if(o=c.wangid[y],o===0){g.push(void 0);continue}var E=d[y][o];if(E!==void 0){g.push(E);continue}g.push(o)}m[a]=g}}}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),f=t(1);e=t(1457),f=t(1458),l.exports={renderWebGL:e,renderCanvas:f}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),f=function(i,r,a){var n=r.cull(a),s=n.length,u=a.alpha*r.alpha;if(!(s===0||u<=0)){var o=r.gidMap,h=i.pipelines.set(r.pipeline,r),d=e.getTintAppendFloatAlpha,v=r.scrollFactorX,c=r.scrollFactorY,m=r.x,g=r.y,y=r.scaleX,E=r.scaleY;i.pipelines.preBatch(r);for(var S=0;S<s;S++){var C=n[S],P=o[C.index];if(P){var A=P.getTileTextureCoordinates(C.index);if(A!==null){var R=P.glTexture,M=h.setTexture2D(R,r),L=P.tileWidth,F=P.tileHeight,I=A.x,N=A.y,z=P.tileWidth*.5,W=P.tileHeight*.5,$=d(C.tint,u*C.alpha);h.batchTexture(r,R,R.width,R.height,m+(z+C.pixelX)*y,g+(W+C.pixelY)*E,C.width,C.height,y,E,C.rotation,C.flipX,C.flipY,v,c,z,W,I,N,L,F,$,$,$,$,!1,0,0,a,null,!0,M)}}}i.pipelines.postBatch(r)}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),f=new e,i=new e,r=new e,a=function(n,s,u,o){var h=s.cull(u),d=h.length,v=u.alpha*s.alpha;if(!(d===0||v<=0)){var c=f,m=i,g=r;m.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),c.copyFrom(u.matrix);var y=n.currentContext,E=s.gidMap;y.save(),o?(c.multiplyWithOffset(o,-u.scrollX*s.scrollFactorX,-u.scrollY*s.scrollFactorY),m.e=s.x,m.f=s.y,c.multiply(m,g),g.copyToContext(y)):(m.e-=u.scrollX*s.scrollFactorX,m.f-=u.scrollY*s.scrollFactorY,m.copyToContext(y)),(!n.antialias||s.scaleX>1||s.scaleY>1)&&(y.imageSmoothingEnabled=!1);for(var S=0;S<d;S++){var C=h[S],P=E[C.index];if(P){var A=P.image.getSourceImage(),R=P.getTileTextureCoordinates(C.index);if(R!==null){var M=P.tileWidth,L=P.tileHeight,F=M*.5,I=L*.5;y.save(),y.translate(C.pixelX+F,C.pixelY+I),C.rotation!==0&&y.rotate(C.rotation),(C.flipX||C.flipY)&&y.scale(C.flipX?-1:1,C.flipY?-1:1),y.globalAlpha=v*C.alpha,y.drawImage(A,R.x,R.y,M,L,-F,-I,M,L),y.restore()}}}y.restore()}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),f=t(262);e.register("tilemap",function(i){var r=i!==void 0?i:{};return f(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),f=t(262);e.register("tilemap",function(i,r,a,n,s,u,o){return i===null&&(i=void 0),r===null&&(r=void 0),a===null&&(a=void 0),n===null&&(n=void 0),s===null&&(s=void 0),f(this.scene,i,r,a,n,s,u,o)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clock:t(1462),TimerEvent:t(582)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),f=t(24),i=t(20),r=t(582),a=t(93),n=new e({initialize:function(u){this.scene=u,this.systems=u.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],u.sys.events.once(i.BOOT,this.boot,this),u.sys.events.on(i.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(i.PRE_UPDATE,this.preUpdate,this),s.on(i.UPDATE,this.update,this),s.once(i.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var u;return s instanceof r?(u=s,this.removeEvent(u),u.elapsed=u.startAt,u.hasDispatched=!1,u.repeatCount=u.repeat===-1||u.loop?999999999999:u.repeat):u=new r(s),this._pendingInsertion.push(u),u},delayedCall:function(s,u,o,h){return this.addEvent({delay:s,callback:u,args:o,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var u=0;u<s.length;u++){var o=s[u];a(this._pendingRemoval,o),a(this._pendingInsertion,o),a(this._active,o)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,u=this._pendingInsertion.length;if(!(s===0&&u===0)){var o,h;for(o=0;o<s;o++){h=this._pendingRemoval[o];var d=this._active.indexOf(h);d>-1&&this._active.splice(d,1),h.destroy()}for(o=0;o<u;o++)h=this._pendingInsertion[o],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,u){if(this.now=s,!this.paused){u*=this.timeScale;for(var o=0;o<this._active.length;o++){var h=this._active[o];if(!h.paused&&(h.elapsed+=u*h.timeScale,h.elapsed>=h.delay)){var d=h.elapsed-h.delay;h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0?(h.repeatCount--,h.elapsed=d,h.hasDispatched=!1):this._pendingRemoval.push(h)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var u=this.systems.events;u.off(i.PRE_UPDATE,this.preUpdate,this),u.off(i.UPDATE,this.update,this),u.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});f.register("Clock",n,"time"),l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),f=t(17),i={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};i=f(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="active"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="repeat"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="yoyo"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),f=t(0),i=t(585),r=t(24),a=t(20),n=t(586),s=t(587),u=t(100),o=t(163),h=new f({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(a.BOOT,this.boot,this),v.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var d=this.systems.events;d.on(a.PRE_UPDATE,this.preUpdate,this),d.on(a.UPDATE,this.update,this),d.once(a.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(d){return s(this,d)},timeline:function(d){var v=s(this,d);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(d){return o(this,d)},add:function(d){var v=o(this,d);return this._add.push(v),this._toProcess++,v},existing:function(d){return this._add.push(d),this._toProcess++,this},addCounter:function(d){var v=i(this,d);return this._add.push(v),this._toProcess++,v},stagger:function(d,v){return n(d,v)},preUpdate:function(){if(this._toProcess!==0){var d=this._destroy,v=this._active,c=this._pending,m,g;for(m=0;m<d.length;m++){g=d[m];var y=v.indexOf(g);y===-1?(y=c.indexOf(g),y>-1&&(g.state=u.REMOVED,c.splice(y,1))):(g.state=u.REMOVED,v.splice(y,1))}for(d.length=0,d=this._add,m=0;m<d.length;m++)g=d[m],g.state===u.PENDING_ADD&&(g.init()?(g.play(),this._active.push(g)):this._pending.push(g));d.length=0,this._toProcess=0}},update:function(d,v){var c=this._active,m;v*=this.timeScale;for(var g=0;g<c.length;g++)m=c[g],m.update(d,v)&&(this._destroy.push(m),this._toProcess++)},remove:function(d){return e(this._add,d),e(this._pending,d),e(this._active,d),e(this._destroy,d),d.state=u.REMOVED,this},makeActive:function(d){if(this._add.indexOf(d)!==-1||this._active.indexOf(d)!==-1)return this;var v=this._pending.indexOf(d);return v!==-1&&this._pending.splice(v,1),this._add.push(d),d.state=u.PENDING_ADD,this._toProcess++,this},each:function(d,v){for(var c=[null],m=1;m<arguments.length;m++)c.push(arguments[m]);for(var g in this.list)c[0]=this.list[g],d.apply(v,c)},getAllTweens:function(){for(var d=this._active,v=[],c=0;c<d.length;c++)v.push(d[c]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(d,v){v===void 0&&(v=!1);var c=this._active,m,g=[],y,E;for(Array.isArray(d)||(d=[d]),y=0;y<c.length;y++)for(m=c[y],E=0;E<d.length;E++)m.hasTarget(d[E])&&g.push(m);if(v)for(c=this._pending,y=0;y<c.length;y++)for(m=c[y],E=0;E<d.length;E++)m.hasTarget(d[E])&&g.push(m);return g},isTweening:function(d){for(var v=this._active,c,m=0;m<v.length;m++)if(c=v[m],c.hasTarget(d)&&c.isPlaying())return!0;return!1},killAll:function(){for(var d=this.getAllTweens(),v=0;v<d.length;v++)d[v].stop();return this},killTweensOf:function(d){for(var v=this.getTweensOf(d),c=0;c<v.length;c++)v[c].stop();return this},pauseAll:function(){for(var d=this._active,v=0;v<d.length;v++)d[v].pause();return this},resumeAll:function(){for(var d=this._active,v=0;v<d.length;v++)d[v].resume();return this},setGlobalTimeScale:function(d){return this.timeScale=d,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var d=this.systems.events;d.off(a.PRE_UPDATE,this.preUpdate,this),d.off(a.UPDATE,this.update,this),d.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",h,"tweens"),l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(l,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(f,i){for(var r=new Uint8Array(f),a=r.length,n=i?"data:"+i+";base64,":"",s=0;s<a;s+=3)n+=t[r[s]>>2],n+=t[(r[s]&3)<<4|r[s+1]>>4],n+=t[(r[s+1]&15)<<2|r[s+2]>>6],n+=t[r[s+2]&63];return a%3===2?n=n.substring(0,n.length-1)+"=":a%3===1&&(n=n.substring(0,n.length-2)+"=="),n};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),f=t(18),i=function(r,a,n,s,u){u===void 0&&(u=n);var o=e(r,a,u);return f(o,n,s)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){for(var i=0;i<f.length;i++)if(!e.hasOwnProperty(f[i]))return!1;return!0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),f=function(i,r){var a=e(i);for(var n in r)a.hasOwnProperty(n)&&(a[n]=r[n]);return a};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return e.replace(/%([0-9]+)/g,function(i,r){return f[Number(r)-1]})};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,f){return f===0?e.slice(1):e.slice(0,f-1)+e.slice(f)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Arcade:t(1366),Matter:t(1494)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var f=0;if(!Array.isArray(e))f=e;else for(var i=0;i<e.length;i++)f|=e[i];return this.body.collisionFilter.mask=f,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,f){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i].hasOwnProperty("body")?e[i].body:e[i];this.body.setOnCollideWith(r,f)}return this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),f={applyForce:function(i){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,i),this},applyForceFrom:function(i,r){return e.applyForce(this.body,i,r),this},thrust:function(i){var r=this.body.angle;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(i){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(i){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(i){var r=this.body.angle-Math.PI;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,f,i){return this.body.friction=e,f!==void 0&&(this.body.frictionAir=f),i!==void 0&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),f=t(3),i={setMass:function(r){return e.setMass(this.body,r),this},setDensity:function(r){return e.setDensity(this.body,r),this},centerOfMass:{get:function(){return new f(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),f=t(41),i=t(124),r=t(2),a=t(589),n=t(590),s=t(64),u={setRectangle:function(o,h,d){return this.setBody({type:"rectangle",width:o,height:h},d)},setCircle:function(o,h){return this.setBody({type:"circle",radius:o},h)},setPolygon:function(o,h,d){return this.setBody({type:"polygon",sides:h,radius:o},d)},setTrapezoid:function(o,h,d,v){return this.setBody({type:"trapezoid",width:o,height:h,slope:d},v)},setExistingBody:function(o,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=o;for(var d=0;d<o.parts.length;d++)o.parts[d].gameObject=this;var v=this;if(o.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},h&&(this.world.has(o)&&this.world.remove(o,!0),this.world.add(o)),this._originComponent){var c=o.render.sprite.xOffset,m=o.render.sprite.yOffset,g=o.centerOfMass.x,y=o.centerOfMass.y;if(i(g,.5)&&i(y,.5))this.setOrigin(c+.5,m+.5);else{var E=o.centerOffset.x,S=o.centerOffset.y;this.setOrigin(c+E/this.displayWidth,m+S/this.displayHeight)}}return this},setBody:function(o,h){if(!o)return this;var d;typeof o=="string"&&(o={type:o});var v=r(o,"type","rectangle"),c=r(o,"x",this._tempVec2.x),m=r(o,"y",this._tempVec2.y),g=r(o,"width",this.width),y=r(o,"height",this.height);switch(v){case"rectangle":d=e.rectangle(c,m,g,y,h);break;case"circle":var E=r(o,"radius",Math.max(g,y)/2),S=r(o,"maxSides",25);d=e.circle(c,m,E,h,S);break;case"trapezoid":var C=r(o,"slope",.5);d=e.trapezoid(c,m,g,y,C,h);break;case"polygon":var P=r(o,"sides",5),A=r(o,"radius",Math.max(g,y)/2);d=e.polygon(c,m,P,A,h);break;case"fromVertices":case"fromVerts":var R=r(o,"verts",null);if(R)if(typeof R=="string"&&(R=s.fromPath(R)),this.body&&!this.body.hasOwnProperty("temp"))f.setVertices(this.body,R),d=this.body;else{var M=r(o,"flagInternal",!1),L=r(o,"removeCollinear",.01),F=r(o,"minimumArea",10);d=e.fromVertices(c,m,R,h,M,L,F)}break;case"fromPhysicsEditor":d=a.parseBody(c,m,o,h);break;case"fromPhysicsTracer":d=n.parseBody(c,m,o,h);break}return d&&this.setExistingBody(d,o.addToWorld),this}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),f=t(165),i=t(166),r={setToSleep:function(){return f.set(this.body,!0),this},setAwake:function(){return f.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,n){return this.setSleepStartEvent(a),this.setSleepEndEvent(n),this},setSleepStartEvent:function(a){if(a){var n=this.world;i.on(this.body,"sleepStart",function(s){n.emit(e.SLEEP_START,s,this)})}else i.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var n=this.world;i.on(this.body,"sleepEnd",function(s){n.emit(e.SLEEP_END,s,this)})}else i.off(this.body,"sleepEnd");return this}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afteradd"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterremove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeadd"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeremove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionactive"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepstart"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),f={setStatic:function(i){return e.setStatic(this.body,i),this},isStatic:function(){return this.body.isStatic}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),f=t(14),i=t(269),r=t(270),a=4,n={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var u=1/this._scaleX,o=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,u,o),e.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var u=1/this._scaleX,o=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,u,o),e.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*f.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*f.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=i(s),e.setAngle(this.body,this._rotation)}},setPosition:function(s,u){return s===void 0&&(s=0),u===void 0&&(u=s),this._tempVec2.set(s,u),e.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=i(s),e.setAngle(this.body,s),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,e.setAngle(this.body,this.rotation),this},setScale:function(s,u,o){s===void 0&&(s=1),u===void 0&&(u=s);var h=1/this._scaleX,d=1/this._scaleY;return this._scaleX=s,this._scaleY=u,e.scale(this.body,h,d,o),e.scale(this.body,s,u,o),this}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),f={setAngularVelocity:function(i){return e.setAngularVelocity(this.body,i),this},setVelocityX:function(i){return this._tempVec2.set(i,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(i){return this._tempVec2.set(this.body.velocity.x,i),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(i,r){return this._tempVec2.set(i,r),e.setVelocity(this.body,this._tempVec2),this}};l.exports=f},function(l,x,t){var e={};l.exports=e;var f=t(118),i=t(32);(function(){e.create=function(r){var a={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return i.extend(a,!1,r)},e.reset=function(r){r.extended&&(r.narrowDetections=0,r.narrowphaseTests=0,r.narrowReuse=0,r.narrowReuseCount=0,r.midphaseTests=0,r.broadphaseTests=0,r.narrowEff=0,r.midEff=0,r.broadEff=0,r.collisions=0,r.buckets=0,r.pairs=0,r.bodies=0)},e.update=function(r,a){if(r.extended){var n=a.world,s=f.allBodies(n);r.collisions=r.narrowDetections,r.pairs=a.pairs.list.length,r.bodies=s.length,r.midEff=(r.narrowDetections/(r.midphaseTests||1)).toFixed(2),r.narrowEff=(r.narrowDetections/(r.narrowphaseTests||1)).toFixed(2),r.broadEff=(1-r.broadphaseTests/(s.length||1)).toFixed(2),r.narrowReuse=(r.narrowReuseCount/(r.narrowphaseTests||1)).toFixed(2)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),f=t(271),i=t(86),r=t(41),a=t(1392),n=t(84),s=t(0),u=t(118),o=t(591),h=t(128),d=t(273),v=t(50),c=t(1394),m=t(2),g=t(6),y=t(597),E=t(1525),S=t(1526),C=t(1399),P=t(1527),A=t(127),R=t(250),M=t(598),L=t(595),F=t(24),I=t(1400),N=t(599),z=t(274),W=t(20),$=t(592),Z=t(83),D=t(64),O=t(1402),B=new s({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=u,this.detector=d,this.grid=y,this.pair=R,this.pairs=M,this.query=I,this.resolver=N,this.sat=z,this.constraint=h,this.bodies=i,this.composites=o,this.axes=f,this.bounds=n,this.svg=$,this.vector=Z,this.vertices=D,this.verts=D,this._tempVec2=Z.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),N._restingThresh=g(this.config,"restingThresh",4),N._restingThreshTangent=g(this.config,"restingThreshTangent",6),N._positionDampen=g(this.config,"positionDampen",.9),N._positionWarming=g(this.config,"positionWarming",.8),N._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(W.BOOT,this.boot,this),Y.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new c(this.world),this.bodyBounds=new a,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new c(this.world));var G=this.systems.events;G.on(W.UPDATE,this.world.update,this.world),G.on(W.POST_UPDATE,this.world.postUpdate,this.world),G.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var G=this.systems.game.config.physics,Y=this.systems.settings.physics,V=A(m(Y,"matter",{}),m(G,"matter",{}));return V},enableAttractorPlugin:function(){return L.register(E),L.use(C,E),this},enableWrapPlugin:function(){return L.register(P),L.use(C,P),this},enableCollisionEventsPlugin:function(){return L.register(S),L.use(C,S),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(G,Y){this.world.step(G,Y)},containsPoint:function(G,Y,V){G=this.getMatterBodies(G);var b=Z.create(Y,V),H=I.point(G,b);return H.length>0},intersectPoint:function(G,Y,V){V=this.getMatterBodies(V);var b=Z.create(G,Y),H=[],j=I.point(V,b);return j.forEach(function(q){H.indexOf(q)===-1&&H.push(q)}),H},intersectRect:function(G,Y,V,b,H,j){H===void 0&&(H=!1),j=this.getMatterBodies(j);var q={min:{x:G,y:Y},max:{x:G+V,y:Y+b}},et=[],ot=I.region(j,q,H);return ot.forEach(function(K){et.indexOf(K)===-1&&et.push(K)}),et},intersectRay:function(G,Y,V,b,H,j){H===void 0&&(H=1),j=this.getMatterBodies(j);for(var q=[],et=I.ray(j,Z.create(G,Y),Z.create(V,b),H),ot=0;ot<et.length;ot++)q.push(et[ot].body);return q},intersectBody:function(G,Y){Y=this.getMatterBodies(Y);for(var V=[],b=I.collides(G,Y),H=0;H<b.length;H++){var j=b[H];j.bodyA===G?V.push(j.bodyB):V.push(j.bodyA)}return V},overlap:function(G,Y,V,b,H){V===void 0&&(V=null),b===void 0&&(b=null),H===void 0&&(H=V),Array.isArray(G)||(G=[G]),G=this.getMatterBodies(G),Y=this.getMatterBodies(Y);for(var j=!1,q=0;q<G.length;q++)for(var et=G[q],ot=I.collides(et,Y),K=0;K<ot.length;K++){var Q=ot[K],tt=Q.bodyA.id===et.id?Q.bodyB:Q.bodyA;if(!b||b.call(H,et,tt,Q)){if(j=!0,V)V.call(H,et,tt,Q);else if(!b)return!0}}return j},setCollisionCategory:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){V.collisionFilter.category=Y}),this},setCollisionGroup:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){V.collisionFilter.group=Y}),this},setCollidesWith:function(G,Y){G=this.getMatterBodies(G);var V=0;if(!Array.isArray(Y))V=Y;else for(var b=0;b<Y.length;b++)V|=Y[b];return G.forEach(function(H){H.collisionFilter.mask=V}),this},getMatterBodies:function(G){if(!G)return this.world.getAllBodies();Array.isArray(G)||(G=[G]);for(var Y=[],V=0;V<G.length;V++){var b=G[V].hasOwnProperty("body")?G[V].body:G[V];Y.push(b)}return Y},setVelocity:function(G,Y,V){G=this.getMatterBodies(G);var b=this._tempVec2;return b.x=Y,b.y=V,G.forEach(function(H){r.setVelocity(H,b)}),this},setVelocityX:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return V.x=Y,G.forEach(function(b){V.y=b.velocity.y,r.setVelocity(b,V)}),this},setVelocityY:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return V.y=Y,G.forEach(function(b){V.x=b.velocity.x,r.setVelocity(b,V)}),this},setAngularVelocity:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){r.setAngularVelocity(V,Y)}),this},applyForce:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return G.forEach(function(b){V.x=b.position.x,V.y=b.position.y,r.applyForce(b,V,Y)}),this},applyForceFromPosition:function(G,Y,V,b){G=this.getMatterBodies(G);var H=this._tempVec2;return G.forEach(function(j){b===void 0&&(b=j.angle),H.x=V*Math.cos(b),H.y=V*Math.sin(b),r.applyForce(j,Y,H)}),this},applyForceFromAngle:function(G,Y,V){G=this.getMatterBodies(G);var b=this._tempVec2;return G.forEach(function(H){V===void 0&&(V=H.angle),b.x=Y*Math.cos(V),b.y=Y*Math.sin(V),r.applyForce(H,{x:H.position.x,y:H.position.y},b)}),this},getConstraintLength:function(G){var Y=G.pointA.x,V=G.pointA.y,b=G.pointB.x,H=G.pointB.y;return G.bodyA&&(Y+=G.bodyA.position.x,V+=G.bodyA.position.y),G.bodyB&&(b+=G.bodyB.position.x,H+=G.bodyB.position.y),v(Y,V,b,H)},alignBody:function(G,Y,V,b){G=G.hasOwnProperty("body")?G.body:G;var H;switch(b){case e.TOP_LEFT:case e.LEFT_TOP:H=this.bodyBounds.getTopLeft(G,Y,V);break;case e.TOP_CENTER:H=this.bodyBounds.getTopCenter(G,Y,V);break;case e.TOP_RIGHT:case e.RIGHT_TOP:H=this.bodyBounds.getTopRight(G,Y,V);break;case e.LEFT_CENTER:H=this.bodyBounds.getLeftCenter(G,Y,V);break;case e.CENTER:H=this.bodyBounds.getCenter(G,Y,V);break;case e.RIGHT_CENTER:H=this.bodyBounds.getRightCenter(G,Y,V);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:H=this.bodyBounds.getBottomLeft(G,Y,V);break;case e.BOTTOM_CENTER:H=this.bodyBounds.getBottomCenter(G,Y,V);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:H=this.bodyBounds.getBottomRight(G,Y,V);break}return H&&r.setPosition(G,H),this},shutdown:function(){var G=this.systems.events;this.world&&(G.off(W.UPDATE,this.world.update,this.world),G.off(W.POST_UPDATE,this.world.postUpdate,this.world)),G.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",B,"matterPhysics"),l.exports=B},function(l,x,t){var e=t(594),f={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Body.create",function(){f.Body.init(this)}),i.before("Engine.update",function(r){f.Engine.update(r)})},Body:{init:function(i){i.plugin.attractors=i.plugin.attractors||[]}},Engine:{update:function(i){for(var r=e.Composite.allBodies(i.world),a=0;a<r.length;a++){var n=r[a],s=n.plugin.attractors;if(s&&s.length>0)for(var u=0;u<r.length;u++){var o=r[u];if(a!==u)for(var h=0;h<s.length;h++){var d=s[h],v=d;e.Common.isFunction(d)&&(v=d(n,o)),v&&e.Body.applyForce(o,o.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(i,r){var a=e.Vector.sub(r.position,i.position),n=e.Vector.magnitudeSquared(a)||1e-4,s=e.Vector.normalise(a),u=-f.Attractors.gravityConstant*(i.mass*r.mass/n),o=e.Vector.mult(s,u);e.Body.applyForce(i,i.position,e.Vector.neg(o)),e.Body.applyForce(r,r.position,o)}}};l.exports=f},function(l,x){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(f){f.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collide",r,a,i),a.gameObject&&a.gameObject.emit("collide",a,r,i),e.Events.trigger(r,"onCollide",{pair:i}),e.Events.trigger(a,"onCollide",{pair:i}),r.onCollideCallback&&r.onCollideCallback(i),a.onCollideCallback&&a.onCollideCallback(i),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,i),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,i)})}),e.Events.on(this,"collisionActive",function(f){f.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collideActive",r,a,i),a.gameObject&&a.gameObject.emit("collideActive",a,r,i),e.Events.trigger(r,"onCollideActive",{pair:i}),e.Events.trigger(a,"onCollideActive",{pair:i}),r.onCollideActiveCallback&&r.onCollideActiveCallback(i),a.onCollideActiveCallback&&a.onCollideActiveCallback(i)})}),e.Events.on(this,"collisionEnd",function(f){f.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collideEnd",r,a,i),a.gameObject&&a.gameObject.emit("collideEnd",a,r,i),e.Events.trigger(r,"onCollideEnd",{pair:i}),e.Events.trigger(a,"onCollideEnd",{pair:i}),r.onCollideEndCallback&&r.onCollideEndCallback(i),a.onCollideEndCallback&&a.onCollideEndCallback(i)})})})}};l.exports=t},function(l,x,t){var e=t(594),f={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Engine.update",function(){f.Engine.update(this)})},Engine:{update:function(i){for(var r=i.world,a=e.Composite.allBodies(r),n=e.Composite.allComposites(r),s=0;s<a.length;s+=1){var u=a[s];u.plugin.wrap&&f.Body.wrap(u,u.plugin.wrap)}for(s=0;s<n.length;s+=1){var o=n[s];o.plugin.wrap&&f.Composite.wrap(o,o.plugin.wrap)}}},Bounds:{wrap:function(i,r){var a=null,n=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(i.min.x>r.max.x?a=r.min.x-i.max.x:i.max.x<r.min.x&&(a=r.max.x-i.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(i.min.y>r.max.y?n=r.min.y-i.max.y:i.max.y<r.min.y&&(n=r.max.y-i.min.y)),a!==null||n!==null)return{x:a||0,y:n||0}}},Body:{wrap:function(i,r){var a=f.Bounds.wrap(i.bounds,r);return a&&e.Body.translate(i,a),a}},Composite:{bounds:function(i){for(var r=e.Composite.allBodies(i),a=[],n=0;n<r.length;n+=1){var s=r[n];a.push(s.bounds.min,s.bounds.max)}return e.Bounds.create(a)},wrap:function(i,r){var a=f.Bounds.wrap(f.Composite.bounds(i),r);return a&&e.Composite.translate(i,a),a}}};l.exports=f},function(l,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var f=t(33),i=t(17),r={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};r.Sound=t(1492),r=i(!1,r,f),l.exports=r,e.Phaser=r}).call(this,t(600))}])})})(BT);const Eh=NT(Zi),wT="/nuclear-defender/oil-7a554a87.wav",GT="/nuclear-defender/boxOnTarget-cb714b39.wav",VT="/nuclear-defender/pushingBox-cd1aacdc.wav",UT="/nuclear-defender/spring-engage-9bfef7b3.m4a",YT="/nuclear-defender/spring-release-a716dff8.wav",zT="/nuclear-defender/treadmil-uncover-20466bdb.wav",bT="/nuclear-defender/victory-76461a6a.wav",Tn={oil:{key:"oilKey",resource:wT},springEngage:{key:"springEngageKey",resource:UT},springRelease:{key:"springReleaseKey",resource:YT},boxOnTarget:{key:"boxOnTargetKey",resource:GT},treadmil:{key:"treadmilKey",resource:zT},victory:{key:"victoryKey",resource:bT},pushingBox:{key:"pushingBoxKey",resource:VT}};class fe{constructor(T,l){gt(this,"_x",0);gt(this,"_y",0);this._x=T,this._y=l}get x(){return this._x}set x(T){this._x=T}get y(){return this._y}set y(T){this._y=T}clone(){return new fe(this._x,this._y)}normalize(){const T=this.size();return new fe(this._x/T,this._y/T)}isEqualTo(T){return this.x===T.x&&this.y===T.y}isDifferentOf(T){return!this.isEqualTo(T)}calculateOffset(T){const l=new fe(0,0);return T===$t.LEFT?l.x-=1:T===$t.RIGHT&&(l.x+=1),T===$t.UP?l.y-=1:T===$t.DOWN&&(l.y+=1),this.sum(l)}subtract(T){return new fe(this.x-T.x,this.y-T.y)}sum(T){return new fe(this.x+T.x,this.y+T.y)}multiply(T){return new fe(this.x*T,this.y*T)}size(){return Math.sqrt(this.quadractricSize())}quadractricSize(){return this.x*this.x+this.y+this.y}}var $t=(p=>(p[p.DOWN=0]="DOWN",p[p.UP=1]="UP",p[p.LEFT=2]="LEFT",p[p.RIGHT=3]="RIGHT",p))($t||{});const Sp=()=>Object.keys($t).filter(p=>!isNaN(Number(p))).map(p=>Number(p)),il=()=>Sp().map(p=>$t[p]),Sh=p=>{switch(p){case 1:return 0;case 3:return 2;case 0:return 1;case 2:return 3}},ga=new Map;ga.set("u",1);ga.set("l",2);ga.set("d",0);ga.set("r",3);const WT=p=>ga.get(p.toLowerCase()),Wl=p=>{switch(p){case 2:return new fe(-1,0);case 1:return new fe(0,-1);case 3:return new fe(1,0);case 0:return new fe(0,1)}};class XT{constructor(){gt(this,"shortcutKeys");this.shortcutKeys=new Map}enable(T){T.input.keyboard.enabled=!0,T.game.input.enabled=!0,this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.Z),{}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.R),{event:je.RESTART_LEVEL}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.Q),{event:je.QUIT_LEVEL}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.LEFT),{event:je.HERO_DIRECTION_INPUT,args:$t.LEFT}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.RIGHT),{event:je.HERO_DIRECTION_INPUT,args:$t.RIGHT}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.UP),{event:je.HERO_DIRECTION_INPUT,args:$t.UP}),this.shortcutKeys.set(T.input.keyboard.addKey(Zi.Input.Keyboard.KeyCodes.DOWN),{event:je.HERO_DIRECTION_INPUT,args:$t.DOWN})}clear(){this.shortcutKeys.clear()}update(){Array.from(this.shortcutKeys.entries()).forEach(T=>{const[l,x]=T;Zi.Input.Keyboard.JustDown(l)&&Ri.emit(x.event,x.args)})}}const HT="/nuclear-defender/floor_texture-2d04b708.jpg",$T="/nuclear-defender/sokoban_tilesheet_new-f678deda.png",KT="/nuclear-defender/sprites-v2-919a9bdd.png",ZT="/nuclear-defender/transparent-selector-4fd349b9.png",Cp="/nuclear-defender/thumbnail-faf1c6ed.png",JT="/nuclear-defender/sokoban_tilessheet_normal-602391dc.png";class QT{distance(T,l){return Math.abs(T.x-l.x)+Math.abs(T.y-l.y)}}const Vd=.79,Ud=50,Yd=40,Ct={frameRate:8,updateCycleInMs:175,floorTextureKey:"floorTexture",floorTexture:HT,selectorTextureKey:"selectorTextureKey",selectorTextureFile:ZT,thumbnailTextureKey:"thumbNailTextureKey",thumbnailTextureFile:Cp,tiles:{verticalPerspective:Vd,verticalSize:Ud,horizontalSize:Yd,newSpriteSheetKey:"newSheetAssetKey",wallSheetAsset:KT,spriteSheetKey:"tiles",sheetAsset:$T,sheetAssetNormal:JT,tilemapKey:"tilemap",layerName:"Level",tilesetName:"sokoban",numOfFramesPerLine:36,framesPerAnimation:3,oilFramesNum:4},world:{tileSize:{vertical:Math.trunc(Ud*Vd),horizontal:Yd},scaleLimits:{max:1.15,min:.15},scale:0,mapLimits:{lines:20,rows:20,features:30}},screenRatio:.7,gameWidth:800,gameHeight:600,colors:{foregroundColor:"#d6d6d6",radioactive:"#d4fa00",controlled:"#ff3c91",background:"#dddddd",ambientColor:"#BBBBBB"},html:{gameScene:{}},store:{numberOfEnabledLevelsKey:"numberOfEnabledLevelsKey",currentSelectedIndexKey:"currentSelectedIndexKey",customLevelKey:"customLevelKey",resolvedLevelsKey:"resolvedLevelsKey"},solver:{distanceCalculator:new QT,distanceToTheClosestBox:!1},debug:{mapEditorValidation:!1,solver:{metrics:!0,estimator:!0,iterationNumber:!1}}};var Et=(p=>(p[p.empty=0]="empty",p[p.box=9]="box",p[p.target=64]="target",p[p.wall=100]="wall",p[p.hero=52]="hero",p[p.floor=89]="floor",p[p.boxOnTarget=7]="boxOnTarget",p[p.treadmil=71]="treadmil",p[p.spring=73]="spring",p[p.oily=49]="oily",p[p.oneWayDoor=47]="oneWayDoor",p))(Et||{});const jT=[52,9],hi=new Map;hi.set("-",0);hi.set(" ",89);hi.set("f",89);hi.set("t",71);hi.set("w",47);hi.set("o",49);hi.set("s",73);hi.set("#",100);hi.set(".",64);hi.set("$",9);hi.set("b",9);hi.set("@",52);hi.set("p",52);const kT=p=>hi.get(p)||0,Ro=p=>{for(let[T,l]of hi.entries())if(l===p)return T},Eu=new Map;Eu.set(/\*/g,`[${Ro(9).concat(Ro(64))}]`);Eu.set(/\+/g,`[${Ro(52).concat(Ro(64))}]`);const qT=p=>{let T=p;for(let[l,x]of Eu)T=T.replace(l,x);return T};var Ae=(p=>(p[p.HERO=0]="HERO",p[p.SPRING=1]="SPRING",p[p.TREADMIL=2]="TREADMIL",p[p.ONE_WAY_DOOR_BACK=3]="ONE_WAY_DOOR_BACK",p[p.ONE_WAY_DOOR_FRONT=4]="ONE_WAY_DOOR_FRONT",p[p.BOX=5]="BOX",p[p.TARGET=6]="TARGET",p[p.OIL=7]="OIL",p[p.WALL=8]="WALL",p[p.FLOOR=9]="FLOOR",p))(Ae||{});class xa{calculate(T,l){let x=10;switch(T){case Et.floor:return-1e5;case Et.oily:return-9e4;case Et.treadmil:return-9e4;case Et.oneWayDoor:return-8e4;case Et.target:return-7e4}return l*100+x}newCalculate(T,l){let x=10;switch(T){case Ae.FLOOR:return-1e5;case Ae.OIL:return-9e4;case Ae.TREADMIL:return-9e4;case Ae.ONE_WAY_DOOR_BACK:return-8e4;case Ae.TARGET:return-7e4}return l*100+x}}class kn{constructor(T){gt(this,"config");this.config=T}createImage(T){return this.prepareGameObject(this.config.scene.add.image(this.config.worldPosition.x,this.config.worldPosition.y,Ct.tiles.newSpriteSheetKey,T))}createSprite(T){return this.prepareGameObject(this.config.scene.add.sprite(this.config.worldPosition.x,this.config.worldPosition.y,Ct.tiles.newSpriteSheetKey,T))}getCurrentInitialFrame(T,l,x){return T*Ct.tiles.numOfFramesPerLine+Ct.tiles.framesPerAnimation*4*x+Ct.tiles.framesPerAnimation*l}createAnimations(T,l,x){const t=[];return x.forEach((e,f)=>{l.forEach((i,r)=>{const a=this.getCurrentInitialFrame(T,r,f),n={key:e+"."+i,frames:Array.from(new Array(Ct.tiles.framesPerAnimation)).map((s,u)=>({key:Ct.tiles.newSpriteSheetKey,frame:a+u})),startFrame:a};t.push(n)})}),t}prepareGameObject(T){return T.scale=Ct.world.scale,T.setOrigin(0),T.setDepth(new xa().newCalculate(this.config.spriteSheetLine,T.y)),this.config.playable&&T.setPipeline("Light2D"),T}}var Br=(p=>(p[p.OFF_TARGET=0]="OFF_TARGET",p[p.ON_TARGET=1]="ON_TARGET",p))(Br||{});class _T{constructor(T){gt(this,"tweens");gt(this,"sprite");gt(this,"id");gt(this,"animationConfig");gt(this,"tilePosition");gt(this,"onTarget");gt(this,"currentTween");this.id=T.id,this.tilePosition=T.tilePosition,this.tweens=T.scene.tweens,this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.BOX,worldPosition:T.worldPosition};const l=new kn(this.animationConfig);this.sprite=l.createSprite(l.getCurrentInitialFrame(Ae.BOX,0,0));const x=Object.keys(Br).filter(t=>!isNaN(Number(t))).map(t=>Br[Number(t)]);l.createAnimations(Ae.BOX,x,["IDLE"]).forEach(t=>(console.log(t),this.sprite.anims.create(t)))}getTilePosition(){return this.tilePosition}getId(){return this.id}async update(T){if(!this.tilePosition.isEqualTo(T.tilePosition))return new Promise(l=>{var t,e;this.tilePosition=T.tilePosition,this.currentTween&&(console.log("abort ",this.id,this.tilePosition),(t=this.currentTween)==null||t.tween.stop(),console.log("stopped"),(e=this.currentTween)==null||e.resolve(),this.currentTween=void 0);const x={targets:this.sprite,x:T.spritePosition.x,y:T.spritePosition.y,duration:T.duration,onUpdate:()=>{this.sprite.setDepth(new xa().newCalculate(Ae.BOX,this.sprite.y))},onComplete:()=>{l(),this.currentTween=void 0}};this.currentTween={tween:this.tweens.add(x),resolve:l}})}getTileCode(){return Et.box}cover(T){const l=T.find(x=>x.getTileCode()===Et.target);if(l){this.sprite.anims.play({key:"IDLE."+Br[1],repeat:-1,duration:Ct.updateCycleInMs},!0);const x=l.getId();this.onTarget!==x&&(this.onTarget=x,this.animationConfig.scene.sound.play(Tn.boxOnTarget.key,{volume:.5}))}else this.onTarget!==void 0&&(this.onTarget=void 0,this.sprite.anims.play({key:"IDLE."+Br[0],repeat:-1,duration:Ct.updateCycleInMs},!0))}getIsOnTarget(){return this.onTarget!==void 0}}var Rn=(p=>(p[p.STAND=0]="STAND",p[p.LEFT=1]="LEFT",p[p.UP=2]="UP",p[p.RIGHT=3]="RIGHT",p[p.DOWN=4]="DOWN",p))(Rn||{});const Pp=p=>{switch(p){case 1:return $t.LEFT;case 2:return $t.UP;case 3:return $t.RIGHT;case 4:return $t.DOWN}},tE=p=>{switch(p){case $t.LEFT:return 1;case $t.UP:return 2;case $t.RIGHT:return 3;case $t.DOWN:return 4}return 0},Ap=p=>{switch(p){case"s":return 0;case"l":return 1;case"u":return 2;case"r":return 3;case"d":return 4}},Mp=p=>Rn[p].charAt(0).toLowerCase();class eE{constructor(T){gt(this,"engine");gt(this,"mementos");this.engine=T,this.mementos=[]}getPlayerMoves(){return this.mementos.map(T=>T.input.heroAction)}getLastActionResult(){var T;return(T=this.mementos[this.mementos.length-1])==null?void 0:T.output}registerMovement(T,l){const x={input:T,output:l};this.mementos.push(x)}async undo(){console.log("mementos: "+this.mementos.length);for(let T=this.mementos.length-1;T>0;--T){const l=this.mementos.pop();if(!l)return;if(l.input.heroAction===Rn.STAND)continue;const x={boxes:l.output.boxes.map(t=>({id:t.id,currentPosition:t.nextPosition,code:t.code,nextPosition:t.currentPosition,direction:t.direction})),hero:{id:l.output.hero.id,code:l.output.hero.code,currentPosition:l.output.hero.nextPosition,nextPosition:l.output.hero.currentPosition,direction:l.output.hero.direction},mapChanged:!0};console.log(l),await this.engine.updateAnimations(x);return}}}class iE{constructor(T){gt(this,"coordinator");gt(this,"position");this.coordinator=T.coordinator,this.position=new fe(0,0)}allowEnteringMovement(){return!1}allowLeavingMovement(){return!0}getTile(){return Et.hero}getPosition(){return this.position}getOrientation(){}act(T){this.position=T.hero.position;let l=!1;if(T.hero.action!==Rn.STAND){const x=Pp(T.hero.action);if(!this.coordinator.canFeatureLeavePosition({point:this.position,orientation:x}))return!1;const t=T.hero.position.calculateOffset(x),e={point:t,orientation:x};if(this.featureAheadAllowsMovement(e)){l=!0,this.coordinator.moveHero(x);const f=T.boxes.find(i=>i.nextPosition.isEqualTo(t));f&&this.coordinator.moveFeature(f,x)}}return l}featureAheadAllowsMovement(T){const l=this.coordinator.getFeaturesBlockingMoveIntoPosition(T);if(l.length>=1){if(l.length===1&&l[0].code===Et.box){if(!this.coordinator.canFeatureLeavePosition(T))return!1;const x=T.point.calculateOffset(T.orientation);return this.coordinator.getFeaturesBlockingMoveIntoPosition({point:x,orientation:T.orientation}).length<=0}return!1}return!0}}class nE{constructor(T){gt(this,"position");gt(this,"orientation");gt(this,"coordinator");gt(this,"nextTilePosition");this.position=T.position,this.orientation=T.orientation,this.coordinator=T.coordinator,this.nextTilePosition=this.position.calculateOffset(this.orientation)}act(T){let l=!1;return T.boxes.filter(x=>x.currentPosition.isEqualTo(this.position)&&x.currentPosition.isEqualTo(x.nextPosition)).forEach(x=>{const t=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:this.nextTilePosition,orientation:this.orientation});if(t.length<=0)this.coordinator.moveFeature(x,this.orientation),l=!0;else{const e=t.find(f=>ps.PUSHER_FEATURES.has(f.code));e&&t.some(f=>{var s,u;const i=f.code===Et.hero||f.code===Et.box,r=(s=f.currentPosition)==null?void 0:s.isDifferentOf(f.nextPosition),a=f.direction!==e.direction;return i&&((u=f.currentPosition)==null?void 0:u.isEqualTo(this.nextTilePosition))&&r&&a})&&(this.coordinator.moveFeature(x,this.orientation),l=!0)}}),l}allowEnteringMovement(T){return this.coordinator.getFeaturesAtPosition(this.position).some(x=>x.code===Et.box)?this.orientation!==T:this.orientation===Sh(T)}allowLeavingMovement(T){return this.orientation!==Sh(T)}getTile(){return Et.spring}getPosition(){return this.position}getOrientation(){return this.orientation}}class sE{constructor(T){gt(this,"position");gt(this,"orientation");gt(this,"coordinator");gt(this,"nextTilePosition");this.position=T.position,this.orientation=T.orientation,this.coordinator=T.coordinator,this.nextTilePosition=this.position.calculateOffset(this.orientation)}act(T){let l=!1;return T.boxes.filter(x=>x.currentPosition.isEqualTo(this.position)&&x.currentPosition.isEqualTo(x.nextPosition)).forEach(x=>{const t=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:this.nextTilePosition,orientation:this.orientation});if(t.length<=0)l=this.move(x);else{const e=t.find(f=>ps.PUSHER_FEATURES.has(f.code));e&&t.some(f=>{var s,u;const i=f.code===Et.hero||f.code===Et.box,r=(s=f.currentPosition)==null?void 0:s.isDifferentOf(f.nextPosition),a=f.direction!==e.direction;return i&&((u=f.currentPosition)==null?void 0:u.isEqualTo(this.nextTilePosition))&&r&&a})&&(l=this.move(x))}}),l}move(T){return this.coordinator.moveFeature(T,this.orientation),!0}allowEnteringMovement(){return!0}allowLeavingMovement(){return!0}getTile(){return Et.spring}getPosition(){return this.position}getOrientation(){return this.orientation}}class rE{constructor(T){gt(this,"position");gt(this,"coordinator");this.position=T.position,this.coordinator=T.coordinator}act(T){var t;let l=!1;const x=(t=T.lastActionResult)==null?void 0:t.boxes.find(e=>e.nextPosition.isEqualTo(this.position)&&e.currentPosition.isDifferentOf(e.nextPosition));if(x){const e=T.boxes.find(r=>r.id===x.id),f=x.direction,i=this.position.calculateOffset(f);if(i.isDifferentOf(T.hero.position)){const r=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:i,orientation:f}),a=e.currentPosition.isDifferentOf(e.nextPosition);r.length<=0&&!a&&(this.coordinator.moveFeature(e,f),l=!0)}}return l}allowEnteringMovement(){return!0}allowLeavingMovement(){return!0}getOrientation(){}getTile(){return Et.oily}getPosition(){return this.position}}class aE{constructor(T){gt(this,"position");gt(this,"orientation");this.position=T.position,this.orientation=T.orientation}act(){return!1}allowEnteringMovement(T){return this.orientation===T}allowLeavingMovement(T){return this.orientation===T||this.orientation===Sh(T)}getTile(){return Et.oneWayDoor}getPosition(){return this.position}getOrientation(){return this.orientation}}const Au=class{constructor(T){gt(this,"strippedMap");gt(this,"movementHandlers",[]);gt(this,"hero");gt(this,"boxes");this.strippedMap=T.strippedMap,this.movementHandlers.push(new iE({coordinator:this})),this.movementHandlers.push(...this.findTileOrientedPositions(Et.spring,l=>new nE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(Et.oily,l=>new rE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(Et.oneWayDoor,l=>new aE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(Et.treadmil,l=>new sE(l)))}moveHero(T){this.moveFeature(this.hero,T)}moveFeature(T,l){T.direction=l,T.currentPosition=T.nextPosition,T.nextPosition=T.currentPosition.calculateOffset(l)}update(T){this.hero=this.initializeFeature(T.hero,Et.hero),this.boxes=T.boxes.map(t=>this.initializeFeature(t,Et.box));const l={hero:{action:T.heroAction,position:this.hero.nextPosition},boxes:this.boxes,lastActionResult:T.lastActionResult},x=this.movementHandlers.reduce((t,e)=>e.act(l)||t,!1);return{hero:this.hero,boxes:this.boxes,mapChanged:x}}canFeatureLeavePosition(T){const l=this.getFeaturesAtPosition(T.point);return this.movementHandlers.filter(t=>l.some(e=>e.code===t.getTile()&&T.point.isEqualTo(t.getPosition()))).every(t=>t.allowLeavingMovement(T.orientation))}getFeaturesBlockingMoveIntoPosition(T){const l=[],x=this.getFeaturesAtPosition(T.point);l.push(...x.filter(e=>Au.BLOCKER_FEATURES.has(e.code)).map(e=>e));const t=this.getStaticFeaturesAtPosition(T.point);return l.push(...this.movementHandlers.filter(e=>t.some(f=>f.code===e.getTile()&&T.point.isEqualTo(e.getPosition()))).filter(e=>!e.allowEnteringMovement(T.orientation)).map(e=>({code:e.getTile(),direction:e.getOrientation(),nextPosition:T.point,currentPosition:T.point,id:-1}))),[...new Set(l)]}initializeFeature(T,l){return{id:T.id,currentPosition:T.point,nextPosition:T.point,direction:void 0,code:l}}getFeaturesAtPosition(T){let l=this.getDynamicFeaturesAtPosition(T);return l=l.concat(this.getStaticFeaturesAtPosition(T)),l}getDynamicFeaturesAtPosition(T){var x,t,e;let l=[];return((x=this.hero)!=null&&x.currentPosition.isEqualTo(T)||(t=this.hero)!=null&&t.nextPosition.isEqualTo(T))&&l.push(this.hero),(e=this.boxes)==null||e.filter(f=>f.currentPosition.isEqualTo(T)||f.nextPosition.isEqualTo(T)).forEach(f=>l.push(f)),l}getStaticFeaturesAtPosition(T){const l=[];let x=0;if(T.x<this.strippedMap.width&&T.y<this.strippedMap.height&&T.x>=0&&T.y>=0){const t=this.strippedMap.strippedFeatureLayeredMatrix[T.y][T.x];l.push(...t.map(e=>({code:e.code,currentPosition:T,direction:e.orientation,id:++x,nextPosition:T})))}return l}findTileOrientedPositions(T,l){const x=[];return this.strippedMap.strippedFeatureLayeredMatrix.forEach((t,e)=>t.forEach((f,i)=>f.forEach(r=>{r.code===T&&x.push(l({position:new fe(i,e),orientation:r.orientation,coordinator:this}))}))),x}};let ps=Au;gt(ps,"BLOCKER_FEATURES",new Set([Et.box,Et.hero,Et.wall,Et.empty])),gt(ps,"PUSHER_FEATURES",new Set([Et.hero,Et.treadmil,Et.spring]));class oE{constructor(T){gt(this,"strippedMap");gt(this,"movementCoordinator");gt(this,"hero");gt(this,"boxes");gt(this,"staticActors");gt(this,"heroActionRecorder");gt(this,"nextMoves");gt(this,"levelComplete",!1);gt(this,"animationsAreOver");gt(this,"screenPropertiesCalculator");gt(this,"mapChangedLastCycle");this.screenPropertiesCalculator=T.screenPropertiesCalculator,this.hero=T.actorMap.get(Et.hero)[0],this.boxes=T.actorMap.get(Et.box),this.staticActors=[];for(let[l,x]of T.actorMap.entries())jT.includes(l)||this.staticActors.push(...x);this.strippedMap=T.strippedMap,this.nextMoves=[],this.levelComplete=!1,this.animationsAreOver=!0,this.mapChangedLastCycle=!0,this.heroActionRecorder=new eE(this),this.movementCoordinator=new ps({strippedMap:this.strippedMap}),this.updateActorsCoveringSituation(),Ri.listenToEvent(je.UNDO_BUTTON_CLICKED,async()=>this.heroActionRecorder.undo())}isLevelComplete(){return this.levelComplete}setInitialPlayerActions(T){this.nextMoves=T}getPlayerMoves(){return this.heroActionRecorder.getPlayerMoves()}async update(){if(this.animationsAreOver&&!this.levelComplete){const T=this.nextMoves.shift()||this.hero.checkAction();if(this.mapChangedLastCycle||T!==Rn.STAND){this.mapChangedLastCycle=!1;const l=this.heroActionRecorder.getLastActionResult(),x={heroAction:T,hero:{point:this.hero.getTilePosition(),id:this.hero.getId()},boxes:this.boxes.map(e=>({point:e.getTilePosition(),id:e.getId()})),lastActionResult:l},t=await this.movementCoordinator.update(x);this.heroActionRecorder.registerMovement(x,t),t.mapChanged&&(this.mapChangedLastCycle=!0,await this.updateAnimations(t),this.checkLevelComplete())}}}async updateAnimations(T){this.animationsAreOver=!1;const l=T.boxes.filter(t=>t.nextPosition.isDifferentOf(t.currentPosition)).map(async t=>{const e=this.boxes.find(i=>t.id===i.getId()),f=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(t.nextPosition);await e.update({duration:Ct.updateCycleInMs,spritePosition:f,tilePosition:t.nextPosition})}),x=async()=>{const t=T.hero,e=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(t.nextPosition);await this.hero.update({duration:Ct.updateCycleInMs,tilePosition:t.nextPosition,spritePosition:e,orientation:t.direction,animationPushedBox:!!T.boxes.find(f=>f.currentPosition.isEqualTo(t.nextPosition)&&f.direction===t.direction)})};l.push(x()),this.updateActorsCoveringSituation(),await Promise.all(l),this.animationsAreOver=!0}updateActorsCoveringSituation(){const T=this.boxes.concat(this.hero);this.strippedMap.strippedFeatureLayeredMatrix.forEach((l,x)=>l.forEach((t,e)=>{const f=new fe(e,x),i=T.filter(n=>n.getTilePosition().isEqualTo(f)),r=this.staticActors.filter(n=>n.getTilePosition().isEqualTo(f)),a=i.concat(r);a.forEach(n=>n.cover(a))}))}checkLevelComplete(){this.levelComplete=this.boxes.every(T=>T.getIsOnTarget())}}var hs=(p=>(p[p.IDLE=0]="IDLE",p[p.WALKING=1]="WALKING",p[p.PUSHING=2]="PUSHING",p))(hs||{});class lE{constructor(T){gt(this,"sprite");gt(this,"id");gt(this,"scene");gt(this,"tweens");gt(this,"animationConfig");gt(this,"tilePosition");gt(this,"orientation");gt(this,"actionInputBuffer");this.id=T.id,this.scene=T.scene,this.orientation=$t.DOWN,this.tilePosition=T.tilePosition,this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.HERO,worldPosition:T.worldPosition},Ri.listenToEvent(je.HERO_DIRECTION_INPUT,t=>this.actionInputBuffer=tE(t));const l=new kn(this.animationConfig);this.sprite=l.createSprite(l.getCurrentInitialFrame(Ae.HERO,this.orientation,0));const x=Object.keys(hs).filter(t=>!isNaN(Number(t))).map(t=>hs[Number(t)]);l.createAnimations(Ae.HERO,il(),x).forEach(t=>this.sprite.anims.create(t)),this.tweens=T.scene.tweens}getTilePosition(){return this.tilePosition}checkAction(){const T=this.actionInputBuffer||Rn.STAND;return T!==Rn.STAND&&(this.orientation=Pp(T),this.sprite.anims.play({key:hs[0]+"."+$t[this.orientation],repeat:-1,duration:Ct.updateCycleInMs},!0)),this.actionInputBuffer=void 0,T}async update(T){if(!this.tilePosition.isEqualTo(T.tilePosition))return new Promise(l=>{this.tilePosition=T.tilePosition,T.animationPushedBox&&(this.scene.sound.play(Tn.pushingBox.key,{volume:.25}),console.log(hs[2]+"."+$t[this.orientation])),T.orientation!==void 0&&(this.orientation=T.orientation),this.tweens.add({targets:this.sprite,x:T.spritePosition.x,y:T.spritePosition.y,duration:T.duration,onInit:()=>{this.sprite.anims.play({key:hs[1]+"."+$t[this.orientation],repeat:-1,duration:Ct.updateCycleInMs},!0)},onUpdate:()=>{this.sprite.setDepth(new xa().newCalculate(Ae.HERO,this.sprite.y))},onComplete:()=>{this.sprite.anims.play({key:hs[0]+"."+$t[this.orientation],repeat:-1,duration:Ct.updateCycleInMs},!0),l()},onCompleteScope:this})})}getTileCode(){return Et.hero}getId(){return this.id}cover(){}}class hE{constructor(T){gt(this,"id");gt(this,"tilePosition");gt(this,"adjacentPoints");gt(this,"contentAround");gt(this,"animationConfig");this.id=T.id,this.contentAround=T.contentAround,this.tilePosition=T.tilePosition,this.adjacentPoints=Sp().map(l=>Wl(l).sum(new fe(1,1))),this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.WALL,worldPosition:T.worldPosition},this.createPicture(),this.createCorners()}createPicture(){const T=this.adjacentPoints.reduce((l,x,t)=>l+(this.contentAround[x.y][x.x].some(e=>e.code===Et.wall)?0:Math.pow(2,t)),0);new kn(this.animationConfig).createImage(T+this.animationConfig.spriteSheetLine*Ct.tiles.numOfFramesPerLine)}createCorners(){[[$t.UP,$t.RIGHT],[$t.UP,$t.LEFT],[$t.LEFT,$t.DOWN],[$t.DOWN,$t.RIGHT]].forEach((l,x)=>{const t=l.reduce((e,f)=>e.sum(Wl(f)),new fe(1,1));if(l.every(e=>{const f=Wl(e).sum(new fe(1,1));return this.contentAround[f.y][f.x].some(i=>i.code===Et.wall)})&&this.contentAround[t.y][t.x].every(e=>e.code!==Et.wall)){const e=Math.pow(2,4)+x;new kn(this.animationConfig).createImage(e+this.animationConfig.spriteSheetLine*Ct.tiles.numOfFramesPerLine)}})}getId(){return this.id}getTileCode(){return Et.wall}getTilePosition(){return this.tilePosition}cover(){}}var Ks=(p=>(p[p.FACING=0]="FACING",p[p.COVERING=1]="COVERING",p[p.UNCOVERING=2]="UNCOVERING",p))(Ks||{});class uE{constructor(T){gt(this,"scene");gt(this,"sprite");gt(this,"id");gt(this,"orientation");gt(this,"tilePosition");gt(this,"animationConfig");gt(this,"covered");this.orientation=T.orientation,this.id=T.id,this.scene=T.scene,this.tilePosition=T.tilePosition,this.covered=!1,this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.SPRING,worldPosition:T.worldPosition};const l=new kn(this.animationConfig);this.sprite=l.createSprite(l.getCurrentInitialFrame(Ae.SPRING,this.orientation,0));const x=Object.keys(Ks).filter(t=>!isNaN(Number(t))).map(t=>Ks[Number(t)]);l.createAnimations(Ae.SPRING,il(),x).forEach(t=>this.sprite.anims.create(t))}cover(T){T.some(l=>l.getTileCode()===Et.hero||l.getTileCode()===Et.box)?this.covered||(this.covered=!0,this.scene.sound.play(Tn.springEngage.key,{volume:.15}),this.sprite.anims.play({key:Ks[1]+"."+$t[this.orientation],repeat:0,duration:Ct.updateCycleInMs},!0)):this.covered&&(this.scene.sound.play(Tn.springRelease.key,{volume:.15}),this.covered=!1,this.sprite.anims.play({key:Ks[2]+"."+$t[this.orientation],repeat:0},!0).once("animationcomplete",()=>{this.sprite.anims.play({key:Ks[0]+"."+$t[this.orientation],repeat:-1},!0)}))}getId(){return this.id}getTileCode(){return Et.spring}getTilePosition(){return this.tilePosition}}class fE{constructor(T){gt(this,"config");this.config=T}createSprite(T){return this.prepareGameObject(this.config.scene.add.sprite(this.config.worldPosition.x,this.config.worldPosition.y,this.config.assetSheetKey,T))}createImage(T){return this.prepareGameObject(this.config.scene.add.image(this.config.worldPosition.x,this.config.worldPosition.y,this.config.assetSheetKey,T))}prepareGameObject(T){return T.scale=Ct.world.scale,T.setOrigin(0),T.setDepth(new xa().calculate(this.config.code,T.y)),this.config.playable&&T.setPipeline("Light2D"),T}}const en=class{constructor(T){gt(this,"sprite");gt(this,"scene");gt(this,"id");gt(this,"tilePosition");gt(this,"coveredBy");gt(this,"intensityModifier");this.id=T.id,this.scene=T.scene,this.tilePosition=T.tilePosition,this.sprite=new fE(T).createSprite(T.code),this.intensityModifier=1.5,T.contentAround.forEach(l=>l.forEach(x=>x.filter(t=>t.code===Et.target).forEach(()=>this.intensityModifier*=.66))),T.playable&&this.addLight()}addLight(){const T=this.scene.lights.addLight(this.sprite.x,this.sprite.y,en.LIGHT_RADIUS,en.LIGHT_UNCOVERED_COLOR,en.UNCOVERED_LIGHT_INTENSITY),l=new fe(Ct.world.tileSize.horizontal*.1,Ct.world.tileSize.horizontal*.1),x=new Phaser.Curves.Path;x.add(new Phaser.Curves.Ellipse(this.sprite.x,this.sprite.y,l.x,l.y));const t={t:0,vec:new Phaser.Math.Vector2};this.scene.tweens.add({targets:t,t:1,ease:"Linear",duration:Math.random()*5e3+3e3,useFrames:!0,onUpdate:()=>{const e=Math.random()*.15;this.coveredBy===Et.hero?T.intensity=en.HERO_COVERED_LIGHT_INTENSITY*this.intensityModifier+e:this.coveredBy===Et.wall?(T.setColor(en.LIGHT_COVERED_COLOR),T.intensity=en.BOX_COVERED_LIGHT_INTENSITY*this.intensityModifier+e):(T.setColor(en.LIGHT_UNCOVERED_COLOR),T.intensity=en.UNCOVERED_LIGHT_INTENSITY*this.intensityModifier+e);const f=x.getPoint(t.t,t.vec);this.sprite.setPosition(f.x,f.y),T.setPosition(f.x+this.sprite.width/2,f.y+this.sprite.height/2)},repeat:-1})}getTilePosition(){return this.tilePosition}cover(T){const l=T.find(x=>x.getTileCode()===Et.box||x.getTileCode()===Et.hero);l?this.coveredBy=l.getTileCode():this.coveredBy=void 0}getTileCode(){return Et.target}getId(){return this.id}};let vn=en;gt(vn,"UNCOVERED_LIGHT_INTENSITY",.66),gt(vn,"BOX_COVERED_LIGHT_INTENSITY",.15),gt(vn,"HERO_COVERED_LIGHT_INTENSITY",.05),gt(vn,"LIGHT_UNCOVERED_COLOR",Phaser.Display.Color.HexStringToColor(Ct.colors.radioactive).color),gt(vn,"LIGHT_COVERED_COLOR",Phaser.Display.Color.HexStringToColor(Ct.colors.controlled).color),gt(vn,"LIGHT_RADIUS",Ct.world.tileSize.horizontal*3);class dE{constructor(T){gt(this,"floorPic");gt(this,"floorMaskShape");gt(this,"screenPropertiesCalculator");this.screenPropertiesCalculator=T.screenPropertiesCalculator,this.floorMaskShape=T.scene.make.graphics({}),this.floorPic=T.scene.add.image(0,0,Ct.floorTextureKey),this.floorPic.scale=2*Ct.gameWidth/this.floorPic.width,T.playable&&this.floorPic.setPipeline("Light2D"),this.floorPic.setDepth(new xa().newCalculate(Ae.FLOOR,-10))}addTileMask(T){const x=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(T);this.floorMaskShape.beginPath(),this.floorMaskShape.fillRectShape(new Phaser.Geom.Rectangle(x.x,x.y,Ct.world.tileSize.horizontal,Ct.world.tileSize.vertical+10))}createMask(){const T=this.floorMaskShape.createGeometryMask();this.floorPic.setMask(T)}}var Zs=(p=>(p[p.FACING=0]="FACING",p[p.COVERING=1]="COVERING",p[p.UNCOVERING=2]="UNCOVERING",p))(Zs||{});class cE{constructor(T){gt(this,"scene");gt(this,"sprite");gt(this,"id");gt(this,"orientation");gt(this,"tilePosition");gt(this,"animationConfig");gt(this,"covered");this.orientation=T.orientation,this.id=T.id,this.scene=T.scene,this.tilePosition=T.tilePosition,this.covered=!1,this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.TREADMIL,worldPosition:T.worldPosition};const l=new kn(this.animationConfig);this.sprite=l.createSprite(l.getCurrentInitialFrame(Ae.TREADMIL,this.orientation,0));const x=Object.keys(Zs).filter(t=>!isNaN(Number(t))).map(t=>Zs[Number(t)]);l.createAnimations(Ae.TREADMIL,il(),x).forEach(t=>this.sprite.anims.create(t))}cover(T){T.some(l=>l.getTileCode()===Et.box)?(this.covered||this.sprite.anims.play({key:Zs[1]+"."+$t[this.orientation],repeat:0,duration:Ct.updateCycleInMs},!0),this.covered=!0):this.covered&&(this.covered=!1,this.scene.sound.play(Tn.treadmil.key,{volume:.35}),this.sprite.anims.play({key:Zs[2]+"."+$t[this.orientation],repeat:0,duration:Ct.updateCycleInMs},!0).once("animationcomplete",()=>{this.sprite.anims.play({key:Zs[0]+"."+$t[this.orientation],repeat:-1,duration:Ct.updateCycleInMs},!0)}))}getId(){return this.id}getTileCode(){return Et.treadmil}getTilePosition(){return this.tilePosition}}class vE{constructor(T){gt(this,"scene");gt(this,"id");gt(this,"tilePosition");gt(this,"animationConfig");gt(this,"covered");this.id=T.id,this.scene=T.scene,this.tilePosition=T.tilePosition,this.animationConfig={playable:T.playable,scene:T.scene,spriteSheetLine:Ae.OIL,worldPosition:T.worldPosition},new kn(this.animationConfig).createImage(this.animationConfig.spriteSheetLine*Ct.tiles.numOfFramesPerLine+Math.floor(Math.random()*Ct.tiles.oilFramesNum)),this.covered=!1}cover(T){T.some(l=>l.getTileCode()===Et.box)?this.covered=!0:this.covered&&(this.covered=!1,this.scene.sound.play(Tn.oil.key,{volume:.1}))}getId(){return this.id}getTileCode(){return Et.oily}getTilePosition(){return this.tilePosition}}var us=(p=>(p[p.FACING=0]="FACING",p[p.COVERING=1]="COVERING",p[p.UNCOVERING=2]="UNCOVERING",p))(us||{});class pE{constructor(T){gt(this,"sprites");gt(this,"id");gt(this,"tilePosition");gt(this,"orientation");gt(this,"covered");this.id=T.id,this.tilePosition=T.tilePosition,this.orientation=T.orientation,this.covered=!1,this.sprites=[],[Ae.ONE_WAY_DOOR_BACK,Ae.ONE_WAY_DOOR_FRONT].forEach(l=>{const x={playable:T.playable,scene:T.scene,spriteSheetLine:l,worldPosition:T.worldPosition},t=new kn(x),e=t.createSprite(t.getCurrentInitialFrame(l,this.orientation,0)),f=Object.keys(us).filter(i=>!isNaN(Number(i))).map(i=>us[Number(i)]);t.createAnimations(l,il(),f).forEach(i=>e.anims.create(i)),this.sprites.push(e)})}cover(T){T.some(l=>[Et.box,Et.hero].includes(l.getTileCode()))?(this.covered||(this.sprites.forEach(l=>{l.anims.play({key:us[1]+"."+$t[this.orientation],repeat:0,duration:Ct.updateCycleInMs},!0)}),console.log("covered")),this.covered=!0):this.covered&&(console.log("uncovered"),this.covered=!1,console.log(us[2]+"."+$t[this.orientation]),this.sprites.forEach(l=>{l.anims.play({key:us[2]+"."+$t[this.orientation],repeat:0,duration:Ct.updateCycleInMs},!0).once("animationcomplete",()=>{l.anims.play({key:us[0]+"."+$t[this.orientation],repeat:-1,duration:Ct.updateCycleInMs},!0)})}))}getId(){return this.id}getTileCode(){return Et.oneWayDoor}getTilePosition(){return this.tilePosition}}class mE{constructor(T){gt(this,"config");gt(this,"sprite");gt(this,"lastChangeInstant");gt(this,"tween");this.config=T,this.lastChangeInstant=0,this.sprite=this.config.scene.add.sprite(0,0,Ct.selectorTextureKey),this.sprite.scale=Ct.world.scale,this.sprite.setOrigin(0),this.sprite.setDepth(1/0),this.updatePosition(new fe(0,0)),Ri.listenToEvent(je.MAP_EDITOR_CURSOR_POSITION_CHANGED,l=>this.updatePosition(l),{recoverLast:!0})}updatePosition(T){const l=this.config.screenPropertiesCalculator.getMap(),x=Math.min(T.x,l.width-1),t=Math.min(T.y,l.height-1),e=this.config.screenPropertiesCalculator.getWorldPositionFromTilePosition(new fe(x,t));this.sprite.alpha=1,this.sprite.setPosition(e.x,e.y),this.tween&&this.tween.stop(),this.tween=this.config.scene.tweens.add({targets:this.sprite,alpha:0,duration:1e4,ease:"FadeOut"})}}class Su{constructor(T){gt(this,"scene");gt(this,"constructorMap");gt(this,"dynamicFeatures");gt(this,"strippedMatrix");gt(this,"floorActor");gt(this,"actorMap");gt(this,"screenPropertiesCalculator");gt(this,"playable");gt(this,"actorCounter");this.screenPropertiesCalculator=T.screenPropertiesCalculator,this.scene=T.scene,this.playable=T.playable,this.dynamicFeatures=T.dynamicFeatures,this.strippedMatrix=T.strippedTileMatrix,this.actorMap=Su.initializeActorMap(),this.actorCounter=0,this.constructorMap=new Map,this.constructorMap.set(Et.hero,l=>new lE(l)),this.constructorMap.set(Et.box,l=>new _T(l)),this.constructorMap.set(Et.spring,l=>new uE(l)),this.constructorMap.set(Et.target,l=>new vn(l)),this.constructorMap.set(Et.oily,l=>new vE(l)),this.constructorMap.set(Et.oneWayDoor,l=>new pE(l)),this.constructorMap.set(Et.treadmil,l=>new cE(l)),this.constructorMap.set(Et.wall,l=>new hE(l)),this.floorActor=new dE(T)}createGameStage(){return this.initialize(),this.updateCoveringSituation(),new oE({screenPropertiesCalculator:this.screenPropertiesCalculator,scene:this.scene,strippedMap:this.strippedMatrix,actorMap:this.actorMap})}initialize(){this.dynamicFeatures.forEach((T,l)=>T.forEach(x=>this.createActor(x,{code:l}))),this.strippedMatrix.strippedFeatureLayeredMatrix.forEach((T,l)=>T.forEach((x,t)=>x.forEach(e=>{const f=new fe(t,l);e.code===Et.floor?this.floorActor.addTileMask(f):this.createActor(f,e)}))),this.floorActor.createMask(),this.playable||new mE({scene:this.scene,screenPropertiesCalculator:this.screenPropertiesCalculator})}getTilesAround(T,l){const x=[];for(let t=-1;t<2;++t){const e=[];for(let f=-1;f<2;++f){const i=f+T,r=t+l;r>=0&&i>=0&&r<this.strippedMatrix.height&&i<this.strippedMatrix.width?e.push(this.strippedMatrix.strippedFeatureLayeredMatrix[r][i]):e.push([])}x.push(e)}return x}createActor(T,l){const x=this.getTilesAround(T.x,T.y),t=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(T);if(this.constructorMap.has(l.code)){const e={assetSheetKey:Ct.tiles.spriteSheetKey,playable:this.playable,code:l.code,scene:this.scene,orientation:l.orientation,worldPosition:t,tilePosition:T,contentAround:x,id:this.actorCounter++},f=this.constructorMap.get(l.code)(e);return this.actorMap.get(l.code).push(f),f}}static initializeActorMap(){const T=new Map;return Object.keys(Et).filter(l=>!isNaN(Number(l))).map(l=>Number(l)).forEach(l=>T.set(l,[])),T}updateCoveringSituation(){const T=[];this.actorMap.forEach((x,t)=>{t!==Et.hero&&t!==Et.box&&T.push(...x)});const l=this.actorMap.get(Et.box).concat(this.actorMap.get(Et.hero));this.strippedMatrix.strippedFeatureLayeredMatrix.forEach((x,t)=>x.forEach((e,f)=>{const i=new fe(f,t),r=l.filter(s=>s.getTilePosition().isEqualTo(i)),a=T.filter(s=>s.getTilePosition().isEqualTo(i)),n=r.concat(a);n.forEach(s=>s.cover(n))}))}}class gE{constructor(T){gt(this,"scale");gt(this,"origin");gt(this,"data");this.data=T;const l=10,x={width:T.width*Ct.tiles.horizontalSize,height:T.height*Ct.tiles.verticalSize*Ct.tiles.verticalPerspective},t=(Ct.gameWidth-l)/x.width,e=(Ct.gameHeight-l)/x.height;this.scale=Math.min(this.limitValue(t),this.limitValue(e)),this.origin=new fe((Ct.gameWidth-x.width*this.scale)/2,(Ct.gameHeight-x.height*this.scale)/2)}getScale(){return this.scale}getMap(){return this.data}getWorldPositionFromTilePosition(T){return new fe(this.origin.x+T.x*Ct.world.tileSize.horizontal,this.origin.y+T.y*Ct.world.tileSize.vertical)}limitValue(T){return Eh.Math.Clamp(T,Ct.world.scaleLimits.min,Ct.world.scaleLimits.max)}}class xE extends Phaser.Scene{constructor(){super("game");gt(this,"allowUpdates");gt(this,"gameStage");gt(this,"initialTime");gt(this,"router");gt(this,"sceneConfig");gt(this,"inputManager");this.inputManager=new XT}init(){}preload(){this.load.image(Ct.floorTextureKey,Ct.floorTexture),this.load.image(Ct.selectorTextureKey,Ct.selectorTextureFile),this.load.spritesheet({key:Ct.tiles.spriteSheetKey,url:Ct.tiles.sheetAsset,normalMap:Ct.tiles.sheetAssetNormal,frameConfig:{frameWidth:Ct.tiles.horizontalSize,frameHeight:Ct.tiles.verticalSize}}),this.load.spritesheet({key:Ct.tiles.newSpriteSheetKey,url:Ct.tiles.wallSheetAsset,frameConfig:{frameWidth:Ct.tiles.horizontalSize,frameHeight:Ct.tiles.verticalSize}}),Object.keys(Tn).forEach(l=>{const x=Tn[l];this.load.audio(x.key,x.resource)}),this.allowUpdates=!0}async create(l){this.sceneConfig=l.config,this.router=l.router;const x=new gE(l.config.strippedLayeredTileMatrix),t=x.getScale();Ct.world.tileSize.horizontal=Math.trunc(Ct.tiles.horizontalSize*t),Ct.world.tileSize.vertical=Math.trunc(Math.trunc(Ct.tiles.verticalSize*Ct.tiles.verticalPerspective)*t),Ct.world.scale=t,this.lights.enable().setAmbientColor(Phaser.Display.Color.HexStringToColor(Ct.colors.ambientColor).color);const e=new Su({playable:this.sceneConfig.playable,screenPropertiesCalculator:x,scene:this,dynamicFeatures:l.config.dynamicFeatures,strippedTileMatrix:l.config.strippedLayeredTileMatrix});this.gameStage=e.createGameStage(),this.sceneConfig.playable?(this.inputManager.enable(this),this.gameStage.setInitialPlayerActions(l.config.playerInitialActions),this.initialTime=new Date().getTime()):this.input.keyboard.clearCaptures()}async update(l,x){var t;(t=this.sceneConfig)!=null&&t.playable&&this.allowUpdates&&(this.inputManager.update(),await this.gameStage.update(),this.gameStage.isLevelComplete()&&(this.inputManager.clear(),this.sound.play(Tn.victory.key,{volume:.5}),this.allowUpdates=!1,this.input.keyboard.clearCaptures(),setTimeout(async()=>{this.changeScene()},1250)))}changeScene(){this.lights.destroy();const l=this.sceneConfig,x={movesCode:this.gameStage.getPlayerMoves(),isCustomLevel:l.isCustomLevel,level:l.level,display:l.displayNumber,levelIndex:l.levelIndex,totalTime:new Date().getTime()-this.initialTime};gn.setNextLevelViewConfig(x),console.log("level complete",x),this.router.push("/next-level")}}const yE=(p,T,l)=>{const x=document.getElementById("phaser-container"),t=document.getElementById("game-view-title-id"),e=document.getElementById("game-view-time-id"),f=(t==null?void 0:t.clientHeight)||0,i=(e==null?void 0:e.clientHeight)||0;Ct.gameWidth=x.clientWidth;const r=Math.trunc(x.clientWidth*Ct.screenRatio),a=document.body.clientHeight*.95-(i+f);if(Ct.gameHeight=Math.min(r,a),document.getElementById("directional-buttons-container")){const u=document.getElementById("gameview-buttons-container");u.style.height=Ct.gameHeight+"px"}const s=new Eh.Game({type:Eh.AUTO,parent:p,width:Ct.gameWidth,height:Ct.gameHeight,preserveDrawingBuffer:!T.playable,transparent:!0,audio:{disableWebAudio:!0},scene:[xE]});return s.scene.start("game",{router:l,config:T}),s};class TE{constructor(T){gt(this,"dressedLayeredTileMatrix");this.dressedLayeredTileMatrix=T}strip(T){const l=new Map;Object.keys(Et).filter(e=>!isNaN(Number(e))).map(e=>Number(e)).forEach(e=>l.set(e,[]));const x=new Map;T.forEach(e=>x.set(e,[]));const t=JSON.parse(JSON.stringify(this.dressedLayeredTileMatrix));return t.strippedFeatureLayeredMatrix.forEach((e,f)=>e.forEach((i,r,a)=>a[r]=i.filter(n=>T.includes(n.code)?(x.get(n.code).push(new fe(r,f)),!1):(l.get(n.code).push(new fe(r,f)),!0)))),{pointMap:l,raw:t,removedFeatures:x}}}class EE{translate(T){const l=this.splitInLines(qT(T.toLowerCase())),x=this.removeMetaChars(l),t=x.length,e=x.reduce((i,r)=>r.length>i?r.length:i,0),f=this.createRectangularLayeredMatrix(t,e,x);return{height:t,width:e,strippedFeatureLayeredMatrix:f}}createRectangularLayeredMatrix(T,l,x){return new Array(T).fill(new Array(l).fill(null)).map((t,e)=>t.map((f,i)=>(x[e][i]||[]).map(r=>({code:r.code,orientation:r.orientation}))))}splitInLines(T){return T.split(/[\n|]/)}removeMetaChars(T){const l=[Et.floor,Et.empty,Et.wall],x={code:Et.floor},t=/\d*\[([^\]]*)\]|(\d*[udlr]?.)/g;return T.map((e,f)=>(e.match(t)||[]).reduce((i,r)=>{if(r.includes("[")){let a=1;const n=r.match(/(\d*)\[(.*?)]/);if(!n)throw Error(`I have no idea what you meant at line ${f+1} with the expression '${r}'. I don't think you expressed yourself correctly.`);const[s,u,o]=n;u&&(a=Math.max(Number(u),a));const h=o.match(t);if(!h)throw Error(`There's an empty grouping tag '[]' at line ${f+1}. Since this is very likely an error. I genlty demand you to fix that.`);const d=h.map(v=>this.getOrientedTilesFromExpression(v)[0]);d.every(v=>!l.includes(v.code))&&d.push(x),Array.from(new Array(a)).forEach(v=>i.push(d))}else this.getOrientedTilesFromExpression(r).forEach(a=>{const n=[a];l.includes(n[0].code)||n.push(x),i.push(n)});return i},[]))}getOrientedTilesFromExpression(T){let[l,x,t,e]=T.match(/(\d*)([udlr]*)(.*)/),f=1;x&&(f=Math.max(Number(x),f));let i;t&&(i=WT(t));const r={code:kT(e),orientation:i};return new Array(f).fill(r)}}const SE=li({name:"PhaserContainer",props:["key","playable","render","scene","displayNumber","playerInitialActions","customLevel","levelIndex"],emits:["processedMap"],data(){return{gameInstance:void 0,containerId:"game-container"}},mounted(){var p;if(this.render)try{const T=new EE().translate(this.scene.map),l=new TE(T).strip([Et.hero,Et.box]),x={isCustomLevel:!!this.customLevel,levelIndex:this.levelIndex,playable:this.playable,playerInitialActions:(this.playerInitialActions||"").split("").map(t=>Ap(t)),displayNumber:this.displayNumber||"",level:this.scene,dynamicFeatures:l.removedFeatures,strippedLayeredTileMatrix:l.raw};(p=this.gameInstance)==null||p.destroy(!1),this.gameInstance=void 0,this.gameInstance=yE(this.containerId,x,this.$router),this.$emit("processedMap",{processedMap:l,map:this.scene.map})}catch(T){this.$emit("processedMap",{error:T,map:this.scene.map})}},unmounted(){var p;(p=this.gameInstance)==null||p.destroy(!0)}}),On=(p,T)=>{const l=p.__vccOpts||p;for(const[x,t]of T)l[x]=t;return l},CE=["id"];function PE(p,T,l,x,t,e){return Se(),$e("div",{id:p.containerId},null,8,CE)}const Rp=On(SE,[["render",PE]]),AE=li({name:"DirectionalButtons",methods:{leftClick(){this.directionClick($t.LEFT)},upClick(){this.directionClick($t.UP)},rightClick(){this.directionClick($t.RIGHT)},downClick(){this.directionClick($t.DOWN)},directionClick(p){Ri.emit(je.HERO_DIRECTION_INPUT,p)}}}),ME={id:"directional-buttons-container"},RE={class:"row justify-content-center"},LE={class:"col-4"},OE=ft("i",{class:"fa-solid fa-arrow-up"},null,-1),FE=[OE],IE=ft("div",{class:"w-100 mt-2"},null,-1),DE={class:"col-4"},NE=ft("i",{class:"fa-solid fa-arrow-left"},null,-1),BE=[NE],wE={class:"col-4"},GE=ft("i",{class:"fa-solid fa-arrow-down"},null,-1),VE=[GE],UE={class:"col-4"},YE=ft("i",{class:"fa-solid fa-arrow-right"},null,-1),zE=[YE];function bE(p,T,l,x,t,e){return Se(),$e("div",ME,[ft("div",RE,[ft("div",LE,[ft("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:T[0]||(T[0]=(...f)=>p.upClick&&p.upClick(...f)),type:"button"},FE)]),IE,ft("div",DE,[ft("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:T[1]||(T[1]=(...f)=>p.leftClick&&p.leftClick(...f)),type:"button"},BE)]),ft("div",wE,[ft("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:T[2]||(T[2]=(...f)=>p.downClick&&p.downClick(...f)),type:"button"},VE)]),ft("div",UE,[ft("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:T[3]||(T[3]=(...f)=>p.rightClick&&p.rightClick(...f)),type:"button"},zE)])])])}const Lp=On(AE,[["render",bE]]),WE=li({name:"GameView",components:{PhaserContainer:Rp,DirectionalButtons:Lp},data(){const p=gn.getGameViewConfig();return{totalTime:0,startTime:Date.now(),playerActions:p.playerInitialActions,display:p.display,levelIndex:p.levelIndex,customLevel:p.isCustom,confirmationButton:void 0,smallScreenDisplay:!0,scene:p.level,componentKey:0,render:!1,timer:-1}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender");const p=100;this.timer=setInterval(()=>{this.totalTime=Date.now()-this.startTime},p);const T=document.getElementById("phaser-container");this.smallScreenDisplay=T.clientWidth<=992/2,this.render=!0,this.forceRerender()},unmounted(){clearInterval(this.timer)},methods:{forceRerender(){Ri.clear(),Ri.listenToEvent(je.RESTART_LEVEL,()=>this.resetClick()),Ri.listenToEvent(je.QUIT_LEVEL,()=>this.exitClick()),this.componentKey+=1},resetClick(){this.forceRerender(),this.startTime=Date.now()},undoClick(){Ri.emit(je.UNDO_BUTTON_CLICKED)},exitClick(){this.forceRerender(),this.$router.push("/")}}});const nl=p=>(la("data-v-b1ad4580"),p=p(),ha(),p),XE={class:"container game-view text-center px-0 mx-auto disable-dbl-tap-zoom"},HE={class:"row align-items-center mx-0",style:{"max-width":"100vw"}},$E={class:"col-12 pt-2 px-4",id:"game-view-title-id",style:{"text-align":"left"}},KE={class:"sokoban-display display-6 fw-normal",style:{"user-select":"none"}},ZE={class:"col-12 px-4",id:"game-view-time-id"},JE={style:{"text-align":"left","font-family":"'Poppins', serif","font-size":"1.5em"}},QE={class:"row mx-auto px-0"},jE={class:"col-12 col-md-8 col-lg-12 px-0",id:"phaser-container"},kE={class:"col-12 col-md-4 col-lg-12 pt-4 pt-md-0 px-1 disable-dbl-tap-zoom",id:"game-view-buttons"},qE={class:"row mx-2",id:"gameview-buttons-container"},_E={class:"col-12"},tS={class:"row justify-content-center mt-2"},eS={class:"col-auto col-lg-6 d-grid gap-2"},iS=nl(()=>ft("span",null,[ft("i",{class:"fa-solid fa-door-open"})],-1)),nS={key:0,class:"mx-2"},sS={class:"col-auto col-lg-6 d-grid gap-2"},rS=nl(()=>ft("span",null,[ft("i",{class:"fa-solid fa-arrows-rotate"})],-1)),aS={key:0,class:"mx-2"},oS={class:"modal fade",id:"confirmation-modal",tabindex:"-1","aria-labelledby":"confirmationModalLabel","aria-hidden":"true"},lS={class:"modal-dialog modal-dialog-centered"},hS={class:"modal-content"},uS=nl(()=>ft("div",{class:"modal-header"},[ft("h1",{class:"modal-title fs-5"},"Are you sure?"),ft("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),fS={class:"modal-footer"},dS=nl(()=>ft("button",{type:"button",class:"btn btn-primary sokoban-outlined-button","data-bs-dismiss":"modal"},"No",-1));function cS(p,T,l,x,t,e){const f=An("PhaserContainer"),i=An("DirectionalButtons");return Se(),$e("div",XE,[ft("div",HE,[ft("div",$E,[ft("h1",KE," Level "+zi(p.display),1)]),ft("div",ZE,[ft("h3",JE,zi(Math.trunc(p.totalTime/1e3))+"s ",1)]),ft("div",QE,[ft("div",jE,[(Se(),Zn(f,{render:p.render,key:p.componentKey,playable:!0,scene:p.scene,playerInitialActions:p.playerActions,"display-number":p.display,"level-index":p.levelIndex,"custom-level":p.customLevel},null,8,["render","scene","playerInitialActions","display-number","level-index","custom-level"]))]),ft("div",kE,[ft("div",qE,[ft("div",_E,[ft("div",tS,[ft("div",eS,[ft("button",{class:"btn btn-primary sokoban-outlined-button","data-bs-toggle":"modal","data-bs-target":"#confirmation-modal",onClick:T[0]||(T[0]=r=>p.confirmationButton=p.exitClick),type:"button"},[iS,p.smallScreenDisplay?Cs("",!0):(Se(),$e("span",nS,"Quit"))])]),ft("div",sS,[ft("button",{class:"btn btn-primary sokoban-outlined-button","data-bs-toggle":"modal","data-bs-target":"#confirmation-modal",onClick:T[1]||(T[1]=r=>p.confirmationButton=p.resetClick),type:"button"},[rS,p.smallScreenDisplay?Cs("",!0):(Se(),$e("span",aS,"Restart"))])])])]),p.smallScreenDisplay?(Se(),Zn(i,{key:0,class:"col-12 align-self-end mb-4"})):Cs("",!0)])])])]),ft("div",oS,[ft("div",lS,[ft("div",hS,[uS,ft("div",fS,[dS,ft("button",{type:"button",class:"btn btn-primary sokoban-call-for-action-button","data-bs-dismiss":"modal",onClick:T[2]||(T[2]=r=>p.confirmationButton())},"Yes ")])])])])])}const vS=On(WE,[["render",cS],["__scopeId","data-v-b1ad4580"]]),pS=.01,mS="drr",gS="title",xS=`######
#@   #
# $ .#
######`,yS="/nuclear-defender/src/assets/levels/thumbnail.png",TS={difficultyEstimative:pS,solution:mS,title:gS,map:xS,thumbnailPath:yS};class ce{static getLevelCompleteData(){const T=ce.decodeAndGet(Ct.store.resolvedLevelsKey);return T?JSON.parse(T):[]}static setLevelCompleteData(T){ce.encodeAndSet(Ct.store.resolvedLevelsKey,JSON.stringify(T))}static getCustomLevel(){const T=ce.decodeAndGet(Ct.store.customLevelKey);if(T!==null)return JSON.parse(T);{const l=["mug tree nightmare","hairy keyboard","frozen rule"],x=l[Math.floor(Math.random()*l.length)],t={...TS,title:x};return ce.setCustomLevel(t),t}}static setCustomLevel(T){ce.encodeAndSet(Ct.store.customLevelKey,JSON.stringify(T))}static getCurrentSelectedIndex(){return Number(ce.decodeAndGet(Ct.store.currentSelectedIndexKey)||0)}static setCurrentSelectedIndex(T){ce.encodeAndSet(Ct.store.currentSelectedIndexKey,T+"")}static getNumberOfEnabledLevels(){const T=ce.decodeAndGet(Ct.store.numberOfEnabledLevelsKey);return T===null?(ce.setNumberOfEnabledLevels(2),2):Number(T)}static setNumberOfEnabledLevels(T){ce.encodeAndSet(Ct.store.numberOfEnabledLevelsKey,T+"")}static encodeAndSet(T,l){localStorage.setItem(T,l)}static decodeAndGet(T){return localStorage.getItem(T)}}const Op=`5-#####
#5#ds#ds##
#5rto2rtls##
#ut[$ds]  [.]o4 #
#ut[$rs]@ rso2   #
#ut2 ooo [$rs]$[$ls]#
#utuw o o    #
#ut2 ooo    #
#ut4 o 3 #
#utlt  [$.]o4 #
#5#us5#
5-###
`,Fp="Test",Ip="./src/assets/levels/thumbnail.png",ES={map:Op,title:Fp,thumbnailPath:Ip},SS=Object.freeze(Object.defineProperty({__proto__:null,default:ES,map:Op,thumbnailPath:Ip,title:Fp},Symbol.toStringTag,{value:"Module"})),Ch=()=>{const p=ce.getNumberOfEnabledLevels();return nr().filter((T,l)=>l<p)},nr=()=>[ce.getCustomLevel(),{map:`2-3#|2-#.#
2-# 4#
3#$ $.#
#.$ @3#
4#$#
3-#.#
3-3#
`,title:"Baby welcome",thumbnailPath:Cp},{map:`
4-3#
5#[$ds]##
#@$[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
5#[.us]##
4-3#
`,title:"every fool can see",thumbnailPath:"/nuclear-defender/src/assets/levels/thumbnail.png"},SS,{map:`
6-3#
7#ds#
#5 rw[.o]#
# $ $ #[.o]#
3#@###[.o]#
-2# $oout#
-# $ #o.#
-#   ####
-#####
`,title:"Shoe on"},{map:`
10#
#. #ds4 #
# .$  $  #
#   $#.  #
## #rs[.o]o$@#
#  ###$###
# .$  oo.#
10#
`,title:"Minidevotron poket"},{map:`
--####
--#  #
--#  #
### *###
#      #
# .*** #
## $  ##
-##* ##
--#@  #
--# # #
--#   #
--#####
`,title:"tony middle finger"},{map:`
5-5#
5-# ds[$ls]#
7#[@o]##
#[$rt]4o[.rwo][dt]#
#[.o]5#[dwo]#
#o#---#o#
#o#---#o#
#o#---#o#
#o#---#o#
#o5#[.o]#
#[$ut][.o]4o[$lt]#
9#
`,title:"adventure time"},{map:`
10#
#   .@#  #
#  $#  $ #
## .###  #
###$ .#$ #
#   #  $ #
#   .  #.#
10#
`,title:"Single Snikers"},{map:`
6-3#
7#[$dt]#
#  dt  #[$dt]#
# . .lt#[$dt]#
### ###[$dt]#
-## .o[@o]ls#
-# . #  #
-#   ####
-5#
`,title:"Ahituna salad"},{map:`
-7#
-#5 3#
2#$3#3 #
#3 $2 $ #
# +.# $ 2#
2#..#3 #
-8#
`,title:"Family time"},{map:`
4#|#  #
#  ######
#   $@. #
# $#$#. #
#   $   #
# ####  #
# ..    #
#########
`,title:"whole small world"},{map:`
-6#
##  @ ##
# $ $$ #
#......#
# $$ $ #
3# ut3#
--4#
`,title:"fish memories"},{map:`
###-####
#@###  #
# $..$ #
# $#.  #
# $..$ #
# $..$ #
# #us## #
8#
`,title:"Oldschool punk"},{map:`
####----####
#   #--#   #
# *  ## $* #
# $.  .$.  #
-# $.$#.  #
--#.# @$ #
--# $  #.#
-#  .#$.$ #
#  .$.  .$ #
# *$ ##  * #
#   #--#   #
####----####
`,title:"xman resume"},{map:`
     ##
   ##..##
  #. $ $ #
 #  $  $ .#
 #$$##*#$ #
#.  *.+# $.#
#.$ #..*  .#
 # $#*##$$#
 #. $  $  #
  # $ $ .#
   ##..##
     ##
`,title:"medfest crazy night"},{map:`
 ##########
##   #    ##
#  #.  .#  #
# # . #. # #
# $$* $*$$ #
#   #* .  ##
##  . *#   #
# $$*$ *$$ #
# # .# . # #
#  #.  .#@ #
##    #   ##
 ##########
`,title:"english muffin potato"},{map:`
############
#          #----####
# ######## ######  #
# ##     #         #
# ## ###   ######$ #
# ## #-## $   $   ##
# ## #--#  ##### ##
# ## #-##   $ $  #
# ## ### $ ## @ ##
# # $ ##  #######
# $   ...**.#
########....#
-------######
`,title:"vodka selfsteem"},{map:`
###########
#         #
# $$.$$.$ #
# $.$..$. #
# $..$$.$ #
# $.*+.$. #
# .$....$ #
# $.$$.$. #
# $$..$.$ #
#         #
###########
`,title:"isnt it chaotic"},{map:`
---####
####  #
# $.*.#
# ## .#
#    .####
### $$   #
--#$     #
--#@###  #
--### ####
`,title:"snoopy light bulb"},{map:`
#######
# .$  #
#.    #
#.  ###
#.# ###
#.# $@#
#  $$ #
##$#  #
 #    #
 ######
`,title:"bee hive behavior"},{map:`
--#######
--#  .*@#
###  $$ #
#  $ # ####
#    # $ .#
####..  ###
---######
`,title:"wooden icecream"},{map:`
###########
#.. @#    #
##  $$  $ #
###  $$ # #
#...  #   #
###########
`,title:"eminems suitcase"},{map:`
    #####
#####@  #
#   $$$ #
#..**. ##
#      #
########
`,title:"groundbreak rules"},{map:`
 #######
 # .   ##
 #  $   #
####$ *.#
#@$ .   #
#########
`,title:"daredevil microphone"},{map:`
######
#@#  #
#$#  #
# $  #
#.*  #
# * ##
# .  #
##   #
 #####
`,title:"young child singer"},{map:`
########
# .... #
#  $@$ #
#####  ###
 ###     #
 #     $ #
 #   ##$ #
 ######  #
      ####
`,title:"one eye phantom"},{map:`
-######
-#.   ##
#### $.#
#@$  #.#
# $$   #
#. #   #
########
`,title:"pacman red enemy"},{map:`
######
#... #
# #. ##
#   $ #
#$$$  #
#@ #  #
#######
`,title:"sour green tea"},{map:`
--###--###
###ds####[.o]#
# $o[rwo]dt##[.o]#
#  $#[$o]##[.o]#
# @   [$o]o[.ut]#
##### ####
----###
`,title:"vida loka aunt"},{map:`
--#####
--#   #
### #dw##
#  ... #
#rt$$ $ #
#ut@#####
####
`,title:"rocker science"},{map:`
------####
------#  #
####### .##
#  ##   ..#
#@$   $$  #
####   ####
---#####
`,title:"ambulance call"},{map:`
##### ####
#   ###  #
#     $@ #
## $#$   #
#...#   ##
#########
`,title:"coke tail"},{map:`
 ####
 #  ####
 #     #
## #.  #
# * #*##
# $  * #
# # @  #
#   ####
#####
`,title:"houston situation"},{map:`
--#####
###@  #
# $[$.]#$##
# #  . #
# . $# #
## #.  #
-#    ##
-###  #
---####
`,title:"brazilian home kitchen"},{map:`
#####
#   ####
#  $$  #
##.@ . #
-#. #.##
-# $$ #
-#  ###
-####
`,title:"middle west texas"},{map:`
#####
#. .#####
#  .    #
##$$@$  #
## ######
#  $ ##
#   . #
###   #
  #####
`,title:"hospital prayers"},{map:`
  ####
 ##  #
 #   ####
##$ ..*.#
# $  #$ #
#    #@ #
#########
`,title:"church time"},{map:`
 #####
##   #
#  # ###
# # *  #
# #  #@#
#   *  #
### *$##
  # . #
  #####
`,title:"alternative portugal flag"},{map:`
  ########
  #   #  #
  # . $. #
  # . $. #
 ###$##  #
 #.. ##$##
## $*$   #
#  * #   #
#  @.#####
##   #
 #####
`,title:"formula one justice"},{map:`
 #######
 #  #  #
 #$.@.$#
 # .#. #
##$.#.$##
# $   $ #
#   #   #
#########
`,title:"left business"},{map:`
-#####
##  .#
# $#.##
#     #
##$   #
#  #*##
# @  #
#  ###
####
`,title:"eastern island mistery"},{map:`
--#####
###   ##
# .. . #
# $$ # #
## #$$ #
-#.@  ##
-###  #
---####
`,title:"run forrest"},{map:`
--#####
###   #
#   #.##
#  *$@ #
## * **##
-# # #  #
-#      #
-###  ###
---####
`,title:"beauty saloon hair"},{map:`
########
#   #  #
#      #
## #.$.#
#  $@###
# #$*.#
# # # #
#     #
##   ##
-#####
`,title:"kharma chameleon"},{title:"mr. lonely",map:`--####
###[$ds][.o]##
#dt[$o][@o]o[.ls]#
#o[$o]oo[.]#
#rto[$o]##
##[o.]lt#
-####
`},{map:`
----####
---## .#
--## . #
-##rto..#
## [$o][$o]o##
#@$ ols##
# $  ##
#  ###
####
`,title:"driving license"},{map:`
-----####
--####@ #
--#.* $ #
###   # ##
#    #.. #
#    $ $ #
####  ####
---####
`,title:"baby got another"}],CS=li({name:"NextLevelView",data(){const p=gn.getNextLevelViewConfig();return console.log(p),{config:p}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender");const p=document.getElementsByClassName("toastBtn"),T=document.getElementById("copy-toast");p&&Array.from(p).forEach(l=>{l.addEventListener("click",()=>new bootstrap.Toast(T).show())}),this.config.isCustomLevel||(console.log("Not a custom level"),this.enableNextLevel()),window.addEventListener("keyup",this.keyPressed)},unmounted(){window.removeEventListener("keyup",this.keyPressed)},computed:{movesCode(){return this.config.movesCode.map(p=>Mp(p)).join("")},password(){const p=this.config.levelIndex;if(!this.config.isCustomLevel){const T=nr()[p];if(T)return T.title.toLowerCase().replace(/ /g,"-")}},codedMap(){return this.config.level.map.replace(/\n\n/g,`
`).replace(/^\n/g,"")}},methods:{keyPressed(p){p.code==="Enter"&&this.continueButton()},async copy(p){await navigator.clipboard.writeText(p)},storeRecord(){let p=ce.getLevelCompleteData();const T=p.find(x=>x.index===this.config.levelIndex),l={map:this.codedMap,timestamp:new Date().getTime(),index:this.config.levelIndex,title:this.config.level.title,movesCode:this.config.movesCode,totalTime:this.config.totalTime};T?T.totalTime>l.totalTime&&(p=p.filter(x=>x.index!==this.config.levelIndex),p.push(l),ce.setLevelCompleteData(p)):(p.push(l),ce.setLevelCompleteData(p))},enableNextLevel(){this.storeRecord();const p=this.config.levelIndex,T=ce.getNumberOfEnabledLevels();console.log(p,T,nr().length),p<nr().length-2&&(p===T-1&&ce.setNumberOfEnabledLevels(p+2),console.log("LongTermStore.setCurrentSelectedIndex(currentIndex + 1)"),ce.setCurrentSelectedIndex(p+1))},continueButton(){this.$router.push("/")}}});const ya=p=>(la("data-v-69f3e047"),p=p(),ha(),p),PS=ya(()=>ft("div",{class:"toast-container position-fixed top-0 end-0 pt-3 disable-dbl-tap-zoom"},[ft("div",{id:"copy-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},[ft("div",{class:"d-flex sokoban-toast"},[ft("div",{class:"toast-body"}," Text copied to clipboard "),ft("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),AS={class:"container my-5 next-level-view text-center"},MS={class:"row row-cols-1 justify-content-end gy-3"},RS={class:"col",style:{"text-align":"center"}},LS={class:"sokoban-display display-3 fw-normal",style:{"user-select":"none"}},OS={class:"col my-1"},FS={class:"sokoban-display fw-normal",style:{"user-select":"none",color:"var(--background-color)","text-align":"right"}},IS={key:0,class:"col-12"},DS=ya(()=>ft("label",{class:"form-label sokoban-label"},"Password",-1)),NS={class:"input-group"},BS=["value"],wS={class:"col-12"},GS=ya(()=>ft("label",{class:"form-label sokoban-label"},"Player actions",-1)),VS={class:"input-group"},US=["value"],YS={class:"col-12"},zS=ya(()=>ft("label",{class:"form-label sokoban-label"},"Map",-1)),bS={class:"input-group"},WS=["rows"],XS={class:"col-auto d-grid gap-2 my-5"},HS=ya(()=>ft("i",{class:"fa-solid fa-forward"},null,-1));function $S(p,T,l,x,t,e){return Se(),$e("main",null,[PS,ft("div",AS,[ft("div",MS,[ft("div",RS,[ft("h1",LS," Level '"+zi(p.config.levelIndex)+"' complete!",1)]),ft("div",OS,[ft("h4",FS,"Total time: "+zi(Math.trunc(p.config.totalTime/100)/10)+"s ",1)]),p.password?(Se(),$e("div",IS,[DS,ft("div",NS,[ft("input",{type:"text",class:"form-control",readonly:"",value:p.password},null,8,BS),ft("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:T[0]||(T[0]=f=>p.copy(p.password))}," Copy ")])])):Cs("",!0),ft("div",wS,[GS,ft("div",VS,[ft("input",{type:"text",class:"form-control",readonly:"",value:p.movesCode},null,8,US),ft("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:T[1]||(T[1]=f=>p.copy(p.movesCode))}," Copy ")])]),ft("div",YS,[zS,ft("div",bS,[Es(ft("textarea",{class:"form-control map-text-area",readonly:"","onUpdate:modelValue":T[2]||(T[2]=f=>p.codedMap=f),style:{"font-size":".9rem"},rows:p.codedMap.split(`
`).filter(f=>f.length>0).length},null,8,WS),[[Mn,p.codedMap]]),ft("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:T[3]||(T[3]=f=>p.copy(p.codedMap))}," Copy ")])]),ft("div",XS,[ft("button",{class:"btn btn-primary sokoban-call-for-action-button",onClick:T[4]||(T[4]=(...f)=>p.continueButton&&p.continueButton(...f)),type:"button"},[HS,Bs(" Continue ")])])])])])}const KS=On(CS,[["render",$S],["__scopeId","data-v-69f3e047"]]);var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});var io=window,Gn=io.requestAnimationFrame||io.webkitRequestAnimationFrame||io.mozRequestAnimationFrame||io.msRequestAnimationFrame||function(p){return setTimeout(p,16)},zd=window,Xl=zd.cancelAnimationFrame||zd.mozCancelAnimationFrame||function(p){clearTimeout(p)};function Hl(){for(var p,T,l,x=arguments[0]||{},t=1,e=arguments.length;t<e;t++)if((p=arguments[t])!==null)for(T in p)l=p[T],x!==l&&l!==void 0&&(x[T]=l);return x}function $i(p){return["true","false"].indexOf(p)>=0?JSON.parse(p):p}function Ki(p,T,l,x){if(x)try{p.setItem(T,l)}catch{}return l}function ZS(){var p=window.tnsId;return window.tnsId=p?p+1:1,"tns"+window.tnsId}function sl(){var p=document,T=p.body;return T||(T=p.createElement("body"),T.fake=!0),T}var $r=document.documentElement;function rl(p){var T="";return p.fake&&(T=$r.style.overflow,p.style.background="",p.style.overflow=$r.style.overflow="hidden",$r.appendChild(p)),T}function al(p,T){p.fake&&(p.remove(),$r.style.overflow=T,$r.offsetHeight)}function JS(){var p=document,T=sl(),l=rl(T),x=p.createElement("div"),t=!1;T.appendChild(x);try{for(var e="(10px * 10)",f=["calc"+e,"-moz-calc"+e,"-webkit-calc"+e],i,r=0;r<3;r++)if(i=f[r],x.style.width=i,x.offsetWidth===100){t=i.replace(e,"");break}}catch{}return T.fake?al(T,l):x.remove(),t}function QS(){var p=document,T=sl(),l=rl(T),x=p.createElement("div"),t=p.createElement("div"),e="",f=70,i=3,r=!1;x.className="tns-t-subp2",t.className="tns-t-ct";for(var a=0;a<f;a++)e+="<div></div>";return t.innerHTML=e,x.appendChild(t),T.appendChild(x),r=Math.abs(x.getBoundingClientRect().left-t.children[f-i].getBoundingClientRect().left)<2,T.fake?al(T,l):x.remove(),r}function jS(){if(window.matchMedia||window.msMatchMedia)return!0;var p=document,T=sl(),l=rl(T),x=p.createElement("div"),t=p.createElement("style"),e="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",f;return t.type="text/css",x.className="tns-mq-test",T.appendChild(t),T.appendChild(x),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(p.createTextNode(e)),f=window.getComputedStyle?window.getComputedStyle(x).position:x.currentStyle.position,T.fake?al(T,l):x.remove(),f==="absolute"}function kS(p,T){var l=document.createElement("style");return p&&l.setAttribute("media",p),T&&l.setAttribute("nonce",T),document.querySelector("head").appendChild(l),l.sheet?l.sheet:l.styleSheet}function dn(p,T,l,x){"insertRule"in p?p.insertRule(T+"{"+l+"}",x):p.addRule(T,l,x)}function qS(p,T){"deleteRule"in p?p.deleteRule(T):p.removeRule(T)}function tn(p){var T="insertRule"in p?p.cssRules:p.rules;return T.length}function _S(p,T){return Math.atan2(p,T)*(180/Math.PI)}function tC(p,T){var l=!1,x=Math.abs(90-Math.abs(p));return x>=90-T?l="horizontal":x<=T&&(l="vertical"),l}function Vn(p,T,l){for(var x=0,t=p.length;x<t;x++)T.call(l,p[x],x)}var Cu="classList"in document.createElement("_"),vr=Cu?function(p,T){return p.classList.contains(T)}:function(p,T){return p.className.indexOf(T)>=0},we=Cu?function(p,T){vr(p,T)||p.classList.add(T)}:function(p,T){vr(p,T)||(p.className+=" "+T)},di=Cu?function(p,T){vr(p,T)&&p.classList.remove(T)}:function(p,T){vr(p,T)&&(p.className=p.className.replace(T,""))};function Fr(p,T){return p.hasAttribute(T)}function no(p,T){return p.getAttribute(T)}function Np(p){return typeof p.item<"u"}function Ti(p,T){if(p=Np(p)||p instanceof Array?p:[p],Object.prototype.toString.call(T)==="[object Object]")for(var l=p.length;l--;)for(var x in T)p[l].setAttribute(x,T[x])}function Un(p,T){p=Np(p)||p instanceof Array?p:[p],T=T instanceof Array?T:[T];for(var l=T.length,x=p.length;x--;)for(var t=l;t--;)p[x].removeAttribute(T[t])}function bd(p){for(var T=[],l=0,x=p.length;l<x;l++)T.push(p[l]);return T}function Ei(p,T){p.style.display!=="none"&&(p.style.display="none")}function Si(p,T){p.style.display==="none"&&(p.style.display="")}function Wd(p){return window.getComputedStyle(p).display!=="none"}function Ir(p){if(typeof p=="string"){var T=[p],l=p.charAt(0).toUpperCase()+p.substr(1),x=["Webkit","Moz","ms","O"];x.forEach(function(i){(i!=="ms"||p==="transform")&&T.push(i+l)}),p=T}var t=document.createElement("fakeelement");p.length;for(var e=0;e<p.length;e++){var f=p[e];if(t.style[f]!==void 0)return f}return!1}function eC(p){if(!p||!window.getComputedStyle)return!1;var T=document,l=sl(),x=rl(l),t=T.createElement("p"),e,f=p.length>9?"-"+p.slice(0,-9).toLowerCase()+"-":"";return f+="transform",l.insertBefore(t,null),t.style[p]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(f),l.fake?al(l,x):t.remove(),e!==void 0&&e.length>0&&e!=="none"}function Xd(p,T){var l=!1;return/^Webkit/.test(p)?l="webkit"+T+"End":/^O/.test(p)?l="o"+T+"End":p&&(l=T.toLowerCase()+"end"),l}var Bp=!1;try{var iC=Object.defineProperty({},"passive",{get:function(){Bp=!0}});window.addEventListener("test",null,iC)}catch{}var wp=Bp?{passive:!0}:!1;function De(p,T,l){for(var x in T){var t=["touchstart","touchmove"].indexOf(x)>=0&&!l?wp:!1;p.addEventListener(x,T[x],t)}}function He(p,T){for(var l in T){var x=["touchstart","touchmove"].indexOf(l)>=0?wp:!1;p.removeEventListener(l,T[l],x)}}function nC(){return{topics:{},on:function(p,T){this.topics[p]=this.topics[p]||[],this.topics[p].push(T)},off:function(p,T){if(this.topics[p]){for(var l=0;l<this.topics[p].length;l++)if(this.topics[p][l]===T){this.topics[p].splice(l,1);break}}},emit:function(p,T){T.type=p,this.topics[p]&&this.topics[p].forEach(function(l){l(T,p)})}}}function sC(p,T,l,x,a,e,f){var i=Math.min(e,10),r=a.indexOf("%")>=0?"%":"px",a=a.replace(r,""),n=Number(p.style[T].replace(l,"").replace(x,"").replace(r,"")),s=(a-n)/e*i;setTimeout(u,i);function u(){e-=i,n+=s,p.style[T]=l+n+r+x,e>0?setTimeout(u,i):f()}}Object.keys||(Object.keys=function(p){var T=[];for(var l in p)Object.prototype.hasOwnProperty.call(p,l)&&T.push(l);return T});"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Gp=function(p){p=Hl({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},p||{});var T=document,l=window,x={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},e=p.useLocalStorage;if(e){var f=navigator.userAgent,i=new Date;try{t=l.localStorage,t?(t.setItem(i,i),e=t.getItem(i)==i,t.removeItem(i)):e=!1,e||(t={})}catch{e=!1}e&&(t.tnsApp&&t.tnsApp!==f&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(J){t.removeItem(J)}),localStorage.tnsApp=f)}var r=t.tC?$i(t.tC):Ki(t,"tC",JS(),e),a=t.tPL?$i(t.tPL):Ki(t,"tPL",QS(),e),n=t.tMQ?$i(t.tMQ):Ki(t,"tMQ",jS(),e),s=t.tTf?$i(t.tTf):Ki(t,"tTf",Ir("transform"),e),u=t.t3D?$i(t.t3D):Ki(t,"t3D",eC(s),e),o=t.tTDu?$i(t.tTDu):Ki(t,"tTDu",Ir("transitionDuration"),e),h=t.tTDe?$i(t.tTDe):Ki(t,"tTDe",Ir("transitionDelay"),e),d=t.tADu?$i(t.tADu):Ki(t,"tADu",Ir("animationDuration"),e),v=t.tADe?$i(t.tADe):Ki(t,"tADe",Ir("animationDelay"),e),c=t.tTE?$i(t.tTE):Ki(t,"tTE",Xd(o,"Transition"),e),m=t.tAE?$i(t.tAE):Ki(t,"tAE",Xd(d,"Animation"),e),g=l.console&&typeof l.console.warn=="function",y=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],E={};if(y.forEach(function(J){if(typeof p[J]=="string"){var it=p[J],dt=T.querySelector(it);if(E[J]=it,dt&&dt.nodeName)p[J]=dt;else{g&&console.warn("Can't find",p[J]);return}}}),p.container.children.length<1){g&&console.warn("No slides found in",p.container);return}var S=p.responsive,C=p.nested,P=p.mode==="carousel";if(S){0 in S&&(p=Hl(p,S[0]),delete S[0]);var A={};for(var R in S){var M=S[R];M=typeof M=="number"?{items:M}:M,A[R]=M}S=A,A=null}function L(J){for(var it in J)P||(it==="slideBy"&&(J[it]="page"),it==="edgePadding"&&(J[it]=!1),it==="autoHeight"&&(J[it]=!1)),it==="responsive"&&L(J[it])}if(P||L(p),!P){p.axis="horizontal",p.slideBy="page",p.edgePadding=!1;var F=p.animateIn,I=p.animateOut,N=p.animateDelay,z=p.animateNormal}var W=p.axis==="horizontal",$=T.createElement("div"),Z=T.createElement("div"),D,O=p.container,B=O.parentNode,G=O.outerHTML,Y=O.children,V=Y.length,b,H=Nu(),j=!1;S&&$u(),P&&(O.className+=" tns-vpfix");var q=p.autoWidth,et=zt("fixedWidth"),ot=zt("edgePadding"),K=zt("gutter"),Q=wu(),tt=zt("center"),nt=q?1:Math.floor(zt("items")),ut=zt("slideBy"),pt=p.viewportMax||p.fixedWidthViewportWidth,vt=zt("arrowKeys"),at=zt("speed"),yt=p.rewind,lt=yt?!1:p.loop,Tt=zt("autoHeight"),Pt=zt("controls"),Lt=zt("controlsText"),At=zt("nav"),Mt=zt("touch"),Bt=zt("mouseDrag"),It=zt("autoplay"),Yt=zt("autoplayTimeout"),ie=zt("autoplayText"),ae=zt("autoplayHoverPause"),Le=zt("autoplayResetOnVisibility"),Wt=kS(null,zt("nonce")),Me=p.lazyload,ve=p.lazyloadSelector,Xt,Oe=[],Be=lt?bp():0,re=P?V+Be*2:V+Be,Qt=!!((et||q)&&!lt),We=et?gl():null,on=!P||!lt,Xe=W?"left":"top",qi="",Ft="",Wi=function(){return et?function(){return tt&&!lt?V-1:Math.ceil(-We/(et+K))}:q?function(){for(var J=0;J<re;J++)if(Xt[J]>=-We)return J}:function(){return tt&&P&&!lt?V-1:lt||P?Math.max(0,re-Math.ceil(nt)):re-1}}(),Ot=Iu(zt("startIndex")),Xi=Ot;Fu();var Di=0,_e=q?null:Wi(),ws=p.preventActionWhenRunning,U=p.swipeAngle,w=U?"?":!0,X=!1,k=p.onInit,_=new nC,st=" tns-slider tns-"+p.mode,rt=O.id||ZS(),ct=zt("disable"),ht=!1,xt=p.freezable,St=xt&&!q?ul():!1,Rt=!1,Ut={click:In,keydown:hm},Ht={click:im,keydown:um},bt={mouseover:am,mouseout:om},ne={visibilitychange:rm},Kt={keydown:lm},jt={touchstart:vf,touchmove:pf,touchend:ba,touchcancel:ba},kt={mousedown:vf,mousemove:pf,mouseup:ba,mouseleave:ba},se=hn("controls"),te=hn("nav"),Zt=q?!0:p.navAsThumbnails,wt=hn("autoplay"),Vt=hn("touch"),qt=hn("mouseDrag"),oe="tns-slide-active",ye="tns-slide-cloned",pe="tns-complete",ti={load:Jp,error:Qp},ui,ln,gi=p.preventScrollOnTouch==="force";if(se)var Fe=p.controlsContainer,Mu=p.controlsContainer?p.controlsContainer.outerHTML:"",Ce=p.prevButton,Pe=p.nextButton,Up=p.prevButton?p.prevButton.outerHTML:"",Yp=p.nextButton?p.nextButton.outerHTML:"",xr,yr;if(te)var Ze=p.navContainer,Ru=p.navContainer?p.navContainer.outerHTML:"",xi,Ni=q?V:gf(),_n=0,ts=-1,yi=Du(),Gs=yi,Ea="tns-nav-active",Vs="Carousel Page ",ol=" (Current Slide)";if(wt)var Lu=p.autoplayDirection==="forward"?1:-1,Ie=p.autoplayButton,Ou=p.autoplayButton?p.autoplayButton.outerHTML:"",Tr=["<span class='tns-visually-hidden'>"," animation</span>"],Sa,fi,Ca,Us,Pa;if(Vt||qt)var es={},Hi={},Aa,is=!1,Bi,ll=W?function(J,it){return J.x-it.x}:function(J,it){return J.y-it.y};q||Ma(ct||St),s&&(Xe=s,qi="translate",u?(qi+=W?"3d(":"3d(0px, ",Ft=W?", 0px, 0px)":", 0px)"):(qi+=W?"X(":"Y(",Ft=")")),P&&(O.className=O.className.replace("tns-vpfix","")),Xp(),Hp(),Uu();function Ma(J){J&&(Pt=At=Mt=Bt=vt=It=ae=Le=!1)}function Fu(){for(var J=P?Ot-Be:Ot;J<0;)J+=V;return J%V+1}function Iu(J){return J=J?Math.max(0,Math.min(lt?V-1:V-nt,J)):0,P?J+Be:J}function Ra(J){for(J==null&&(J=Ot),P&&(J-=Be);J<0;)J+=V;return Math.floor(J%V)}function Du(){var J=Ra(),it;return it=Zt?J:et||q?Math.ceil((J+1)*Ni/V-1):Math.floor(J/nt),!lt&&P&&Ot===_e&&(it=Ni-1),it}function zp(){if(q||et&&!pt)return V-1;var J=et?"fixedWidth":"items",it=[];if((et||p[J]<V)&&it.push(p[J]),S)for(var dt in S){var mt=S[dt][J];mt&&(et||mt<V)&&it.push(mt)}return it.length||it.push(0),Math.ceil(et?pt/Math.min.apply(null,it):Math.max.apply(null,it))}function bp(){var J=zp(),it=P?Math.ceil((J*5-V)/2):J*4-V;return it=Math.max(J,it),hn("edgePadding")?it+1:it}function Nu(){return l.innerWidth||T.documentElement.clientWidth||T.body.clientWidth}function hl(J){return J==="top"?"afterbegin":"beforeend"}function Bu(J){if(J!=null){var it=T.createElement("div"),dt,mt;return J.appendChild(it),dt=it.getBoundingClientRect(),mt=dt.right-dt.left,it.remove(),mt||Bu(J.parentNode)}}function wu(){var J=ot?ot*2-K:0;return Bu(B)-J}function hn(J){if(p[J])return!0;if(S){for(var it in S)if(S[it][J])return!0}return!1}function zt(J,it){if(it==null&&(it=H),J==="items"&&et)return Math.floor((Q+K)/(et+K))||1;var dt=p[J];if(S)for(var mt in S)it>=parseInt(mt)&&J in S[mt]&&(dt=S[mt][J]);return J==="slideBy"&&dt==="page"&&(dt=zt("items")),!P&&(J==="slideBy"||J==="items")&&(dt=Math.floor(dt)),dt}function Wp(J){return r?r+"("+J*100+"% / "+re+")":J*100/re+"%"}function La(J,it,dt,mt,Dt){var Gt="";if(J!==void 0){var le=J;it&&(le-=it),Gt=W?"margin: 0 "+le+"px 0 "+J+"px;":"margin: "+J+"px 0 "+le+"px 0;"}else if(it&&!dt){var Ye="-"+it+"px",Je=W?Ye+" 0 0":"0 "+Ye+" 0";Gt="margin: 0 "+Je+";"}return!P&&Dt&&o&&mt&&(Gt+=ns(mt)),Gt}function Oa(J,it,dt){return J?(J+it)*re+"px":r?r+"("+re*100+"% / "+dt+")":re*100/dt+"%"}function Fa(J,it,dt){var mt;if(J)mt=J+it+"px";else{P||(dt=Math.floor(dt));var Dt=P?re:dt;mt=r?r+"(100% / "+Dt+")":100/Dt+"%"}return mt="width:"+mt,C!=="inner"?mt+";":mt+" !important;"}function Ia(J){var it="";if(J!==!1){var dt=W?"padding-":"margin-",mt=W?"right":"bottom";it=dt+mt+": "+J+"px;"}return it}function Gu(J,it){var dt=J.substring(0,J.length-it).toLowerCase();return dt&&(dt="-"+dt+"-"),dt}function ns(J){return Gu(o,18)+"transition-duration:"+J/1e3+"s;"}function Vu(J){return Gu(d,17)+"animation-duration:"+J/1e3+"s;"}function Xp(){var J="tns-outer",it="tns-inner";if(hn("gutter"),$.className=J,Z.className=it,$.id=rt+"-ow",Z.id=rt+"-iw",O.id===""&&(O.id=rt),st+=a||q?" tns-subpixel":" tns-no-subpixel",st+=r?" tns-calc":" tns-no-calc",q&&(st+=" tns-autowidth"),st+=" tns-"+p.axis,O.className+=st,P?(D=T.createElement("div"),D.id=rt+"-mw",D.className="tns-ovh",$.appendChild(D),D.appendChild(Z)):$.appendChild(Z),Tt){var dt=D||Z;dt.className+=" tns-ah"}if(B.insertBefore($,O),Z.appendChild(O),Vn(Y,function(Ge,zs){we(Ge,"tns-item"),Ge.id||(Ge.id=rt+"-item"+zs),!P&&z&&we(Ge,z),Ti(Ge,{"aria-hidden":"true",tabindex:"-1"})}),Be){for(var mt=T.createDocumentFragment(),Dt=T.createDocumentFragment(),Gt=Be;Gt--;){var le=Gt%V,Ye=Y[le].cloneNode(!0);if(we(Ye,ye),Un(Ye,"id"),Dt.insertBefore(Ye,Dt.firstChild),P){var Je=Y[V-1-le].cloneNode(!0);we(Je,ye),Un(Je,"id"),mt.appendChild(Je)}}O.insertBefore(mt,O.firstChild),O.appendChild(Dt),Y=O.children}}function Uu(){if(hn("autoHeight")||q||!W){var J=O.querySelectorAll("img");Vn(J,function(it){var dt=it.src;Me||(dt&&dt.indexOf("data:image")<0?(it.src="",De(it,ti),we(it,"loading"),it.src=dt):ku(it))}),Gn(function(){Ba(bd(J),function(){ui=!0})}),hn("autoHeight")&&(J=pl(Ot,Math.min(Ot+nt-1,re-1))),Me?Yu():Gn(function(){Ba(bd(J),Yu)})}else P&&Sr(),bu(),Wu()}function Yu(){if(q&&V>1){var J=lt?Ot:V-1;(function it(){var dt=Y[J].getBoundingClientRect().left,mt=Y[J-1].getBoundingClientRect().right;Math.abs(dt-mt)<=1?zu():setTimeout(function(){it()},16)})()}else zu()}function zu(){(!W||q)&&(ef(),q?(We=gl(),xt&&(St=ul()),_e=Wi(),Ma(ct||St)):Tl()),P&&Sr(),bu(),Wu()}function Hp(){if(!P)for(var J=Ot,it=Ot+Math.min(V,nt);J<it;J++){var dt=Y[J];dt.style.left=(J-Ot)*100/nt+"%",we(dt,F),di(dt,z)}if(W&&(a||q?(dn(Wt,"#"+rt+" > .tns-item","font-size:"+l.getComputedStyle(Y[0]).fontSize+";",tn(Wt)),dn(Wt,"#"+rt,"font-size:0;",tn(Wt))):P&&Vn(Y,function(Pl,Al){Pl.style.marginLeft=Wp(Al)})),n){if(o){var mt=D&&p.autoHeight?ns(p.speed):"";dn(Wt,"#"+rt+"-mw",mt,tn(Wt))}mt=La(p.edgePadding,p.gutter,p.fixedWidth,p.speed,p.autoHeight),dn(Wt,"#"+rt+"-iw",mt,tn(Wt)),P&&(mt=W&&!q?"width:"+Oa(p.fixedWidth,p.gutter,p.items)+";":"",o&&(mt+=ns(at)),dn(Wt,"#"+rt,mt,tn(Wt))),mt=W&&!q?Fa(p.fixedWidth,p.gutter,p.items):"",p.gutter&&(mt+=Ia(p.gutter)),P||(o&&(mt+=ns(at)),d&&(mt+=Vu(at))),mt&&dn(Wt,"#"+rt+" > .tns-item",mt,tn(Wt))}else{kp(),Z.style.cssText=La(ot,K,et,Tt),P&&W&&!q&&(O.style.width=Oa(et,K,nt));var mt=W&&!q?Fa(et,K,nt):"";K&&(mt+=Ia(K)),mt&&dn(Wt,"#"+rt+" > .tns-item",mt,tn(Wt))}if(S&&n)for(var Dt in S){Dt=parseInt(Dt);var Gt=S[Dt],mt="",le="",Ye="",Je="",Ge="",zs=q?null:zt("items",Dt),Ar=zt("fixedWidth",Dt),rs=zt("speed",Dt),Sl=zt("edgePadding",Dt),Cl=zt("autoHeight",Dt),bs=zt("gutter",Dt);o&&D&&zt("autoHeight",Dt)&&"speed"in Gt&&(le="#"+rt+"-mw{"+ns(rs)+"}"),("edgePadding"in Gt||"gutter"in Gt)&&(Ye="#"+rt+"-iw{"+La(Sl,bs,Ar,rs,Cl)+"}"),P&&W&&!q&&("fixedWidth"in Gt||"items"in Gt||et&&"gutter"in Gt)&&(Je="width:"+Oa(Ar,bs,zs)+";"),o&&"speed"in Gt&&(Je+=ns(rs)),Je&&(Je="#"+rt+"{"+Je+"}"),("fixedWidth"in Gt||et&&"gutter"in Gt||!P&&"items"in Gt)&&(Ge+=Fa(Ar,bs,zs)),"gutter"in Gt&&(Ge+=Ia(bs)),!P&&"speed"in Gt&&(o&&(Ge+=ns(rs)),d&&(Ge+=Vu(rs))),Ge&&(Ge="#"+rt+" > .tns-item{"+Ge+"}"),mt=le+Ye+Je+Ge,mt&&Wt.insertRule("@media (min-width: "+Dt/16+"em) {"+mt+"}",Wt.cssRules.length)}}function bu(){if(ml(),$.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+ju()+"</span>  of "+V+"</div>"),ln=$.querySelector(".tns-liveregion .current"),wt){var J=It?"stop":"start";Ie?Ti(Ie,{"data-action":J}):p.autoplayButtonOutput&&($.insertAdjacentHTML(hl(p.autoplayPosition),'<button type="button" data-action="'+J+'">'+Tr[0]+J+Tr[1]+ie[0]+"</button>"),Ie=$.querySelector("[data-action]")),Ie&&De(Ie,{click:uf}),It&&(za(),ae&&De(O,bt),Le&&De(O,ne))}if(te){if(Ze)Ti(Ze,{"aria-label":"Carousel Pagination"}),xi=Ze.children,Vn(xi,function(le,Ye){Ti(le,{"data-nav":Ye,tabindex:"-1","aria-label":Vs+(Ye+1),"aria-controls":rt})});else{for(var it="",dt=Zt?"":'style="display:none"',mt=0;mt<V;mt++)it+='<button type="button" data-nav="'+mt+'" tabindex="-1" aria-controls="'+rt+'" '+dt+' aria-label="'+Vs+(mt+1)+'"></button>';it='<div class="tns-nav" aria-label="Carousel Pagination">'+it+"</div>",$.insertAdjacentHTML(hl(p.navPosition),it),Ze=$.querySelector(".tns-nav"),xi=Ze.children}if(El(),o){var Dt=o.substring(0,o.length-18).toLowerCase(),Gt="transition: all "+at/1e3+"s";Dt&&(Gt="-"+Dt+"-"+Gt),dn(Wt,"[aria-controls^="+rt+"-item]",Gt,tn(Wt))}Ti(xi[yi],{"aria-label":Vs+(yi+1)+ol}),Un(xi[yi],"tabindex"),we(xi[yi],Ea),De(Ze,Ht)}se&&(!Fe&&(!Ce||!Pe)&&($.insertAdjacentHTML(hl(p.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+rt+'">'+Lt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+rt+'">'+Lt[1]+"</button></div>"),Fe=$.querySelector(".tns-controls")),(!Ce||!Pe)&&(Ce=Fe.children[0],Pe=Fe.children[1]),p.controlsContainer&&Ti(Fe,{"aria-label":"Carousel Navigation",tabindex:"0"}),(p.controlsContainer||p.prevButton&&p.nextButton)&&Ti([Ce,Pe],{"aria-controls":rt,tabindex:"-1"}),(p.controlsContainer||p.prevButton&&p.nextButton)&&(Ti(Ce,{"data-controls":"prev"}),Ti(Pe,{"data-controls":"next"})),xr=sf(Ce),yr=sf(Pe),af(),Fe?De(Fe,Ut):(De(Ce,Ut),De(Pe,Ut))),dl()}function Wu(){if(P&&c){var J={};J[c]=_i,De(O,J)}Mt&&De(O,jt,p.preventScrollOnTouch),Bt&&De(O,kt),vt&&De(T,Kt),C==="inner"?_.on("outerResized",function(){Hu(),_.emit("innerLoaded",ei())}):(S||et||q||Tt||!W)&&De(l,{resize:Xu}),Tt&&(C==="outer"?_.on("innerLoaded",Na):ct||Na()),cl(),ct?Ju():St&&Zu(),_.on("indexChanged",qu),C==="inner"&&_.emit("innerLoaded",ei()),typeof k=="function"&&k(ei()),j=!0}function $p(){if(Wt.disabled=!0,Wt.ownerNode&&Wt.ownerNode.remove(),He(l,{resize:Xu}),vt&&He(T,Kt),Fe&&He(Fe,Ut),Ze&&He(Ze,Ht),He(O,bt),He(O,ne),Ie&&He(Ie,{click:uf}),It&&clearInterval(Sa),P&&c){var J={};J[c]=_i,He(O,J)}Mt&&He(O,jt),Bt&&He(O,kt);var it=[G,Mu,Up,Yp,Ru,Ou];y.forEach(function(mt,Dt){var Gt=mt==="container"?$:p[mt];if(typeof Gt=="object"&&Gt){var le=Gt.previousElementSibling?Gt.previousElementSibling:!1,Ye=Gt.parentNode;Gt.outerHTML=it[Dt],p[mt]=le?le.nextElementSibling:Ye.firstElementChild}}),y=F=I=N=z=W=$=Z=O=B=G=Y=V=b=H=q=et=ot=K=Q=nt=ut=pt=vt=at=yt=lt=Tt=Wt=Me=Xt=Oe=Be=re=Qt=We=on=Xe=qi=Ft=Wi=Ot=Xi=Di=_e=U=w=X=k=_=st=rt=ct=ht=xt=St=Rt=Ut=Ht=bt=ne=Kt=jt=kt=se=te=Zt=wt=Vt=qt=oe=pe=ti=ui=Pt=Lt=Fe=Mu=Ce=Pe=xr=yr=At=Ze=Ru=xi=Ni=_n=ts=yi=Gs=Ea=Vs=ol=It=Yt=Lu=ie=ae=Ie=Ou=Le=Tr=Sa=fi=Ca=Us=Pa=es=Hi=Aa=is=Bi=ll=Mt=Bt=null;for(var dt in this)dt!=="rebuild"&&(this[dt]=null);j=!1}function Xu(J){Gn(function(){Hu(un(J))})}function Hu(J){if(j){C==="outer"&&_.emit("outerResized",ei(J)),H=Nu();var it,dt=b,mt=!1;S&&($u(),it=dt!==b,it&&_.emit("newBreakpointStart",ei(J)));var Dt,Gt,le=nt,Ye=ct,Je=St,Ge=vt,zs=Pt,Ar=At,rs=Mt,Sl=Bt,Cl=It,bs=ae,Pl=Le,Al=Ot;if(it){var fm=et,dm=Tt,cm=Lt,vm=tt,Ml=ie;if(!n)var pm=K,mm=ot}if(vt=zt("arrowKeys"),Pt=zt("controls"),At=zt("nav"),Mt=zt("touch"),tt=zt("center"),Bt=zt("mouseDrag"),It=zt("autoplay"),ae=zt("autoplayHoverPause"),Le=zt("autoplayResetOnVisibility"),it&&(ct=zt("disable"),et=zt("fixedWidth"),at=zt("speed"),Tt=zt("autoHeight"),Lt=zt("controlsText"),ie=zt("autoplayText"),Yt=zt("autoplayTimeout"),n||(ot=zt("edgePadding"),K=zt("gutter"))),Ma(ct),Q=wu(),(!W||q)&&!ct&&(ef(),W||(Tl(),mt=!0)),(et||q)&&(We=gl(),_e=Wi()),(it||et)&&(nt=zt("items"),ut=zt("slideBy"),Gt=nt!==le,Gt&&(!et&&!q&&(_e=Wi()),fl())),it&&ct!==Ye&&(ct?Ju():Zp()),xt&&(it||et||q)&&(St=ul(),St!==Je&&(St?(xl(Va(Iu(0))),Zu()):(Kp(),mt=!0))),Ma(ct||St),It||(ae=Le=!1),vt!==Ge&&(vt?De(T,Kt):He(T,Kt)),Pt!==zs&&(Pt?Fe?Si(Fe):(Ce&&Si(Ce),Pe&&Si(Pe)):Fe?Ei(Fe):(Ce&&Ei(Ce),Pe&&Ei(Pe))),At!==Ar&&(At?(Si(Ze),El()):Ei(Ze)),Mt!==rs&&(Mt?De(O,jt,p.preventScrollOnTouch):He(O,jt)),Bt!==Sl&&(Bt?De(O,kt):He(O,kt)),It!==Cl&&(It?(Ie&&Si(Ie),!fi&&!Us&&za()):(Ie&&Ei(Ie),fi&&Pr())),ae!==bs&&(ae?De(O,bt):He(O,bt)),Le!==Pl&&(Le?De(T,ne):He(T,ne)),it){if((et!==fm||tt!==vm)&&(mt=!0),Tt!==dm&&(Tt||(Z.style.height="")),Pt&&Lt!==cm&&(Ce.innerHTML=Lt[0],Pe.innerHTML=Lt[1]),Ie&&ie!==Ml){var Rl=It?1:0,Ll=Ie.innerHTML,xf=Ll.length-Ml[Rl].length;Ll.substring(xf)===Ml[Rl]&&(Ie.innerHTML=Ll.substring(0,xf)+ie[Rl])}}else tt&&(et||q)&&(mt=!0);if((Gt||et&&!q)&&(Ni=gf(),El()),Dt=Ot!==Al,Dt?(_.emit("indexChanged",ei()),mt=!0):Gt?Dt||qu():(et||q)&&(cl(),ml(),Qu()),Gt&&!P&&qp(),!ct&&!St){if(it&&!n&&((ot!==mm||K!==pm)&&(Z.style.cssText=La(ot,K,et,at,Tt)),W)){P&&(O.style.width=Oa(et,K,nt));var gm=Fa(et,K,nt)+Ia(K);qS(Wt,tn(Wt)-1),dn(Wt,"#"+rt+" > .tns-item",gm,tn(Wt))}Tt&&Na(),mt&&(Sr(),Xi=Ot)}it&&_.emit("newBreakpointEnd",ei(J))}}function ul(){if(!et&&!q){var J=tt?nt-(nt-1)/2:nt;return V<=J}var it=et?(et+K)*V:Xt[V],dt=ot?Q+ot*2:Q+K;return tt&&(dt-=et?(Q-et)/2:(Q-(Xt[Ot+1]-Xt[Ot]-K))/2),it<=dt}function $u(){b=0;for(var J in S)J=parseInt(J),H>=J&&(b=J)}var fl=function(){return lt?P?function(){var J=Di,it=_e;J+=ut,it-=ut,ot?(J+=1,it-=1):et&&(Q+K)%(et+K)&&(it-=1),Be&&(Ot>it?Ot-=V:Ot<J&&(Ot+=V))}:function(){if(Ot>_e)for(;Ot>=Di+V;)Ot-=V;else if(Ot<Di)for(;Ot<=_e-V;)Ot+=V}:function(){Ot=Math.max(Di,Math.min(_e,Ot))}}();function dl(){!It&&Ie&&Ei(Ie),!At&&Ze&&Ei(Ze),Pt||(Fe?Ei(Fe):(Ce&&Ei(Ce),Pe&&Ei(Pe)))}function Ku(){It&&Ie&&Si(Ie),At&&Ze&&Si(Ze),Pt&&(Fe?Si(Fe):(Ce&&Si(Ce),Pe&&Si(Pe)))}function Zu(){if(!Rt){if(ot&&(Z.style.margin="0px"),Be)for(var J="tns-transparent",it=Be;it--;)P&&we(Y[it],J),we(Y[re-it-1],J);dl(),Rt=!0}}function Kp(){if(Rt){if(ot&&n&&(Z.style.margin=""),Be)for(var J="tns-transparent",it=Be;it--;)P&&di(Y[it],J),di(Y[re-it-1],J);Ku(),Rt=!1}}function Ju(){if(!ht){if(Wt.disabled=!0,O.className=O.className.replace(st.substring(1),""),Un(O,["style"]),lt)for(var J=Be;J--;)P&&Ei(Y[J]),Ei(Y[re-J-1]);if((!W||!P)&&Un(Z,["style"]),!P)for(var it=Ot,dt=Ot+V;it<dt;it++){var mt=Y[it];Un(mt,["style"]),di(mt,F),di(mt,z)}dl(),ht=!0}}function Zp(){if(ht){if(Wt.disabled=!1,O.className+=st,Sr(),lt)for(var J=Be;J--;)P&&Si(Y[J]),Si(Y[re-J-1]);if(!P)for(var it=Ot,dt=Ot+V;it<dt;it++){var mt=Y[it],Dt=it<Ot+nt?F:z;mt.style.left=(it-Ot)*100/nt+"%",we(mt,Dt)}Ku(),ht=!1}}function Qu(){var J=ju();ln.innerHTML!==J&&(ln.innerHTML=J)}function ju(){var J=Da(),it=J[0]+1,dt=J[1]+1;return it===dt?it+"":it+" to "+dt}function Da(J){J==null&&(J=Va());var it=Ot,dt,mt,Dt;if(tt||ot?(q||et)&&(mt=-(parseFloat(J)+ot),Dt=mt+Q+ot*2):q&&(mt=Xt[Ot],Dt=mt+Q),q)Xt.forEach(function(Je,Ge){Ge<re&&((tt||ot)&&Je<=mt+.5&&(it=Ge),Dt-Je>=.5&&(dt=Ge))});else{if(et){var Gt=et+K;tt||ot?(it=Math.floor(mt/Gt),dt=Math.ceil(Dt/Gt-1)):dt=it+Math.ceil(Q/Gt)-1}else if(tt||ot){var le=nt-1;if(tt?(it-=le/2,dt=Ot+le/2):dt=Ot+le,ot){var Ye=ot*nt/Q;it-=Ye,dt+=Ye}it=Math.floor(it),dt=Math.ceil(dt)}else dt=it+nt-1;it=Math.max(it,0),dt=Math.min(dt,re-1)}return[it,dt]}function cl(){if(Me&&!ct){var J=Da();J.push(ve),pl.apply(null,J).forEach(function(it){if(!vr(it,pe)){var dt={};dt[c]=function(Dt){Dt.stopPropagation()},De(it,dt),De(it,ti),it.src=no(it,"data-src");var mt=no(it,"data-srcset");mt&&(it.srcset=mt),we(it,"loading")}})}}function Jp(J){ku(Ys(J))}function Qp(J){jp(Ys(J))}function ku(J){we(J,"loaded"),vl(J)}function jp(J){we(J,"failed"),vl(J)}function vl(J){we(J,pe),di(J,"loading"),He(J,ti)}function pl(J,it,dt){var mt=[];for(dt||(dt="img");J<=it;)Vn(Y[J].querySelectorAll(dt),function(Dt){mt.push(Dt)}),J++;return mt}function Na(){var J=pl.apply(null,Da());Gn(function(){Ba(J,tf)})}function Ba(J,it){if(ui||(J.forEach(function(dt,mt){!Me&&dt.complete&&vl(dt),vr(dt,pe)&&J.splice(mt,1)}),!J.length))return it();Gn(function(){Ba(J,it)})}function qu(){cl(),ml(),Qu(),af(),_p()}function kp(){P&&Tt&&(D.style[o]=at/1e3+"s")}function _u(J,it){for(var dt=[],mt=J,Dt=Math.min(J+it,re);mt<Dt;mt++)dt.push(Y[mt].offsetHeight);return Math.max.apply(null,dt)}function tf(){var J=Tt?_u(Ot,nt):_u(Be,V),it=D||Z;it.style.height!==J&&(it.style.height=J+"px")}function ef(){Xt=[0];var J=W?"left":"top",it=W?"right":"bottom",dt=Y[0].getBoundingClientRect()[J];Vn(Y,function(mt,Dt){Dt&&Xt.push(mt.getBoundingClientRect()[J]-dt),Dt===re-1&&Xt.push(mt.getBoundingClientRect()[it]-dt)})}function ml(){var J=Da(),it=J[0],dt=J[1];Vn(Y,function(mt,Dt){Dt>=it&&Dt<=dt?Fr(mt,"aria-hidden")&&(Un(mt,["aria-hidden","tabindex"]),we(mt,oe)):Fr(mt,"aria-hidden")||(Ti(mt,{"aria-hidden":"true",tabindex:"-1"}),di(mt,oe))})}function qp(){for(var J=Ot+Math.min(V,nt),it=re;it--;){var dt=Y[it];it>=Ot&&it<J?(we(dt,"tns-moving"),dt.style.left=(it-Ot)*100/nt+"%",we(dt,F),di(dt,z)):dt.style.left&&(dt.style.left="",we(dt,z),di(dt,F)),di(dt,I)}setTimeout(function(){Vn(Y,function(mt){di(mt,"tns-moving")})},300)}function _p(){if(At&&(yi=ts>=0?ts:Du(),ts=-1,yi!==Gs)){var J=xi[Gs],it=xi[yi];Ti(J,{tabindex:"-1","aria-label":Vs+(Gs+1)}),di(J,Ea),Ti(it,{"aria-label":Vs+(yi+1)+ol}),Un(it,"tabindex"),we(it,Ea),Gs=yi}}function nf(J){return J.nodeName.toLowerCase()}function sf(J){return nf(J)==="button"}function rf(J){return J.getAttribute("aria-disabled")==="true"}function wa(J,it,dt){J?it.disabled=dt:it.setAttribute("aria-disabled",dt.toString())}function af(){if(!(!Pt||yt||lt)){var J=xr?Ce.disabled:rf(Ce),it=yr?Pe.disabled:rf(Pe),dt=Ot<=Di,mt=!yt&&Ot>=_e;dt&&!J&&wa(xr,Ce,!0),!dt&&J&&wa(xr,Ce,!1),mt&&!it&&wa(yr,Pe,!0),!mt&&it&&wa(yr,Pe,!1)}}function Ga(J,it){o&&(J.style[o]=it)}function tm(){return et?(et+K)*re:Xt[re]}function Er(J){J==null&&(J=Ot);var it=ot?K:0;return q?(Q-it-(Xt[J+1]-Xt[J]-K))/2:et?(Q-et)/2:(nt-1)/2}function gl(){var J=ot?K:0,it=Q+J-tm();return tt&&!lt&&(it=et?-(et+K)*(re-1)-Er():Er(re-1)-Xt[re-1]),it>0&&(it=0),it}function Va(J){J==null&&(J=Ot);var it;if(W&&!q)if(et)it=-(et+K)*J,tt&&(it+=Er());else{var dt=s?re:nt;tt&&(J-=Er()),it=-J*100/dt}else it=-Xt[J],tt&&q&&(it+=Er());return Qt&&(it=Math.max(it,We)),it+=W&&!q&&!et?"%":"px",it}function Sr(J){Ga(O,"0s"),xl(J)}function xl(J){J==null&&(J=Va()),O.style[Xe]=qi+J+Ft}function of(J,it,dt,mt){var Dt=J+nt;lt||(Dt=Math.min(Dt,re));for(var Gt=J;Gt<Dt;Gt++){var le=Y[Gt];mt||(le.style.left=(Gt-Ot)*100/nt+"%"),N&&h&&(le.style[h]=le.style[v]=N*(Gt-J)/1e3+"s"),di(le,it),we(le,dt),mt&&Oe.push(le)}}var em=function(){return P?function(){Ga(O,""),o||!at?(xl(),(!at||!Wd(O))&&_i()):sC(O,Xe,qi,Ft,Va(),at,_i),W||Tl()}:function(){Oe=[];var J={};J[c]=J[m]=_i,He(Y[Xi],J),De(Y[Ot],J),of(Xi,F,I,!0),of(Ot,z,F),(!c||!m||!at||!Wd(O))&&_i()}}();function yl(J,it){on&&fl(),(Ot!==Xi||it)&&(_.emit("indexChanged",ei()),_.emit("transitionStart",ei()),Tt&&Na(),fi&&J&&["click","keydown"].indexOf(J.type)>=0&&Pr(),X=!0,em())}function lf(J){return J.toLowerCase().replace(/-/g,"")}function _i(J){if(P||X){if(_.emit("transitionEnd",ei(J)),!P&&Oe.length>0)for(var it=0;it<Oe.length;it++){var dt=Oe[it];dt.style.left="",v&&h&&(dt.style[v]="",dt.style[h]=""),di(dt,I),we(dt,z)}if(!J||!P&&J.target.parentNode===O||J.target===O&&lf(J.propertyName)===lf(Xe)){if(!on){var mt=Ot;fl(),Ot!==mt&&(_.emit("indexChanged",ei()),Sr())}C==="inner"&&_.emit("innerLoaded",ei()),X=!1,Xi=Ot}}}function Cr(J,it){if(!St)if(J==="prev")In(it,-1);else if(J==="next")In(it,1);else{if(X){if(ws)return;_i()}var dt=Ra(),mt=0;if(J==="first"?mt=-dt:J==="last"?mt=P?V-nt-dt:V-1-dt:(typeof J!="number"&&(J=parseInt(J)),isNaN(J)||(it||(J=Math.max(0,Math.min(V-1,J))),mt=J-dt)),!P&&mt&&Math.abs(mt)<nt){var Dt=mt>0?1:-1;mt+=Ot+mt-V>=Di?V*Dt:V*2*Dt*-1}Ot+=mt,P&&lt&&(Ot<Di&&(Ot+=V),Ot>_e&&(Ot-=V)),Ra(Ot)!==Ra(Xi)&&yl(it)}}function In(J,it){if(X){if(ws)return;_i()}var dt;if(!it){J=un(J);for(var mt=Ys(J);mt!==Fe&&[Ce,Pe].indexOf(mt)<0;)mt=mt.parentNode;var Dt=[Ce,Pe].indexOf(mt);Dt>=0&&(dt=!0,it=Dt===0?-1:1)}if(yt){if(Ot===Di&&it===-1){Cr("last",J);return}else if(Ot===_e&&it===1){Cr("first",J);return}}it&&(Ot+=ut*it,q&&(Ot=Math.floor(Ot)),yl(dt||J&&J.type==="keydown"?J:null))}function im(J){if(X){if(ws)return;_i()}J=un(J);for(var it=Ys(J),dt;it!==Ze&&!Fr(it,"data-nav");)it=it.parentNode;if(Fr(it,"data-nav")){var dt=ts=Number(no(it,"data-nav")),mt=et||q?dt*V/Ni:dt*nt,Dt=Zt?dt:Math.min(Math.ceil(mt),V-1);Cr(Dt,J),yi===dt&&(fi&&Pr(),ts=-1)}}function Ua(){Sa=setInterval(function(){In(null,Lu)},Yt),fi=!0}function Ya(){clearInterval(Sa),fi=!1}function hf(J,it){Ti(Ie,{"data-action":J}),Ie.innerHTML=Tr[0]+J+Tr[1]+it}function za(){Ua(),Ie&&hf("stop",ie[1])}function Pr(){Ya(),Ie&&hf("start",ie[0])}function nm(){It&&!fi&&(za(),Us=!1)}function sm(){fi&&(Pr(),Us=!0)}function uf(){fi?(Pr(),Us=!0):(za(),Us=!1)}function rm(){T.hidden?fi&&(Ya(),Pa=!0):Pa&&(Ua(),Pa=!1)}function am(){fi&&(Ya(),Ca=!0)}function om(){Ca&&(Ua(),Ca=!1)}function lm(J){J=un(J);var it=[x.LEFT,x.RIGHT].indexOf(J.keyCode);it>=0&&In(J,it===0?-1:1)}function hm(J){J=un(J);var it=[x.LEFT,x.RIGHT].indexOf(J.keyCode);it>=0&&(it===0?Ce.disabled||In(J,-1):Pe.disabled||In(J,1))}function ff(J){J.focus()}function um(J){J=un(J);var it=T.activeElement;if(Fr(it,"data-nav")){var dt=[x.LEFT,x.RIGHT,x.ENTER,x.SPACE].indexOf(J.keyCode),mt=Number(no(it,"data-nav"));dt>=0&&(dt===0?mt>0&&ff(xi[mt-1]):dt===1?mt<Ni-1&&ff(xi[mt+1]):(ts=mt,Cr(mt,J)))}}function un(J){return J=J||l.event,ss(J)?J.changedTouches[0]:J}function Ys(J){return J.target||l.event.srcElement}function ss(J){return J.type.indexOf("touch")>=0}function df(J){J.preventDefault?J.preventDefault():J.returnValue=!1}function cf(){return tC(_S(Hi.y-es.y,Hi.x-es.x),U)===p.axis}function vf(J){if(X){if(ws)return;_i()}It&&fi&&Ya(),is=!0,Bi&&(Xl(Bi),Bi=null);var it=un(J);_.emit(ss(J)?"touchStart":"dragStart",ei(J)),!ss(J)&&["img","a"].indexOf(nf(Ys(J)))>=0&&df(J),Hi.x=es.x=it.clientX,Hi.y=es.y=it.clientY,P&&(Aa=parseFloat(O.style[Xe].replace(qi,"")),Ga(O,"0s"))}function pf(J){if(is){var it=un(J);Hi.x=it.clientX,Hi.y=it.clientY,P?Bi||(Bi=Gn(function(){mf(J)})):(w==="?"&&(w=cf()),w&&(gi=!0)),(typeof J.cancelable!="boolean"||J.cancelable)&&gi&&J.preventDefault()}}function mf(J){if(!w){is=!1;return}if(Xl(Bi),is&&(Bi=Gn(function(){mf(J)})),w==="?"&&(w=cf()),w){!gi&&ss(J)&&(gi=!0);try{J.type&&_.emit(ss(J)?"touchMove":"dragMove",ei(J))}catch{}var it=Aa,dt=ll(Hi,es);if(!W||et||q)it+=dt,it+="px";else{var mt=s?dt*nt*100/((Q+K)*re):dt*100/(Q+K);it+=mt,it+="%"}O.style[Xe]=qi+it+Ft}}function ba(J){if(is){Bi&&(Xl(Bi),Bi=null),P&&Ga(O,""),is=!1;var it=un(J);Hi.x=it.clientX,Hi.y=it.clientY;var dt=ll(Hi,es);if(Math.abs(dt)){if(!ss(J)){var mt=Ys(J);De(mt,{click:function Dt(Gt){df(Gt),He(mt,{click:Dt})}})}P?Bi=Gn(function(){if(W&&!q){var Dt=-dt*nt/(Q+K);Dt=dt>0?Math.floor(Dt):Math.ceil(Dt),Ot+=Dt}else{var Gt=-(Aa+dt);if(Gt<=0)Ot=Di;else if(Gt>=Xt[re-1])Ot=_e;else for(var le=0;le<re&&Gt>=Xt[le];)Ot=le,Gt>Xt[le]&&dt<0&&(Ot+=1),le++}yl(J,dt),_.emit(ss(J)?"touchEnd":"dragEnd",ei(J))}):w&&In(J,dt>0?-1:1)}}p.preventScrollOnTouch==="auto"&&(gi=!1),U&&(w="?"),It&&!fi&&Ua()}function Tl(){var J=D||Z;J.style.height=Xt[Ot+nt]-Xt[Ot]+"px"}function gf(){var J=et?(et+K)*V/Q:V/nt;return Math.min(Math.ceil(J),V)}function El(){if(!(!At||Zt)&&Ni!==_n){var J=_n,it=Ni,dt=Si;for(_n>Ni&&(J=Ni,it=_n,dt=Ei);J<it;)dt(xi[J]),J++;_n=Ni}}function ei(J){return{container:O,slideItems:Y,navContainer:Ze,navItems:xi,controlsContainer:Fe,hasControls:se,prevButton:Ce,nextButton:Pe,items:nt,slideBy:ut,cloneCount:Be,slideCount:V,slideCountNew:re,index:Ot,indexCached:Xi,displayIndex:Fu(),navCurrentIndex:yi,navCurrentIndexCached:Gs,pages:Ni,pagesCached:_n,sheet:Wt,isOn:j,event:J||{}}}return{version:"2.9.4",getInfo:ei,events:_,goTo:Cr,play:nm,pause:sm,isOn:j,updateSliderHeight:tf,refresh:Uu,destroy:$p,rebuild:function(){return Gp(Hl(p,E))}}},rC=Dp.tns=Gp;const aC=li({name:"CarouselSlider",emits:["currentLevelChanged"],props:["visible"],data(){return{enabledLevels:Ch(),currentIndex:ce.getCurrentSelectedIndex(),slider:void 0}},mounted(){const p=this.enabledLevels.length===2?2:3;this.slider=rC({container:"#carousel-slider",items:p,controls:!0,lazyload:!0,gutter:0,center:!0,slideBy:1,autoplay:!1,mouseDrag:!0,swipeAngle:!1,edgePadding:10,arrowKeys:this.visible,speed:400,startIndex:this.currentIndex,loop:!1,prevButton:"#carouselPrevButton",nextButton:"#carouselNextButton",nav:!1}),this.slider.goTo(this.currentIndex),this.slider.events.on("indexChanged",l=>this.updateIndex(l.index)),this.updateIndex(this.currentIndex);const T=()=>{const l=document.getElementById("carousel-slider"),x=l.clientHeight,t=Math.ceil(x/10)*10;t>75?l.style.height=t+"px":setTimeout(T,50)};setTimeout(T,50),window.addEventListener("keyup",this.keyPressed)},unmounted(){this.slider.destroy(),window.removeEventListener("keyup",this.keyPressed)},computed:{carouselContainerStyle(){return p=>p===this.currentIndex?{border:`solid ${p===0?"var(--oldstuff-color)":"var(--radioactive-color)"}`,"border-width":"6px 7px 6px 8px","border-radius":"95% 4% 92% 5% / 4% 95% 6% 95%"}:{}},mapStyle(){return T=>{let l=10;T===this.currentIndex?l=0:T<this.currentIndex&&(l=-10);let x="var(--radioactive-color)";return T===0&&(x="var(--oldstuff-color)"),{"min-width":"30%","user-select":"none",filter:`drop-shadow(${l}px 5px 3px ${x})`}}},currentDisplayIndex(){return this.currentIndex===0?"-":this.currentIndex.toString()},customItem(){return p=>p===0},thumbnail(){return p=>{if(this.enabledLevels[p]){if(this.enabledLevels[p].snapshot)return this.enabledLevels[p].snapshot;if(this.enabledLevels[p].thumbnailPath)return this.enabledLevels[p].thumbnailPath}return this.enabledLevels[1].thumbnailPath}},currentTitle(){return this.enabledLevels[this.currentIndex].title},levelWasComplete(){return p=>{let T=p;return p!==0?!!ce.getLevelCompleteData().find(l=>l.index===T):!1}},currentSolutionData(){if(this.currentIndex!==0){let p=this.currentIndex;const T=ce.getLevelCompleteData().find(l=>l.index===p);if(T){const l=new Date(T.timestamp);return`solved on ${`${l.getDate()}/${l.toLocaleString("en-US",{month:"long"}).substring(0,3)}/${l.getFullYear()}`} in ${Math.trunc(T.totalTime/100)/10}s`}}return""}},methods:{keyPressed(p){const T=document.activeElement.id,l=["body","carouselPrevButton","carouselNextButton"];if(this.visible&&l.includes(T)){const x=this.enabledLevels.length-1,t=0,e=5;p.code==="Home"?this.slider.goTo(t):p.code==="End"?this.slider.goTo(x):p.code==="PageUp"?this.slider.goTo(Phaser.Math.Clamp(this.currentIndex-e,t,x)):p.code==="PageDown"&&this.slider.goTo(Phaser.Math.Clamp(this.currentIndex+e,t,x))}},updateIndex(p){ce.setCurrentSelectedIndex(p),this.currentIndex=p;let T=this.enabledLevels[p],l=p.toString();p===0&&(l="(custom)"),this.$emit("currentLevelChanged",T,l,p===0,p)}}}),oC="/nuclear-defender/custom-stamp-0170ab63.png",lC="/nuclear-defender/solved-b7fd4b25.png";const hC={id:"carousel-slider-parent"},uC={id:"carousel-slider",style:{}},fC=["data-src"],dC={key:0,alt:"",class:"img-fluid custom-made-stamp",src:oC},cC={key:1,alt:"",class:"img-fluid level-stamp",src:lC},vC=jc('<ul class="carousel-controls" id="customize-controls" tabindex="0" data-v-0a89fe20><li class="prev" id="carouselPrevButton" tabindex="-1" data-controls="prev" data-v-0a89fe20><i class="fa-solid fa-chevron-left" data-v-0a89fe20></i></li><li class="next" id="carouselNextButton" tabindex="-1" data-controls="next" data-v-0a89fe20><i class="fa-solid fa-chevron-right" data-v-0a89fe20></i></li></ul>',1),pC={class:"mt-4 level-title"},mC={class:"mt-2 level-solution-data"};function gC(p,T,l,x,t,e){return Se(),$e("div",hC,[ft("div",uC,[(Se(!0),$e(Ve,null,Nc(p.enabledLevels,(f,i)=>(Se(),$e("div",{class:Sn({"carousel-container":!0,"selected-slider":i===p.currentIndex,"custom-level":i===0,"tns-item":!0}),style:En(p.carouselContainerStyle(i))},[ft("img",{alt:"",class:"p-2 img-fluid tns-lazy-img carousel-thumbnail","data-src":p.thumbnail(i),height:"60",style:En(p.mapStyle(i))},null,12,fC),p.customItem(i)?(Se(),$e("img",dC)):p.levelWasComplete(i)?(Se(),$e("img",cC)):Cs("",!0)],6))),256))]),vC,ft("h3",pC,zi(p.currentDisplayIndex),1),ft("h3",mC,zi(p.currentSolutionData),1)])}const xC=On(aC,[["render",gC],["__scopeId","data-v-0a89fe20"]]);function yC(){return new Worker("/nuclear-defender/solver-web-worker-bc334a06.js")}class TC{verify(T){T.raw.strippedFeatureLayeredMatrix.forEach((l,x)=>{if(l.every(t=>t.every(e=>e.code!==Et.wall)))throw Error(`Line ${x+1} is pretty much empty. What's the sense of having it?`)})}}class Pu{constructor(T){gt(this,"toInvestigate");gt(this,"dimensions");gt(this,"notInvestigatedYet");this.dimensions=new fe(T.raw.width,T.raw.height),this.notInvestigatedYet=[],T.raw.strippedFeatureLayeredMatrix.forEach((x,t)=>x.forEach((e,f)=>this.notInvestigatedYet.push({point:new fe(f,t),tiles:T.raw.strippedFeatureLayeredMatrix[t][f]})));const l=T.removedFeatures.get(Et.hero)[0];this.toInvestigate=[l]}explore(){const T=[],l=[],x=[];for(;this.toInvestigate.length>0;){const e=this.toInvestigate.shift(),f=this.notInvestigatedYet.find(i=>i.point.isEqualTo(e));if(this.notInvestigatedYet=this.notInvestigatedYet.filter(i=>i.point.isDifferentOf(e)),f){if(f.tiles.some(i=>i.code===Et.wall))continue;f.tiles.some(i=>i.code===Et.empty)&&x.push(e)}else continue;T.push(e),Pu.getNeighborsOf(e).forEach(i=>{if(i.x<0||i.y<0||i.x>=this.dimensions.x||i.y>=this.dimensions.y){l.push(i);return}this.notInvestigatedYet.find(r=>r.point.isEqualTo(i))&&this.toInvestigate.push(i)})}const t=this.notInvestigatedYet.filter(e=>e.tiles.length>0&&e.tiles.some(f=>f.code!==Et.empty)).map(e=>e.point);return{wrapped:T,leaks:[...new Set(l)],acessibleEmpties:x,unwrapped:t}}static getNeighborsOf(T){const l=[];for(let x=-1;x<2;++x)for(let t=-1;t<2;++t){const e=t+T.x,f=x+T.y;(x!==0||t!==0)&&l.push(new fe(e,f))}return l}}class EC{verify(T){const l=new Pu(T).explore();if(l.acessibleEmpties.length>0)throw Error(`Did you notice there is an empty space at (${l.acessibleEmpties[0].y+1}, ${l.acessibleEmpties[0].x+1}).
                Well, I did and it doesn't look cool. Replace it with something more meaningful.`);if(l.leaks.length>0)throw Error(`Our hero is a escapper.
                            Wrap the whole level in walls otherwise it may be very hard to get the hero back. Put a wall somewhere around (${l.leaks[0].y+1}, ${l.leaks[0].x+1}).`);if(l.unwrapped.length>0)throw Error(`What's the point of having something unnecessary at (${l.unwrapped[0].y+1}, ${l.unwrapped[0].x+1})? There can be only one hero explorable area.
                 Do yourself a favor and put everything inside it.`)}}class SC{verify(T){if(T.raw.height>Ct.world.mapLimits.lines)throw Error(`Try to keep the number of lines less than ${Ct.world.mapLimits.lines}. Right now you have ${T.raw.height}.`);if(T.raw.width>Ct.world.mapLimits.rows)throw Error(`Try to keep the number of rows less than ${Ct.world.mapLimits.rows}. Right now you have ${T.raw.width}.`)}}class CC{verify(T){const l=T.removedFeatures.get(Et.hero).length;if(l===0)throw Error("Let's start by adding at least ONE hero to push things around. Shall we?");if(l>1)throw Error("Playing with more than ONE hero may be a future feature, but it is not allowed yet.")}}class PC{verify(T){const l=T.removedFeatures.get(Et.hero)[0],x=T.removedFeatures.get(Et.box);this.checkOilOverUse(T),this.checkGoalAndSpringOverUse(T),this.checkDuplicateElementsAtSamePosition(T),this.checkBoxesOverUse(x,l),this.checkWallsOverUse(T,l,x)}checkBoxesOverUse(T,l){if(T.some(t=>t.isEqualTo(l)))throw Error(`Hero can't be in the same position as a box. Nice try, though. Fix error at (${l.y+1}, ${l.x+1})`);const x=T.find((t,e)=>T.some((f,i)=>t.isEqualTo(f)&&e!==i));if(x)throw Error(`Two boxes can't share the same position. Be more creative. Fix error at (${x.y+1}, ${x.x+1})`)}checkWallsOverUse(T,l,x){T.pointMap.get(Et.wall).forEach(t=>{for(let[e,f]of T.pointMap.entries()){const i=f.filter(r=>r.isEqualTo(t)).length;if(e!==Et.wall&&i>0)throw Error(`Walls can't share position with anything else. Give me a break. Fix error at (${t.y+1}, ${t.x+1}).`)}if(t.isEqualTo(l)||x.some(e=>e.isEqualTo(t)))throw Error(`Walls can't share position with anything else. Do I really have to say this? Fix error at (${t.y+1}, ${t.x+1}).`)})}checkOilOverUse(T){T.pointMap.get(Et.oily).forEach(l=>{if(T.pointMap.get(Et.treadmil).some(x=>x.isEqualTo(l)))throw Error(`Oily floors and treadmils don't go well together. Didn't you go to school?. Fix error at (${l.y+1}, ${l.x+1}).`);if(T.pointMap.get(Et.spring).some(x=>x.isEqualTo(l)))throw Error(`Oily floors and springs are like a rainbow and something that doesn't like rainbows at all. They don't mix. Fix error at (${l.y+1}, ${l.x+1}).`)})}checkGoalAndSpringOverUse(T){T.pointMap.get(Et.target).forEach(l=>{if(T.pointMap.get(Et.spring).some(x=>x.isEqualTo(l)))throw Error(`Spring and goals are not good thing to share a location. What would you expect? That the spring would push the goal? Hello?! Fix error at (${l.y+1}, ${l.x+1}).`)})}checkDuplicateElementsAtSamePosition(T){for(let l=0;l<T.raw.height;++l)for(let x=0;x<T.raw.width;++x)if(T.raw.strippedFeatureLayeredMatrix[l][x].filter((e,f)=>T.raw.strippedFeatureLayeredMatrix[l][x].some((i,r)=>e.code===i.code&&f!==r)).length>1)throw Error(`A position can't contain more than one of the same element. Do you think they would get together and become stronger?
                         This is not power rangers. Fix it at (${l+1}, ${x+1}).`)}}class AC{verify(T){let l=0;T.raw.strippedFeatureLayeredMatrix.forEach(t=>t.forEach(e=>{e.some(f=>f.code!==Et.target&&f.code!==Et.floor&&f.code!==Et.wall&&f.code!==Et.empty)&&++l}));const x=Ct.world.mapLimits.features;if(l>x)throw Error(`For performance concerns, try to keep the number cool feature less than ${x}.
                        Right now you have ${l}, I don't think your browser can handle it.`)}}class MC{verify(T){const l=T.removedFeatures.get(Et.box),x=l.length,t=T.pointMap.get(Et.target),e=t.length;if(x<=0)throw Error("Come on! Put at least one barrel on the map, please.");if(e<=0)throw Error("How can a map be solved if there is no target to push barrells to?");if(e!==x)throw Error(`Numbers of targets (${e}) and barrels (${x}) have to be the same. Help me to help you.`);if(l.every(f=>t.some(i=>i.isEqualTo(f))))throw Error("You can't provide an already solved map. It would be too easy, don't you think?")}}const Lo=class{constructor(){gt(this,"constrainVerifiers");gt(this,"webWorkerSolver");this.constrainVerifiers=[new SC,new CC,new MC,new AC,new EC,new TC,new PC],this.webWorkerSolver=new yC}static getInstance(){return Lo.instance}abort(){this.webWorkerSolver.terminate()}async validate(T){return await new Promise(async(l,x)=>{this.webWorkerSolver.terminate(),console.log("validating map structure");try{this.constrainVerifiers.forEach(e=>e.verify(T))}catch(e){x(e);return}console.log("map structure is valid");const t={strippedMap:T.raw,staticFeatures:T.pointMap,dynamicMap:T.removedFeatures,timeoutInMs:60*1e3};this.webWorkerSolver.onmessage=e=>{const f=e.data;console.log("done validating map"),console.log(f),(f.aborted||f.error||!f.solutionOutput.actions)&&x(Error("Not even me can solve this map. Keep on trying to make a solvable one.")),console.log(f.solutionOutput),l(f.solutionOutput)},console.log("checking whether the map is solvable"),this.webWorkerSolver.postMessage(t)})}};let Kr=Lo;gt(Kr,"instance",new Lo);class RC{constructor(T,l){gt(this,"fullText");gt(this,"selectedChar");this.selectedChar=T,this.fullText=l}localize(){const l=this.fullText.split("").filter((r,a)=>(r===`
`||r==="|")&&a<this.selectedChar).length,x=this.fullText.substring(0,this.selectedChar).lastIndexOf(`
`),t=this.fullText.substring(x,this.selectedChar).replace(/\n/g,"").replace(/[lurd]/g,""),e=this.countNumbersOfElementsInGrouppingTag(t),f=this.countNumbers(t),i=t.length-e+f;return new fe(i,l)}countNumbersOfElementsInGrouppingTag(T){const l=T.indexOf("[");if(l!==-1){const x=T.indexOf("]",l);return x>l?x-l+this.countNumbersOfElementsInGrouppingTag(T.substring(x)):T.length-l}return 0}countNumbers(T){var t;let l=0;const x=((t=T.match(/(\d*)/g))==null?void 0:t.reduce((e,f)=>{let i=Number(f);return i>0&&++l,e+i},0))||0;return x>0?x-2*l:0}}var Ph={},LC={get exports(){return Ph},set exports(p){Ph=p}};/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2016 Mykhailo Stadnyk <mikhus@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * @version 2.1.7
 */(function(p){(function(T){function l(U){if(Array.isArray(U)){for(var w=0,X=Array(U.length);w<U.length;w++)X[w]=U[w];return X}return Array.from(U)}function x(U,w){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?U:w}function t(U,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);U.prototype=Object.create(w&&w.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(U,w):U.__proto__=w)}function e(U,w){if(!(U instanceof w))throw new TypeError("Cannot call a class as a function")}function f(U,w){if(w||(w=typeof window>"u"?ho:window),w[U]!==void 0)return w[U];for(var X=["webkit","moz","ms","o"],k=0,_=X.length,st=U.charAt(0).toUpperCase()+U.substr(1);k<_;k++){var rt=w[X[k]+st];if(rt!==void 0)return rt}return null}function i(U,w,X,k,_,st,rt){if(typeof k!="function")throw new TypeError("Invalid animation rule:",k);var ct=U-X,ht=ct/_,xt=0;ht>1&&(ht=1),ht!==1&&(xt=k(ht),isFinite(xt)&&!isNaN(xt)&&(ht=xt)),w&&w(ht),ct<_?rt.frame=Wt(function(St){return i(St,w,X,k,_,st,rt)}):(st&&st(),rt.inProgress=!1)}function r(){Array.prototype.constructor.apply(this,arguments)}function a(U){if(!(U instanceof DOMException&&U.result===2152923147))throw U}function n(U,w){return w.replace(qi,function(X,k){var _=U[k];return _!==void 0?_:X})}function s(U){return U.majorTicks instanceof Array||(U.majorTicks=U.majorTicks?[U.majorTicks]:[]),U.majorTicks.length||(U.majorTicks.push(Ft.formatMajorTickNumber(U.minValue,U)),U.majorTicks.push(Ft.formatMajorTickNumber(U.maxValue,U))),[U.tickSide!=="right",U.tickSide!=="left"]}function u(U,w,X,k,_,st){U.beginPath(),U.moveTo(w+st,X),U.lineTo(w+k-st,X),U.quadraticCurveTo(w+k,X,w+k,X+st),U.lineTo(w+k,X+_-st),U.quadraticCurveTo(w+k,X+_,w+k-st,X+_),U.lineTo(w+st,X+_),U.quadraticCurveTo(w,X+_,w,X+_-st),U.lineTo(w,X+st),U.quadraticCurveTo(w,X,w+st,X),U.closePath()}function o(U,w){var X=w.valueDec,k=w.valueInt,_=0,st=void 0,rt=void 0,ct=void 0;if(U=parseFloat(U),ct=U<0,U=Math.abs(U),X>0){for(rt=U.toFixed(X).toString().split("."),st=k-rt[0].length;_<st;++_)rt[0]="0"+rt[0];rt=(ct?"-":"")+rt[0]+"."+rt[1]}else{for(rt=Math.round(U).toString(),st=k-rt.length;_<st;++_)rt="0"+rt;rt=(ct?"-":"")+rt}return rt}function h(U,w){var X=void 0,k=!1;return X=w.majorTicksDec===0?Math.round(U).toString():U.toFixed(w.majorTicksDec),w.majorTicksInt>1?(k=~X.indexOf("."),~X.indexOf("-")?"-"+[w.majorTicksInt+w.majorTicksDec+2+(k?1:0)-X.length].join("0")+X.replace("-",""):[w.majorTicksInt+w.majorTicksDec+1+(k?1:0)-X.length].join("0")+X):X}function d(U){return U*Math.PI/180}function v(U,w){return{x:-U*Math.sin(w),y:U*Math.cos(w)}}function c(U,w,X,k){var _=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],st=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,rt=U.createLinearGradient(_?0:st,_?st:0,_?0:k,_?k:0);return rt.addColorStop(0,w),rt.addColorStop(1,X),rt}function m(U,w){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2])return U.restore(),!0;U.save();var X=w.borderShadowWidth;return X&&(U.shadowBlur=X,U.shadowColor=w.colorBorderShadow),!0}function g(U,w){w.needleShadow&&(U.shadowOffsetX=2,U.shadowOffsetY=2,U.shadowBlur=10,U.shadowColor=w.colorNeedleShadowDown)}function y(U,w,X){return U["font"+w+"Style"]+" "+U["font"+w+"Weight"]+" "+U["font"+w+"Size"]*X+"px "+U["font"+w]}function E(U){U.shadowOffsetX=null,U.shadowOffsetY=null,U.shadowBlur=null,U.shadowColor="",U.strokeStyle=null,U.lineWidth=0,U.save()}function S(U,w,X,k){w.valueTextShadow&&(U.shadowOffsetX=X,U.shadowOffsetY=X,U.shadowBlur=k,U.shadowColor=w.colorValueTextShadow)}function C(U,w,X,k,_,st){if(w.valueBox){E(U);var rt=w.valueDec?1+w.valueDec:0,ct="9".repeat(Math.max.apply(null,[String(parseInt(X)).length+rt].concat(w.majorTicks.map(function(oe){return String(parseInt(oe,10)).length+rt})))),ht=w.valueText||o(X,w),xt=st/200,St=st/100,Rt=.4*St,Ut=1.2*St;U.font=y(w,"Value",xt),S(U,w,Rt,Ut);var Ht=U.measureText(w.valueText?ht:"-"+o(Number(ct),w)).width;E(U);var bt=parseFloat(w.fontValueSize)*xt+Rt+Ut,ne=St*parseFloat(w.valueBoxStroke),Kt=2*st-2*ne,jt=Ht+10*St,kt=1.1*bt+Rt+Ut,se=St*w.valueBoxBorderRadius,te=(parseFloat(w.valueBoxWidth)||0)/100*Kt;te>jt&&(jt=te),jt>Kt&&(jt=Kt);var Zt=k-jt/2,wt=_-kt/2,Vt=_-5.75*St;if(U.beginPath(),se?u(U,Zt,wt,jt,kt,se):U.rect(Zt,wt,jt,kt),ne){var qt=U.createRadialGradient(k,Vt,10*St,k,Vt,20*St);qt.addColorStop(0,w.colorValueBoxRect),qt.addColorStop(1,w.colorValueBoxRectEnd),U.strokeStyle=qt,U.lineWidth=ne,U.stroke()}w.colorValueBoxShadow&&(U.shadowBlur=1.2*St,U.shadowColor=w.colorValueBoxShadow),w.colorValueBoxBackground&&(U.fillStyle=w.colorValueBoxBackground,U.fill()),U.closePath(),U.restore(),S(U,w,Rt,Ut),U.fillStyle=w.colorValueText,U.textAlign="center",U.textBaseline="alphabetic",U.fillText(ht,Zt+jt/2,_+kt/2-bt/3),U.restore()}}function P(U){var w=U.value,X=U.minValue,k=U.maxValue,_=.01*(k-X);return{normal:w<X?X:w>k?k:w,indented:w<X?X-_:w>k?k+_:w}}function A(U,w,X,k,_){X.beginPath(),X.arc(0,0,We(U),0,2*Wi,!0),X.lineWidth=w,X.strokeStyle=_?Ft.linearGradient(X,k,_,U):k,X.stroke(),X.closePath()}function R(U,w){var X=Oe.pixelRatio;return U.maxRadius||(U.maxRadius=U.max-w.borderShadowWidth-w.borderOuterWidth*X-w.borderMiddleWidth*X-w.borderInnerWidth*X+(w.borderOuterWidth?.5:0)+(w.borderMiddleWidth?.5:0)+(w.borderInnerWidth?.5:0)),U.maxRadius}function M(U,w){var X=Oe.pixelRatio,k=w.borderShadowWidth*X,_=U.max-k-w.borderOuterWidth*X/2,st=_-w.borderOuterWidth*X/2-w.borderMiddleWidth*X/2+.5,rt=st-w.borderMiddleWidth*X/2-w.borderInnerWidth*X/2+.5,ct=R(U,w),ht=void 0,xt=!1;U.save(),w.borderOuterWidth&&(xt=Ft.drawShadow(U,w,xt),A(_,w.borderOuterWidth*X,U,w.colorBorderOuter,w.colorBorderOuterEnd)),w.borderMiddleWidth&&(xt=Ft.drawShadow(U,w,xt),A(st,w.borderMiddleWidth*X,U,w.colorBorderMiddle,w.colorBorderMiddleEnd)),w.borderInnerWidth&&(xt=Ft.drawShadow(U,w,xt),A(rt,w.borderInnerWidth*X,U,w.colorBorderInner,w.colorBorderInnerEnd)),Ft.drawShadow(U,w,xt),U.beginPath(),U.arc(0,0,We(ct),0,2*Wi,!0),w.colorPlateEnd?(ht=U.createRadialGradient(0,0,ct/2,0,0,ct),ht.addColorStop(0,w.colorPlate),ht.addColorStop(1,w.colorPlateEnd)):ht=w.colorPlate,U.fillStyle=ht,U.fill(),U.closePath(),U.restore()}function L(U,w){var X=U.max*(parseFloat(w.highlightsWidth)||0)/100;if(X){var k=We(I(U,w)-X/2),_=0,st=w.highlights.length,rt=(w.maxValue-w.minValue)/w.ticksAngle;for(U.save();_<st;_++){var ct=w.highlights[_];U.beginPath(),U.rotate(Ot),U.arc(0,0,k,Ft.radians(w.startAngle+(ct.from-w.minValue)/rt),Ft.radians(w.startAngle+(ct.to-w.minValue)/rt),!1),U.strokeStyle=ct.color,U.lineWidth=X,U.lineCap=w.highlightsLineCap,U.stroke(),U.closePath(),U.restore(),U.save()}}}function F(U,w){var X=I(U,w),k=void 0,_=void 0,st=void 0,rt=0,ct=0,ht=Math.abs(w.minorTicks)||0,xt=w.ticksAngle/(w.maxValue-w.minValue);for(U.lineWidth=Oe.pixelRatio,U.strokeStyle=w.colorMinorTicks||w.colorStrokeTicks,U.save(),w.exactTicks?(_=w.maxValue-w.minValue,k=ht?_/ht:0,ct=(Xe.mod(w.majorTicks[0],ht)||0)*xt):k=ht*(w.majorTicks.length-1);rt<k;++rt)(st=w.startAngle+ct+rt*(w.ticksAngle/k))<=w.ticksAngle+w.startAngle&&(U.rotate(Ft.radians(st)),U.beginPath(),U.moveTo(0,X),U.lineTo(0,X-.075*U.max),W(U))}function I(U,w){var X=U.max/100;return R(U,w)-5*X-(w.barWidth?2*(parseFloat(w.barStrokeWidth)||0)+((parseFloat(w.barWidth)||0)+5)*X:0)}function N(U,w){Ft.prepareTicks(w);var X=We(I(U,w)),k=void 0,_=void 0,st=w.majorTicks.length,rt=Oe.pixelRatio;for(U.lineWidth=2*rt,U.save(),_=w.colorMajorTicks instanceof Array?w.colorMajorTicks:new Array(st).fill(w.colorStrokeTicks||w.colorMajorTicks),k=0;k<st;++k)U.strokeStyle=_[k],U.rotate(Ft.radians(z(w,w.exactTicks?w.majorTicks[k]:k,st))),U.beginPath(),U.moveTo(0,X),U.lineTo(0,X-.15*U.max),W(U);w.strokeTicks&&(U.strokeStyle=w.colorStrokeTicks||_[0],U.rotate(Ot),U.beginPath(),U.arc(0,0,X,Ft.radians(w.startAngle),Ft.radians(w.startAngle+w.ticksAngle),!1),W(U))}function z(U,w,X){if(U.exactTicks){var k=U.ticksAngle/(U.maxValue-U.minValue);return U.startAngle+k*(w-U.minValue)}return U.startAngle+w*(U.ticksAngle/(X-1))}function W(U){U.stroke(),U.restore(),U.closePath(),U.save()}function $(U,w){var X=I(U,w)-.15*U.max,k={},_=0,st=w.majorTicks.length,rt=w.animationTarget!=="needle",ct=w.colorNumbers instanceof Array?w.colorNumbers:new Array(st).fill(w.colorNumbers),ht=rt?-(w.value-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle:0;for(rt&&(U.save(),U.rotate(-Ft.radians(ht))),U.font=Ft.font(w,"Numbers",U.max/200),U.lineWidth=0,U.textAlign="center",U.textBaseline="middle";_<st;++_){var xt=ht+z(w,w.exactTicks?w.majorTicks[_]:_,st),St=U.measureText(w.majorTicks[_]).width,Rt=w.fontNumbersSize,Ut=Math.sqrt(St*St+Rt*Rt)/2,Ht=Ft.radialPoint(X-Ut-w.numbersMargin/100*U.max,Ft.radians(xt));xt===360&&(xt=0),k[xt]||(k[xt]=!0,U.fillStyle=ct[_],U.fillText(w.majorTicks[_],Ht.x,Ht.y))}rt&&U.restore()}function Z(U,w){w.title&&(U.save(),U.font=Ft.font(w,"Title",U.max/200),U.fillStyle=w.colorTitle,U.textAlign="center",U.fillText(w.title,0,-U.max/4.25,.8*U.max),U.restore())}function D(U,w){w.units&&(U.save(),U.font=Ft.font(w,"Units",U.max/200),U.fillStyle=w.colorUnits,U.textAlign="center",U.fillText(Ft.formatContext(w,w.units),0,U.max/3.25,.8*U.max),U.restore())}function O(U,w){if(w.needle){var X=w.ticksAngle<360?Ft.normalizedValue(w).indented:w.value,k=Ut?w.startAngle:w.startAngle+(X-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle;w.barStartPosition==="right"&&(k=w.startAngle+w.ticksAngle-(X-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle);var _=R(U,w),st=We(_/100*w.needleCircleSize),rt=We(_/100*w.needleCircleSize*.75),ct=We(_/100*w.needleEnd),ht=We(w.needleStart?_/100*w.needleStart:0),xt=_/100*w.needleWidth,St=_/100*w.needleWidth/2,Rt=Oe.pixelRatio,Ut=w.animationTarget!=="needle";U.save(),Ft.drawNeedleShadow(U,w),U.rotate(Ft.radians(k)),U.fillStyle=Ft.linearGradient(U,w.colorNeedle,w.colorNeedleEnd,ct-ht),w.needleType==="arrow"?(U.beginPath(),U.moveTo(-St,-ht),U.lineTo(-xt,0),U.lineTo(-1*Rt,ct),U.lineTo(Rt,ct),U.lineTo(xt,0),U.lineTo(St,-ht),U.closePath(),U.fill(),U.beginPath(),U.lineTo(-.5*Rt,ct),U.lineTo(-1*Rt,ct),U.lineTo(-xt,0),U.lineTo(-St,-ht),U.lineTo(St/2*Rt-2*Rt,-ht),U.closePath(),U.fillStyle=w.colorNeedleShadowUp,U.fill()):(U.beginPath(),U.moveTo(-St,ct),U.lineTo(-St,ht),U.lineTo(St,ht),U.lineTo(St,ct),U.closePath(),U.fill()),w.needleCircleSize&&(U.restore(),Ft.drawNeedleShadow(U,w),w.needleCircleOuter&&(U.beginPath(),U.arc(0,0,st,0,2*Wi,!0),U.fillStyle=Ft.linearGradient(U,w.colorNeedleCircleOuter,w.colorNeedleCircleOuterEnd,st),U.fill(),U.closePath()),w.needleCircleInner&&(U.beginPath(),U.arc(0,0,rt,0,2*Wi,!0),U.fillStyle=Ft.linearGradient(U,w.colorNeedleCircleInner,w.colorNeedleCircleInnerEnd,rt),U.fill(),U.closePath()),U.restore())}}function B(U,w,X){Ft.drawValueBox(U,w,X,0,U.max-.33*U.max,U.max)}function G(U){var w=U.startAngle,X=U.startAngle+U.ticksAngle,k=w,_=w+(Ft.normalizedValue(U).normal-U.minValue)/(U.maxValue-U.minValue)*U.ticksAngle;if(U.barStartPosition==="middle"){var st=.5*(U.minValue+U.maxValue);U.value<st?(k=180-(st-Ft.normalizedValue(U).normal)/(U.maxValue-U.minValue)*U.ticksAngle,_=180):(k=180,_=180+(Ft.normalizedValue(U).normal-st)/(U.maxValue-U.minValue)*U.ticksAngle)}else U.barStartPosition==="right"&&(k=X-_+w,_=X);return{startAngle:k,endAngle:_}}function Y(U,w){var X=U.max/100,k=R(U,w)-5*X,_=parseFloat(w.barStrokeWidth+"")||0,st=(parseFloat(w.barWidth+"")||0)*X,rt=k-2*_-st,ct=(k-rt)/2,ht=rt+ct,xt=_/ht,St=w.startAngle,Rt=w.startAngle+w.ticksAngle;if(U.save(),U.rotate(Ot),_&&(U.beginPath(),U.arc(0,0,ht,Ft.radians(St)-xt,Ft.radians(Rt)+xt,!1),U.strokeStyle=w.colorBarStroke,U.lineWidth=2*ct,U.stroke(),U.closePath()),st&&(U.beginPath(),U.arc(0,0,ht,Ft.radians(St),Ft.radians(Rt),!1),U.strokeStyle=w.colorBar,U.lineWidth=st,U.stroke(),U.closePath(),w.barShadow&&(U.beginPath(),U.arc(0,0,k,Ft.radians(St),Ft.radians(Rt),!1),U.clip(),U.beginPath(),U.strokeStyle=w.colorBar,U.lineWidth=1,U.shadowBlur=w.barShadow,U.shadowColor=w.colorBarShadow,U.shadowOffsetX=0,U.shadowOffsetY=0,U.arc(0,0,k,Ft.radians(w.startAngle),Ft.radians(w.startAngle+w.ticksAngle),!1),U.stroke(),U.closePath(),U.restore(),U.rotate(Ot)),w.barProgress)){var Ut=G(w),Ht=Ut.startAngle,bt=Ut.endAngle;U.beginPath(),U.arc(0,0,ht,Ft.radians(Ht),Ft.radians(bt),!1),U.strokeStyle=w.colorBarProgress,U.lineWidth=st,U.stroke(),U.closePath()}U.restore()}function V(U){return U.options.animatedValue?U.options.value:U.value}function b(U,w,X,k,_,st,rt,ct){U.beginPath(),U.fillStyle=ct?Ft.linearGradient(U,rt,ct,_>st?_:st,st>_,_>st?X:k):rt,w>0?Ft.roundRect(U,X,k,_,st,w):U.rect(X,k,_,st),U.fill(),U.closePath()}function H(U,w,X,k,_,st,rt,ct,ht){U.beginPath(),U.lineWidth=w,U.strokeStyle=ht?Ft.linearGradient(U,ct,ht,rt,!0,_):ct,X>0?Ft.roundRect(U,k,_,st,rt,X):U.rect(k,_,st,rt),U.stroke(),U.closePath()}function j(U,w,X,k,_,st){var rt=Oe.pixelRatio;U.save();var ct=w.borderRadius*rt,ht=_-w.borderShadowWidth-w.borderOuterWidth*rt,xt=ht-w.borderOuterWidth*rt-w.borderMiddleWidth*rt,St=xt-w.borderMiddleWidth*rt-w.borderInnerWidth*rt,Rt=St-w.borderInnerWidth*rt,Ut=st-w.borderShadowWidth-w.borderOuterWidth*rt,Ht=Ut-w.borderOuterWidth*rt-w.borderMiddleWidth*rt,bt=Ht-w.borderMiddleWidth*rt-w.borderInnerWidth*rt,ne=bt-w.borderInnerWidth*rt,Kt=X-(xt-ht)/2,jt=Kt-(St-xt)/2,kt=jt-(Rt-St)/2,se=k-(Ht-Ut)/2,te=se-(bt-Ht)/2,Zt=te-(ne-bt)/2,wt=0,Vt=!1;return w.borderOuterWidth&&(Vt=Ft.drawShadow(U,w,Vt),H(U,w.borderOuterWidth*rt,ct,X+w.borderOuterWidth*rt/2-wt,k+w.borderOuterWidth*rt/2-wt,ht,Ut,w.colorBorderOuter,w.colorBorderOuterEnd),wt+=.5*rt),w.borderMiddleWidth&&(Vt=Ft.drawShadow(U,w,Vt),H(U,w.borderMiddleWidth*rt,ct-=1+2*wt,Kt+w.borderMiddleWidth*rt/2-wt,se+w.borderMiddleWidth*rt/2-wt,xt+2*wt,Ht+2*wt,w.colorBorderMiddle,w.colorBorderMiddleEnd),wt+=.5*rt),w.borderInnerWidth&&(Vt=Ft.drawShadow(U,w,Vt),H(U,w.borderInnerWidth*rt,ct-=1+2*wt,jt+w.borderInnerWidth*rt/2-wt,te+w.borderInnerWidth*rt/2-wt,St+2*wt,bt+2*wt,w.colorBorderInner,w.colorBorderInnerEnd),wt+=.5*rt),Ft.drawShadow(U,w,Vt),b(U,ct,kt,Zt,Rt+2*wt,ne+2*wt,w.colorPlate,w.colorPlateEnd),U.restore(),[kt,Zt,Rt,ne]}function q(U,w,X,k,_,st){var rt=Oe.pixelRatio,ct=st>=_,ht=ct?.85*_:st,xt=ct?st:_;X=ct?Qt(X+(_-ht)/2):X;var St=!!w.title,Rt=!!w.units,Ut=!!w.valueBox,Ht=void 0,bt=void 0,ne=void 0;ct?(bt=Qt(.05*xt),Ht=Qt(.075*xt),ne=Qt(.11*xt),St&&(xt-=Ht,k+=Ht),Rt&&(xt-=bt),Ut&&(xt-=ne)):(bt=Ht=Qt(.15*ht),St&&(ht-=Ht,k+=Ht),Rt&&(ht-=bt));var Kt=2*w.barStrokeWidth,jt=w.barBeginCircle?Qt(ht*w.barBeginCircle/200-Kt/2):0,kt=Qt(ht*w.barWidth/100-Kt),se=Qt(xt*w.barLength/100-Kt),te=Qt((xt-se)/2),Zt=Qt(X+(ct?ht/2:te+jt)),wt=Qt(k+(ct?xt-te-jt+Kt/2:ht/2)),Vt=!ct||w.hasLeft&&w.hasRight?0:(w.hasRight?-1:1)*w.ticksWidth/100*ht,qt=ct||w.hasLeft&&w.hasRight?0:(w.hasRight?-1:1)*w.ticksWidth/100*ht;return U.barDimensions={isVertical:ct,width:ht,length:xt,barWidth:kt,barLength:se,strokeWidth:Kt,barMargin:te,radius:jt,pixelRatio:rt,barOffset:null,titleMargin:St?Ht:0,unitsMargin:Rt?bt:0,get ticksLength(){return this.barLength-this.barOffset-this.strokeWidth},X:X+Vt,Y:k+qt,x0:Zt+Vt,y0:wt+qt,baseX:X,baseY:k,ticksPadding:w.ticksPadding/100},U.barDimensions}function et(U,w,X,k,_,st,rt){var ct=q(U,w,k,_,st,rt),ht=ct.isVertical,xt=ct.width,St=ct.barWidth,Rt=ct.barLength,Ut=ct.strokeWidth,Ht=ct.barMargin,bt=ct.radius,ne=ct.x0,Kt=ct.y0,jt=ct.X,kt=ct.Y,se=Rt;if(U.save(),U.beginPath(),w.barBeginCircle){var te=Ft.radians(ht?270:0),Zt=Math.asin(St/2/bt),wt=Math.cos(Zt),Vt=Math.sin(Zt),qt=ne+(ht?bt*Vt:bt*wt-Ut/2),oe=ht?Kt-bt*wt:Kt+bt*Vt,ye=We(ht?oe-Kt:qt-ne);U.barDimensions.barOffset=Qt(ye+bt);var pe=ht?Qt(ne-bt*Vt):qt,ti=ht?oe:Qt(Kt-bt*Vt);X==="progress"&&(Rt=U.barDimensions.barOffset+(Rt-U.barDimensions.barOffset)*(Ft.normalizedValue(w).normal-w.minValue)/(w.maxValue-w.minValue));var ui=Qt(qt+Rt-U.barDimensions.barOffset+Ut/2),ln=Qt(oe-Rt+U.barDimensions.barOffset-Ut/2);U.arc(ne,Kt,bt,te+Zt,te-Zt),ht?(U.moveTo(qt,ti),U.lineTo(qt,ln),U.lineTo(pe,ln),U.lineTo(pe,ti)):(U.moveTo(qt,ti),U.lineTo(ui,ti),U.lineTo(ui,oe),U.lineTo(qt,oe))}else{var gi=Qt(ht?jt+(xt-St)/2:jt+Ht),Fe=Qt(ht?kt+Rt+Ht:kt+(xt-St)/2);X==="progress"&&(Rt*=(w.value-w.minValue)/(w.maxValue-w.minValue)),ht?U.rect(gi,Fe,St,-Rt):U.rect(gi,Fe,Rt,St)}X!=="progress"&&w.barStrokeWidth&&(U.lineWidth=Ut,U.strokeStyle=w.colorBarStroke,U.stroke()),X!=="progress"&&w.colorBar?(U.fillStyle=w.colorBarEnd?Ft.linearGradient(U,w.colorBar,w.colorBarEnd,Rt,ht,ht?kt:jt):w.colorBar,U.fill()):X==="progress"&&w.colorBarProgress&&(U.fillStyle=w.colorBarProgressEnd?Ft.linearGradient(U,w.colorBarProgress,w.colorBarProgressEnd,se,ht,ht?kt:jt):w.colorBarProgress,U.fill()),U.closePath(),w.barBeginCircle&&(U.barDimensions.radius+=Ut),U.barDimensions.barWidth+=Ut,U.barDimensions.barLength+=Ut}function ot(U,w,X,k,_,st){et(U,w,"",X,k,_,st)}function K(U,w){return w.needleSide!==U||w.tickSide!==U||w.numberSide!==U}function Q(U,w,X,k,_,st){w.barProgress&&et(U,w,"progress",X,k,_,st)}function tt(U,w){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.barWidth,ct=X.barOffset,ht=X.barMargin,xt=X.X,St=X.Y,Rt=X.ticksLength,Ut=X.ticksPadding,Ht=_*(parseFloat(w.highlightsWidth)||0)/100;if(w.highlights&&Ht){var bt=w.tickSide!=="right",ne=w.tickSide!=="left",Kt=0,jt=w.highlights.length,kt=(_-rt)/2,se=w.maxValue-w.minValue,te=Qt(k?xt+kt:xt+ht+ct),Zt=Ht,wt=k?St+st-ht-ct:St+kt,Vt=Qt((w.ticksWidth/100+Ut)*_)+(Ht-w.ticksWidth/100*_),qt=Qt(rt+Ut*_);for(U.save();Kt<jt;Kt++){var oe=w.highlights[Kt],ye=Rt*We(w.minValue-oe.from)/se,pe=Rt*We((oe.to-oe.from)/se);U.beginPath(),U.fillStyle=oe.color,k?(bt&&U.rect(te-Vt,wt-ye,Zt,-pe),ne&&U.rect(te+qt,wt-ye,Zt,-pe)):(bt&&U.rect(te+ye,wt-Vt,pe,Zt),ne&&U.rect(te+ye,wt+qt,pe,Zt)),U.fill(),U.closePath()}}}function nt(U,w,X,k,_){U.beginPath(),U.moveTo(w,X),U.lineTo(k,_),U.stroke(),U.closePath(),U.save()}function ut(U,w,X,k,_,st,rt,ct,ht){var xt=U.barDimensions,St=xt.isVertical,Rt=xt.length,Ut=xt.barWidth,Ht=xt.barOffset,bt=xt.barMargin,ne=xt.pixelRatio,Kt=xt.width,jt=xt.X,kt=xt.Y,se=xt.ticksLength,te=xt.ticksPadding,Zt=(Kt-Ut)/2,wt=void 0,Vt=void 0,qt=0,oe=X.length,ye=void 0,pe=ht*Kt,ti=Zt-te*Kt,ui=Zt+Ut+pe+te*Kt,ln=w instanceof Array?w:new Array(X.length).fill(w);U.lineWidth=ct*ne,U.save();for(var gi=se/(_-k);qt<oe;qt++)ye=X[qt],U.strokeStyle=ln[qt],St?(Vt=kt+Rt-bt-Ht+(k-ye)*gi,st&&(wt=jt+ti,nt(U,wt,Vt,Qt(wt-pe),Vt)),rt&&(wt=jt+ui,nt(U,wt,Vt,Qt(wt-pe),Vt))):(wt=jt+bt+Ht-(k-ye)*gi,st&&(Vt=kt+ti,nt(U,wt,Vt,wt,Qt(Vt-pe))),rt&&(Vt=kt+ui,nt(U,wt,Qt(Vt),wt,Vt-pe)))}function pt(U,w){var X=Ft.prepareTicks(w),k=It(X,2),_=k[0],st=k[1],rt=2,ct=(w.maxValue-w.minValue)/(w.majorTicks.length-1),ht=w.colorMajorTicks instanceof Array?w.colorMajorTicks:new Array(w.majorTicks.length).fill(w.colorStrokeTicks||w.colorMajorTicks);if(ut(U,ht,w.exactTicks?w.majorTicks:w.majorTicks.map(function(pe,ti){return w.minValue+ct*ti}),w.minValue,w.maxValue,_,st,rt,w.ticksWidth/100),w.strokeTicks){var xt=U.barDimensions,St=xt.isVertical,Rt=xt.length,Ut=xt.width,Ht=xt.barWidth,bt=xt.barMargin,ne=xt.barOffset,Kt=xt.X,jt=xt.Y,kt=xt.ticksLength,se=xt.pixelRatio,te=xt.ticksPadding,Zt=(Ut-Ht)/2+Ht+te*Ut,wt=(Ut-Ht)/2-te*Ut,Vt=void 0,qt=void 0,oe=void 0,ye=void 0;U.strokeStyle=w.colorStrokeTicks||ht[0],rt*=se,St?(qt=jt+Rt-bt-ne+rt/2,ye=qt-kt-rt,_&&(oe=Vt=Qt(Kt+wt),vt(U,Vt,qt,oe,ye)),st&&(oe=Vt=Qt(Kt+Zt),vt(U,Vt,qt,oe,ye))):(Vt=Kt+bt+ne-rt/2,oe=Vt+kt+rt,_&&(ye=qt=Qt(jt+wt),vt(U,Vt,qt,oe,ye)),st&&(ye=qt=Qt(jt+Zt),vt(U,Vt,qt,oe,ye)))}}function vt(U,w,X,k,_){U.beginPath(),U.moveTo(w,X),U.lineTo(k,_),U.stroke(),U.closePath()}function at(U,w){var X=Ft.prepareTicks(w),k=It(X,2),_=k[0],st=k[1],rt=[],ct=w.minValue,ht=Math.abs(w.minorTicks)||0,xt=ht?(w.maxValue-w.minValue)/(ht*(w.majorTicks.length-1)):0;if(ht)if(w.exactTicks)for(var St=Xe.mod(w.majorTicks[0],ht)||0;ct<w.maxValue;ct+=ht)St+ct<w.maxValue&&rt.push(St+ct);else for(;ct<w.maxValue;ct+=xt)rt.push(ct);ut(U,w.colorMinorTicks||w.colorStrokeTicks,rt,w.minValue,w.maxValue,_,st,1,w.ticksWidthMinor/100)}function yt(U,w){var X=U.barDimensions,k=X.isVertical,_=X.length,st=X.width,rt=X.barWidth,ct=X.barMargin,ht=X.barOffset,xt=X.X,St=X.Y,Rt=X.ticksLength,Ut=X.ticksPadding,Ht=w.maxValue-w.minValue,bt=Ht/(w.majorTicks.length-1),ne=w.exactTicks?w.majorTicks:w.majorTicks.map(function(ln,gi){return w.minValue+bt*gi}),Kt=ne.length,jt=w.numberSide!=="right",kt=w.numberSide!=="left",se=w.fontNumbersSize*st/200,te=0,Zt=(w.ticksWidth/100+2*Ut)*st,wt=(st-rt)/2-Zt,Vt=(st-rt)/2+rt+Zt,qt=void 0,oe=void 0,ye=void 0,pe=void 0,ti=w.colorNumbers instanceof Array?w.colorNumbers:new Array(Kt).fill(w.colorNumbers),ui=w.numbersMargin/100*st;for(U.font=Ft.font(w,"Numbers",st/200),U.lineWidth=0,U.textAlign="center";te<Kt;te++)U.fillStyle=ti[te],pe=w.majorTicks[te],ye=w.exactTicks?Rt*((ne[te]-w.minValue)/Ht):te*Rt/(Kt-1),k?(oe=St+_-ct-ht-ye+se/3,jt&&(U.textAlign="right",U.fillText(pe,xt+wt-ui,oe)),kt&&(U.textAlign="left",U.fillText(pe,xt+Vt+ui,oe))):(U.measureText(pe).width,qt=xt+ct+ht+ye,jt&&U.fillText(pe,qt,St+wt-ui),kt&&U.fillText(pe,qt,St+Vt+se+ui))}function lt(U,w){if(w.title){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.baseX,ct=X.baseY,ht=X.titleMargin,xt=w.fontTitleSize*_/200,St=Qt(rt+(k?_:st)/2),Rt=Qt(ct+ht/2-(k?xt:xt/2)-.025*(k?st:_));U.save(),U.textAlign="center",U.fillStyle=w.colorTitle,U.font=Ft.font(w,"Title",_/200),U.lineWidth=0,U.fillText(w.title,St,Rt,k?_:st)}}function Tt(U,w){if(w.units){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.baseX,ct=X.baseY,ht=X.unitsMargin,xt=w.fontUnitsSize*_/200,St=Qt(rt+(k?_:st)/2),Rt=Qt(ct+(k?st:_)+ht/2-xt/2);U.save(),U.textAlign="center",U.fillStyle=w.colorUnits,U.font=Ft.font(w,"Units",_/200),U.lineWidth=0,U.fillText(Ft.formatContext(w,w.units),St,Rt,k?_:st)}}function Pt(U,w){if(w.needle){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.barWidth,ct=X.barOffset,ht=X.barMargin,xt=X.ticksLength,St=X.X,Rt=X.Y,Ut=X.ticksPadding,Ht=w.needleSide!=="right",bt=w.needleSide!=="left",ne=xt*(Ft.normalizedValue(w).indented-w.minValue)/(w.maxValue-w.minValue),Kt=(w.ticksWidth/100+Ut)*_,jt=rt/2+Kt,kt=jt*(w.needleEnd/100),se=void 0,te=void 0,Zt=void 0,wt=void 0,Vt=w.needleType.toLowerCase()==="arrow"?Mt:At,qt=(_-rt)/2,oe=jt*(w.needleStart/100),ye=qt-Kt-oe,pe=qt+rt+Kt+oe;U.save(),Ft.drawNeedleShadow(U,w),k?(Zt=Qt(Rt+st-ht-ct-ne),Ht&&(se=Qt(St+ye),te=se+kt,Vt(U,w,se,Zt,te,Zt,kt)),bt&&(se=Qt(St+pe),te=se-kt,Vt(U,w,se,Zt,te,Zt,kt,!0))):(se=Qt(St+ht+ct+ne),Ht&&(Zt=Qt(Rt+ye),wt=Zt+kt,Vt(U,w,se,Zt,se,wt,kt)),bt&&(Zt=Qt(Rt+pe),wt=Zt-kt,Vt(U,w,se,Zt,se,wt,kt,!0))),U.restore()}}function Lt(U,w,X,k){return w.colorNeedleEnd?Ft.linearGradient(U,k?w.colorNeedleEnd:w.colorNeedle,k?w.colorNeedle:w.colorNeedleEnd,X,!U.barDimensions.isVertical):w.colorNeedle}function At(U,w,X,k,_,st,rt,ct){U.lineWidth=w.needleWidth,U.strokeStyle=Lt(U,w,rt,ct),U.beginPath(),U.moveTo(X,k),U.lineTo(_,st),U.stroke(),U.closePath()}function Mt(U,w,X,k,_,st,rt,ct){var ht=Qt(.4*rt),xt=rt-ht,St=X===_,Rt=w.needleWidth/2;U.fillStyle=Lt(U,w,rt,ct),U.beginPath(),St?(k>st&&(xt*=-1),U.moveTo(X-Rt,k),U.lineTo(X+Rt,k),U.lineTo(X+Rt,k+xt),U.lineTo(X,st),U.lineTo(X-Rt,k+xt),U.lineTo(X-Rt,k)):(X>_&&(xt*=-1),U.moveTo(X,k-Rt),U.lineTo(X,k+Rt),U.lineTo(X+xt,k+Rt),U.lineTo(_,k),U.lineTo(X+xt,k-Rt),U.lineTo(X,k-Rt)),U.fill(),U.closePath()}function Bt(U,w,X,k,_,st,rt){var ct=(parseFloat(w.fontValueSize)||0)*st/200,ht=(.11*rt-ct)/2;U.barDimensions.isVertical&&Ft.drawValueBox(U,w,X,k+st/2,_+rt-ct-ht,st)}var It=function(){function U(w,X){var k=[],_=!0,st=!1,rt=void 0;try{for(var ct,ht=w[Symbol.iterator]();!(_=(ct=ht.next()).done)&&(k.push(ct.value),!X||k.length!==X);_=!0);}catch(xt){st=!0,rt=xt}finally{try{!_&&ht.return&&ht.return()}finally{if(st)throw rt}}return k}return function(w,X){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return U(w,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Yt=function U(w,X,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,X);if(_===void 0){var st=Object.getPrototypeOf(w);return st===null?void 0:U(st,X,k)}if("value"in _)return _.value;var rt=_.get;if(rt!==void 0)return rt.call(k)},ie=function U(w,X,k,_){var st=Object.getOwnPropertyDescriptor(w,X);if(st===void 0){var rt=Object.getPrototypeOf(w);rt!==null&&U(rt,X,k,_)}else if("value"in st&&st.writable)st.value=k;else{var ct=st.set;ct!==void 0&&ct.call(_,k)}return k},ae=function(){function U(w,X){for(var k=0;k<X.length;k++){var _=X[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,X,k){return X&&U(w.prototype,X),k&&U(w,k),w}}();Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(U,w){if(U==null)throw new TypeError("Cannot convert first argument to object");for(var X=Object(U),k=1;k<arguments.length;k++){var _=arguments[k];if(_!=null)for(var st=Object.keys(Object(_)),rt=0,ct=st.length;rt<ct;rt++){var ht=st[rt],xt=Object.getOwnPropertyDescriptor(_,ht);xt!==void 0&&xt.enumerable&&(X[ht]=_[ht])}}return X}}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(U,w){var X;if(this===null)throw new TypeError('"this" is null or not defined');var k=Object(this),_=k.length>>>0;if(_===0)return-1;var st=+w||0;if(Math.abs(st)===1/0&&(st=0),st>=_)return-1;for(X=Math.max(st>=0?st:_-Math.abs(st),0);X<_;){if(X in k&&k[X]===U)return X;X++}return-1}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(U){if(this===null)throw new TypeError("this is null or not defined");for(var w=Object(this),X=w.length>>>0,k=arguments[1],_=k>>0,st=_<0?Math.max(X+_,0):Math.min(_,X),rt=arguments[2],ct=rt===void 0?X:rt>>0,ht=ct<0?Math.max(X+ct,0):Math.min(ct,X);st<ht;)w[st]=U,st++;return w}}),typeof window>"u"&&(window=typeof ho>"u"?{}:ho);var Le=function(){function U(){e(this,U),this._events={},this.addListener=this.on,this.removeListener=this.off}return ae(U,[{key:"emit",value:function(w){if(this._events[w]){for(var X=0,k=this._events[w].length,_=arguments.length,st=Array(_>1?_-1:0),rt=1;rt<_;rt++)st[rt-1]=arguments[rt];for(;X<k;X++)this._events[w][X]&&this._events[w][X].apply(this,st)}}},{key:"once",value:function(w){for(var X=arguments.length,k=Array(X>1?X-1:0),_=1;_<X;_++)k[_-1]=arguments[_];for(var st=0,rt=k.length,ct=this;st<rt;st++)(function(){var ht=k[st],xt=function St(){ct.off(w,St),ht.apply(ct,arguments)};k[st]=xt})();this.on.apply(this,[w].concat(k))}},{key:"on",value:function(w){this._events[w]||(this._events[w]=[]);for(var X=0,k=arguments.length<=1?0:arguments.length-1;X<k;X++)this._events[w].push(arguments.length<=X+1?void 0:arguments[X+1])}},{key:"off",value:function(w){if(this._events[w])for(var X=0,k=arguments.length<=1?0:arguments.length-1;X<k;X++)for(var _=arguments.length<=X+1?void 0:arguments[X+1],st=void 0;~(st=this._events[w].indexOf(_));)this._events[w].splice(st,1)}},{key:"removeAllListeners",value:function(w){delete this._events[w]}},{key:"listeners",get:function(){return this._events}}]),U}(),Wt=f("requestAnimationFrame")||function(U){return setTimeout(function(){return U(new Date().getTime())},1e3/60)},Me={linear:function(U){return U},quad:function(U){return Math.pow(U,2)},dequad:function(U){return 1-Me.quad(1-U)},quint:function(U){return Math.pow(U,5)},dequint:function(U){return 1-Math.pow(1-U,5)},cycle:function(U){return 1-Math.sin(Math.acos(U))},decycle:function(U){return Math.sin(Math.acos(1-U))},bounce:function(U){return 1-Me.debounce(1-U)},debounce:function(U){for(var w=0,X=1;;w+=X,X/=2)if(U>=(7-4*w)/11)return-Math.pow((11-6*w-11*U)/4,2)+Math.pow(X,2)},elastic:function(U){return 1-Me.delastic(1-U)},delastic:function(U){return Math.pow(2,10*(U-1))*Math.cos(20*Math.PI*1.5/3*U)}},ve=function(){function U(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"linear",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};if(e(this,U),this.duration=X,this.rule=w,this.draw=k,this.end=_,typeof this.draw!="function")throw new TypeError("Invalid animation draw callback:",k);if(typeof this.end!="function")throw new TypeError("Invalid animation end callback:",_)}return ae(U,[{key:"animate",value:function(w,X){var k=this;this.frame&&this.cancel();var _=window.performance&&window.performance.now?window.performance.now():f("animationStartTime")||Date.now();w=w||this.draw,X=X||this.end,this.draw=w,this.end=X,this.frame=Wt(function(st){return i(st,w,_,Me[k.rule]||k.rule,k.duration,X,k)})}},{key:"cancel",value:function(){this.frame&&((f("cancelAnimationFrame")||function(w){})(this.frame),this.frame=null)}},{key:"destroy",value:function(){this.cancel(),this.draw=null,this.end=null}}]),U}();ve.rules=Me;var Xt=function(){function U(w,X,k){e(this,U),this.options=w,this.element=X.toLowerCase(),this.type=U.toDashed(k),this.Type=T[k],this.mutationsObserved=!1,this.isObservable=!!window.MutationObserver,window.GAUGES_NO_AUTO_INIT||U.domReady(this.traverse.bind(this))}return ae(U,[{key:"isValidNode",value:function(w){return!(!w.tagName||w.tagName.toLowerCase()!==this.element||w.getAttribute("data-type")!==this.type)}},{key:"traverse",value:function(){for(var w=document.getElementsByTagName(this.element),X=0,k=w.length;X<k;X++)this.process(w[X]);this.isObservable&&!this.mutationsObserved&&(new MutationObserver(this.observe.bind(this)).observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.mutationsObserved=!0)}},{key:"observe",value:function(w){for(var X=0,k=w.length;X<k;X++){var _=w[X];if(_.type==="attributes"&&_.attributeName==="data-type"&&this.isValidNode(_.target)&&_.oldValue!==this.type)setTimeout(this.process.bind(this,_.target));else if(_.addedNodes&&_.addedNodes.length)for(var st=0,rt=_.addedNodes.length;st<rt;st++)setTimeout(this.process.bind(this,_.addedNodes[st]))}}},{key:"process",value:function(w){var X=this;if(!this.isValidNode(w))return null;var k=void 0,_=JSON.parse(JSON.stringify(this.options)),st=null;for(k in _)if(_.hasOwnProperty(k)){var rt=U.toAttributeName(k),ct=U.parse(w.getAttribute(rt));ct!=null&&(_[k]=ct)}return _.renderTo=w,st=new this.Type(_),st.draw&&st.draw(),this.isObservable&&(st.observer=new MutationObserver(function(ht){ht.forEach(function(xt){if(xt.type==="attributes"){var St=xt.attributeName.toLowerCase(),Rt=w.getAttribute(St).toLowerCase();if(St==="data-type"&&Rt&&Rt!==X.type)st.observer.disconnect(),delete st.observer,st.destroy&&st.destroy();else if(St.substr(0,5)==="data-"){var Ut=St.substr(5).split("-").map(function(bt,ne){return ne?bt.charAt(0).toUpperCase()+bt.substr(1):bt}).join(""),Ht={};Ht[Ut]=U.parse(w.getAttribute(xt.attributeName)),Ut==="value"?st&&(st.value=Ht[Ut]):st.update&&st.update(Ht)}}})}),st.observer.observe(w,{attributes:!0})),st}}],[{key:"parse",value:function(w){if(w==="true")return!0;if(w==="false")return!1;if(w!=="undefined"){if(w==="null")return null;if(/^[-+#.\w\d\s]+(?:,[-+#.\w\d\s]*)+$/.test(w))return w.split(",");try{return JSON.parse(w)}catch{}return w}}},{key:"toDashed",value:function(w){for(var X=w.split(/(?=[A-Z])/),k=1,_=X.length,st=X[0].toLowerCase();k<_;k++)st+="-"+X[k].toLowerCase();return st}},{key:"toCamelCase",value:function(w){for(var X=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],k=w.split(/-/),_=0,st=k.length,rt="";_<st;_++)rt+=_||X?k[_][0].toUpperCase()+k[_].substr(1).toLowerCase():k[_].toLowerCase();return rt}},{key:"toAttributeName",value:function(w){return"data-"+U.toDashed(w)}},{key:"domReady",value:function(w){if(/comp|inter|loaded/.test((window.document||{}).readyState+""))return w();window.addEventListener?window.addEventListener("DOMContentLoaded",w,!1):window.attachEvent&&window.attachEvent("onload",w)}}]),U}(),Oe=function(){function U(w,X,k){e(this,U),U.collection.push(this),this.width=X||0,this.height=k||0,this.element=w,this.init()}return ae(U,[{key:"init",value:function(){var w=U.pixelRatio;this.element.width=this.width*w,this.element.height=this.height*w,this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.elementClone=this.element.cloneNode(!0),this.context=this.element.getContext("2d"),this.contextClone=this.elementClone.getContext("2d"),this.drawWidth=this.element.width,this.drawHeight=this.element.height,this.drawX=this.drawWidth/2,this.drawY=this.drawHeight/2,this.minSide=this.drawX<this.drawY?this.drawX:this.drawY,this.elementClone.initialized=!1,this.contextClone.translate(this.drawX,this.drawY),this.contextClone.save(),this.context.translate(this.drawX,this.drawY),this.context.save(),this.context.max=this.contextClone.max=this.minSide,this.context.maxRadius=this.contextClone.maxRadius=null}},{key:"destroy",value:function(){var w=U.collection.indexOf(this);~w&&U.collection.splice(w,1),this.context.clearRect(-this.drawX,-this.drawY,this.drawWidth,this.drawHeight),this.context.max=null,delete this.context.max,this.context.maxRadius=null,delete this.context.maxRadius,this.context=null,this.contextClone=null,this.elementClone=null,this.element=null,this.onRedraw=null}},{key:"commit",value:function(){var w=U.pixelRatio;return w!==1&&(this.contextClone.scale(w,w),this.contextClone.save()),this}},{key:"redraw",value:function(){return this.init(),this.onRedraw&&this.onRedraw(),this}}],[{key:"redraw",value:function(){for(var w=0,X=U.collection.length;w<X;w++)U.collection[w].redraw()}},{key:"pixelRatio",get:function(){return window.devicePixelRatio||1}}]),U}();Oe.collection=[],window.matchMedia&&window.matchMedia("screen and (min-resolution: 2dppx)").addListener(Oe.redraw);var Be={renderTo:null,width:0,height:0,minValue:0,maxValue:100,value:0,units:!1,exactTicks:!1,majorTicks:[0,20,40,60,80,100],minorTicks:10,strokeTicks:!0,animatedValue:!1,animateOnInit:!1,title:!1,borders:!0,numbersMargin:1,listeners:null,valueInt:3,valueDec:2,majorTicksInt:1,majorTicksDec:0,animation:!0,animationDuration:500,animationRule:"cycle",colorPlate:"#fff",colorPlateEnd:"",colorMajorTicks:"#444",colorMinorTicks:"#666",colorStrokeTicks:"",colorTitle:"#888",colorUnits:"#888",colorNumbers:"#444",colorNeedle:"rgba(240,128,128,1)",colorNeedleEnd:"rgba(255,160,122,.9)",colorValueText:"#444",colorValueTextShadow:"rgba(0,0,0,0.3)",colorBorderShadow:"rgba(0,0,0,0.5)",colorBorderOuter:"#ddd",colorBorderOuterEnd:"#aaa",colorBorderMiddle:"#eee",colorBorderMiddleEnd:"#f0f0f0",colorBorderInner:"#fafafa",colorBorderInnerEnd:"#ccc",colorValueBoxRect:"#888",colorValueBoxRectEnd:"#666",colorValueBoxBackground:"#babab2",colorValueBoxShadow:"rgba(0,0,0,1)",colorNeedleShadowUp:"rgba(2,255,255,0.2)",colorNeedleShadowDown:"rgba(188,143,143,0.45)",colorBarStroke:"#222",colorBar:"#ccc",colorBarProgress:"#888",colorBarShadow:"#000",fontNumbers:"Arial",fontTitle:"Arial",fontUnits:"Arial",fontValue:"Arial",fontNumbersSize:20,fontTitleSize:24,fontUnitsSize:22,fontValueSize:26,fontNumbersStyle:"normal",fontTitleStyle:"normal",fontUnitsStyle:"normal",fontValueStyle:"normal",fontNumbersWeight:"normal",fontTitleWeight:"normal",fontUnitsWeight:"normal",fontValueWeight:"normal",needle:!0,needleShadow:!0,needleType:"arrow",needleStart:5,needleEnd:85,needleWidth:4,borderOuterWidth:3,borderMiddleWidth:3,borderInnerWidth:3,borderShadowWidth:3,valueBox:!0,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:[{from:20,to:60,color:"#eee"},{from:60,to:80,color:"#ccc"},{from:80,to:100,color:"#999"}],highlightsWidth:15,highlightsLineCap:"butt",barWidth:20,barStrokeWidth:0,barProgress:!0,barShadow:0};r.prototype=Object.create(Array.prototype),r.prototype.constructor=r,r.prototype.get=function(U){if(typeof U=="string")for(var w=0,X=this.length;w<X;w++){var k=this[w].options.renderTo.tagName?this[w].options.renderTo:document.getElementById(this[w].options.renderTo||"");if(k.getAttribute("id")===U)return this[w]}else if(typeof U=="number")return this[U];return null};var re="2.1.7",Qt=Math.round,We=Math.abs,on=new r;on.version=re;var Xe=function(U){function w(X){e(this,w);var k=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this)),_=k.constructor.name;if(_==="BaseGauge")throw new TypeError("Attempt to instantiate abstract class!");if(on.push(k),X.listeners&&Object.keys(X.listeners).forEach(function(rt){(X.listeners[rt]instanceof Array?X.listeners[rt]:[X.listeners[rt]]).forEach(function(ct){k.on(rt,ct)})}),k.version=re,k.type=T[_]||w,k.initialized=!1,X.minValue=parseFloat(X.minValue),X.maxValue=parseFloat(X.maxValue),X.value=parseFloat(X.value)||0,X.borders||(X.borderInnerWidth=X.borderMiddleWidth=X.borderOuterWidth=0),!X.renderTo)throw TypeError("Canvas element was not specified when creating the Gauge object!");var st=X.renderTo.tagName?X.renderTo:document.getElementById(X.renderTo);if(!(st instanceof HTMLCanvasElement))throw TypeError("Given gauge canvas element is invalid!");return X.width=parseFloat(X.width)||0,X.height=parseFloat(X.height)||0,X.width&&X.height||(X.width||(X.width=st.parentNode?st.parentNode.offsetWidth:st.offsetWidth),X.height||(X.height=st.parentNode?st.parentNode.offsetHeight:st.offsetHeight)),k.options=X||{},k.options.animateOnInit&&(k._value=k.options.value,k.options.value=k.options.minValue),k.canvas=new Oe(st,X.width,X.height),k.canvas.onRedraw=k.draw.bind(k),k.animation=new ve(X.animationRule,X.animationDuration),k}return t(w,U),ae(w,[{key:"update",value:function(X){return Object.assign(this.options,this.type.configure(X||{})),this.canvas.width=this.options.width,this.canvas.height=this.options.height,this.animation.rule=this.options.animationRule,this.animation.duration=this.options.animationDuration,this.canvas.redraw(),this}},{key:"destroy",value:function(){var X=on.indexOf(this);~X&&on.splice(X,1),this.canvas.destroy(),this.canvas=null,this.animation.destroy(),this.animation=null,this.emit("destroy")}},{key:"draw",value:function(){return this.options.animateOnInit&&!this.initialized&&(this.value=this._value,this.initialized=!0,this.emit("init")),this.emit("render"),this}},{key:"value",set:function(X){var k=this;X=w.ensureValue(X,this.options.minValue);var _=this.options.value;if(X!==_)if(this.options.animation){if(this.animation.frame&&(this.options.value=this._value,this._value===X))return this.animation.cancel(),void delete this._value;this._value===void 0&&(this._value=X),this.emit("animationStart"),this.animation.animate(function(st){var rt=_+(X-_)*st;k.options.animatedValue&&k.emit("value",rt,k.value),k.options.value=rt,k.draw(),k.emit("animate",st,k.options.value)},function(){k._value!==void 0&&(k.emit("value",k._value,k.value),k.options.value=k._value,delete k._value),k.draw(),k.emit("animationEnd")})}else this.emit("value",X,this.value),this.options.value=X,this.draw()},get:function(){return this._value===void 0?this.options.value:this._value}}],[{key:"configure",value:function(X){return X}},{key:"initialize",value:function(X,k){return new Xt(k,"canvas",X)}},{key:"fromElement",value:function(X){var k=Xt.toCamelCase(X.getAttribute("data-type")),_=X.attributes,st=0,rt=_.length,ct={};if(k){for(/Gauge$/.test(k)||(k+="Gauge");st<rt;st++)ct[Xt.toCamelCase(_[st].name.replace(/^data-/,""),!1)]=Xt.parse(_[st].value);new Xt(ct,X.tagName,k).process(X)}}},{key:"ensureValue",value:function(X){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return X=parseFloat(X),!isNaN(X)&&isFinite(X)||(X=parseFloat(k)||0),X}},{key:"mod",value:function(X,k){return(X%k+k)%k}},{key:"version",get:function(){return re}}]),w}(Le);T!==void 0&&(T.BaseGauge=Xe,T.gauges=(window.document||{}).gauges=on);var qi=/{([_a-zA-Z]+[_a-zA-Z0-9]*)}/g,Ft={roundRect:u,padValue:o,formatMajorTickNumber:h,radians:d,radialPoint:v,linearGradient:c,drawNeedleShadow:g,drawValueBox:C,verifyError:a,prepareTicks:s,drawShadow:m,font:y,normalizedValue:P,formatContext:n},Wi=Math.PI,Ot=Wi/2,Xi=Object.assign({},Be,{ticksAngle:270,startAngle:45,colorNeedleCircleOuter:"#f0f0f0",colorNeedleCircleOuterEnd:"#ccc",colorNeedleCircleInner:"#e8e8e8",colorNeedleCircleInnerEnd:"#f5f5f5",needleCircleSize:10,needleCircleInner:!0,needleCircleOuter:!0,needleStart:20,animationTarget:"needle",useMinPath:!1,barWidth:0,barStartPosition:"left"}),Di=function(U){function w(X){return e(this,w),X=Object.assign({},Xi,X||{}),x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,w.configure(X)))}return t(w,U),ae(w,[{key:"draw",value:function(){try{var X=this.canvas,k=[-X.drawX,-X.drawY,X.drawWidth,X.drawHeight],_=k[0],st=k[1],rt=k[2],ct=k[3],ht=this.options;if(ht.animationTarget==="needle"){if(!X.elementClone.initialized){var xt=X.contextClone;xt.clearRect(_,st,rt,ct),xt.save(),this.emit("beforePlate"),M(xt,ht),this.emit("beforeHighlights"),L(xt,ht),this.emit("beforeMinorTicks"),F(xt,ht),this.emit("beforeMajorTicks"),N(xt,ht),this.emit("beforeNumbers"),$(xt,ht),this.emit("beforeTitle"),Z(xt,ht),this.emit("beforeUnits"),D(xt,ht),X.elementClone.initialized=!0}this.canvas.commit(),X.context.clearRect(_,st,rt,ct),X.context.save(),X.context.drawImage(X.elementClone,_,st,rt,ct),X.context.save(),this.emit("beforeProgressBar"),Y(X.context,ht),this.emit("beforeValueBox"),B(X.context,ht,V(this)),this.emit("beforeNeedle"),O(X.context,ht)}else{var St=-Ft.radians((ht.value-ht.minValue)/(ht.maxValue-ht.minValue)*ht.ticksAngle);if(X.context.clearRect(_,st,rt,ct),X.context.save(),this.emit("beforePlate"),M(X.context,ht),X.context.rotate(St),this.emit("beforeHighlights"),L(X.context,ht),this.emit("beforeMinorTicks"),F(X.context,ht),this.emit("beforeMajorTicks"),N(X.context,ht),this.emit("beforeNumbers"),$(X.context,ht),this.emit("beforeProgressBar"),Y(X.context,ht),X.context.rotate(-St),X.context.save(),!X.elementClone.initialized){var Rt=X.contextClone;Rt.clearRect(_,st,rt,ct),Rt.save(),this.emit("beforeTitle"),Z(Rt,ht),this.emit("beforeUnits"),D(Rt,ht),this.emit("beforeNeedle"),O(Rt,ht),X.elementClone.initialized=!0}X.context.drawImage(X.elementClone,_,st,rt,ct)}this.emit("beforeValueBox"),B(X.context,ht,V(this)),Yt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"draw",this).call(this)}catch(Ut){Ft.verifyError(Ut)}return this}},{key:"value",set:function(X){X=Xe.ensureValue(X,this.options.minValue),this.options.animation&&this.options.ticksAngle===360&&this.options.useMinPath&&(this._value=X,X=this.options.value+((X-this.options.value)%360+540)%360-180),ie(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",X,this)},get:function(){return Yt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this)}}],[{key:"configure",value:function(X){return X.barWidth>50&&(X.barWidth=50),isNaN(X.startAngle)&&(X.startAngle=45),isNaN(X.ticksAngle)&&(X.ticksAngle=270),X.ticksAngle>360&&(X.ticksAngle=360),X.ticksAngle<0&&(X.ticksAngle=0),X.startAngle<0&&(X.startAngle=0),X.startAngle>360&&(X.startAngle=360),X}}]),w}(Xe);T!==void 0&&(T.RadialGauge=Di),Xe.initialize("RadialGauge",Xi);var _e=Object.assign({},Be,{borderRadius:0,barBeginCircle:30,colorBarEnd:"",colorBarProgressEnd:"",needleWidth:6,tickSide:"both",needleSide:"both",numberSide:"both",ticksWidth:10,ticksWidthMinor:5,ticksPadding:5,barLength:85,fontTitleSize:26,highlightsWidth:10}),ws=function(U){function w(X){return e(this,w),X=Object.assign({},_e,X||{}),x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,w.configure(X)))}return t(w,U),ae(w,[{key:"draw",value:function(){try{var X=this.canvas,k=[-X.drawX,-X.drawY,X.drawWidth,X.drawHeight],_=k[0],st=k[1],rt=k[2],ct=k[3],ht=this.options;if(!X.elementClone.initialized){var xt=X.contextClone;xt.clearRect(_,st,rt,ct),xt.save(),this.emit("beforePlate"),this.drawBox=j(xt,ht,_,st,rt,ct),this.emit("beforeBar"),ot.apply(void 0,[xt,ht].concat(l(this.drawBox))),X.context.barDimensions=xt.barDimensions,this.emit("beforeHighlights"),tt(xt,ht),this.emit("beforeMinorTicks"),at(xt,ht),this.emit("beforeMajorTicks"),pt(xt,ht),this.emit("beforeNumbers"),yt(xt,ht),this.emit("beforeTitle"),lt(xt,ht),this.emit("beforeUnits"),Tt(xt,ht),X.elementClone.initialized=!0}this.canvas.commit(),X.context.clearRect(_,st,rt,ct),X.context.save(),X.context.drawImage(X.elementClone,_,st,rt,ct),X.context.save(),this.emit("beforeProgressBar"),Q.apply(void 0,[X.context,ht].concat(l(this.drawBox))),this.emit("beforeNeedle"),Pt(X.context,ht),this.emit("beforeValueBox"),Bt.apply(void 0,[X.context,ht,ht.animatedValue?this.options.value:this.value].concat(l(this.drawBox))),Yt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"draw",this).call(this)}catch(St){Ft.verifyError(St)}return this}}],[{key:"configure",value:function(X){return X.barStrokeWidth>=X.barWidth&&(X.barStrokeWidth=Qt(X.barWidth/2)),X.hasLeft=K("right",X),X.hasRight=K("left",X),X.value>X.maxValue&&(X.value=X.maxValue),X.value<X.minValue&&(X.value=X.minValue),Xe.configure(X)}}]),w}(Xe);T!==void 0&&(T.LinearGauge=ws),Xe.initialize("LinearGauge",_e),Object.assign(T,{Collection:r,GenericOptions:Be,Animation:ve,BaseGauge:Xe,drawings:Ft,SmartCanvas:Oe,DomObserver:Xt,vendorize:f})})(p.exports)})(LC);const OC=li({name:"MapDifficultyGauge",components:{},props:["estimative","toggle"],data(){return{gauge:void 0,dimensionsUpdated:!1,animation:void 0}},watch:{toggle(){const p=()=>{const T=document.getElementById("map-difficulty-gauge");T!=null&&T.offsetHeight?this.refreshGauge():setTimeout(p,50)};setTimeout(p,50)},estimative(){this.refreshGauge()}},mounted(){this.gauge=this.createGauge(),setTimeout(()=>{},100)},unmounted(){clearTimeout(this.animation)},methods:{createGauge(){const p=document.getElementById("map-difficulty-gauge"),T=new Ph.RadialGauge({renderTo:document.createElement("canvas"),width:"10",height:"10",valueBox:!1,value:this.estimative||Math.random()*100,minValue:0,maxValue:100,startAngle:0,ticksAngle:180,minorTicks:20,majorTicks:!1,colorNumbers:"transparent",strokeTicks:!0,highlights:[{from:25,to:75,color:"rgba(14,255,255,0.7)"},{from:75,to:95,color:"rgba(200, 50, 50, .75)"},{from:95,to:100,color:"#D4FA00FF"}],highlightsWidth:30,colorPlate:"transparent",animateOnInit:!0,needleType:"arrow",needleShadow:!0,needleWidth:2,needleCircleSize:5,colorNeedle:"black",colorNeedleEnd:"red",colorNeedleCircleInner:"#D4FA00FF",needleCircleOuter:!0,needleCircleInner:!0,animationDuration:150,animationRule:"quad",borders:!1});return p.appendChild(T.options.renderTo),T},refreshGauge(){const p={value:this.estimative||0};if(!this.dimensionsUpdated){this.dimensionsUpdated=!0;const l=document.getElementById("map-difficulty-gauge");p.height=l.clientHeight*.75+"",p.width=l.clientWidth*1.75+""}const T=()=>{const x=this.estimative!==void 0?this.estimative:Math.random()*50+25;this.gauge.update({value:x+Math.random()*3-3*.5}),this.animation=setTimeout(T,150)};this.animation=setTimeout(T,0),this.gauge.update(p)}}});const FC={key:0,style:{position:"absolute",top:"40%",left:"35%",color:"var(--radioactive-color)"},class:"spinner-border",role:"status"};function IC(p,T,l,x,t,e){return Se(),$e(Ve,null,[ft("div",{id:"map-difficulty-gauge",style:En({filter:p.estimative!==void 0?"opacity(1)":"opacity(0.25)"})},null,4),p.estimative===void 0?(Se(),$e("div",FC)):Cs("",!0)],64)}const DC=On(OC,[["render",IC],["__scopeId","data-v-510d7a42"]]);class NC{constructor(){gt(this,"factors");this.factors=[T=>({condition:l=>{var x;return((x=l.actions)==null?void 0:x.length)>50},value:this.getDifficulty(T.actions.filter(l=>l!==Rn.STAND).length,200),weight:.15}),T=>{var l;return{condition:x=>{var t;return((t=x.actions)==null?void 0:t.length)>50},value:this.getDifficulty(T.counterIntuitiveMoves/((l=T.actions)==null?void 0:l.length),1),weight:.5}},T=>({value:this.getDifficulty(T.boxesLine,80),weight:.75}),T=>({condition:l=>{var x;return((x=l.actions)==null?void 0:x.length)<20},value:this.getDifficulty(T.actions.filter(l=>l===Rn.STAND).length/T.actions.length,1),weight:.15}),T=>({value:this.getDifficulty(T.totalTime,6e4),weight:.25}),T=>({value:this.getDifficulty(T.iterations,75e4),weight:.15})]}estimate(T){if(!T.actions)return;const l=this.factors.reduce((t,e)=>{const f=e(T);return console.log(f),f.condition&&!f.condition(T)?t:{value:t.value+f.value*f.weight,weight:t.weight+f.weight}},{value:0,weight:0}),x=l.value/l.weight;return Phaser.Math.Clamp(x*100,0,100)}getDifficulty(T,l){return Math.min(T/l,1.15)}}const BC=li({name:"MapEditor",components:{MapDifficultyGauge:DC,PhaserContainer:Rp},props:["toggle"],emits:["save"],data(){const p=ce.getCustomLevel();return{title:p.title,codedMapText:p.map,scene:p,stringActions:p.solution,estimative:p.difficultyEstimative,editorInvalidError:"",render:!1,mapIsValid:!0,editorRefreshKey:0,cursorPotision:new fe(0,0),legendText:`
<h5>Instructions</h5>
<ul>
<li>Each text line represents a line in the map</li>
<li>Every feature is represented by a letter. Sometimes an orientation letter is needed and those are marked with a * in the list bellow</li>
<li><b>[</b> and <b>]</b> put multiple features in the same spot: <b>[ls.]</b>: left oriented spring (<b>ls</b>) on a radioactive stone (<b>.</b>); and <b>[@.]</b>: hero positioned on a radioactive stone. They don't nest.</li>
<li>Numbers multiply next feature: <b>4$</b> means four barrels in a row. The same as <b>$$$$</b>; and <b>3[o.]</b> is the same as <b>[o.][o.][o.]</b> </li>
</ul>

<h5>Features list</h5>
<ul>
<li><b>@</b> hero</li>
<li><b>$</b> barrels</li>
<li><b>-</b> empty</li>
<li><b>&nbsp</b> floor</li>
<li><b>#</b> wall</li>
<li><b>.</b> radioactive stone</li>
<li><b>o</b> oily floor</li>
<li><b>s</b> spring*</li>
<li><b>t</b> treadmill*</li>
<li><b>w</b> one way door*</li>
</ul>
<small>* require preceeding orientation<br>
<h5 class="mt-2">Orientation list</h5>
<ul>
<li><b>u</b> up</li>
<li><b>l</b> left</li>
<li><b>d</b> down</li>
<li><b>r</b> right</li>
</ul>
`}},mounted(){window.addEventListener("keyup",()=>this.updateCursorPosition()),window.addEventListener("click",()=>this.updateCursorPosition());const p=document.getElementById("mapEditorModal");p.addEventListener("show.bs.modal",()=>{this.render=!0;const x=ce.getCustomLevel();this.codedMapText=x.map,this.scene=x,this.stringActions=x.solution,this.estimative=x==null?void 0:x.difficultyEstimative}),p.addEventListener("hide.bs.modal",()=>{Kr.getInstance().abort()});const T=document.getElementsByClassName("copyToastBtn");if(T){const x=document.getElementById("copy-toast");Array.from(T).forEach(t=>{t.addEventListener("click",()=>new bootstrap.Toast(x).show())})}[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(x=>new bootstrap.Popover(x))},computed:{titleIsValid(){return this.title.length<25},maraudersMapEnabled(){return["mischief managed","tom riddles diary"].includes(this.title.toLowerCase())}},watch:{title(){if(this.title==="tom riddles diary"){const p=ce.getCurrentSelectedIndex(),T=nr()[p];this.codedMapText=T.map}},toggle(){if(document.getElementsByTagName("body")[0].classList.contains("modal-open")){const T=()=>{if(document.getElementsByTagName("textarea")[0].offsetHeight===0)return setTimeout(T,50);this.render=!0,this.refresh()};setTimeout(T,50)}},codedMapText(){this.estimative=void 0,this.refresh()}},methods:{replaceCodeTokens(p){this.codedMapText=p.target.value.replace("|",`
`).replace("*","[$.]").replace("+","[@.]")},copyStringActions(){navigator.clipboard.writeText(this.stringActions)},refresh(){if(this.estimative!==void 0){this.render=!0,++this.editorRefreshKey;return}this.render=!0,this.estimative=void 0,this.stringActions=void 0,this.editorInvalidError="Verifying solution. It may take a few minutes.",this.mapIsValid=!1,this.scene={title:this.title,map:this.codedMapText},++this.editorRefreshKey},async processedMap(p){if(this.estimative!==void 0){this.mapIsValid=!0;return}try{if(p.error)throw p.error;const T=await Kr.getInstance().validate(p.processedMap);if(T.aborted)return;this.estimative=new NC().estimate(T),this.stringActions=T.actions.map(l=>Mp(l)).join(""),console.log("map validated"),this.mapIsValid=!0}catch(T){this.editorInvalidError=T.message}},saveButtonClick(){const p=document.querySelector("#phaser-container canvas");this.scene.title=this.title,this.scene.snapshot=p.toDataURL(),this.scene.difficultyEstimative=this.estimative,this.scene.solution=this.stringActions,ce.setCustomLevel(this.scene),ce.setCurrentSelectedIndex(0),this.$emit("save",this.scene)},updateCursorPosition(){const p=document.getElementById("map-editor-text-area");if(p){const T=p.selectionStart,l=new RC(T,this.codedMapText).localize();this.cursorPotision.y=l.y+1,this.cursorPotision.x=l.x+1,Ri.emit(je.MAP_EDITOR_CURSOR_POSITION_CHANGED,l)}}}});const Fn=p=>(la("data-v-b7c8a06a"),p=p(),ha(),p),wC={id:"map-editor",class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},GC=Fn(()=>ft("div",{class:"toast-container position-fixed top-0 end-0 pt-3"},[ft("div",{id:"copy-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},[ft("div",{class:"d-flex sokoban-toast"},[ft("div",{class:"toast-body"}," You little rascal. "),ft("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),VC={class:"modal-content"},UC=Fn(()=>ft("div",{class:"modal-header",style:{border:"none"}},[ft("h2",{class:"modal-title",style:{"font-family":"'Righteous', serif"}},"Map editor")],-1)),YC={class:"modal-body mb-lg-5"},zC={class:"row"},bC={class:"col-12 mb-4 order-1"},WC=Fn(()=>ft("label",{class:"form-label sokoban-label"},"Title",-1)),XC=Fn(()=>ft("div",{class:"form-label feedback-label invalid-feedback",style:{}}," Title is longer than 25 characters ",-1)),HC={class:"col-8 col-lg-5 order-2 mb-4"},$C={class:"form-label sokoban-label"},KC=["data-bs-content"],ZC=Fn(()=>ft("i",{class:"fa-regular fa-circle-question",style:{color:"var(--radioactive-color)"}},null,-1)),JC=[ZC],QC={style:{display:"inline-block"}},jC={class:"cursor-position"},kC={class:"form-label feedback-label invalid-feedback",style:{}},qC={class:"col-12 col-lg-5 order-4 order-lg-3",style:{"text-align":"left"}},_C=Fn(()=>ft("label",{class:"form-label sokoban-label",style:{float:"none"}}," Result ",-1)),tP={id:"phaser-container"},eP={class:"col-4 col-lg-2 order-3 order-lg-4",style:{"text-align":"left"}},iP=Fn(()=>ft("label",{class:"form-label sokoban-label",style:{float:"none"}}," Difficulty ",-1)),nP={class:"col-12 order-5 mt-5"},sP=Fn(()=>ft("label",{class:"form-label sokoban-label"},"Marauder's map",-1)),rP={class:"input-group"},aP=["value"],oP=["disabled"],lP={class:"modal-footer",style:{border:"none"}},hP=Fn(()=>ft("button",{class:"btn sokoban-outlined-button mt-4",type:"button","data-bs-dismiss":"modal"},"Close ",-1)),uP=["disabled"];function fP(p,T,l,x,t,e){const f=An("PhaserContainer"),i=An("map-difficulty-gauge");return Se(),$e("div",wC,[GC,ft("div",VC,[UC,ft("div",YC,[ft("div",zC,[ft("div",bC,[WC,Es(ft("input",{type:"text",class:Sn(["form-control",p.titleIsValid?"is-valid":"is-invalid"]),placeholder:"Title","onUpdate:modelValue":T[0]||(T[0]=r=>p.title=r),spellcheck:"false"},null,2),[[Mn,p.title]]),XC]),ft("div",HC,[ft("label",$C,[Bs(" Editor "),ft("a",{tabindex:"0",class:"btn btn-lg btn-danger px-1",role:"button","data-bs-toggle":"popover",style:{"background-color":"transparent",border:"none"},title:"Dismissible popover","data-bs-trigger":"focus","data-bs-html":!0,"data-bs-content":p.legendText},JC,8,KC)]),ft("div",QC,[Es(ft("textarea",{class:Sn(["form-control map-text-area",p.mapIsValid?"is-valid":"is-invalid"]),rows:"10",spellcheck:"false",onInput:T[1]||(T[1]=(...r)=>p.replaceCodeTokens&&p.replaceCodeTokens(...r)),id:"map-editor-text-area",style:{"font-size":".9rem"},"onUpdate:modelValue":T[2]||(T[2]=r=>p.codedMapText=r)},null,34),[[Mn,p.codedMapText]]),ft("small",jC,zi(p.cursorPotision.y)+":"+zi(p.cursorPotision.x),1),ft("div",kC,zi(p.editorInvalidError),1)])]),ft("div",qC,[_C,ft("div",tP,[(Se(),Zn(f,{playable:!1,render:p.render,key:p.editorRefreshKey,scene:p.scene,onProcessedMap:p.processedMap},null,8,["render","scene","onProcessedMap"]))])]),ft("div",eP,[iP,Te(i,{estimative:p.estimative,toggle:p.toggle},null,8,["estimative","toggle"])]),Es(ft("div",nP,[sP,ft("div",rP,[ft("input",{type:"text",class:"form-control",readonly:"",value:p.stringActions},null,8,aP),ft("button",{class:"btn btn-outline-secondary copyToastBtn",type:"button",disabled:!p.stringActions||p.stringActions.length<=0,style:{"background-color":"var(--radioactive-color)"},onClick:T[3]||(T[3]=(...r)=>p.copyStringActions&&p.copyStringActions(...r))}," Copy ",8,oP)])],512),[[tu,p.maraudersMapEnabled]])])]),ft("div",lP,[hP,ft("button",{class:"btn btn-outline-secondary mt-4",type:"button",id:"toastBtn",onClick:T[4]||(T[4]=(...r)=>p.saveButtonClick&&p.saveButtonClick(...r)),"data-bs-dismiss":"modal",disabled:!p.titleIsValid||!p.mapIsValid,style:{"background-color":"var(--radioactive-color)",float:"right"}},"Save ",8,uP)])])])}const dP=On(BC,[["render",fP],["__scopeId","data-v-b7c8a06a"]]),cP=li({name:"SplashScreenAdvancedOptions",components:{MapEditor:dP},emits:["mapEditorSaved","passwordUnblockedNewLevels","advancedOptionsVisibilityChanged","playerActionsChanged"],data(){return{mapEditorToggle:!1,validLevelPassword:!1,levelPassword:"",playerActions:"",actionsLegentText:`
      <h5>Instructions</h5>
<ul>
<li>Each letter represents a player action</li>
</ul>

<h5>Actions list</h5>
<ul>
<li><b>l</b> go left</li>
<li><b>r</b> go right</li>
<li><b>u</b> go up</li>
<li><b>d</b> go down</li>
<li><b>s</b> do nothing</li>
</ul>

<p>
So, by entering <b>druls</b>, as soon as the game begins, the player would follow this command, step by step:
<ol>
<li>go down</li>
<li>go right</li>
<li>go up</li>
<li>go left</li>
<li>do nothing</li>
</ol>

<small>PS: If you're wondering what's the pointing of having a feature like this. Bear in mind it's very useful to verify another player's "solution". If you know what I mean.</small>
</p>
`}},watch:{playerActions(){this.$emit("playerActionsChanged",this.invalidPlayerActionsError.length<=0?this.playerActions:void 0)}},mounted(){const p=document.getElementById("password-modal"),T=document.getElementById("mapEditorModal");T.addEventListener("show.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!0)),T.addEventListener("hide.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!1)),p.addEventListener("show.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!0)),p.addEventListener("hide.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!1));const l=document.getElementsByClassName("toastBtn"),x=document.getElementById("password-toast");l&&Array.from(l).forEach(t=>{t.addEventListener("click",()=>new bootstrap.Toast(x).show())})},methods:{mapEditorSaved(p){this.$emit("mapEditorSaved",p)},checkPassword(){const p=nr().findIndex(T=>T.title.toLowerCase().replace(/ /g,"-")===this.levelPassword.toLowerCase());if(p!==-1){p>=ce.getNumberOfEnabledLevels()&&ce.setNumberOfEnabledLevels(p+1),this.validLevelPassword=!0,this.$emit("passwordUnblockedNewLevels",p);return}this.validLevelPassword=!1}},computed:{toastBodyTextName(){return this.validLevelPassword?"Good job!":"Wrong password."},toastStyle(){return this.validLevelPassword?{"background-color":"var(--radioactive-color)",color:"var(--foreground-color)"}:{"background-color":"var(--danger-color)",color:"var(--background-color)"}},invalidPlayerActionsError(){if(this.playerActions.length>0){const p=this.playerActions.split(""),T=p.findIndex(l=>Ap(l)===void 0);if(T!==-1)return`Invalid action found (${p[T]}) at index ${T}`}return""}}});const Ta=p=>(la("data-v-c37411a6"),p=p(),ha(),p),vP={class:"toast-container position-fixed top-0 end-0 p-3"},pP={id:"password-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},mP={class:"toast-body"},gP=Ta(()=>ft("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),xP={class:"modal fade",id:"password-modal",tabindex:"-1","aria-labelledby":"passwordModalLabel","aria-hidden":"true"},yP={class:"modal-dialog modal-dialog-centered"},TP={class:"modal-content"},EP=Ta(()=>ft("div",{class:"modal-header"},[ft("h1",{class:"modal-title fs-5"},"Enter password"),ft("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),SP={class:"modal-body"},CP={class:"input-group"},PP=["disabled"],AP=Ta(()=>ft("button",{class:"btn btn-primary advanced-options-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleOptions","aria-expanded":"false","aria-controls":"collapsibleOptions"},[ft("i",{class:"fa-solid fa-circle-radiation"}),Bs(" Options ")],-1)),MP={class:"collapse p-0",id:"collapsibleOptions"},RP={class:"card card-body px-0",style:{"background-color":"transparent"}},LP={class:"container splash-screen-advanced px-0"},OP={class:"row row-cols-1 gy-3"},FP={class:"col-12 mb-4"},IP={class:"form-label sokoban-label"},DP=["data-bs-content"],NP=Ta(()=>ft("i",{class:"fa-regular fa-circle-question",style:{color:"var(--radioactive-color)"}},null,-1)),BP=[NP],wP={class:"form-label feedback-label invalid-feedback",style:{position:"absolute"}},GP=Ta(()=>ft("div",{class:"col-12 col-lg-6"},[ft("button",{class:"btn btn-outline-secondary options-buttons w-100",type:"button","data-bs-toggle":"modal","data-bs-target":"#password-modal"}," Check password ")],-1)),VP={class:"col-12 col-lg-6"},UP={class:"modal fade",id:"mapEditorModal",tabindex:"-1",role:"dialog","aria-labelledby":"mapEditorModalLabel","aria-hidden":"true"};function YP(p,T,l,x,t,e){const f=An("MapEditor");return Se(),$e(Ve,null,[ft("div",vP,[ft("div",pP,[ft("div",{class:"d-flex sokoban-toast",style:En(p.toastStyle)},[ft("div",mP,zi(p.toastBodyTextName),1),gP],4)])]),ft("div",xP,[ft("div",yP,[ft("div",TP,[EP,ft("div",SP,[ft("div",CP,[Es(ft("input",{type:"text",class:"form-control",placeholder:"Password",spellcheck:"false","onUpdate:modelValue":T[0]||(T[0]=i=>p.levelPassword=i)},null,512),[[Mn,p.levelPassword]]),ft("button",{class:"btn btn-outline-secondary toastBtn",type:"button",disabled:this.levelPassword.length<=0,onKeyup:T[1]||(T[1]=Tv((...i)=>p.checkPassword&&p.checkPassword(...i),["enter"])),style:{"background-color":"var(--radioactive-color)"},onClick:T[2]||(T[2]=(...i)=>p.checkPassword&&p.checkPassword(...i))}," Check ",40,PP)])])])])]),AP,ft("div",MP,[ft("div",RP,[ft("div",LP,[ft("div",OP,[ft("div",FP,[ft("label",IP,[Bs("Player initial actions "),ft("a",{tabindex:"0",class:"btn btn-lg btn-danger px-1",role:"button","data-bs-toggle":"popover",style:{"background-color":"transparent",border:"none"},title:"Player initial actions","data-bs-trigger":"focus","data-bs-html":!0,"data-bs-content":p.actionsLegentText},BP,8,DP)]),Es(ft("input",{type:"text",class:Sn(["form-control",[p.invalidPlayerActionsError.length<=0?"is-valid":"is-invalid"]]),placeholder:"Enter actions","aria-label":"Insert player actions",id:"playerActionsInput","onUpdate:modelValue":T[3]||(T[3]=i=>p.playerActions=i)},null,2),[[Mn,p.playerActions]]),ft("div",wP,zi(p.invalidPlayerActionsError),1)]),GP,ft("div",VP,[ft("button",{class:"btn btn-outline-secondary options-buttons w-100",type:"button",onClick:T[4]||(T[4]=i=>p.mapEditorToggle=!p.mapEditorToggle),"data-bs-toggle":"modal","data-bs-target":"#mapEditorModal"}," Edit custom map "),ft("div",UP,[Te(f,{toggle:p.mapEditorToggle,onSave:p.mapEditorSaved},null,8,["toggle","onSave"])])])])])])])],64)}const zP=On(cP,[["render",YP],["__scopeId","data-v-c37411a6"]]),bP=li({name:"SplashScreenView",components:{CarouselSlider:xC,DirectionalButtonsComponent:Lp,SplashScreenAdvancedOptions:zP},data(){return{carouselSliderRefreshKey:0,levels:Ch(),currentLevel:void 0,carouselIsVisible:!0,playerActions:""}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender"),window.addEventListener("keyup",this.keyPressed)},unmounted(){window.removeEventListener("keyup",this.keyPressed)},watch:{carouselIsVisible(){this.carouselIsVisible&&this.carouselSliderRefreshKey++}},methods:{keyPressed(p){this.carouselIsVisible&&p.code==="Enter"&&this.playerActions!==void 0&&this.currentLevel&&this.playButtonClick()},playerActionsChanged(p){this.playerActions=p},currentLevelChanged(p,T,l,x){this.currentLevel=p,gn.setGameViewConfig({display:T,isCustom:l,levelIndex:x,playerInitialActions:this.playerActions,level:this.currentLevel})},passwordUnblockedNewLevels(){++this.carouselSliderRefreshKey},playButtonClick(){const p=gn.getGameViewConfig();p.playerInitialActions=this.playerActions,this.$router.push("/game")},mapEditorSaved(){this.levels=Ch(),++this.carouselSliderRefreshKey}}});const WP={class:"container disable-dbl-tap-zoom splash-view text-center pt-3"},XP={class:"row row-cols-1 gy-3"},HP=ft("div",{class:"col mb-lg-5"},[ft("h1",{class:"sokoban-display display-3 fw-normal",style:{"user-select":"none"}},"NUCLEAR DEFENDER")],-1),$P={class:"col-12",style:{"min-height":"fit-content"}},KP={class:"col-12 mt-2",style:{"text-align":"left"}},ZP=ft("div",{class:"w-100"},null,-1),JP={class:"col-12"},QP={class:"d-grid"},jP=["disabled"];function kP(p,T,l,x,t,e){const f=An("CarouselSlider"),i=An("SplashScreenAdvancedOptions");return Se(),$e("div",WP,[ft("div",XP,[HP,ft("div",$P,[(Se(),Zn(f,{key:p.carouselSliderRefreshKey,visible:p.carouselIsVisible,onCurrentLevelChanged:p.currentLevelChanged},null,8,["visible","onCurrentLevelChanged"]))]),ft("div",KP,[Te(i,{onPlayerActionsChanged:p.playerActionsChanged,onAdvancedOptionsVisibilityChanged:T[0]||(T[0]=r=>this.carouselIsVisible=!r),onMapEditorSaved:p.mapEditorSaved,onPasswordUnblockedNewLevels:p.passwordUnblockedNewLevels},null,8,["onPlayerActionsChanged","onMapEditorSaved","onPasswordUnblockedNewLevels"])]),ZP,ft("div",JP,[ft("div",QP,[ft("button",{class:"btn btn-primary",style:{"background-color":"var(--radioactive-color)",color:"var(--foreground-color)","border-color":"transparent"},onClick:T[1]||(T[1]=(...r)=>p.playButtonClick&&p.playButtonClick(...r)),disabled:p.playerActions===void 0||!p.currentLevel,type:"button"},"Play ",8,jP)])])])])}const qP=On(bP,[["render",kP]]),_P=OT({history:$1("/nuclear-defender"),routes:[{path:"/",component:qP,meta:{transition:"slide-left"}},{path:"/game",component:vS,meta:{transition:"slide-left"}},{path:"/next-level",component:KS,meta:{transition:"slide-left"},props:!0}]});const Vp=Av(DT);Vp.use(_P);Vp.mount("#app");
