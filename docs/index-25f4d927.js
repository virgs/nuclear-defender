var Cm=Object.defineProperty;var Pm=(m,y,l)=>y in m?Cm(m,y,{enumerable:!0,configurable:!0,writable:!0,value:l}):m[y]=l;var vt=(m,y,l)=>(Pm(m,typeof y!="symbol"?y+"":y,l),l);(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))x(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const u of e.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&x(u)}).observe(document,{childList:!0,subtree:!0});function l(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function x(t){if(t.ep)return;t.ep=!0;const e=l(t);fetch(t.href,e)}})();function xi(m,y){const l=Object.create(null),x=m.split(",");for(let t=0;t<x.length;t++)l[x[t]]=!0;return y?t=>!!l[t.toLowerCase()]:t=>!!l[t]}const Am="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Mm=xi(Am);function Cn(m){if(Nt(m)){const y={};for(let l=0;l<m.length;l++){const x=m[l],t=_t(x)?Jd(x):Cn(x);if(t)for(const e in t)y[e]=t[e]}return y}else{if(_t(m))return m;if(Ee(m))return m}}const Rm=/;(?![^(]*\))/g,Lm=/:([^]+)/,Om=/\/\*.*?\*\//gs;function Jd(m){const y={};return m.replace(Om,"").split(Rm).forEach(l=>{if(l){const x=l.split(Lm);x.length>1&&(y[x[0].trim()]=x[1].trim())}}),y}function Pn(m){let y="";if(_t(m))y=m;else if(Nt(m))for(let l=0;l<m.length;l++){const x=Pn(m[l]);x&&(y+=x+" ")}else if(Ee(m))for(const l in m)m[l]&&(y+=l+" ");return y.trim()}function Fm(m){if(!m)return null;let{class:y,style:l}=m;return y&&!_t(y)&&(m.class=Pn(y)),l&&(m.style=Cn(l)),m}const Im="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Dm="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Bm="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Nm=xi(Im),wm=xi(Dm),Gm=xi(Bm),Vm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Um=xi(Vm);function Qd(m){return!!m||m===""}function Ym(m,y){if(m.length!==y.length)return!1;let l=!0;for(let x=0;l&&x<m.length;x++)l=Zn(m[x],y[x]);return l}function Zn(m,y){if(m===y)return!0;let l=Ef(m),x=Ef(y);if(l||x)return l&&x?m.getTime()===y.getTime():!1;if(l=Jn(m),x=Jn(y),l||x)return m===y;if(l=Nt(m),x=Nt(y),l||x)return l&&x?Ym(m,y):!1;if(l=Ee(m),x=Ee(y),l||x){if(!l||!x)return!1;const t=Object.keys(m).length,e=Object.keys(y).length;if(t!==e)return!1;for(const u in m){const i=m.hasOwnProperty(u),r=y.hasOwnProperty(u);if(i&&!r||!i&&r||!Zn(m[u],y[u]))return!1}}return String(m)===String(y)}function Fo(m,y){return m.findIndex(l=>Zn(l,y))}const gi=m=>_t(m)?m:m==null?"":Nt(m)||Ee(m)&&(m.toString===kd||!Jt(m.toString))?JSON.stringify(m,jd,2):String(m),jd=(m,y)=>y&&y.__v_isRef?jd(m,y.value):Qs(y)?{[`Map(${y.size})`]:[...y.entries()].reduce((l,[x,t])=>(l[`${x} =>`]=t,l),{})}:Fs(y)?{[`Set(${y.size})`]:[...y.values()]}:Ee(y)&&!Nt(y)&&!qd(y)?String(y):y,xe={},Js=[],li=()=>{},so=()=>!1,bm=/^on[^a-z]/,Os=m=>bm.test(m),Mh=m=>m.startsWith("onUpdate:"),de=Object.assign,Rh=(m,y)=>{const l=m.indexOf(y);l>-1&&m.splice(l,1)},zm=Object.prototype.hasOwnProperty,he=(m,y)=>zm.call(m,y),Nt=Array.isArray,Qs=m=>aa(m)==="[object Map]",Fs=m=>aa(m)==="[object Set]",Ef=m=>aa(m)==="[object Date]",Jt=m=>typeof m=="function",_t=m=>typeof m=="string",Jn=m=>typeof m=="symbol",Ee=m=>m!==null&&typeof m=="object",Lh=m=>Ee(m)&&Jt(m.then)&&Jt(m.catch),kd=Object.prototype.toString,aa=m=>kd.call(m),Wm=m=>aa(m).slice(8,-1),qd=m=>aa(m)==="[object Object]",Oh=m=>_t(m)&&m!=="NaN"&&m[0]!=="-"&&""+parseInt(m,10)===m,ms=xi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xm=xi("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Io=m=>{const y=Object.create(null);return l=>y[l]||(y[l]=m(l))},Hm=/-(\w)/g,_e=Io(m=>m.replace(Hm,(y,l)=>l?l.toUpperCase():"")),$m=/\B([A-Z])/g,Ri=Io(m=>m.replace($m,"-$1").toLowerCase()),Is=Io(m=>m.charAt(0).toUpperCase()+m.slice(1)),js=Io(m=>m?`on${Is(m)}`:""),ir=(m,y)=>!Object.is(m,y),ks=(m,y)=>{for(let l=0;l<m.length;l++)m[l](y)},uo=(m,y,l)=>{Object.defineProperty(m,y,{configurable:!0,enumerable:!1,value:l})},An=m=>{const y=parseFloat(m);return isNaN(y)?m:y};let Sf;const Km=()=>Sf||(Sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ai;class Fh{constructor(y=!1){this.detached=y,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ai,!y&&Ai&&(this.index=(Ai.scopes||(Ai.scopes=[])).push(this)-1)}run(y){if(this.active){const l=Ai;try{return Ai=this,y()}finally{Ai=l}}}on(){Ai=this}off(){Ai=this.parent}stop(y){if(this.active){let l,x;for(l=0,x=this.effects.length;l<x;l++)this.effects[l].stop();for(l=0,x=this.cleanups.length;l<x;l++)this.cleanups[l]();if(this.scopes)for(l=0,x=this.scopes.length;l<x;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!y){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}function Zm(m){return new Fh(m)}function _d(m,y=Ai){y&&y.active&&y.effects.push(m)}function Jm(){return Ai}function Qm(m){Ai&&Ai.cleanups.push(m)}const Ih=m=>{const y=new Set(m);return y.w=0,y.n=0,y},tc=m=>(m.w&Qn)>0,ec=m=>(m.n&Qn)>0,jm=({deps:m})=>{if(m.length)for(let y=0;y<m.length;y++)m[y].w|=Qn},km=m=>{const{deps:y}=m;if(y.length){let l=0;for(let x=0;x<y.length;x++){const t=y[x];tc(t)&&!ec(t)?t.delete(m):y[l++]=t,t.w&=~Qn,t.n&=~Qn}y.length=l}},Hl=new WeakMap;let Dr=0,Qn=1;const $l=30;let Qi;const gs=Symbol(""),Kl=Symbol("");class oa{constructor(y,l=null,x){this.fn=y,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,_d(this,x)}run(){if(!this.active)return this.fn();let y=Qi,l=$n;for(;y;){if(y===this)return;y=y.parent}try{return this.parent=Qi,Qi=this,$n=!0,Qn=1<<++Dr,Dr<=$l?jm(this):Cf(this),this.fn()}finally{Dr<=$l&&km(this),Qn=1<<--Dr,Qi=this.parent,$n=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Qi===this?this.deferStop=!0:this.active&&(Cf(this),this.onStop&&this.onStop(),this.active=!1)}}function Cf(m){const{deps:y}=m;if(y.length){for(let l=0;l<y.length;l++)y[l].delete(m);y.length=0}}function qm(m,y){m.effect&&(m=m.effect.fn);const l=new oa(m);y&&(de(l,y),y.scope&&_d(l,y.scope)),(!y||!y.lazy)&&l.run();const x=l.run.bind(l);return x.effect=l,x}function _m(m){m.effect.stop()}let $n=!0;const ic=[];function cr(){ic.push($n),$n=!1}function vr(){const m=ic.pop();$n=m===void 0?!0:m}function Di(m,y,l){if($n&&Qi){let x=Hl.get(m);x||Hl.set(m,x=new Map);let t=x.get(l);t||x.set(l,t=Ih()),nc(t)}}function nc(m,y){let l=!1;Dr<=$l?ec(m)||(m.n|=Qn,l=!tc(m)):l=!m.has(Qi),l&&(m.add(Qi),Qi.deps.push(m))}function Mn(m,y,l,x,t,e){const u=Hl.get(m);if(!u)return;let i=[];if(y==="clear")i=[...u.values()];else if(l==="length"&&Nt(m)){const r=An(x);u.forEach((a,n)=>{(n==="length"||n>=r)&&i.push(a)})}else switch(l!==void 0&&i.push(u.get(l)),y){case"add":Nt(m)?Oh(l)&&i.push(u.get("length")):(i.push(u.get(gs)),Qs(m)&&i.push(u.get(Kl)));break;case"delete":Nt(m)||(i.push(u.get(gs)),Qs(m)&&i.push(u.get(Kl)));break;case"set":Qs(m)&&i.push(u.get(gs));break}if(i.length===1)i[0]&&Zl(i[0]);else{const r=[];for(const a of i)a&&r.push(...a);Zl(Ih(r))}}function Zl(m,y){const l=Nt(m)?m:[...m];for(const x of l)x.computed&&Pf(x);for(const x of l)x.computed||Pf(x)}function Pf(m,y){(m!==Qi||m.allowRecurse)&&(m.scheduler?m.scheduler():m.run())}const tg=xi("__proto__,__v_isRef,__isVue"),sc=new Set(Object.getOwnPropertyNames(Symbol).filter(m=>m!=="arguments"&&m!=="caller").map(m=>Symbol[m]).filter(Jn)),eg=Do(),ig=Do(!1,!0),ng=Do(!0),sg=Do(!0,!0),Af=rg();function rg(){const m={};return["includes","indexOf","lastIndexOf"].forEach(y=>{m[y]=function(...l){const x=ue(this);for(let e=0,u=this.length;e<u;e++)Di(x,"get",e+"");const t=x[y](...l);return t===-1||t===!1?x[y](...l.map(ue)):t}}),["push","pop","shift","unshift","splice"].forEach(y=>{m[y]=function(...l){cr();const x=ue(this)[y].apply(this,l);return vr(),x}}),m}function Do(m=!1,y=!1){return function(x,t,e){if(t==="__v_isReactive")return!m;if(t==="__v_isReadonly")return m;if(t==="__v_isShallow")return y;if(t==="__v_raw"&&e===(m?y?fc:uc:y?hc:lc).get(x))return x;const u=Nt(x);if(!m&&u&&he(Af,t))return Reflect.get(Af,t,e);const i=Reflect.get(x,t,e);return(Jn(t)?sc.has(t):tg(t))||(m||Di(x,"get",t),y)?i:Je(i)?u&&Oh(t)?i:i.value:Ee(i)?m?Bh(i):pr(i):i}}const ag=rc(),og=rc(!0);function rc(m=!1){return function(l,x,t,e){let u=l[x];if(Ps(u)&&Je(u)&&!Je(t))return!1;if(!m&&(!Zr(t)&&!Ps(t)&&(u=ue(u),t=ue(t)),!Nt(l)&&Je(u)&&!Je(t)))return u.value=t,!0;const i=Nt(l)&&Oh(x)?Number(x)<l.length:he(l,x),r=Reflect.set(l,x,t,e);return l===ue(e)&&(i?ir(t,u)&&Mn(l,"set",x,t):Mn(l,"add",x,t)),r}}function lg(m,y){const l=he(m,y);m[y];const x=Reflect.deleteProperty(m,y);return x&&l&&Mn(m,"delete",y,void 0),x}function hg(m,y){const l=Reflect.has(m,y);return(!Jn(y)||!sc.has(y))&&Di(m,"has",y),l}function ug(m){return Di(m,"iterate",Nt(m)?"length":gs),Reflect.ownKeys(m)}const ac={get:eg,set:ag,deleteProperty:lg,has:hg,ownKeys:ug},oc={get:ng,set(m,y){return!0},deleteProperty(m,y){return!0}},fg=de({},ac,{get:ig,set:og}),dg=de({},oc,{get:sg}),Dh=m=>m,Bo=m=>Reflect.getPrototypeOf(m);function Wa(m,y,l=!1,x=!1){m=m.__v_raw;const t=ue(m),e=ue(y);l||(y!==e&&Di(t,"get",y),Di(t,"get",e));const{has:u}=Bo(t),i=x?Dh:l?Gh:Jr;if(u.call(t,y))return i(m.get(y));if(u.call(t,e))return i(m.get(e));m!==t&&m.get(y)}function Xa(m,y=!1){const l=this.__v_raw,x=ue(l),t=ue(m);return y||(m!==t&&Di(x,"has",m),Di(x,"has",t)),m===t?l.has(m):l.has(m)||l.has(t)}function Ha(m,y=!1){return m=m.__v_raw,!y&&Di(ue(m),"iterate",gs),Reflect.get(m,"size",m)}function Mf(m){m=ue(m);const y=ue(this);return Bo(y).has.call(y,m)||(y.add(m),Mn(y,"add",m,m)),this}function Rf(m,y){y=ue(y);const l=ue(this),{has:x,get:t}=Bo(l);let e=x.call(l,m);e||(m=ue(m),e=x.call(l,m));const u=t.call(l,m);return l.set(m,y),e?ir(y,u)&&Mn(l,"set",m,y):Mn(l,"add",m,y),this}function Lf(m){const y=ue(this),{has:l,get:x}=Bo(y);let t=l.call(y,m);t||(m=ue(m),t=l.call(y,m)),x&&x.call(y,m);const e=y.delete(m);return t&&Mn(y,"delete",m,void 0),e}function Of(){const m=ue(this),y=m.size!==0,l=m.clear();return y&&Mn(m,"clear",void 0,void 0),l}function $a(m,y){return function(x,t){const e=this,u=e.__v_raw,i=ue(u),r=y?Dh:m?Gh:Jr;return!m&&Di(i,"iterate",gs),u.forEach((a,n)=>x.call(t,r(a),r(n),e))}}function Ka(m,y,l){return function(...x){const t=this.__v_raw,e=ue(t),u=Qs(e),i=m==="entries"||m===Symbol.iterator&&u,r=m==="keys"&&u,a=t[m](...x),n=l?Dh:y?Gh:Jr;return!y&&Di(e,"iterate",r?Kl:gs),{next(){const{value:s,done:f}=a.next();return f?{value:s,done:f}:{value:i?[n(s[0]),n(s[1])]:n(s),done:f}},[Symbol.iterator](){return this}}}}function Bn(m){return function(...y){return m==="delete"?!1:this}}function cg(){const m={get(e){return Wa(this,e)},get size(){return Ha(this)},has:Xa,add:Mf,set:Rf,delete:Lf,clear:Of,forEach:$a(!1,!1)},y={get(e){return Wa(this,e,!1,!0)},get size(){return Ha(this)},has:Xa,add:Mf,set:Rf,delete:Lf,clear:Of,forEach:$a(!1,!0)},l={get(e){return Wa(this,e,!0)},get size(){return Ha(this,!0)},has(e){return Xa.call(this,e,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:$a(!0,!1)},x={get(e){return Wa(this,e,!0,!0)},get size(){return Ha(this,!0)},has(e){return Xa.call(this,e,!0)},add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear"),forEach:$a(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(e=>{m[e]=Ka(e,!1,!1),l[e]=Ka(e,!0,!1),y[e]=Ka(e,!1,!0),x[e]=Ka(e,!0,!0)}),[m,l,y,x]}const[vg,pg,mg,gg]=cg();function No(m,y){const l=y?m?gg:mg:m?pg:vg;return(x,t,e)=>t==="__v_isReactive"?!m:t==="__v_isReadonly"?m:t==="__v_raw"?x:Reflect.get(he(l,t)&&t in x?l:x,t,e)}const xg={get:No(!1,!1)},yg={get:No(!1,!0)},Tg={get:No(!0,!1)},Eg={get:No(!0,!0)},lc=new WeakMap,hc=new WeakMap,uc=new WeakMap,fc=new WeakMap;function Sg(m){switch(m){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cg(m){return m.__v_skip||!Object.isExtensible(m)?0:Sg(Wm(m))}function pr(m){return Ps(m)?m:wo(m,!1,ac,xg,lc)}function dc(m){return wo(m,!1,fg,yg,hc)}function Bh(m){return wo(m,!0,oc,Tg,uc)}function Pg(m){return wo(m,!0,dg,Eg,fc)}function wo(m,y,l,x,t){if(!Ee(m)||m.__v_raw&&!(y&&m.__v_isReactive))return m;const e=t.get(m);if(e)return e;const u=Cg(m);if(u===0)return m;const i=new Proxy(m,u===2?x:l);return t.set(m,i),i}function xs(m){return Ps(m)?xs(m.__v_raw):!!(m&&m.__v_isReactive)}function Ps(m){return!!(m&&m.__v_isReadonly)}function Zr(m){return!!(m&&m.__v_isShallow)}function Nh(m){return xs(m)||Ps(m)}function ue(m){const y=m&&m.__v_raw;return y?ue(y):m}function wh(m){return uo(m,"__v_skip",!0),m}const Jr=m=>Ee(m)?pr(m):m,Gh=m=>Ee(m)?Bh(m):m;function Vh(m){$n&&Qi&&(m=ue(m),nc(m.dep||(m.dep=Ih())))}function Go(m,y){m=ue(m),m.dep&&Zl(m.dep)}function Je(m){return!!(m&&m.__v_isRef===!0)}function Nr(m){return vc(m,!1)}function cc(m){return vc(m,!0)}function vc(m,y){return Je(m)?m:new Ag(m,y)}class Ag{constructor(y,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?y:ue(y),this._value=l?y:Jr(y)}get value(){return Vh(this),this._value}set value(y){const l=this.__v_isShallow||Zr(y)||Ps(y);y=l?y:ue(y),ir(y,this._rawValue)&&(this._rawValue=y,this._value=l?y:Jr(y),Go(this))}}function Mg(m){Go(m)}function ys(m){return Je(m)?m.value:m}const Rg={get:(m,y,l)=>ys(Reflect.get(m,y,l)),set:(m,y,l,x)=>{const t=m[y];return Je(t)&&!Je(l)?(t.value=l,!0):Reflect.set(m,y,l,x)}};function Uh(m){return xs(m)?m:new Proxy(m,Rg)}class Lg{constructor(y){this.dep=void 0,this.__v_isRef=!0;const{get:l,set:x}=y(()=>Vh(this),()=>Go(this));this._get=l,this._set=x}get value(){return this._get()}set value(y){this._set(y)}}function Og(m){return new Lg(m)}function Fg(m){const y=Nt(m)?new Array(m.length):{};for(const l in m)y[l]=pc(m,l);return y}class Ig{constructor(y,l,x){this._object=y,this._key=l,this._defaultValue=x,this.__v_isRef=!0}get value(){const y=this._object[this._key];return y===void 0?this._defaultValue:y}set value(y){this._object[this._key]=y}}function pc(m,y,l){const x=m[y];return Je(x)?x:new Ig(m,y,l)}var mc;class Dg{constructor(y,l,x,t){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this[mc]=!1,this._dirty=!0,this.effect=new oa(y,()=>{this._dirty||(this._dirty=!0,Go(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!t,this.__v_isReadonly=x}get value(){const y=ue(this);return Vh(y),(y._dirty||!y._cacheable)&&(y._dirty=!1,y._value=y.effect.run()),y._value}set value(y){this._setter(y)}}mc="__v_isReadonly";function Bg(m,y,l=!1){let x,t;const e=Jt(m);return e?(x=m,t=li):(x=m.get,t=m.set),new Dg(x,t,e||!t,l)}function Ng(m,...y){}function Tn(m,y,l,x){let t;try{t=x?m(...x):m()}catch(e){Ds(e,y,l)}return t}function Fi(m,y,l,x){if(Jt(m)){const e=Tn(m,y,l,x);return e&&Lh(e)&&e.catch(u=>{Ds(u,y,l)}),e}const t=[];for(let e=0;e<m.length;e++)t.push(Fi(m[e],y,l,x));return t}function Ds(m,y,l,x=!0){const t=y?y.vnode:null;if(y){let e=y.parent;const u=y.proxy,i=l;for(;e;){const a=e.ec;if(a){for(let n=0;n<a.length;n++)if(a[n](m,u,i)===!1)return}e=e.parent}const r=y.appContext.config.errorHandler;if(r){Tn(r,null,10,[m,u,i]);return}}wg(m,l,t,x)}function wg(m,y,l,x=!0){console.error(m)}let Qr=!1,Jl=!1;const ni=[];let an=0;const qs=[];let gn=null,fs=0;const gc=Promise.resolve();let Yh=null;function Vo(m){const y=Yh||gc;return m?y.then(this?m.bind(this):m):y}function Gg(m){let y=an+1,l=ni.length;for(;y<l;){const x=y+l>>>1;jr(ni[x])<m?y=x+1:l=x}return y}function Uo(m){(!ni.length||!ni.includes(m,Qr&&m.allowRecurse?an+1:an))&&(m.id==null?ni.push(m):ni.splice(Gg(m.id),0,m),xc())}function xc(){!Qr&&!Jl&&(Jl=!0,Yh=gc.then(yc))}function Vg(m){const y=ni.indexOf(m);y>an&&ni.splice(y,1)}function bh(m){Nt(m)?qs.push(...m):(!gn||!gn.includes(m,m.allowRecurse?fs+1:fs))&&qs.push(m),xc()}function Ff(m,y=Qr?an+1:0){for(;y<ni.length;y++){const l=ni[y];l&&l.pre&&(ni.splice(y,1),y--,l())}}function fo(m){if(qs.length){const y=[...new Set(qs)];if(qs.length=0,gn){gn.push(...y);return}for(gn=y,gn.sort((l,x)=>jr(l)-jr(x)),fs=0;fs<gn.length;fs++)gn[fs]();gn=null,fs=0}}const jr=m=>m.id==null?1/0:m.id,Ug=(m,y)=>{const l=jr(m)-jr(y);if(l===0){if(m.pre&&!y.pre)return-1;if(y.pre&&!m.pre)return 1}return l};function yc(m){Jl=!1,Qr=!0,ni.sort(Ug);const y=li;try{for(an=0;an<ni.length;an++){const l=ni[an];l&&l.active!==!1&&Tn(l,null,14)}}finally{an=0,ni.length=0,fo(),Qr=!1,Yh=null,(ni.length||qs.length)&&yc()}}let Hs,Za=[];function Tc(m,y){var l,x;Hs=m,Hs?(Hs.enabled=!0,Za.forEach(({event:t,args:e})=>Hs.emit(t,...e)),Za=[]):typeof window<"u"&&window.HTMLElement&&!(!((x=(l=window.navigator)===null||l===void 0?void 0:l.userAgent)===null||x===void 0)&&x.includes("jsdom"))?((y.__VUE_DEVTOOLS_HOOK_REPLAY__=y.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(e=>{Tc(e,y)}),setTimeout(()=>{Hs||(y.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Za=[])},3e3)):Za=[]}function Yg(m,y,...l){if(m.isUnmounted)return;const x=m.vnode.props||xe;let t=l;const e=y.startsWith("update:"),u=e&&y.slice(7);if(u&&u in x){const n=`${u==="modelValue"?"model":u}Modifiers`,{number:s,trim:f}=x[n]||xe;f&&(t=l.map(o=>_t(o)?o.trim():o)),s&&(t=l.map(An))}let i,r=x[i=js(y)]||x[i=js(_e(y))];!r&&e&&(r=x[i=js(Ri(y))]),r&&Fi(r,m,6,t);const a=x[i+"Once"];if(a){if(!m.emitted)m.emitted={};else if(m.emitted[i])return;m.emitted[i]=!0,Fi(a,m,6,t)}}function Ec(m,y,l=!1){const x=y.emitsCache,t=x.get(m);if(t!==void 0)return t;const e=m.emits;let u={},i=!1;if(!Jt(m)){const r=a=>{const n=Ec(a,y,!0);n&&(i=!0,de(u,n))};!l&&y.mixins.length&&y.mixins.forEach(r),m.extends&&r(m.extends),m.mixins&&m.mixins.forEach(r)}return!e&&!i?(Ee(m)&&x.set(m,null),null):(Nt(e)?e.forEach(r=>u[r]=null):de(u,e),Ee(m)&&x.set(m,u),u)}function Yo(m,y){return!m||!Os(y)?!1:(y=y.slice(2).replace(/Once$/,""),he(m,y[0].toLowerCase()+y.slice(1))||he(m,Ri(y))||he(m,y))}let qe=null,bo=null;function kr(m){const y=qe;return qe=m,bo=m&&m.type.__scopeId||null,y}function mr(m){bo=m}function gr(){bo=null}const bg=m=>zh;function zh(m,y=qe,l){if(!y||m._n)return m;const x=(...t)=>{x._d&&eh(-1);const e=kr(y);let u;try{u=m(...t)}finally{kr(e),x._d&&eh(1)}return u};return x._n=!0,x._c=!0,x._d=!0,x}function ro(m){const{type:y,vnode:l,proxy:x,withProxy:t,props:e,propsOptions:[u],slots:i,attrs:r,emit:a,render:n,renderCache:s,data:f,setupState:o,ctx:h,inheritAttrs:d}=m;let v,c;const p=kr(m);try{if(l.shapeFlag&4){const T=t||x;v=Mi(n.call(T,T,s,e,o,f,h)),c=r}else{const T=y;v=Mi(T.length>1?T(e,{attrs:r,slots:i,emit:a}):T(e,null)),c=y.props?r:Wg(r)}}catch(T){Ur.length=0,Ds(T,m,1),v=Te(ri)}let g=v;if(c&&d!==!1){const T=Object.keys(c),{shapeFlag:E}=g;T.length&&E&7&&(u&&T.some(Mh)&&(c=Xg(c,u)),g=ln(g,c))}return l.dirs&&(g=ln(g),g.dirs=g.dirs?g.dirs.concat(l.dirs):l.dirs),l.transition&&(g.transition=l.transition),v=g,kr(p),v}function zg(m){let y;for(let l=0;l<m.length;l++){const x=m[l];if(kn(x)){if(x.type!==ri||x.children==="v-if"){if(y)return;y=x}}else return}return y}const Wg=m=>{let y;for(const l in m)(l==="class"||l==="style"||Os(l))&&((y||(y={}))[l]=m[l]);return y},Xg=(m,y)=>{const l={};for(const x in m)(!Mh(x)||!(x.slice(9)in y))&&(l[x]=m[x]);return l};function Hg(m,y,l){const{props:x,children:t,component:e}=m,{props:u,children:i,patchFlag:r}=y,a=e.emitsOptions;if(y.dirs||y.transition)return!0;if(l&&r>=0){if(r&1024)return!0;if(r&16)return x?If(x,u,a):!!u;if(r&8){const n=y.dynamicProps;for(let s=0;s<n.length;s++){const f=n[s];if(u[f]!==x[f]&&!Yo(a,f))return!0}}}else return(t||i)&&(!i||!i.$stable)?!0:x===u?!1:x?u?If(x,u,a):!0:!!u;return!1}function If(m,y,l){const x=Object.keys(y);if(x.length!==Object.keys(m).length)return!0;for(let t=0;t<x.length;t++){const e=x[t];if(y[e]!==m[e]&&!Yo(l,e))return!0}return!1}function Wh({vnode:m,parent:y},l){for(;y&&y.subTree===m;)(m=y.vnode).el=l,y=y.parent}const Sc=m=>m.__isSuspense,$g={name:"Suspense",__isSuspense:!0,process(m,y,l,x,t,e,u,i,r,a){m==null?Zg(y,l,x,t,e,u,i,r,a):Jg(m,y,l,x,t,u,i,r,a)},hydrate:Qg,create:Xh,normalize:jg},Kg=$g;function qr(m,y){const l=m.props&&m.props[y];Jt(l)&&l()}function Zg(m,y,l,x,t,e,u,i,r){const{p:a,o:{createElement:n}}=r,s=n("div"),f=m.suspense=Xh(m,t,x,y,s,l,e,u,i,r);a(null,f.pendingBranch=m.ssContent,s,null,x,f,e,u),f.deps>0?(qr(m,"onPending"),qr(m,"onFallback"),a(null,m.ssFallback,y,l,x,null,e,u),_s(f,m.ssFallback)):f.resolve()}function Jg(m,y,l,x,t,e,u,i,{p:r,um:a,o:{createElement:n}}){const s=y.suspense=m.suspense;s.vnode=y,y.el=m.el;const f=y.ssContent,o=y.ssFallback,{activeBranch:h,pendingBranch:d,isInFallback:v,isHydrating:c}=s;if(d)s.pendingBranch=f,on(f,d)?(r(d,f,s.hiddenContainer,null,t,s,e,u,i),s.deps<=0?s.resolve():v&&(r(h,o,l,x,t,null,e,u,i),_s(s,o))):(s.pendingId++,c?(s.isHydrating=!1,s.activeBranch=d):a(d,t,s),s.deps=0,s.effects.length=0,s.hiddenContainer=n("div"),v?(r(null,f,s.hiddenContainer,null,t,s,e,u,i),s.deps<=0?s.resolve():(r(h,o,l,x,t,null,e,u,i),_s(s,o))):h&&on(f,h)?(r(h,f,l,x,t,s,e,u,i),s.resolve(!0)):(r(null,f,s.hiddenContainer,null,t,s,e,u,i),s.deps<=0&&s.resolve()));else if(h&&on(f,h))r(h,f,l,x,t,s,e,u,i),_s(s,f);else if(qr(y,"onPending"),s.pendingBranch=f,s.pendingId++,r(null,f,s.hiddenContainer,null,t,s,e,u,i),s.deps<=0)s.resolve();else{const{timeout:p,pendingId:g}=s;p>0?setTimeout(()=>{s.pendingId===g&&s.fallback(o)},p):p===0&&s.fallback(o)}}function Xh(m,y,l,x,t,e,u,i,r,a,n=!1){const{p:s,m:f,um:o,n:h,o:{parentNode:d,remove:v}}=a,c=An(m.props&&m.props.timeout),p={vnode:m,parent:y,parentComponent:l,isSVG:u,container:x,hiddenContainer:t,anchor:e,deps:0,pendingId:0,timeout:typeof c=="number"?c:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:n,isUnmounted:!1,effects:[],resolve(g=!1){const{vnode:T,activeBranch:E,pendingBranch:S,pendingId:C,effects:P,parentComponent:A,container:R}=p;if(p.isHydrating)p.isHydrating=!1;else if(!g){const F=E&&S.transition&&S.transition.mode==="out-in";F&&(E.transition.afterLeave=()=>{C===p.pendingId&&f(S,R,I,0)});let{anchor:I}=p;E&&(I=h(E),o(E,A,p,!0)),F||f(S,R,I,0)}_s(p,S),p.pendingBranch=null,p.isInFallback=!1;let M=p.parent,L=!1;for(;M;){if(M.pendingBranch){M.effects.push(...P),L=!0;break}M=M.parent}L||bh(P),p.effects=[],qr(T,"onResolve")},fallback(g){if(!p.pendingBranch)return;const{vnode:T,activeBranch:E,parentComponent:S,container:C,isSVG:P}=p;qr(T,"onFallback");const A=h(E),R=()=>{p.isInFallback&&(s(null,g,C,A,S,null,P,i,r),_s(p,g))},M=g.transition&&g.transition.mode==="out-in";M&&(E.transition.afterLeave=R),p.isInFallback=!0,o(E,S,null,!0),M||R()},move(g,T,E){p.activeBranch&&f(p.activeBranch,g,T,E),p.container=g},next(){return p.activeBranch&&h(p.activeBranch)},registerDep(g,T){const E=!!p.pendingBranch;E&&p.deps++;const S=g.vnode.el;g.asyncDep.catch(C=>{Ds(C,g,0)}).then(C=>{if(g.isUnmounted||p.isUnmounted||p.pendingId!==g.suspenseId)return;g.asyncResolved=!0;const{vnode:P}=g;ih(g,C,!1),S&&(P.el=S);const A=!S&&g.subTree.el;T(g,P,d(S||g.subTree.el),S?null:h(g.subTree),p,u,r),A&&v(A),Wh(g,P.el),E&&--p.deps===0&&p.resolve()})},unmount(g,T){p.isUnmounted=!0,p.activeBranch&&o(p.activeBranch,l,g,T),p.pendingBranch&&o(p.pendingBranch,l,g,T)}};return p}function Qg(m,y,l,x,t,e,u,i,r){const a=y.suspense=Xh(y,x,l,m.parentNode,document.createElement("div"),null,t,e,u,i,!0),n=r(m,a.pendingBranch=y.ssContent,l,a,e,u);return a.deps===0&&a.resolve(),n}function jg(m){const{shapeFlag:y,children:l}=m,x=y&32;m.ssContent=Df(x?l.default:l),m.ssFallback=x?Df(l.fallback):Te(ri)}function Df(m){let y;if(Jt(m)){const l=Rs&&m._c;l&&(m._d=!1,Se()),m=m(),l&&(m._d=!0,y=pi,jc())}return Nt(m)&&(m=zg(m)),m=Mi(m),y&&!m.dynamicChildren&&(m.dynamicChildren=y.filter(l=>l!==m)),m}function Cc(m,y){y&&y.pendingBranch?Nt(m)?y.effects.push(...m):y.effects.push(m):bh(m)}function _s(m,y){m.activeBranch=y;const{vnode:l,parentComponent:x}=m,t=l.el=y.el;x&&x.subTree===l&&(x.vnode.el=t,Wh(x,t))}function wr(m,y){if(We){let l=We.provides;const x=We.parent&&We.parent.provides;x===l&&(l=We.provides=Object.create(x)),l[m]=y}}function ji(m,y,l=!1){const x=We||qe;if(x){const t=x.parent==null?x.vnode.appContext&&x.vnode.appContext.provides:x.parent.provides;if(t&&m in t)return t[m];if(arguments.length>1)return l&&Jt(y)?y.call(x.proxy):y}}function kg(m,y){return la(m,null,y)}function Pc(m,y){return la(m,null,{flush:"post"})}function qg(m,y){return la(m,null,{flush:"sync"})}const Ja={};function tr(m,y,l){return la(m,y,l)}function la(m,y,{immediate:l,deep:x,flush:t,onTrack:e,onTrigger:u}=xe){const i=We;let r,a=!1,n=!1;if(Je(m)?(r=()=>m.value,a=Zr(m)):xs(m)?(r=()=>m,x=!0):Nt(m)?(n=!0,a=m.some(g=>xs(g)||Zr(g)),r=()=>m.map(g=>{if(Je(g))return g.value;if(xs(g))return vs(g);if(Jt(g))return Tn(g,i,2)})):Jt(m)?y?r=()=>Tn(m,i,2):r=()=>{if(!(i&&i.isUnmounted))return s&&s(),Fi(m,i,3,[f])}:r=li,y&&x){const g=r;r=()=>vs(g())}let s,f=g=>{s=c.onStop=()=>{Tn(g,i,4)}},o;if(sr)if(f=li,y?l&&Fi(y,i,3,[r(),n?[]:void 0,f]):r(),t==="sync"){const g=uv();o=g.__watcherHandles||(g.__watcherHandles=[])}else return li;let h=n?new Array(m.length).fill(Ja):Ja;const d=()=>{if(c.active)if(y){const g=c.run();(x||a||(n?g.some((T,E)=>ir(T,h[E])):ir(g,h)))&&(s&&s(),Fi(y,i,3,[g,h===Ja?void 0:n&&h[0]===Ja?[]:h,f]),h=g)}else c.run()};d.allowRecurse=!!y;let v;t==="sync"?v=d:t==="post"?v=()=>ke(d,i&&i.suspense):(d.pre=!0,i&&(d.id=i.uid),v=()=>Uo(d));const c=new oa(r,v);y?l?d():h=c.run():t==="post"?ke(c.run.bind(c),i&&i.suspense):c.run();const p=()=>{c.stop(),i&&i.scope&&Rh(i.scope.effects,c)};return o&&o.push(p),p}function _g(m,y,l){const x=this.proxy,t=_t(m)?m.includes(".")?Ac(x,m):()=>x[m]:m.bind(x,x);let e;Jt(y)?e=y:(e=y.handler,l=y);const u=We;qn(this);const i=la(t,e.bind(x),l);return u?qn(u):Kn(),i}function Ac(m,y){const l=y.split(".");return()=>{let x=m;for(let t=0;t<l.length&&x;t++)x=x[l[t]];return x}}function vs(m,y){if(!Ee(m)||m.__v_skip||(y=y||new Set,y.has(m)))return m;if(y.add(m),Je(m))vs(m.value,y);else if(Nt(m))for(let l=0;l<m.length;l++)vs(m[l],y);else if(Fs(m)||Qs(m))m.forEach(l=>{vs(l,y)});else if(qd(m))for(const l in m)vs(m[l],y);return m}function Hh(){const m={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ua(()=>{m.isMounted=!0}),Ho(()=>{m.isUnmounting=!0}),m}const Vi=[Function,Array],t0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vi,onEnter:Vi,onAfterEnter:Vi,onEnterCancelled:Vi,onBeforeLeave:Vi,onLeave:Vi,onAfterLeave:Vi,onLeaveCancelled:Vi,onBeforeAppear:Vi,onAppear:Vi,onAfterAppear:Vi,onAppearCancelled:Vi},setup(m,{slots:y}){const l=ts(),x=Hh();let t;return()=>{const e=y.default&&zo(y.default(),!0);if(!e||!e.length)return;let u=e[0];if(e.length>1){for(const d of e)if(d.type!==ri){u=d;break}}const i=ue(m),{mode:r}=i;if(x.isLeaving)return Ll(u);const a=Bf(u);if(!a)return Ll(u);const n=nr(a,i,x,l);As(a,n);const s=l.subTree,f=s&&Bf(s);let o=!1;const{getTransitionKey:h}=a.type;if(h){const d=h();t===void 0?t=d:d!==t&&(t=d,o=!0)}if(f&&f.type!==ri&&(!on(a,f)||o)){const d=nr(f,i,x,l);if(As(f,d),r==="out-in")return x.isLeaving=!0,d.afterLeave=()=>{x.isLeaving=!1,l.update.active!==!1&&l.update()},Ll(u);r==="in-out"&&a.type!==ri&&(d.delayLeave=(v,c,p)=>{const g=Mc(x,f);g[String(f.key)]=f,v._leaveCb=()=>{c(),v._leaveCb=void 0,delete n.delayedLeave},n.delayedLeave=p})}return u}}},$h=t0;function Mc(m,y){const{leavingVNodes:l}=m;let x=l.get(y.type);return x||(x=Object.create(null),l.set(y.type,x)),x}function nr(m,y,l,x){const{appear:t,mode:e,persisted:u=!1,onBeforeEnter:i,onEnter:r,onAfterEnter:a,onEnterCancelled:n,onBeforeLeave:s,onLeave:f,onAfterLeave:o,onLeaveCancelled:h,onBeforeAppear:d,onAppear:v,onAfterAppear:c,onAppearCancelled:p}=y,g=String(m.key),T=Mc(l,m),E=(P,A)=>{P&&Fi(P,x,9,A)},S=(P,A)=>{const R=A[1];E(P,A),Nt(P)?P.every(M=>M.length<=1)&&R():P.length<=1&&R()},C={mode:e,persisted:u,beforeEnter(P){let A=i;if(!l.isMounted)if(t)A=d||i;else return;P._leaveCb&&P._leaveCb(!0);const R=T[g];R&&on(m,R)&&R.el._leaveCb&&R.el._leaveCb(),E(A,[P])},enter(P){let A=r,R=a,M=n;if(!l.isMounted)if(t)A=v||r,R=c||a,M=p||n;else return;let L=!1;const F=P._enterCb=I=>{L||(L=!0,I?E(M,[P]):E(R,[P]),C.delayedLeave&&C.delayedLeave(),P._enterCb=void 0)};A?S(A,[P,F]):F()},leave(P,A){const R=String(m.key);if(P._enterCb&&P._enterCb(!0),l.isUnmounting)return A();E(s,[P]);let M=!1;const L=P._leaveCb=F=>{M||(M=!0,A(),F?E(h,[P]):E(o,[P]),P._leaveCb=void 0,T[R]===m&&delete T[R])};T[R]=m,f?S(f,[P,L]):L()},clone(P){return nr(P,y,l,x)}};return C}function Ll(m){if(ha(m))return m=ln(m),m.children=null,m}function Bf(m){return ha(m)?m.children?m.children[0]:void 0:m}function As(m,y){m.shapeFlag&6&&m.component?As(m.component.subTree,y):m.shapeFlag&128?(m.ssContent.transition=y.clone(m.ssContent),m.ssFallback.transition=y.clone(m.ssFallback)):m.transition=y}function zo(m,y=!1,l){let x=[],t=0;for(let e=0;e<m.length;e++){let u=m[e];const i=l==null?u.key:String(l)+String(u.key!=null?u.key:e);u.type===Ve?(u.patchFlag&128&&t++,x=x.concat(zo(u.children,y,i))):(y||u.type!==ri)&&x.push(i!=null?ln(u,{key:i}):u)}if(t>1)for(let e=0;e<x.length;e++)x[e].patchFlag=-2;return x}function hi(m){return Jt(m)?{setup:m,name:m.name}:m}const Ts=m=>!!m.type.__asyncLoader;function e0(m){Jt(m)&&(m={loader:m});const{loader:y,loadingComponent:l,errorComponent:x,delay:t=200,timeout:e,suspensible:u=!0,onError:i}=m;let r=null,a,n=0;const s=()=>(n++,r=null,f()),f=()=>{let o;return r||(o=r=y().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),i)return new Promise((d,v)=>{i(h,()=>d(s()),()=>v(h),n+1)});throw h}).then(h=>o!==r&&r?r:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),a=h,h)))};return hi({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return a},setup(){const o=We;if(a)return()=>Ol(a,o);const h=p=>{r=null,Ds(p,o,13,!x)};if(u&&o.suspense||sr)return f().then(p=>()=>Ol(p,o)).catch(p=>(h(p),()=>x?Te(x,{error:p}):null));const d=Nr(!1),v=Nr(),c=Nr(!!t);return t&&setTimeout(()=>{c.value=!1},t),e!=null&&setTimeout(()=>{if(!d.value&&!v.value){const p=new Error(`Async component timed out after ${e}ms.`);h(p),v.value=p}},e),f().then(()=>{d.value=!0,o.parent&&ha(o.parent.vnode)&&Uo(o.parent.update)}).catch(p=>{h(p),v.value=p}),()=>{if(d.value&&a)return Ol(a,o);if(v.value&&x)return Te(x,{error:v.value});if(l&&!c.value)return Te(l)}}})}function Ol(m,y){const{ref:l,props:x,children:t,ce:e}=y.vnode,u=Te(m,x,t);return u.ref=l,u.ce=e,delete y.vnode.ce,u}const ha=m=>m.type.__isKeepAlive,i0={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(m,{slots:y}){const l=ts(),x=l.ctx;if(!x.renderer)return()=>{const p=y.default&&y.default();return p&&p.length===1?p[0]:p};const t=new Map,e=new Set;let u=null;const i=l.suspense,{renderer:{p:r,m:a,um:n,o:{createElement:s}}}=x,f=s("div");x.activate=(p,g,T,E,S)=>{const C=p.component;a(p,g,T,0,i),r(C.vnode,p,g,T,C,i,E,p.slotScopeIds,S),ke(()=>{C.isDeactivated=!1,C.a&&ks(C.a);const P=p.props&&p.props.onVnodeMounted;P&&vi(P,C.parent,p)},i)},x.deactivate=p=>{const g=p.component;a(p,f,null,1,i),ke(()=>{g.da&&ks(g.da);const T=p.props&&p.props.onVnodeUnmounted;T&&vi(T,g.parent,p),g.isDeactivated=!0},i)};function o(p){Fl(p),n(p,l,i,!0)}function h(p){t.forEach((g,T)=>{const E=sh(g.type);E&&(!p||!p(E))&&d(T)})}function d(p){const g=t.get(p);!u||g.type!==u.type?o(g):u&&Fl(u),t.delete(p),e.delete(p)}tr(()=>[m.include,m.exclude],([p,g])=>{p&&h(T=>Br(p,T)),g&&h(T=>!Br(g,T))},{flush:"post",deep:!0});let v=null;const c=()=>{v!=null&&t.set(v,Il(l.subTree))};return ua(c),Xo(c),Ho(()=>{t.forEach(p=>{const{subTree:g,suspense:T}=l,E=Il(g);if(p.type===E.type){Fl(E);const S=E.component.da;S&&ke(S,T);return}o(p)})}),()=>{if(v=null,!y.default)return null;const p=y.default(),g=p[0];if(p.length>1)return u=null,p;if(!kn(g)||!(g.shapeFlag&4)&&!(g.shapeFlag&128))return u=null,g;let T=Il(g);const E=T.type,S=sh(Ts(T)?T.type.__asyncResolved||{}:E),{include:C,exclude:P,max:A}=m;if(C&&(!S||!Br(C,S))||P&&S&&Br(P,S))return u=T,g;const R=T.key==null?E:T.key,M=t.get(R);return T.el&&(T=ln(T),g.shapeFlag&128&&(g.ssContent=T)),v=R,M?(T.el=M.el,T.component=M.component,T.transition&&As(T,T.transition),T.shapeFlag|=512,e.delete(R),e.add(R)):(e.add(R),A&&e.size>parseInt(A,10)&&d(e.values().next().value)),T.shapeFlag|=256,u=T,Sc(g.type)?g:T}}},n0=i0;function Br(m,y){return Nt(m)?m.some(l=>Br(l,y)):_t(m)?m.split(",").includes(y):m.test?m.test(y):!1}function Rc(m,y){Oc(m,"a",y)}function Lc(m,y){Oc(m,"da",y)}function Oc(m,y,l=We){const x=m.__wdc||(m.__wdc=()=>{let t=l;for(;t;){if(t.isDeactivated)return;t=t.parent}return m()});if(Wo(y,x,l),l){let t=l.parent;for(;t&&t.parent;)ha(t.parent.vnode)&&s0(x,y,l,t),t=t.parent}}function s0(m,y,l,x){const t=Wo(y,m,x,!0);$o(()=>{Rh(x[y],t)},l)}function Fl(m){m.shapeFlag&=-257,m.shapeFlag&=-513}function Il(m){return m.shapeFlag&128?m.ssContent:m}function Wo(m,y,l=We,x=!1){if(l){const t=l[m]||(l[m]=[]),e=y.__weh||(y.__weh=(...u)=>{if(l.isUnmounted)return;cr(),qn(l);const i=Fi(y,l,m,u);return Kn(),vr(),i});return x?t.unshift(e):t.push(e),e}}const On=m=>(y,l=We)=>(!sr||m==="sp")&&Wo(m,(...x)=>y(...x),l),Fc=On("bm"),ua=On("m"),Ic=On("bu"),Xo=On("u"),Ho=On("bum"),$o=On("um"),Dc=On("sp"),Bc=On("rtg"),Nc=On("rtc");function wc(m,y=We){Wo("ec",m,y)}function Es(m,y){const l=qe;if(l===null)return m;const x=Zo(l)||l.proxy,t=m.dirs||(m.dirs=[]);for(let e=0;e<y.length;e++){let[u,i,r,a=xe]=y[e];u&&(Jt(u)&&(u={mounted:u,updated:u}),u.deep&&vs(i),t.push({dir:u,instance:x,value:i,oldValue:void 0,arg:r,modifiers:a}))}return m}function sn(m,y,l,x){const t=m.dirs,e=y&&y.dirs;for(let u=0;u<t.length;u++){const i=t[u];e&&(i.oldValue=e[u].value);let r=i.dir[x];r&&(cr(),Fi(r,l,8,[m.el,i,m,y]),vr())}}const Kh="components",r0="directives";function Rn(m,y){return Zh(Kh,m,!0,y)||m}const Gc=Symbol();function a0(m){return _t(m)?Zh(Kh,m,!1)||m:m||Gc}function o0(m){return Zh(r0,m)}function Zh(m,y,l=!0,x=!1){const t=qe||We;if(t){const e=t.type;if(m===Kh){const i=sh(e,!1);if(i&&(i===y||i===_e(y)||i===Is(_e(y))))return e}const u=Nf(t[m]||e[m],y)||Nf(t.appContext[m],y);return!u&&x?e:u}}function Nf(m,y){return m&&(m[y]||m[_e(y)]||m[Is(_e(y))])}function Vc(m,y,l,x){let t;const e=l&&l[x];if(Nt(m)||_t(m)){t=new Array(m.length);for(let u=0,i=m.length;u<i;u++)t[u]=y(m[u],u,void 0,e&&e[u])}else if(typeof m=="number"){t=new Array(m);for(let u=0;u<m;u++)t[u]=y(u+1,u,void 0,e&&e[u])}else if(Ee(m))if(m[Symbol.iterator])t=Array.from(m,(u,i)=>y(u,i,void 0,e&&e[i]));else{const u=Object.keys(m);t=new Array(u.length);for(let i=0,r=u.length;i<r;i++){const a=u[i];t[i]=y(m[a],a,i,e&&e[i])}}else t=[];return l&&(l[x]=t),t}function l0(m,y){for(let l=0;l<y.length;l++){const x=y[l];if(Nt(x))for(let t=0;t<x.length;t++)m[x[t].name]=x[t].fn;else x&&(m[x.name]=x.key?(...t)=>{const e=x.fn(...t);return e&&(e.key=x.key),e}:x.fn)}return m}function h0(m,y,l={},x,t){if(qe.isCE||qe.parent&&Ts(qe.parent)&&qe.parent.isCE)return y!=="default"&&(l.name=y),Te("slot",l,x&&x());let e=m[y];e&&e._c&&(e._d=!1),Se();const u=e&&Uc(e(l)),i=jn(Ve,{key:l.key||u&&u.key||`_${y}`},u||(x?x():[]),u&&m._===1?64:-2);return!t&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),e&&e._c&&(e._d=!0),i}function Uc(m){return m.some(y=>kn(y)?!(y.type===ri||y.type===Ve&&!Uc(y.children)):!0)?m:null}function u0(m,y){const l={};for(const x in m)l[y&&/[A-Z]/.test(x)?`on:${x}`:js(x)]=m[x];return l}const Ql=m=>m?nv(m)?Zo(m)||m.proxy:Ql(m.parent):null,Gr=de(Object.create(null),{$:m=>m,$el:m=>m.vnode.el,$data:m=>m.data,$props:m=>m.props,$attrs:m=>m.attrs,$slots:m=>m.slots,$refs:m=>m.refs,$parent:m=>Ql(m.parent),$root:m=>Ql(m.root),$emit:m=>m.emit,$options:m=>Jh(m),$forceUpdate:m=>m.f||(m.f=()=>Uo(m.update)),$nextTick:m=>m.n||(m.n=Vo.bind(m.proxy)),$watch:m=>_g.bind(m)}),Dl=(m,y)=>m!==xe&&!m.__isScriptSetup&&he(m,y),jl={get({_:m},y){const{ctx:l,setupState:x,data:t,props:e,accessCache:u,type:i,appContext:r}=m;let a;if(y[0]!=="$"){const o=u[y];if(o!==void 0)switch(o){case 1:return x[y];case 2:return t[y];case 4:return l[y];case 3:return e[y]}else{if(Dl(x,y))return u[y]=1,x[y];if(t!==xe&&he(t,y))return u[y]=2,t[y];if((a=m.propsOptions[0])&&he(a,y))return u[y]=3,e[y];if(l!==xe&&he(l,y))return u[y]=4,l[y];kl&&(u[y]=0)}}const n=Gr[y];let s,f;if(n)return y==="$attrs"&&Di(m,"get",y),n(m);if((s=i.__cssModules)&&(s=s[y]))return s;if(l!==xe&&he(l,y))return u[y]=4,l[y];if(f=r.config.globalProperties,he(f,y))return f[y]},set({_:m},y,l){const{data:x,setupState:t,ctx:e}=m;return Dl(t,y)?(t[y]=l,!0):x!==xe&&he(x,y)?(x[y]=l,!0):he(m.props,y)||y[0]==="$"&&y.slice(1)in m?!1:(e[y]=l,!0)},has({_:{data:m,setupState:y,accessCache:l,ctx:x,appContext:t,propsOptions:e}},u){let i;return!!l[u]||m!==xe&&he(m,u)||Dl(y,u)||(i=e[0])&&he(i,u)||he(x,u)||he(Gr,u)||he(t.config.globalProperties,u)},defineProperty(m,y,l){return l.get!=null?m._.accessCache[y]=0:he(l,"value")&&this.set(m,y,l.value,null),Reflect.defineProperty(m,y,l)}},f0=de({},jl,{get(m,y){if(y!==Symbol.unscopables)return jl.get(m,y,m)},has(m,y){return y[0]!=="_"&&!Mm(y)}});let kl=!0;function d0(m){const y=Jh(m),l=m.proxy,x=m.ctx;kl=!1,y.beforeCreate&&wf(y.beforeCreate,m,"bc");const{data:t,computed:e,methods:u,watch:i,provide:r,inject:a,created:n,beforeMount:s,mounted:f,beforeUpdate:o,updated:h,activated:d,deactivated:v,beforeDestroy:c,beforeUnmount:p,destroyed:g,unmounted:T,render:E,renderTracked:S,renderTriggered:C,errorCaptured:P,serverPrefetch:A,expose:R,inheritAttrs:M,components:L,directives:F,filters:I}=y;if(a&&c0(a,x,null,m.appContext.config.unwrapInjectedRef),u)for(const W in u){const $=u[W];Jt($)&&(x[W]=$.bind(l))}if(t){const W=t.call(l,l);Ee(W)&&(m.data=pr(W))}if(kl=!0,e)for(const W in e){const $=e[W],Z=Jt($)?$.bind(l,l):Jt($.get)?$.get.bind(l,l):li,D=!Jt($)&&Jt($.set)?$.set.bind(l):li,O=Li({get:Z,set:D});Object.defineProperty(x,W,{enumerable:!0,configurable:!0,get:()=>O.value,set:N=>O.value=N})}if(i)for(const W in i)Yc(i[W],x,l,W);if(r){const W=Jt(r)?r.call(l):r;Reflect.ownKeys(W).forEach($=>{wr($,W[$])})}n&&wf(n,m,"c");function b(W,$){Nt($)?$.forEach(Z=>W(Z.bind(l))):$&&W($.bind(l))}if(b(Fc,s),b(ua,f),b(Ic,o),b(Xo,h),b(Rc,d),b(Lc,v),b(wc,P),b(Nc,S),b(Bc,C),b(Ho,p),b($o,T),b(Dc,A),Nt(R))if(R.length){const W=m.exposed||(m.exposed={});R.forEach($=>{Object.defineProperty(W,$,{get:()=>l[$],set:Z=>l[$]=Z})})}else m.exposed||(m.exposed={});E&&m.render===li&&(m.render=E),M!=null&&(m.inheritAttrs=M),L&&(m.components=L),F&&(m.directives=F)}function c0(m,y,l=li,x=!1){Nt(m)&&(m=ql(m));for(const t in m){const e=m[t];let u;Ee(e)?"default"in e?u=ji(e.from||t,e.default,!0):u=ji(e.from||t):u=ji(e),Je(u)&&x?Object.defineProperty(y,t,{enumerable:!0,configurable:!0,get:()=>u.value,set:i=>u.value=i}):y[t]=u}}function wf(m,y,l){Fi(Nt(m)?m.map(x=>x.bind(y.proxy)):m.bind(y.proxy),y,l)}function Yc(m,y,l,x){const t=x.includes(".")?Ac(l,x):()=>l[x];if(_t(m)){const e=y[m];Jt(e)&&tr(t,e)}else if(Jt(m))tr(t,m.bind(l));else if(Ee(m))if(Nt(m))m.forEach(e=>Yc(e,y,l,x));else{const e=Jt(m.handler)?m.handler.bind(l):y[m.handler];Jt(e)&&tr(t,e,m)}}function Jh(m){const y=m.type,{mixins:l,extends:x}=y,{mixins:t,optionsCache:e,config:{optionMergeStrategies:u}}=m.appContext,i=e.get(y);let r;return i?r=i:!t.length&&!l&&!x?r=y:(r={},t.length&&t.forEach(a=>co(r,a,u,!0)),co(r,y,u)),Ee(y)&&e.set(y,r),r}function co(m,y,l,x=!1){const{mixins:t,extends:e}=y;e&&co(m,e,l,!0),t&&t.forEach(u=>co(m,u,l,!0));for(const u in y)if(!(x&&u==="expose")){const i=v0[u]||l&&l[u];m[u]=i?i(m[u],y[u]):y[u]}return m}const v0={data:Gf,props:us,emits:us,methods:us,computed:us,beforeCreate:oi,created:oi,beforeMount:oi,mounted:oi,beforeUpdate:oi,updated:oi,beforeDestroy:oi,beforeUnmount:oi,destroyed:oi,unmounted:oi,activated:oi,deactivated:oi,errorCaptured:oi,serverPrefetch:oi,components:us,directives:us,watch:m0,provide:Gf,inject:p0};function Gf(m,y){return y?m?function(){return de(Jt(m)?m.call(this,this):m,Jt(y)?y.call(this,this):y)}:y:m}function p0(m,y){return us(ql(m),ql(y))}function ql(m){if(Nt(m)){const y={};for(let l=0;l<m.length;l++)y[m[l]]=m[l];return y}return m}function oi(m,y){return m?[...new Set([].concat(m,y))]:y}function us(m,y){return m?de(de(Object.create(null),m),y):y}function m0(m,y){if(!m)return y;if(!y)return m;const l=de(Object.create(null),m);for(const x in y)l[x]=oi(m[x],y[x]);return l}function g0(m,y,l,x=!1){const t={},e={};uo(e,Ko,1),m.propsDefaults=Object.create(null),bc(m,y,t,e);for(const u in m.propsOptions[0])u in t||(t[u]=void 0);l?m.props=x?t:dc(t):m.type.props?m.props=t:m.props=e,m.attrs=e}function x0(m,y,l,x){const{props:t,attrs:e,vnode:{patchFlag:u}}=m,i=ue(t),[r]=m.propsOptions;let a=!1;if((x||u>0)&&!(u&16)){if(u&8){const n=m.vnode.dynamicProps;for(let s=0;s<n.length;s++){let f=n[s];if(Yo(m.emitsOptions,f))continue;const o=y[f];if(r)if(he(e,f))o!==e[f]&&(e[f]=o,a=!0);else{const h=_e(f);t[h]=_l(r,i,h,o,m,!1)}else o!==e[f]&&(e[f]=o,a=!0)}}}else{bc(m,y,t,e)&&(a=!0);let n;for(const s in i)(!y||!he(y,s)&&((n=Ri(s))===s||!he(y,n)))&&(r?l&&(l[s]!==void 0||l[n]!==void 0)&&(t[s]=_l(r,i,s,void 0,m,!0)):delete t[s]);if(e!==i)for(const s in e)(!y||!he(y,s))&&(delete e[s],a=!0)}a&&Mn(m,"set","$attrs")}function bc(m,y,l,x){const[t,e]=m.propsOptions;let u=!1,i;if(y)for(let r in y){if(ms(r))continue;const a=y[r];let n;t&&he(t,n=_e(r))?!e||!e.includes(n)?l[n]=a:(i||(i={}))[n]=a:Yo(m.emitsOptions,r)||(!(r in x)||a!==x[r])&&(x[r]=a,u=!0)}if(e){const r=ue(l),a=i||xe;for(let n=0;n<e.length;n++){const s=e[n];l[s]=_l(t,r,s,a[s],m,!he(a,s))}}return u}function _l(m,y,l,x,t,e){const u=m[l];if(u!=null){const i=he(u,"default");if(i&&x===void 0){const r=u.default;if(u.type!==Function&&Jt(r)){const{propsDefaults:a}=t;l in a?x=a[l]:(qn(t),x=a[l]=r.call(null,y),Kn())}else x=r}u[0]&&(e&&!i?x=!1:u[1]&&(x===""||x===Ri(l))&&(x=!0))}return x}function zc(m,y,l=!1){const x=y.propsCache,t=x.get(m);if(t)return t;const e=m.props,u={},i=[];let r=!1;if(!Jt(m)){const n=s=>{r=!0;const[f,o]=zc(s,y,!0);de(u,f),o&&i.push(...o)};!l&&y.mixins.length&&y.mixins.forEach(n),m.extends&&n(m.extends),m.mixins&&m.mixins.forEach(n)}if(!e&&!r)return Ee(m)&&x.set(m,Js),Js;if(Nt(e))for(let n=0;n<e.length;n++){const s=_e(e[n]);Vf(s)&&(u[s]=xe)}else if(e)for(const n in e){const s=_e(n);if(Vf(s)){const f=e[n],o=u[s]=Nt(f)||Jt(f)?{type:f}:Object.assign({},f);if(o){const h=bf(Boolean,o.type),d=bf(String,o.type);o[0]=h>-1,o[1]=d<0||h<d,(h>-1||he(o,"default"))&&i.push(s)}}}const a=[u,i];return Ee(m)&&x.set(m,a),a}function Vf(m){return m[0]!=="$"}function Uf(m){const y=m&&m.toString().match(/^\s*function (\w+)/);return y?y[1]:m===null?"null":""}function Yf(m,y){return Uf(m)===Uf(y)}function bf(m,y){return Nt(y)?y.findIndex(l=>Yf(l,m)):Jt(y)&&Yf(y,m)?0:-1}const Wc=m=>m[0]==="_"||m==="$stable",Qh=m=>Nt(m)?m.map(Mi):[Mi(m)],y0=(m,y,l)=>{if(y._n)return y;const x=zh((...t)=>Qh(y(...t)),l);return x._c=!1,x},Xc=(m,y,l)=>{const x=m._ctx;for(const t in m){if(Wc(t))continue;const e=m[t];if(Jt(e))y[t]=y0(t,e,x);else if(e!=null){const u=Qh(e);y[t]=()=>u}}},Hc=(m,y)=>{const l=Qh(y);m.slots.default=()=>l},T0=(m,y)=>{if(m.vnode.shapeFlag&32){const l=y._;l?(m.slots=ue(y),uo(y,"_",l)):Xc(y,m.slots={})}else m.slots={},y&&Hc(m,y);uo(m.slots,Ko,1)},E0=(m,y,l)=>{const{vnode:x,slots:t}=m;let e=!0,u=xe;if(x.shapeFlag&32){const i=y._;i?l&&i===1?e=!1:(de(t,y),!l&&i===1&&delete t._):(e=!y.$stable,Xc(y,t)),u=y}else y&&(Hc(m,y),u={default:1});if(e)for(const i in t)!Wc(i)&&!(i in u)&&delete t[i]};function $c(){return{app:null,config:{isNativeTag:so,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let S0=0;function C0(m,y){return function(x,t=null){Jt(x)||(x=Object.assign({},x)),t!=null&&!Ee(t)&&(t=null);const e=$c(),u=new Set;let i=!1;const r=e.app={_uid:S0++,_component:x,_props:t,_container:null,_context:e,_instance:null,version:dv,get config(){return e.config},set config(a){},use(a,...n){return u.has(a)||(a&&Jt(a.install)?(u.add(a),a.install(r,...n)):Jt(a)&&(u.add(a),a(r,...n))),r},mixin(a){return e.mixins.includes(a)||e.mixins.push(a),r},component(a,n){return n?(e.components[a]=n,r):e.components[a]},directive(a,n){return n?(e.directives[a]=n,r):e.directives[a]},mount(a,n,s){if(!i){const f=Te(x,t);return f.appContext=e,n&&y?y(f,a):m(f,a,s),i=!0,r._container=a,a.__vue_app__=r,Zo(f.component)||f.component.proxy}},unmount(){i&&(m(null,r._container),delete r._container.__vue_app__)},provide(a,n){return e.provides[a]=n,r}};return r}}function vo(m,y,l,x,t=!1){if(Nt(m)){m.forEach((f,o)=>vo(f,y&&(Nt(y)?y[o]:y),l,x,t));return}if(Ts(x)&&!t)return;const e=x.shapeFlag&4?Zo(x.component)||x.component.proxy:x.el,u=t?null:e,{i,r}=m,a=y&&y.r,n=i.refs===xe?i.refs={}:i.refs,s=i.setupState;if(a!=null&&a!==r&&(_t(a)?(n[a]=null,he(s,a)&&(s[a]=null)):Je(a)&&(a.value=null)),Jt(r))Tn(r,i,12,[u,n]);else{const f=_t(r),o=Je(r);if(f||o){const h=()=>{if(m.f){const d=f?he(s,r)?s[r]:n[r]:r.value;t?Nt(d)&&Rh(d,e):Nt(d)?d.includes(e)||d.push(e):f?(n[r]=[e],he(s,r)&&(s[r]=n[r])):(r.value=[e],m.k&&(n[m.k]=r.value))}else f?(n[r]=u,he(s,r)&&(s[r]=u)):o&&(r.value=u,m.k&&(n[m.k]=u))};u?(h.id=-1,ke(h,l)):h()}}}let Nn=!1;const Qa=m=>/svg/.test(m.namespaceURI)&&m.tagName!=="foreignObject",ja=m=>m.nodeType===8;function P0(m){const{mt:y,p:l,o:{patchProp:x,createText:t,nextSibling:e,parentNode:u,remove:i,insert:r,createComment:a}}=m,n=(c,p)=>{if(!p.hasChildNodes()){l(null,c,p),fo(),p._vnode=c;return}Nn=!1,s(p.firstChild,c,null,null,null),fo(),p._vnode=c,Nn&&console.error("Hydration completed but contains mismatches.")},s=(c,p,g,T,E,S=!1)=>{const C=ja(c)&&c.data==="[",P=()=>d(c,p,g,T,E,C),{type:A,ref:R,shapeFlag:M,patchFlag:L}=p;let F=c.nodeType;p.el=c,L===-2&&(S=!1,p.dynamicChildren=null);let I=null;switch(A){case Ms:F!==3?p.children===""?(r(p.el=t(""),u(c),c),I=c):I=P():(c.data!==p.children&&(Nn=!0,c.data=p.children),I=e(c));break;case ri:F!==8||C?I=P():I=e(c);break;case Ss:if(C&&(c=e(c),F=c.nodeType),F===1||F===3){I=c;const B=!p.children.length;for(let b=0;b<p.staticCount;b++)B&&(p.children+=I.nodeType===1?I.outerHTML:I.data),b===p.staticCount-1&&(p.anchor=I),I=e(I);return C?e(I):I}else P();break;case Ve:C?I=h(c,p,g,T,E,S):I=P();break;default:if(M&1)F!==1||p.type.toLowerCase()!==c.tagName.toLowerCase()?I=P():I=f(c,p,g,T,E,S);else if(M&6){p.slotScopeIds=E;const B=u(c);if(y(p,B,null,g,T,Qa(B),S),I=C?v(c):e(c),I&&ja(I)&&I.data==="teleport end"&&(I=e(I)),Ts(p)){let b;C?(b=Te(Ve),b.anchor=I?I.previousSibling:B.lastChild):b=c.nodeType===3?Bs(""):Te("div"),b.el=c,p.component.subTree=b}}else M&64?F!==8?I=P():I=p.type.hydrate(c,p,g,T,E,S,m,o):M&128&&(I=p.type.hydrate(c,p,g,T,Qa(u(c)),E,S,m,s))}return R!=null&&vo(R,null,T,p),I},f=(c,p,g,T,E,S)=>{S=S||!!p.dynamicChildren;const{type:C,props:P,patchFlag:A,shapeFlag:R,dirs:M}=p,L=C==="input"&&M||C==="option";if(L||A!==-1){if(M&&sn(p,null,g,"created"),P)if(L||!S||A&48)for(const I in P)(L&&I.endsWith("value")||Os(I)&&!ms(I))&&x(c,I,null,P[I],!1,void 0,g);else P.onClick&&x(c,"onClick",null,P.onClick,!1,void 0,g);let F;if((F=P&&P.onVnodeBeforeMount)&&vi(F,g,p),M&&sn(p,null,g,"beforeMount"),((F=P&&P.onVnodeMounted)||M)&&Cc(()=>{F&&vi(F,g,p),M&&sn(p,null,g,"mounted")},T),R&16&&!(P&&(P.innerHTML||P.textContent))){let I=o(c.firstChild,p,c,g,T,E,S);for(;I;){Nn=!0;const B=I;I=I.nextSibling,i(B)}}else R&8&&c.textContent!==p.children&&(Nn=!0,c.textContent=p.children)}return c.nextSibling},o=(c,p,g,T,E,S,C)=>{C=C||!!p.dynamicChildren;const P=p.children,A=P.length;for(let R=0;R<A;R++){const M=C?P[R]:P[R]=Mi(P[R]);if(c)c=s(c,M,T,E,S,C);else{if(M.type===Ms&&!M.children)continue;Nn=!0,l(null,M,g,null,T,E,Qa(g),S)}}return c},h=(c,p,g,T,E,S)=>{const{slotScopeIds:C}=p;C&&(E=E?E.concat(C):C);const P=u(c),A=o(e(c),p,P,g,T,E,S);return A&&ja(A)&&A.data==="]"?e(p.anchor=A):(Nn=!0,r(p.anchor=a("]"),P,A),A)},d=(c,p,g,T,E,S)=>{if(Nn=!0,p.el=null,S){const A=v(c);for(;;){const R=e(c);if(R&&R!==A)i(R);else break}}const C=e(c),P=u(c);return i(c),l(null,p,P,C,g,T,Qa(P),E),C},v=c=>{let p=0;for(;c;)if(c=e(c),c&&ja(c)&&(c.data==="["&&p++,c.data==="]")){if(p===0)return e(c);p--}return c};return[n,s]}const ke=Cc;function Kc(m){return Jc(m)}function Zc(m){return Jc(m,P0)}function Jc(m,y){const l=Km();l.__VUE__=!0;const{insert:x,remove:t,patchProp:e,createElement:u,createText:i,createComment:r,setText:a,setElementText:n,parentNode:s,nextSibling:f,setScopeId:o=li,insertStaticContent:h}=m,d=(K,Q,tt,nt=null,ft=null,mt=null,pt=!1,at=null,Tt=!!Q.dynamicChildren)=>{if(K===Q)return;K&&!on(K,Q)&&(nt=H(K),N(K,ft,mt,!0),K=null),Q.patchFlag===-2&&(Tt=!1,Q.dynamicChildren=null);const{type:lt,ref:Et,shapeFlag:Ct}=Q;switch(lt){case Ms:v(K,Q,tt,nt);break;case ri:c(K,Q,tt,nt);break;case Ss:K==null&&p(Q,tt,nt,pt);break;case Ve:L(K,Q,tt,nt,ft,mt,pt,at,Tt);break;default:Ct&1?E(K,Q,tt,nt,ft,mt,pt,at,Tt):Ct&6?F(K,Q,tt,nt,ft,mt,pt,at,Tt):(Ct&64||Ct&128)&&lt.process(K,Q,tt,nt,ft,mt,pt,at,Tt,q)}Et!=null&&ft&&vo(Et,K&&K.ref,mt,Q||K,!Q)},v=(K,Q,tt,nt)=>{if(K==null)x(Q.el=i(Q.children),tt,nt);else{const ft=Q.el=K.el;Q.children!==K.children&&a(ft,Q.children)}},c=(K,Q,tt,nt)=>{K==null?x(Q.el=r(Q.children||""),tt,nt):Q.el=K.el},p=(K,Q,tt,nt)=>{[K.el,K.anchor]=h(K.children,Q,tt,nt,K.el,K.anchor)},g=({el:K,anchor:Q},tt,nt)=>{let ft;for(;K&&K!==Q;)ft=f(K),x(K,tt,nt),K=ft;x(Q,tt,nt)},T=({el:K,anchor:Q})=>{let tt;for(;K&&K!==Q;)tt=f(K),t(K),K=tt;t(Q)},E=(K,Q,tt,nt,ft,mt,pt,at,Tt)=>{pt=pt||Q.type==="svg",K==null?S(Q,tt,nt,ft,mt,pt,at,Tt):A(K,Q,ft,mt,pt,at,Tt)},S=(K,Q,tt,nt,ft,mt,pt,at)=>{let Tt,lt;const{type:Et,props:Ct,shapeFlag:Lt,transition:Pt,dirs:Mt}=K;if(Tt=K.el=u(K.type,mt,Ct&&Ct.is,Ct),Lt&8?n(Tt,K.children):Lt&16&&P(K.children,Tt,null,nt,ft,mt&&Et!=="foreignObject",pt,at),Mt&&sn(K,null,nt,"created"),Ct){for(const Dt in Ct)Dt!=="value"&&!ms(Dt)&&e(Tt,Dt,null,Ct[Dt],mt,K.children,nt,ft,z);"value"in Ct&&e(Tt,"value",null,Ct.value),(lt=Ct.onVnodeBeforeMount)&&vi(lt,nt,K)}C(Tt,K,K.scopeId,pt,nt),Mt&&sn(K,null,nt,"beforeMount");const wt=(!ft||ft&&!ft.pendingBranch)&&Pt&&!Pt.persisted;wt&&Pt.beforeEnter(Tt),x(Tt,Q,tt),((lt=Ct&&Ct.onVnodeMounted)||wt||Mt)&&ke(()=>{lt&&vi(lt,nt,K),wt&&Pt.enter(Tt),Mt&&sn(K,null,nt,"mounted")},ft)},C=(K,Q,tt,nt,ft)=>{if(tt&&o(K,tt),nt)for(let mt=0;mt<nt.length;mt++)o(K,nt[mt]);if(ft){let mt=ft.subTree;if(Q===mt){const pt=ft.vnode;C(K,pt,pt.scopeId,pt.slotScopeIds,ft.parent)}}},P=(K,Q,tt,nt,ft,mt,pt,at,Tt=0)=>{for(let lt=Tt;lt<K.length;lt++){const Et=K[lt]=at?zn(K[lt]):Mi(K[lt]);d(null,Et,Q,tt,nt,ft,mt,pt,at)}},A=(K,Q,tt,nt,ft,mt,pt)=>{const at=Q.el=K.el;let{patchFlag:Tt,dynamicChildren:lt,dirs:Et}=Q;Tt|=K.patchFlag&16;const Ct=K.props||xe,Lt=Q.props||xe;let Pt;tt&&ls(tt,!1),(Pt=Lt.onVnodeBeforeUpdate)&&vi(Pt,tt,Q,K),Et&&sn(Q,K,tt,"beforeUpdate"),tt&&ls(tt,!0);const Mt=ft&&Q.type!=="foreignObject";if(lt?R(K.dynamicChildren,lt,at,tt,nt,Mt,mt):pt||$(K,Q,at,null,tt,nt,Mt,mt,!1),Tt>0){if(Tt&16)M(at,Q,Ct,Lt,tt,nt,ft);else if(Tt&2&&Ct.class!==Lt.class&&e(at,"class",null,Lt.class,ft),Tt&4&&e(at,"style",Ct.style,Lt.style,ft),Tt&8){const wt=Q.dynamicProps;for(let Dt=0;Dt<wt.length;Dt++){const bt=wt[Dt],ie=Ct[bt],ae=Lt[bt];(ae!==ie||bt==="value")&&e(at,bt,ie,ae,ft,K.children,tt,nt,z)}}Tt&1&&K.children!==Q.children&&n(at,Q.children)}else!pt&&lt==null&&M(at,Q,Ct,Lt,tt,nt,ft);((Pt=Lt.onVnodeUpdated)||Et)&&ke(()=>{Pt&&vi(Pt,tt,Q,K),Et&&sn(Q,K,tt,"updated")},nt)},R=(K,Q,tt,nt,ft,mt,pt)=>{for(let at=0;at<Q.length;at++){const Tt=K[at],lt=Q[at],Et=Tt.el&&(Tt.type===Ve||!on(Tt,lt)||Tt.shapeFlag&70)?s(Tt.el):tt;d(Tt,lt,Et,null,nt,ft,mt,pt,!0)}},M=(K,Q,tt,nt,ft,mt,pt)=>{if(tt!==nt){if(tt!==xe)for(const at in tt)!ms(at)&&!(at in nt)&&e(K,at,tt[at],null,pt,Q.children,ft,mt,z);for(const at in nt){if(ms(at))continue;const Tt=nt[at],lt=tt[at];Tt!==lt&&at!=="value"&&e(K,at,lt,Tt,pt,Q.children,ft,mt,z)}"value"in nt&&e(K,"value",tt.value,nt.value)}},L=(K,Q,tt,nt,ft,mt,pt,at,Tt)=>{const lt=Q.el=K?K.el:i(""),Et=Q.anchor=K?K.anchor:i("");let{patchFlag:Ct,dynamicChildren:Lt,slotScopeIds:Pt}=Q;Pt&&(at=at?at.concat(Pt):Pt),K==null?(x(lt,tt,nt),x(Et,tt,nt),P(Q.children,tt,Et,ft,mt,pt,at,Tt)):Ct>0&&Ct&64&&Lt&&K.dynamicChildren?(R(K.dynamicChildren,Lt,tt,ft,mt,pt,at),(Q.key!=null||ft&&Q===ft.subTree)&&jh(K,Q,!0)):$(K,Q,tt,Et,ft,mt,pt,at,Tt)},F=(K,Q,tt,nt,ft,mt,pt,at,Tt)=>{Q.slotScopeIds=at,K==null?Q.shapeFlag&512?ft.ctx.activate(Q,tt,nt,pt,Tt):I(Q,tt,nt,ft,mt,pt,Tt):B(K,Q,Tt)},I=(K,Q,tt,nt,ft,mt,pt)=>{const at=K.component=iv(K,nt,ft);if(ha(K)&&(at.ctx.renderer=q),sv(at),at.asyncDep){if(ft&&ft.registerDep(at,b),!K.el){const Tt=at.subTree=Te(ri);c(null,Tt,Q,tt)}return}b(at,K,Q,tt,ft,mt,pt)},B=(K,Q,tt)=>{const nt=Q.component=K.component;if(Hg(K,Q,tt))if(nt.asyncDep&&!nt.asyncResolved){W(nt,Q,tt);return}else nt.next=Q,Vg(nt.update),nt.update();else Q.el=K.el,nt.vnode=Q},b=(K,Q,tt,nt,ft,mt,pt)=>{const at=()=>{if(K.isMounted){let{next:Et,bu:Ct,u:Lt,parent:Pt,vnode:Mt}=K,wt=Et,Dt;ls(K,!1),Et?(Et.el=Mt.el,W(K,Et,pt)):Et=Mt,Ct&&ks(Ct),(Dt=Et.props&&Et.props.onVnodeBeforeUpdate)&&vi(Dt,Pt,Et,Mt),ls(K,!0);const bt=ro(K),ie=K.subTree;K.subTree=bt,d(ie,bt,s(ie.el),H(ie),K,ft,mt),Et.el=bt.el,wt===null&&Wh(K,bt.el),Lt&&ke(Lt,ft),(Dt=Et.props&&Et.props.onVnodeUpdated)&&ke(()=>vi(Dt,Pt,Et,Mt),ft)}else{let Et;const{el:Ct,props:Lt}=Q,{bm:Pt,m:Mt,parent:wt}=K,Dt=Ts(Q);if(ls(K,!1),Pt&&ks(Pt),!Dt&&(Et=Lt&&Lt.onVnodeBeforeMount)&&vi(Et,wt,Q),ls(K,!0),Ct&&ot){const bt=()=>{K.subTree=ro(K),ot(Ct,K.subTree,K,ft,null)};Dt?Q.type.__asyncLoader().then(()=>!K.isUnmounted&&bt()):bt()}else{const bt=K.subTree=ro(K);d(null,bt,tt,nt,K,ft,mt),Q.el=bt.el}if(Mt&&ke(Mt,ft),!Dt&&(Et=Lt&&Lt.onVnodeMounted)){const bt=Q;ke(()=>vi(Et,wt,bt),ft)}(Q.shapeFlag&256||wt&&Ts(wt.vnode)&&wt.vnode.shapeFlag&256)&&K.a&&ke(K.a,ft),K.isMounted=!0,Q=tt=nt=null}},Tt=K.effect=new oa(at,()=>Uo(lt),K.scope),lt=K.update=()=>Tt.run();lt.id=K.uid,ls(K,!0),lt()},W=(K,Q,tt)=>{Q.component=K;const nt=K.vnode.props;K.vnode=Q,K.next=null,x0(K,Q.props,nt,tt),E0(K,Q.children,tt),cr(),Ff(),vr()},$=(K,Q,tt,nt,ft,mt,pt,at,Tt=!1)=>{const lt=K&&K.children,Et=K?K.shapeFlag:0,Ct=Q.children,{patchFlag:Lt,shapeFlag:Pt}=Q;if(Lt>0){if(Lt&128){D(lt,Ct,tt,nt,ft,mt,pt,at,Tt);return}else if(Lt&256){Z(lt,Ct,tt,nt,ft,mt,pt,at,Tt);return}}Pt&8?(Et&16&&z(lt,ft,mt),Ct!==lt&&n(tt,Ct)):Et&16?Pt&16?D(lt,Ct,tt,nt,ft,mt,pt,at,Tt):z(lt,ft,mt,!0):(Et&8&&n(tt,""),Pt&16&&P(Ct,tt,nt,ft,mt,pt,at,Tt))},Z=(K,Q,tt,nt,ft,mt,pt,at,Tt)=>{K=K||Js,Q=Q||Js;const lt=K.length,Et=Q.length,Ct=Math.min(lt,Et);let Lt;for(Lt=0;Lt<Ct;Lt++){const Pt=Q[Lt]=Tt?zn(Q[Lt]):Mi(Q[Lt]);d(K[Lt],Pt,tt,null,ft,mt,pt,at,Tt)}lt>Et?z(K,ft,mt,!0,!1,Ct):P(Q,tt,nt,ft,mt,pt,at,Tt,Ct)},D=(K,Q,tt,nt,ft,mt,pt,at,Tt)=>{let lt=0;const Et=Q.length;let Ct=K.length-1,Lt=Et-1;for(;lt<=Ct&&lt<=Lt;){const Pt=K[lt],Mt=Q[lt]=Tt?zn(Q[lt]):Mi(Q[lt]);if(on(Pt,Mt))d(Pt,Mt,tt,null,ft,mt,pt,at,Tt);else break;lt++}for(;lt<=Ct&&lt<=Lt;){const Pt=K[Ct],Mt=Q[Lt]=Tt?zn(Q[Lt]):Mi(Q[Lt]);if(on(Pt,Mt))d(Pt,Mt,tt,null,ft,mt,pt,at,Tt);else break;Ct--,Lt--}if(lt>Ct){if(lt<=Lt){const Pt=Lt+1,Mt=Pt<Et?Q[Pt].el:nt;for(;lt<=Lt;)d(null,Q[lt]=Tt?zn(Q[lt]):Mi(Q[lt]),tt,Mt,ft,mt,pt,at,Tt),lt++}}else if(lt>Lt)for(;lt<=Ct;)N(K[lt],ft,mt,!0),lt++;else{const Pt=lt,Mt=lt,wt=new Map;for(lt=Mt;lt<=Lt;lt++){const ve=Q[lt]=Tt?zn(Q[lt]):Mi(Q[lt]);ve.key!=null&&wt.set(ve.key,lt)}let Dt,bt=0;const ie=Lt-Mt+1;let ae=!1,Le=0;const Xt=new Array(ie);for(lt=0;lt<ie;lt++)Xt[lt]=0;for(lt=Pt;lt<=Ct;lt++){const ve=K[lt];if(bt>=ie){N(ve,ft,mt,!0);continue}let Ht;if(ve.key!=null)Ht=wt.get(ve.key);else for(Dt=Mt;Dt<=Lt;Dt++)if(Xt[Dt-Mt]===0&&on(ve,Q[Dt])){Ht=Dt;break}Ht===void 0?N(ve,ft,mt,!0):(Xt[Ht-Mt]=lt+1,Ht>=Le?Le=Ht:ae=!0,d(ve,Q[Ht],tt,null,ft,mt,pt,at,Tt),bt++)}const Me=ae?A0(Xt):Js;for(Dt=Me.length-1,lt=ie-1;lt>=0;lt--){const ve=Mt+lt,Ht=Q[ve],Oe=ve+1<Et?Q[ve+1].el:nt;Xt[lt]===0?d(null,Ht,tt,Oe,ft,mt,pt,at,Tt):ae&&(Dt<0||lt!==Me[Dt]?O(Ht,tt,Oe,2):Dt--)}}},O=(K,Q,tt,nt,ft=null)=>{const{el:mt,type:pt,transition:at,children:Tt,shapeFlag:lt}=K;if(lt&6){O(K.component.subTree,Q,tt,nt);return}if(lt&128){K.suspense.move(Q,tt,nt);return}if(lt&64){pt.move(K,Q,tt,q);return}if(pt===Ve){x(mt,Q,tt);for(let Ct=0;Ct<Tt.length;Ct++)O(Tt[Ct],Q,tt,nt);x(K.anchor,Q,tt);return}if(pt===Ss){g(K,Q,tt);return}if(nt!==2&&lt&1&&at)if(nt===0)at.beforeEnter(mt),x(mt,Q,tt),ke(()=>at.enter(mt),ft);else{const{leave:Ct,delayLeave:Lt,afterLeave:Pt}=at,Mt=()=>x(mt,Q,tt),wt=()=>{Ct(mt,()=>{Mt(),Pt&&Pt()})};Lt?Lt(mt,Mt,wt):wt()}else x(mt,Q,tt)},N=(K,Q,tt,nt=!1,ft=!1)=>{const{type:mt,props:pt,ref:at,children:Tt,dynamicChildren:lt,shapeFlag:Et,patchFlag:Ct,dirs:Lt}=K;if(at!=null&&vo(at,null,tt,K,!0),Et&256){Q.ctx.deactivate(K);return}const Pt=Et&1&&Lt,Mt=!Ts(K);let wt;if(Mt&&(wt=pt&&pt.onVnodeBeforeUnmount)&&vi(wt,Q,K),Et&6)V(K.component,tt,nt);else{if(Et&128){K.suspense.unmount(tt,nt);return}Pt&&sn(K,null,Q,"beforeUnmount"),Et&64?K.type.remove(K,Q,tt,ft,q,nt):lt&&(mt!==Ve||Ct>0&&Ct&64)?z(lt,Q,tt,!1,!0):(mt===Ve&&Ct&384||!ft&&Et&16)&&z(Tt,Q,tt),nt&&G(K)}(Mt&&(wt=pt&&pt.onVnodeUnmounted)||Pt)&&ke(()=>{wt&&vi(wt,Q,K),Pt&&sn(K,null,Q,"unmounted")},tt)},G=K=>{const{type:Q,el:tt,anchor:nt,transition:ft}=K;if(Q===Ve){Y(tt,nt);return}if(Q===Ss){T(K);return}const mt=()=>{t(tt),ft&&!ft.persisted&&ft.afterLeave&&ft.afterLeave()};if(K.shapeFlag&1&&ft&&!ft.persisted){const{leave:pt,delayLeave:at}=ft,Tt=()=>pt(tt,mt);at?at(K.el,mt,Tt):Tt()}else mt()},Y=(K,Q)=>{let tt;for(;K!==Q;)tt=f(K),t(K),K=tt;t(Q)},V=(K,Q,tt)=>{const{bum:nt,scope:ft,update:mt,subTree:pt,um:at}=K;nt&&ks(nt),ft.stop(),mt&&(mt.active=!1,N(pt,K,Q,tt)),at&&ke(at,Q),ke(()=>{K.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},z=(K,Q,tt,nt=!1,ft=!1,mt=0)=>{for(let pt=mt;pt<K.length;pt++)N(K[pt],Q,tt,nt,ft)},H=K=>K.shapeFlag&6?H(K.component.subTree):K.shapeFlag&128?K.suspense.next():f(K.anchor||K.el),j=(K,Q,tt)=>{K==null?Q._vnode&&N(Q._vnode,null,null,!0):d(Q._vnode||null,K,Q,null,null,null,tt),Ff(),fo(),Q._vnode=K},q={p:d,um:N,m:O,r:G,mt:I,mc:P,pc:$,pbc:R,n:H,o:m};let et,ot;return y&&([et,ot]=y(q)),{render:j,hydrate:et,createApp:C0(j,et)}}function ls({effect:m,update:y},l){m.allowRecurse=y.allowRecurse=l}function jh(m,y,l=!1){const x=m.children,t=y.children;if(Nt(x)&&Nt(t))for(let e=0;e<x.length;e++){const u=x[e];let i=t[e];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=t[e]=zn(t[e]),i.el=u.el),l||jh(u,i)),i.type===Ms&&(i.el=u.el)}}function A0(m){const y=m.slice(),l=[0];let x,t,e,u,i;const r=m.length;for(x=0;x<r;x++){const a=m[x];if(a!==0){if(t=l[l.length-1],m[t]<a){y[x]=t,l.push(x);continue}for(e=0,u=l.length-1;e<u;)i=e+u>>1,m[l[i]]<a?e=i+1:u=i;a<m[l[e]]&&(e>0&&(y[x]=l[e-1]),l[e]=x)}}for(e=l.length,u=l[e-1];e-- >0;)l[e]=u,u=y[u];return l}const M0=m=>m.__isTeleport,Vr=m=>m&&(m.disabled||m.disabled===""),zf=m=>typeof SVGElement<"u"&&m instanceof SVGElement,th=(m,y)=>{const l=m&&m.to;return _t(l)?y?y(l):null:l},R0={__isTeleport:!0,process(m,y,l,x,t,e,u,i,r,a){const{mc:n,pc:s,pbc:f,o:{insert:o,querySelector:h,createText:d,createComment:v}}=a,c=Vr(y.props);let{shapeFlag:p,children:g,dynamicChildren:T}=y;if(m==null){const E=y.el=d(""),S=y.anchor=d("");o(E,l,x),o(S,l,x);const C=y.target=th(y.props,h),P=y.targetAnchor=d("");C&&(o(P,C),u=u||zf(C));const A=(R,M)=>{p&16&&n(g,R,M,t,e,u,i,r)};c?A(l,S):C&&A(C,P)}else{y.el=m.el;const E=y.anchor=m.anchor,S=y.target=m.target,C=y.targetAnchor=m.targetAnchor,P=Vr(m.props),A=P?l:S,R=P?E:C;if(u=u||zf(S),T?(f(m.dynamicChildren,T,A,t,e,u,i),jh(m,y,!0)):r||s(m,y,A,R,t,e,u,i,!1),c)P||ka(y,l,E,a,1);else if((y.props&&y.props.to)!==(m.props&&m.props.to)){const M=y.target=th(y.props,h);M&&ka(y,M,null,a,0)}else P&&ka(y,S,C,a,1)}Qc(y)},remove(m,y,l,x,{um:t,o:{remove:e}},u){const{shapeFlag:i,children:r,anchor:a,targetAnchor:n,target:s,props:f}=m;if(s&&e(n),(u||!Vr(f))&&(e(a),i&16))for(let o=0;o<r.length;o++){const h=r[o];t(h,y,l,!0,!!h.dynamicChildren)}},move:ka,hydrate:L0};function ka(m,y,l,{o:{insert:x},m:t},e=2){e===0&&x(m.targetAnchor,y,l);const{el:u,anchor:i,shapeFlag:r,children:a,props:n}=m,s=e===2;if(s&&x(u,y,l),(!s||Vr(n))&&r&16)for(let f=0;f<a.length;f++)t(a[f],y,l,2);s&&x(i,y,l)}function L0(m,y,l,x,t,e,{o:{nextSibling:u,parentNode:i,querySelector:r}},a){const n=y.target=th(y.props,r);if(n){const s=n._lpa||n.firstChild;if(y.shapeFlag&16)if(Vr(y.props))y.anchor=a(u(m),y,i(m),l,x,t,e),y.targetAnchor=s;else{y.anchor=u(m);let f=s;for(;f;)if(f=u(f),f&&f.nodeType===8&&f.data==="teleport anchor"){y.targetAnchor=f,n._lpa=y.targetAnchor&&u(y.targetAnchor);break}a(s,y,n,l,x,t,e)}Qc(y)}return y.anchor&&u(y.anchor)}const O0=R0;function Qc(m){const y=m.ctx;if(y&&y.ut){let l=m.children[0].el;for(;l!==m.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",y.uid),l=l.nextSibling;y.ut()}}const Ve=Symbol(void 0),Ms=Symbol(void 0),ri=Symbol(void 0),Ss=Symbol(void 0),Ur=[];let pi=null;function Se(m=!1){Ur.push(pi=m?null:[])}function jc(){Ur.pop(),pi=Ur[Ur.length-1]||null}let Rs=1;function eh(m){Rs+=m}function kc(m){return m.dynamicChildren=Rs>0?pi||Js:null,jc(),Rs>0&&pi&&pi.push(m),m}function ze(m,y,l,x,t,e){return kc(ht(m,y,l,x,t,e,!0))}function jn(m,y,l,x,t){return kc(Te(m,y,l,x,t,!0))}function kn(m){return m?m.__v_isVNode===!0:!1}function on(m,y){return m.type===y.type&&m.key===y.key}function F0(m){}const Ko="__vInternal",qc=({key:m})=>m??null,ao=({ref:m,ref_key:y,ref_for:l})=>m!=null?_t(m)||Je(m)||Jt(m)?{i:qe,r:m,k:y,f:!!l}:m:null;function ht(m,y=null,l=null,x=0,t=null,e=m===Ve?0:1,u=!1,i=!1){const r={__v_isVNode:!0,__v_skip:!0,type:m,props:y,key:y&&qc(y),ref:y&&ao(y),scopeId:bo,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:e,patchFlag:x,dynamicProps:t,dynamicChildren:null,appContext:null,ctx:qe};return i?(kh(r,l),e&128&&m.normalize(r)):l&&(r.shapeFlag|=_t(l)?8:16),Rs>0&&!u&&pi&&(r.patchFlag>0||e&6)&&r.patchFlag!==32&&pi.push(r),r}const Te=I0;function I0(m,y=null,l=null,x=0,t=null,e=!1){if((!m||m===Gc)&&(m=ri),kn(m)){const i=ln(m,y,!0);return l&&kh(i,l),Rs>0&&!e&&pi&&(i.shapeFlag&6?pi[pi.indexOf(m)]=i:pi.push(i)),i.patchFlag|=-2,i}if(V0(m)&&(m=m.__vccOpts),y){y=_c(y);let{class:i,style:r}=y;i&&!_t(i)&&(y.class=Pn(i)),Ee(r)&&(Nh(r)&&!Nt(r)&&(r=de({},r)),y.style=Cn(r))}const u=_t(m)?1:Sc(m)?128:M0(m)?64:Ee(m)?4:Jt(m)?2:0;return ht(m,y,l,x,t,u,e,!0)}function _c(m){return m?Nh(m)||Ko in m?de({},m):m:null}function ln(m,y,l=!1){const{props:x,ref:t,patchFlag:e,children:u}=m,i=y?ev(x||{},y):x;return{__v_isVNode:!0,__v_skip:!0,type:m.type,props:i,key:i&&qc(i),ref:y&&y.ref?l&&t?Nt(t)?t.concat(ao(y)):[t,ao(y)]:ao(y):t,scopeId:m.scopeId,slotScopeIds:m.slotScopeIds,children:u,target:m.target,targetAnchor:m.targetAnchor,staticCount:m.staticCount,shapeFlag:m.shapeFlag,patchFlag:y&&m.type!==Ve?e===-1?16:e|16:e,dynamicProps:m.dynamicProps,dynamicChildren:m.dynamicChildren,appContext:m.appContext,dirs:m.dirs,transition:m.transition,component:m.component,suspense:m.suspense,ssContent:m.ssContent&&ln(m.ssContent),ssFallback:m.ssFallback&&ln(m.ssFallback),el:m.el,anchor:m.anchor,ctx:m.ctx}}function Bs(m=" ",y=0){return Te(Ms,null,m,y)}function tv(m,y){const l=Te(Ss,null,m);return l.staticCount=y,l}function Xn(m="",y=!1){return y?(Se(),jn(ri,null,m)):Te(ri,null,m)}function Mi(m){return m==null||typeof m=="boolean"?Te(ri):Nt(m)?Te(Ve,null,m.slice()):typeof m=="object"?zn(m):Te(Ms,null,String(m))}function zn(m){return m.el===null&&m.patchFlag!==-1||m.memo?m:ln(m)}function kh(m,y){let l=0;const{shapeFlag:x}=m;if(y==null)y=null;else if(Nt(y))l=16;else if(typeof y=="object")if(x&65){const t=y.default;t&&(t._c&&(t._d=!1),kh(m,t()),t._c&&(t._d=!0));return}else{l=32;const t=y._;!t&&!(Ko in y)?y._ctx=qe:t===3&&qe&&(qe.slots._===1?y._=1:(y._=2,m.patchFlag|=1024))}else Jt(y)?(y={default:y,_ctx:qe},l=32):(y=String(y),x&64?(l=16,y=[Bs(y)]):l=8);m.children=y,m.shapeFlag|=l}function ev(...m){const y={};for(let l=0;l<m.length;l++){const x=m[l];for(const t in x)if(t==="class")y.class!==x.class&&(y.class=Pn([y.class,x.class]));else if(t==="style")y.style=Cn([y.style,x.style]);else if(Os(t)){const e=y[t],u=x[t];u&&e!==u&&!(Nt(e)&&e.includes(u))&&(y[t]=e?[].concat(e,u):u)}else t!==""&&(y[t]=x[t])}return y}function vi(m,y,l,x=null){Fi(m,y,7,[l,x])}const D0=$c();let B0=0;function iv(m,y,l){const x=m.type,t=(y?y.appContext:m.appContext)||D0,e={uid:B0++,vnode:m,type:x,parent:y,appContext:t,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:y?y.provides:Object.create(t.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zc(x,t),emitsOptions:Ec(x,t),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:x.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return e.ctx={_:e},e.root=y?y.root:e,e.emit=Yg.bind(null,e),m.ce&&m.ce(e),e}let We=null;const ts=()=>We||qe,qn=m=>{We=m,m.scope.on()},Kn=()=>{We&&We.scope.off(),We=null};function nv(m){return m.vnode.shapeFlag&4}let sr=!1;function sv(m,y=!1){sr=y;const{props:l,children:x}=m.vnode,t=nv(m);g0(m,l,t,y),T0(m,x);const e=t?N0(m,y):void 0;return sr=!1,e}function N0(m,y){const l=m.type;m.accessCache=Object.create(null),m.proxy=wh(new Proxy(m.ctx,jl));const{setup:x}=l;if(x){const t=m.setupContext=x.length>1?ov(m):null;qn(m),cr();const e=Tn(x,m,0,[m.props,t]);if(vr(),Kn(),Lh(e)){if(e.then(Kn,Kn),y)return e.then(u=>{ih(m,u,y)}).catch(u=>{Ds(u,m,0)});m.asyncDep=e}else ih(m,e,y)}else av(m,y)}function ih(m,y,l){Jt(y)?m.type.__ssrInlineRender?m.ssrRender=y:m.render=y:Ee(y)&&(m.setupState=Uh(y)),av(m,l)}let po,nh;function rv(m){po=m,nh=y=>{y.render._rc&&(y.withProxy=new Proxy(y.ctx,f0))}}const w0=()=>!po;function av(m,y,l){const x=m.type;if(!m.render){if(!y&&po&&!x.render){const t=x.template||Jh(m).template;if(t){const{isCustomElement:e,compilerOptions:u}=m.appContext.config,{delimiters:i,compilerOptions:r}=x,a=de(de({isCustomElement:e,delimiters:i},u),r);x.render=po(t,a)}}m.render=x.render||li,nh&&nh(m)}qn(m),cr(),d0(m),vr(),Kn()}function G0(m){return new Proxy(m.attrs,{get(y,l){return Di(m,"get","$attrs"),y[l]}})}function ov(m){const y=x=>{m.exposed=x||{}};let l;return{get attrs(){return l||(l=G0(m))},slots:m.slots,emit:m.emit,expose:y}}function Zo(m){if(m.exposed)return m.exposeProxy||(m.exposeProxy=new Proxy(Uh(wh(m.exposed)),{get(y,l){if(l in y)return y[l];if(l in Gr)return Gr[l](m)},has(y,l){return l in y||l in Gr}}))}function sh(m,y=!0){return Jt(m)?m.displayName||m.name:m.name||y&&m.__name}function V0(m){return Jt(m)&&"__vccOpts"in m}const Li=(m,y)=>Bg(m,y,sr);function U0(){return null}function Y0(){return null}function b0(m){}function z0(m,y){return null}function W0(){return lv().slots}function X0(){return lv().attrs}function lv(){const m=ts();return m.setupContext||(m.setupContext=ov(m))}function H0(m,y){const l=Nt(m)?m.reduce((x,t)=>(x[t]={},x),{}):m;for(const x in y){const t=l[x];t?Nt(t)||Jt(t)?l[x]={type:t,default:y[x]}:t.default=y[x]:t===null&&(l[x]={default:y[x]})}return l}function $0(m,y){const l={};for(const x in m)y.includes(x)||Object.defineProperty(l,x,{enumerable:!0,get:()=>m[x]});return l}function K0(m){const y=ts();let l=m();return Kn(),Lh(l)&&(l=l.catch(x=>{throw qn(y),x})),[l,()=>qn(y)]}function Jo(m,y,l){const x=arguments.length;return x===2?Ee(y)&&!Nt(y)?kn(y)?Te(m,null,[y]):Te(m,y):Te(m,null,y):(x>3?l=Array.prototype.slice.call(arguments,2):x===3&&kn(l)&&(l=[l]),Te(m,y,l))}const hv=Symbol(""),uv=()=>ji(hv);function Z0(){}function J0(m,y,l,x){const t=l[x];if(t&&fv(t,m))return t;const e=y();return e.memo=m.slice(),l[x]=e}function fv(m,y){const l=m.memo;if(l.length!=y.length)return!1;for(let x=0;x<l.length;x++)if(ir(l[x],y[x]))return!1;return Rs>0&&pi&&pi.push(m),!0}const dv="3.2.45",Q0={createComponentInstance:iv,setupComponent:sv,renderComponentRoot:ro,setCurrentRenderingInstance:kr,isVNode:kn,normalizeVNode:Mi},j0=Q0,k0=null,q0=null,_0="http://www.w3.org/2000/svg",ds=typeof document<"u"?document:null,Wf=ds&&ds.createElement("template"),tx={insert:(m,y,l)=>{y.insertBefore(m,l||null)},remove:m=>{const y=m.parentNode;y&&y.removeChild(m)},createElement:(m,y,l,x)=>{const t=y?ds.createElementNS(_0,m):ds.createElement(m,l?{is:l}:void 0);return m==="select"&&x&&x.multiple!=null&&t.setAttribute("multiple",x.multiple),t},createText:m=>ds.createTextNode(m),createComment:m=>ds.createComment(m),setText:(m,y)=>{m.nodeValue=y},setElementText:(m,y)=>{m.textContent=y},parentNode:m=>m.parentNode,nextSibling:m=>m.nextSibling,querySelector:m=>ds.querySelector(m),setScopeId(m,y){m.setAttribute(y,"")},insertStaticContent(m,y,l,x,t,e){const u=l?l.previousSibling:y.lastChild;if(t&&(t===e||t.nextSibling))for(;y.insertBefore(t.cloneNode(!0),l),!(t===e||!(t=t.nextSibling)););else{Wf.innerHTML=x?`<svg>${m}</svg>`:m;const i=Wf.content;if(x){const r=i.firstChild;for(;r.firstChild;)i.appendChild(r.firstChild);i.removeChild(r)}y.insertBefore(i,l)}return[u?u.nextSibling:y.firstChild,l?l.previousSibling:y.lastChild]}};function ex(m,y,l){const x=m._vtc;x&&(y=(y?[y,...x]:[...x]).join(" ")),y==null?m.removeAttribute("class"):l?m.setAttribute("class",y):m.className=y}function ix(m,y,l){const x=m.style,t=_t(l);if(l&&!t){for(const e in l)rh(x,e,l[e]);if(y&&!_t(y))for(const e in y)l[e]==null&&rh(x,e,"")}else{const e=x.display;t?y!==l&&(x.cssText=l):y&&m.removeAttribute("style"),"_vod"in m&&(x.display=e)}}const Xf=/\s*!important$/;function rh(m,y,l){if(Nt(l))l.forEach(x=>rh(m,y,x));else if(l==null&&(l=""),y.startsWith("--"))m.setProperty(y,l);else{const x=nx(m,y);Xf.test(l)?m.setProperty(Ri(x),l.replace(Xf,""),"important"):m[x]=l}}const Hf=["Webkit","Moz","ms"],Bl={};function nx(m,y){const l=Bl[y];if(l)return l;let x=_e(y);if(x!=="filter"&&x in m)return Bl[y]=x;x=Is(x);for(let t=0;t<Hf.length;t++){const e=Hf[t]+x;if(e in m)return Bl[y]=e}return y}const $f="http://www.w3.org/1999/xlink";function sx(m,y,l,x,t){if(x&&y.startsWith("xlink:"))l==null?m.removeAttributeNS($f,y.slice(6,y.length)):m.setAttributeNS($f,y,l);else{const e=Um(y);l==null||e&&!Qd(l)?m.removeAttribute(y):m.setAttribute(y,e?"":l)}}function rx(m,y,l,x,t,e,u){if(y==="innerHTML"||y==="textContent"){x&&u(x,t,e),m[y]=l??"";return}if(y==="value"&&m.tagName!=="PROGRESS"&&!m.tagName.includes("-")){m._value=l;const r=l??"";(m.value!==r||m.tagName==="OPTION")&&(m.value=r),l==null&&m.removeAttribute(y);return}let i=!1;if(l===""||l==null){const r=typeof m[y];r==="boolean"?l=Qd(l):l==null&&r==="string"?(l="",i=!0):r==="number"&&(l=0,i=!0)}try{m[y]=l}catch{}i&&m.removeAttribute(y)}function xn(m,y,l,x){m.addEventListener(y,l,x)}function ax(m,y,l,x){m.removeEventListener(y,l,x)}function ox(m,y,l,x,t=null){const e=m._vei||(m._vei={}),u=e[y];if(x&&u)u.value=x;else{const[i,r]=lx(y);if(x){const a=e[y]=fx(x,t);xn(m,i,a,r)}else u&&(ax(m,i,u,r),e[y]=void 0)}}const Kf=/(?:Once|Passive|Capture)$/;function lx(m){let y;if(Kf.test(m)){y={};let x;for(;x=m.match(Kf);)m=m.slice(0,m.length-x[0].length),y[x[0].toLowerCase()]=!0}return[m[2]===":"?m.slice(3):Ri(m.slice(2)),y]}let Nl=0;const hx=Promise.resolve(),ux=()=>Nl||(hx.then(()=>Nl=0),Nl=Date.now());function fx(m,y){const l=x=>{if(!x._vts)x._vts=Date.now();else if(x._vts<=l.attached)return;Fi(dx(x,l.value),y,5,[x])};return l.value=m,l.attached=ux(),l}function dx(m,y){if(Nt(y)){const l=m.stopImmediatePropagation;return m.stopImmediatePropagation=()=>{l.call(m),m._stopped=!0},y.map(x=>t=>!t._stopped&&x&&x(t))}else return y}const Zf=/^on[a-z]/,cx=(m,y,l,x,t=!1,e,u,i,r)=>{y==="class"?ex(m,x,t):y==="style"?ix(m,l,x):Os(y)?Mh(y)||ox(m,y,l,x,u):(y[0]==="."?(y=y.slice(1),!0):y[0]==="^"?(y=y.slice(1),!1):vx(m,y,x,t))?rx(m,y,x,e,u,i,r):(y==="true-value"?m._trueValue=x:y==="false-value"&&(m._falseValue=x),sx(m,y,x,t))};function vx(m,y,l,x){return x?!!(y==="innerHTML"||y==="textContent"||y in m&&Zf.test(y)&&Jt(l)):y==="spellcheck"||y==="draggable"||y==="translate"||y==="form"||y==="list"&&m.tagName==="INPUT"||y==="type"&&m.tagName==="TEXTAREA"||Zf.test(y)&&_t(l)?!1:y in m}function cv(m,y){const l=hi(m);class x extends Qo{constructor(e){super(l,e,y)}}return x.def=l,x}const px=m=>cv(m,Lv),mx=typeof HTMLElement<"u"?HTMLElement:class{};class Qo extends mx{constructor(y,l={},x){super(),this._def=y,this._props=l,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&x?x(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Vo(()=>{this._connected||(lh(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let x=0;x<this.attributes.length;x++)this._setAttr(this.attributes[x].name);new MutationObserver(x=>{for(const t of x)this._setAttr(t.attributeName)}).observe(this,{attributes:!0});const y=(x,t=!1)=>{const{props:e,styles:u}=x;let i;if(e&&!Nt(e))for(const r in e){const a=e[r];(a===Number||a&&a.type===Number)&&(r in this._props&&(this._props[r]=An(this._props[r])),(i||(i=Object.create(null)))[_e(r)]=!0)}this._numberProps=i,t&&this._resolveProps(x),this._applyStyles(u),this._update()},l=this._def.__asyncLoader;l?l().then(x=>y(x,!0)):y(this._def)}_resolveProps(y){const{props:l}=y,x=Nt(l)?l:Object.keys(l||{});for(const t of Object.keys(this))t[0]!=="_"&&x.includes(t)&&this._setProp(t,this[t],!0,!1);for(const t of x.map(_e))Object.defineProperty(this,t,{get(){return this._getProp(t)},set(e){this._setProp(t,e)}})}_setAttr(y){let l=this.getAttribute(y);const x=_e(y);this._numberProps&&this._numberProps[x]&&(l=An(l)),this._setProp(x,l,!1)}_getProp(y){return this._props[y]}_setProp(y,l,x=!0,t=!0){l!==this._props[y]&&(this._props[y]=l,t&&this._instance&&this._update(),x&&(l===!0?this.setAttribute(Ri(y),""):typeof l=="string"||typeof l=="number"?this.setAttribute(Ri(y),l+""):l||this.removeAttribute(Ri(y))))}_update(){lh(this._createVNode(),this.shadowRoot)}_createVNode(){const y=Te(this._def,de({},this._props));return this._instance||(y.ce=l=>{this._instance=l,l.isCE=!0;const x=(e,u)=>{this.dispatchEvent(new CustomEvent(e,{detail:u}))};l.emit=(e,...u)=>{x(e,u),Ri(e)!==e&&x(Ri(e),u)};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Qo){l.parent=t._instance,l.provides=t._instance.provides;break}}),y}_applyStyles(y){y&&y.forEach(l=>{const x=document.createElement("style");x.textContent=l,this.shadowRoot.appendChild(x)})}}function gx(m="$style"){{const y=ts();if(!y)return xe;const l=y.type.__cssModules;if(!l)return xe;const x=l[m];return x||xe}}function xx(m){const y=ts();if(!y)return;const l=y.ut=(t=m(y.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${y.uid}"]`)).forEach(e=>oh(e,t))},x=()=>{const t=m(y.proxy);ah(y.subTree,t),l(t)};Pc(x),ua(()=>{const t=new MutationObserver(x);t.observe(y.subTree.el.parentNode,{childList:!0}),$o(()=>t.disconnect())})}function ah(m,y){if(m.shapeFlag&128){const l=m.suspense;m=l.activeBranch,l.pendingBranch&&!l.isHydrating&&l.effects.push(()=>{ah(l.activeBranch,y)})}for(;m.component;)m=m.component.subTree;if(m.shapeFlag&1&&m.el)oh(m.el,y);else if(m.type===Ve)m.children.forEach(l=>ah(l,y));else if(m.type===Ss){let{el:l,anchor:x}=m;for(;l&&(oh(l,y),l!==x);)l=l.nextSibling}}function oh(m,y){if(m.nodeType===1){const l=m.style;for(const x in y)l.setProperty(`--${x}`,y[x])}}const wn="transition",Mr="animation",qh=(m,{slots:y})=>Jo($h,pv(m),y);qh.displayName="Transition";const vv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yx=qh.props=de({},$h.props,vv),hs=(m,y=[])=>{Nt(m)?m.forEach(l=>l(...y)):m&&m(...y)},Jf=m=>m?Nt(m)?m.some(y=>y.length>1):m.length>1:!1;function pv(m){const y={};for(const L in m)L in vv||(y[L]=m[L]);if(m.css===!1)return y;const{name:l="v",type:x,duration:t,enterFromClass:e=`${l}-enter-from`,enterActiveClass:u=`${l}-enter-active`,enterToClass:i=`${l}-enter-to`,appearFromClass:r=e,appearActiveClass:a=u,appearToClass:n=i,leaveFromClass:s=`${l}-leave-from`,leaveActiveClass:f=`${l}-leave-active`,leaveToClass:o=`${l}-leave-to`}=m,h=Tx(t),d=h&&h[0],v=h&&h[1],{onBeforeEnter:c,onEnter:p,onEnterCancelled:g,onLeave:T,onLeaveCancelled:E,onBeforeAppear:S=c,onAppear:C=p,onAppearCancelled:P=g}=y,A=(L,F,I)=>{bn(L,F?n:i),bn(L,F?a:u),I&&I()},R=(L,F)=>{L._isLeaving=!1,bn(L,s),bn(L,o),bn(L,f),F&&F()},M=L=>(F,I)=>{const B=L?C:p,b=()=>A(F,L,I);hs(B,[F,b]),Qf(()=>{bn(F,L?r:e),pn(F,L?n:i),Jf(B)||jf(F,x,d,b)})};return de(y,{onBeforeEnter(L){hs(c,[L]),pn(L,e),pn(L,u)},onBeforeAppear(L){hs(S,[L]),pn(L,r),pn(L,a)},onEnter:M(!1),onAppear:M(!0),onLeave(L,F){L._isLeaving=!0;const I=()=>R(L,F);pn(L,s),gv(),pn(L,f),Qf(()=>{L._isLeaving&&(bn(L,s),pn(L,o),Jf(T)||jf(L,x,v,I))}),hs(T,[L,I])},onEnterCancelled(L){A(L,!1),hs(g,[L])},onAppearCancelled(L){A(L,!0),hs(P,[L])},onLeaveCancelled(L){R(L),hs(E,[L])}})}function Tx(m){if(m==null)return null;if(Ee(m))return[wl(m.enter),wl(m.leave)];{const y=wl(m);return[y,y]}}function wl(m){return An(m)}function pn(m,y){y.split(/\s+/).forEach(l=>l&&m.classList.add(l)),(m._vtc||(m._vtc=new Set)).add(y)}function bn(m,y){y.split(/\s+/).forEach(x=>x&&m.classList.remove(x));const{_vtc:l}=m;l&&(l.delete(y),l.size||(m._vtc=void 0))}function Qf(m){requestAnimationFrame(()=>{requestAnimationFrame(m)})}let Ex=0;function jf(m,y,l,x){const t=m._endId=++Ex,e=()=>{t===m._endId&&x()};if(l)return setTimeout(e,l);const{type:u,timeout:i,propCount:r}=mv(m,y);if(!u)return x();const a=u+"end";let n=0;const s=()=>{m.removeEventListener(a,f),e()},f=o=>{o.target===m&&++n>=r&&s()};setTimeout(()=>{n<r&&s()},i+1),m.addEventListener(a,f)}function mv(m,y){const l=window.getComputedStyle(m),x=h=>(l[h]||"").split(", "),t=x(`${wn}Delay`),e=x(`${wn}Duration`),u=kf(t,e),i=x(`${Mr}Delay`),r=x(`${Mr}Duration`),a=kf(i,r);let n=null,s=0,f=0;y===wn?u>0&&(n=wn,s=u,f=e.length):y===Mr?a>0&&(n=Mr,s=a,f=r.length):(s=Math.max(u,a),n=s>0?u>a?wn:Mr:null,f=n?n===wn?e.length:r.length:0);const o=n===wn&&/\b(transform|all)(,|$)/.test(x(`${wn}Property`).toString());return{type:n,timeout:s,propCount:f,hasTransform:o}}function kf(m,y){for(;m.length<y.length;)m=m.concat(m);return Math.max(...y.map((l,x)=>qf(l)+qf(m[x])))}function qf(m){return Number(m.slice(0,-1).replace(",","."))*1e3}function gv(){return document.body.offsetHeight}const xv=new WeakMap,yv=new WeakMap,Sx={name:"TransitionGroup",props:de({},yx,{tag:String,moveClass:String}),setup(m,{slots:y}){const l=ts(),x=Hh();let t,e;return Xo(()=>{if(!t.length)return;const u=m.moveClass||`${m.name||"v"}-move`;if(!Rx(t[0].el,l.vnode.el,u))return;t.forEach(Px),t.forEach(Ax);const i=t.filter(Mx);gv(),i.forEach(r=>{const a=r.el,n=a.style;pn(a,u),n.transform=n.webkitTransform=n.transitionDuration="";const s=a._moveCb=f=>{f&&f.target!==a||(!f||/transform$/.test(f.propertyName))&&(a.removeEventListener("transitionend",s),a._moveCb=null,bn(a,u))};a.addEventListener("transitionend",s)})}),()=>{const u=ue(m),i=pv(u);let r=u.tag||Ve;t=e,e=y.default?zo(y.default()):[];for(let a=0;a<e.length;a++){const n=e[a];n.key!=null&&As(n,nr(n,i,x,l))}if(t)for(let a=0;a<t.length;a++){const n=t[a];As(n,nr(n,i,x,l)),xv.set(n,n.el.getBoundingClientRect())}return Te(r,null,e)}}},Cx=Sx;function Px(m){const y=m.el;y._moveCb&&y._moveCb(),y._enterCb&&y._enterCb()}function Ax(m){yv.set(m,m.el.getBoundingClientRect())}function Mx(m){const y=xv.get(m),l=yv.get(m),x=y.left-l.left,t=y.top-l.top;if(x||t){const e=m.el.style;return e.transform=e.webkitTransform=`translate(${x}px,${t}px)`,e.transitionDuration="0s",m}}function Rx(m,y,l){const x=m.cloneNode();m._vtc&&m._vtc.forEach(u=>{u.split(/\s+/).forEach(i=>i&&x.classList.remove(i))}),l.split(/\s+/).forEach(u=>u&&x.classList.add(u)),x.style.display="none";const t=y.nodeType===1?y:y.parentNode;t.appendChild(x);const{hasTransform:e}=mv(x);return t.removeChild(x),e}const _n=m=>{const y=m.props["onUpdate:modelValue"]||!1;return Nt(y)?l=>ks(y,l):y};function Lx(m){m.target.composing=!0}function _f(m){const y=m.target;y.composing&&(y.composing=!1,y.dispatchEvent(new Event("input")))}const Ln={created(m,{modifiers:{lazy:y,trim:l,number:x}},t){m._assign=_n(t);const e=x||t.props&&t.props.type==="number";xn(m,y?"change":"input",u=>{if(u.target.composing)return;let i=m.value;l&&(i=i.trim()),e&&(i=An(i)),m._assign(i)}),l&&xn(m,"change",()=>{m.value=m.value.trim()}),y||(xn(m,"compositionstart",Lx),xn(m,"compositionend",_f),xn(m,"change",_f))},mounted(m,{value:y}){m.value=y??""},beforeUpdate(m,{value:y,modifiers:{lazy:l,trim:x,number:t}},e){if(m._assign=_n(e),m.composing||document.activeElement===m&&m.type!=="range"&&(l||x&&m.value.trim()===y||(t||m.type==="number")&&An(m.value)===y))return;const u=y??"";m.value!==u&&(m.value=u)}},_h={deep:!0,created(m,y,l){m._assign=_n(l),xn(m,"change",()=>{const x=m._modelValue,t=rr(m),e=m.checked,u=m._assign;if(Nt(x)){const i=Fo(x,t),r=i!==-1;if(e&&!r)u(x.concat(t));else if(!e&&r){const a=[...x];a.splice(i,1),u(a)}}else if(Fs(x)){const i=new Set(x);e?i.add(t):i.delete(t),u(i)}else u(Ev(m,e))})},mounted:td,beforeUpdate(m,y,l){m._assign=_n(l),td(m,y,l)}};function td(m,{value:y,oldValue:l},x){m._modelValue=y,Nt(y)?m.checked=Fo(y,x.props.value)>-1:Fs(y)?m.checked=y.has(x.props.value):y!==l&&(m.checked=Zn(y,Ev(m,!0)))}const tu={created(m,{value:y},l){m.checked=Zn(y,l.props.value),m._assign=_n(l),xn(m,"change",()=>{m._assign(rr(m))})},beforeUpdate(m,{value:y,oldValue:l},x){m._assign=_n(x),y!==l&&(m.checked=Zn(y,x.props.value))}},Tv={deep:!0,created(m,{value:y,modifiers:{number:l}},x){const t=Fs(y);xn(m,"change",()=>{const e=Array.prototype.filter.call(m.options,u=>u.selected).map(u=>l?An(rr(u)):rr(u));m._assign(m.multiple?t?new Set(e):e:e[0])}),m._assign=_n(x)},mounted(m,{value:y}){ed(m,y)},beforeUpdate(m,y,l){m._assign=_n(l)},updated(m,{value:y}){ed(m,y)}};function ed(m,y){const l=m.multiple;if(!(l&&!Nt(y)&&!Fs(y))){for(let x=0,t=m.options.length;x<t;x++){const e=m.options[x],u=rr(e);if(l)Nt(y)?e.selected=Fo(y,u)>-1:e.selected=y.has(u);else if(Zn(rr(e),y)){m.selectedIndex!==x&&(m.selectedIndex=x);return}}!l&&m.selectedIndex!==-1&&(m.selectedIndex=-1)}}function rr(m){return"_value"in m?m._value:m.value}function Ev(m,y){const l=y?"_trueValue":"_falseValue";return l in m?m[l]:y}const Sv={created(m,y,l){qa(m,y,l,null,"created")},mounted(m,y,l){qa(m,y,l,null,"mounted")},beforeUpdate(m,y,l,x){qa(m,y,l,x,"beforeUpdate")},updated(m,y,l,x){qa(m,y,l,x,"updated")}};function Cv(m,y){switch(m){case"SELECT":return Tv;case"TEXTAREA":return Ln;default:switch(y){case"checkbox":return _h;case"radio":return tu;default:return Ln}}}function qa(m,y,l,x,t){const u=Cv(m.tagName,l.props&&l.props.type)[t];u&&u(m,y,l,x)}function Ox(){Ln.getSSRProps=({value:m})=>({value:m}),tu.getSSRProps=({value:m},y)=>{if(y.props&&Zn(y.props.value,m))return{checked:!0}},_h.getSSRProps=({value:m},y)=>{if(Nt(m)){if(y.props&&Fo(m,y.props.value)>-1)return{checked:!0}}else if(Fs(m)){if(y.props&&m.has(y.props.value))return{checked:!0}}else if(m)return{checked:!0}},Sv.getSSRProps=(m,y)=>{if(typeof y.type!="string")return;const l=Cv(y.type.toUpperCase(),y.props&&y.props.type);if(l.getSSRProps)return l.getSSRProps(m,y)}}const Fx=["ctrl","shift","alt","meta"],Ix={stop:m=>m.stopPropagation(),prevent:m=>m.preventDefault(),self:m=>m.target!==m.currentTarget,ctrl:m=>!m.ctrlKey,shift:m=>!m.shiftKey,alt:m=>!m.altKey,meta:m=>!m.metaKey,left:m=>"button"in m&&m.button!==0,middle:m=>"button"in m&&m.button!==1,right:m=>"button"in m&&m.button!==2,exact:(m,y)=>Fx.some(l=>m[`${l}Key`]&&!y.includes(l))},Dx=(m,y)=>(l,...x)=>{for(let t=0;t<y.length;t++){const e=Ix[y[t]];if(e&&e(l,y))return}return m(l,...x)},Bx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pv=(m,y)=>l=>{if(!("key"in l))return;const x=Ri(l.key);if(y.some(t=>t===x||Bx[t]===x))return m(l)},eu={beforeMount(m,{value:y},{transition:l}){m._vod=m.style.display==="none"?"":m.style.display,l&&y?l.beforeEnter(m):Rr(m,y)},mounted(m,{value:y},{transition:l}){l&&y&&l.enter(m)},updated(m,{value:y,oldValue:l},{transition:x}){!y!=!l&&(x?y?(x.beforeEnter(m),Rr(m,!0),x.enter(m)):x.leave(m,()=>{Rr(m,!1)}):Rr(m,y))},beforeUnmount(m,{value:y}){Rr(m,y)}};function Rr(m,y){m.style.display=y?m._vod:"none"}function Nx(){eu.getSSRProps=({value:m})=>{if(!m)return{style:{display:"none"}}}}const Av=de({patchProp:cx},tx);let Yr,id=!1;function Mv(){return Yr||(Yr=Kc(Av))}function Rv(){return Yr=id?Yr:Zc(Av),id=!0,Yr}const lh=(...m)=>{Mv().render(...m)},Lv=(...m)=>{Rv().hydrate(...m)},Ov=(...m)=>{const y=Mv().createApp(...m),{mount:l}=y;return y.mount=x=>{const t=Fv(x);if(!t)return;const e=y._component;!Jt(e)&&!e.render&&!e.template&&(e.template=t.innerHTML),t.innerHTML="";const u=l(t,!1,t instanceof SVGElement);return t instanceof Element&&(t.removeAttribute("v-cloak"),t.setAttribute("data-v-app","")),u},y},wx=(...m)=>{const y=Rv().createApp(...m),{mount:l}=y;return y.mount=x=>{const t=Fv(x);if(t)return l(t,!0,t instanceof SVGElement)},y};function Fv(m){return _t(m)?document.querySelector(m):m}let nd=!1;const Gx=()=>{nd||(nd=!0,Ox(),Nx())},Vx=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:$h,Comment:ri,EffectScope:Fh,Fragment:Ve,KeepAlive:n0,ReactiveEffect:oa,Static:Ss,Suspense:Kg,Teleport:O0,Text:Ms,Transition:qh,TransitionGroup:Cx,VueElement:Qo,callWithAsyncErrorHandling:Fi,callWithErrorHandling:Tn,camelize:_e,capitalize:Is,cloneVNode:ln,compatUtils:q0,computed:Li,createApp:Ov,createBlock:jn,createCommentVNode:Xn,createElementBlock:ze,createElementVNode:ht,createHydrationRenderer:Zc,createPropsRestProxy:$0,createRenderer:Kc,createSSRApp:wx,createSlots:l0,createStaticVNode:tv,createTextVNode:Bs,createVNode:Te,customRef:Og,defineAsyncComponent:e0,defineComponent:hi,defineCustomElement:cv,defineEmits:Y0,defineExpose:b0,defineProps:U0,defineSSRCustomElement:px,get devtools(){return Hs},effect:qm,effectScope:Zm,getCurrentInstance:ts,getCurrentScope:Jm,getTransitionRawChildren:zo,guardReactiveProps:_c,h:Jo,handleError:Ds,hydrate:Lv,initCustomFormatter:Z0,initDirectivesForSSR:Gx,inject:ji,isMemoSame:fv,isProxy:Nh,isReactive:xs,isReadonly:Ps,isRef:Je,isRuntimeOnly:w0,isShallow:Zr,isVNode:kn,markRaw:wh,mergeDefaults:H0,mergeProps:ev,nextTick:Vo,normalizeClass:Pn,normalizeProps:Fm,normalizeStyle:Cn,onActivated:Rc,onBeforeMount:Fc,onBeforeUnmount:Ho,onBeforeUpdate:Ic,onDeactivated:Lc,onErrorCaptured:wc,onMounted:ua,onRenderTracked:Nc,onRenderTriggered:Bc,onScopeDispose:Qm,onServerPrefetch:Dc,onUnmounted:$o,onUpdated:Xo,openBlock:Se,popScopeId:gr,provide:wr,proxyRefs:Uh,pushScopeId:mr,queuePostFlushCb:bh,reactive:pr,readonly:Bh,ref:Nr,registerRuntimeCompiler:rv,render:lh,renderList:Vc,renderSlot:h0,resolveComponent:Rn,resolveDirective:o0,resolveDynamicComponent:a0,resolveFilter:k0,resolveTransitionHooks:nr,setBlockTracking:eh,setDevtoolsHook:Tc,setTransitionHooks:As,shallowReactive:dc,shallowReadonly:Pg,shallowRef:cc,ssrContextKey:hv,ssrUtils:j0,stop:_m,toDisplayString:gi,toHandlerKey:js,toHandlers:u0,toRaw:ue,toRef:pc,toRefs:Fg,transformVNodeArgs:F0,triggerRef:Mg,unref:ys,useAttrs:X0,useCssModule:gx,useCssVars:xx,useSSRContext:uv,useSlots:W0,useTransitionState:Hh,vModelCheckbox:_h,vModelDynamic:Sv,vModelRadio:tu,vModelSelect:Tv,vModelText:Ln,vShow:eu,version:dv,warn:Ng,watch:tr,watchEffect:kg,watchPostEffect:Pc,watchSyncEffect:qg,withAsyncContext:K0,withCtx:zh,withDefaults:z0,withDirectives:Es,withKeys:Pv,withMemo:J0,withModifiers:Dx,withScopeId:bg},Symbol.toStringTag,{value:"Module"}));function iu(m){throw m}function Iv(m){}function Re(m,y,l,x){const t=m,e=new SyntaxError(String(t));return e.code=m,e.loc=y,e}const _r=Symbol(""),br=Symbol(""),nu=Symbol(""),mo=Symbol(""),Dv=Symbol(""),Ls=Symbol(""),Bv=Symbol(""),Nv=Symbol(""),su=Symbol(""),ru=Symbol(""),fa=Symbol(""),au=Symbol(""),wv=Symbol(""),ou=Symbol(""),go=Symbol(""),lu=Symbol(""),hu=Symbol(""),uu=Symbol(""),fu=Symbol(""),Gv=Symbol(""),Vv=Symbol(""),jo=Symbol(""),xo=Symbol(""),du=Symbol(""),cu=Symbol(""),ta=Symbol(""),da=Symbol(""),vu=Symbol(""),hh=Symbol(""),Ux=Symbol(""),uh=Symbol(""),yo=Symbol(""),Yx=Symbol(""),bx=Symbol(""),pu=Symbol(""),zx=Symbol(""),Wx=Symbol(""),mu=Symbol(""),Uv=Symbol(""),ar={[_r]:"Fragment",[br]:"Teleport",[nu]:"Suspense",[mo]:"KeepAlive",[Dv]:"BaseTransition",[Ls]:"openBlock",[Bv]:"createBlock",[Nv]:"createElementBlock",[su]:"createVNode",[ru]:"createElementVNode",[fa]:"createCommentVNode",[au]:"createTextVNode",[wv]:"createStaticVNode",[ou]:"resolveComponent",[go]:"resolveDynamicComponent",[lu]:"resolveDirective",[hu]:"resolveFilter",[uu]:"withDirectives",[fu]:"renderList",[Gv]:"renderSlot",[Vv]:"createSlots",[jo]:"toDisplayString",[xo]:"mergeProps",[du]:"normalizeClass",[cu]:"normalizeStyle",[ta]:"normalizeProps",[da]:"guardReactiveProps",[vu]:"toHandlers",[hh]:"camelize",[Ux]:"capitalize",[uh]:"toHandlerKey",[yo]:"setBlockTracking",[Yx]:"pushScopeId",[bx]:"popScopeId",[pu]:"withCtx",[zx]:"unref",[Wx]:"isRef",[mu]:"withMemo",[Uv]:"isMemoSame"};function Xx(m){Object.getOwnPropertySymbols(m).forEach(y=>{ar[y]=m[y]})}const Bi={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Hx(m,y=Bi){return{type:0,children:m,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:y}}function ea(m,y,l,x,t,e,u,i=!1,r=!1,a=!1,n=Bi){return m&&(i?(m.helper(Ls),m.helper(hr(m.inSSR,a))):m.helper(lr(m.inSSR,a)),u&&m.helper(uu)),{type:13,tag:y,props:l,children:x,patchFlag:t,dynamicProps:e,directives:u,isBlock:i,disableTracking:r,isComponent:a,loc:n}}function ca(m,y=Bi){return{type:17,loc:y,elements:m}}function bi(m,y=Bi){return{type:15,loc:y,properties:m}}function Be(m,y){return{type:16,loc:Bi,key:_t(m)?ee(m,!0):m,value:y}}function ee(m,y=!1,l=Bi,x=0){return{type:4,loc:l,content:m,isStatic:y,constType:y?3:x}}function ki(m,y=Bi){return{type:8,loc:y,children:m}}function Ue(m,y=[],l=Bi){return{type:14,loc:l,callee:m,arguments:y}}function or(m,y=void 0,l=!1,x=!1,t=Bi){return{type:18,params:m,returns:y,newline:l,isSlot:x,loc:t}}function fh(m,y,l,x=!0){return{type:19,test:m,consequent:y,alternate:l,newline:x,loc:Bi}}function $x(m,y,l=!1){return{type:20,index:m,value:y,isVNode:l,loc:Bi}}function Kx(m){return{type:21,body:m,loc:Bi}}const mi=m=>m.type===4&&m.isStatic,Ks=(m,y)=>m===y||m===Ri(y);function Yv(m){if(Ks(m,"Teleport"))return br;if(Ks(m,"Suspense"))return nu;if(Ks(m,"KeepAlive"))return mo;if(Ks(m,"BaseTransition"))return Dv}const Zx=/^\d|[^\$\w]/,gu=m=>!Zx.test(m),Jx=/[A-Za-z_$\xA0-\uFFFF]/,Qx=/[\.\?\w$\xA0-\uFFFF]/,jx=/\s+[.[]\s*|\s*[.[]\s+/g,kx=m=>{m=m.trim().replace(jx,u=>u.trim());let y=0,l=[],x=0,t=0,e=null;for(let u=0;u<m.length;u++){const i=m.charAt(u);switch(y){case 0:if(i==="[")l.push(y),y=1,x++;else if(i==="(")l.push(y),y=2,t++;else if(!(u===0?Jx:Qx).test(i))return!1;break;case 1:i==="'"||i==='"'||i==="`"?(l.push(y),y=3,e=i):i==="["?x++:i==="]"&&(--x||(y=l.pop()));break;case 2:if(i==="'"||i==='"'||i==="`")l.push(y),y=3,e=i;else if(i==="(")t++;else if(i===")"){if(u===m.length-1)return!1;--t||(y=l.pop())}break;case 3:i===e&&(y=l.pop(),e=null);break}}return!x&&!t},bv=kx;function zv(m,y,l){const t={source:m.source.slice(y,y+l),start:To(m.start,m.source,y),end:m.end};return l!=null&&(t.end=To(m.start,m.source,y+l)),t}function To(m,y,l=y.length){return Eo(de({},m),y,l)}function Eo(m,y,l=y.length){let x=0,t=-1;for(let e=0;e<l;e++)y.charCodeAt(e)===10&&(x++,t=e);return m.offset+=l,m.line+=x,m.column=t===-1?m.column+l:l-t,m}function Yi(m,y,l=!1){for(let x=0;x<m.props.length;x++){const t=m.props[x];if(t.type===7&&(l||t.exp)&&(_t(y)?t.name===y:y.test(t.name)))return t}}function ko(m,y,l=!1,x=!1){for(let t=0;t<m.props.length;t++){const e=m.props[t];if(e.type===6){if(l)continue;if(e.name===y&&(e.value||x))return e}else if(e.name==="bind"&&(e.exp||x)&&ps(e.arg,y))return e}}function ps(m,y){return!!(m&&mi(m)&&m.content===y)}function qx(m){return m.props.some(y=>y.type===7&&y.name==="bind"&&(!y.arg||y.arg.type!==4||!y.arg.isStatic))}function Gl(m){return m.type===5||m.type===2}function _x(m){return m.type===7&&m.name==="slot"}function So(m){return m.type===1&&m.tagType===3}function Co(m){return m.type===1&&m.tagType===2}function lr(m,y){return m||y?su:ru}function hr(m,y){return m||y?Bv:Nv}const ty=new Set([ta,da]);function Wv(m,y=[]){if(m&&!_t(m)&&m.type===14){const l=m.callee;if(!_t(l)&&ty.has(l))return Wv(m.arguments[0],y.concat(m))}return[m,y]}function Po(m,y,l){let x,t=m.type===13?m.props:m.arguments[2],e=[],u;if(t&&!_t(t)&&t.type===14){const i=Wv(t);t=i[0],e=i[1],u=e[e.length-1]}if(t==null||_t(t))x=bi([y]);else if(t.type===14){const i=t.arguments[0];!_t(i)&&i.type===15?sd(y,i)||i.properties.unshift(y):t.callee===vu?x=Ue(l.helper(xo),[bi([y]),t]):t.arguments.unshift(bi([y])),!x&&(x=t)}else t.type===15?(sd(y,t)||t.properties.unshift(y),x=t):(x=Ue(l.helper(xo),[bi([y]),t]),u&&u.callee===da&&(u=e[e.length-2]));m.type===13?u?u.arguments[0]=x:m.props=x:u?u.arguments[0]=x:m.arguments[2]=x}function sd(m,y){let l=!1;if(m.key.type===4){const x=m.key.content;l=y.properties.some(t=>t.key.type===4&&t.key.content===x)}return l}function ia(m,y){return`_${y}_${m.replace(/[^\w]/g,(l,x)=>l==="-"?"_":m.charCodeAt(x).toString())}`}function ey(m){return m.type===14&&m.callee===mu?m.arguments[1].returns:m}function xu(m,{helper:y,removeHelper:l,inSSR:x}){m.isBlock||(m.isBlock=!0,l(lr(x,m.isComponent)),y(Ls),y(hr(x,m.isComponent)))}function rd(m,y){const l=y.options?y.options.compatConfig:y.compatConfig,x=l&&l[m];return m==="MODE"?x||3:x}function Cs(m,y){const l=rd("MODE",y),x=rd(m,y);return l===3?x===!0:x!==!1}function na(m,y,l,...x){return Cs(m,y)}const iy=/&(gt|lt|amp|apos|quot);/g,ny={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},ad={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:so,isPreTag:so,isCustomElement:so,decodeEntities:m=>m.replace(iy,(y,l)=>ny[l]),onError:iu,onWarn:Iv,comments:!1};function sy(m,y={}){const l=ry(m,y),x=Ii(l);return Hx(yu(l,0,[]),Wi(l,x))}function ry(m,y){const l=de({},ad);let x;for(x in y)l[x]=y[x]===void 0?ad[x]:y[x];return{options:l,column:1,line:1,offset:0,originalSource:m,source:m,inPre:!1,inVPre:!1,onWarn:l.onWarn}}function yu(m,y,l){const x=qo(l),t=x?x.ns:0,e=[];for(;!vy(m,y,l);){const i=m.source;let r;if(y===0||y===1){if(!m.inVPre&&si(i,m.options.delimiters[0]))r=dy(m,y);else if(y===0&&i[0]==="<")if(i.length===1)ge(m,5,1);else if(i[1]==="!")si(i,"<!--")?r=oy(m):si(i,"<!DOCTYPE")?r=Lr(m):si(i,"<![CDATA[")?t!==0?r=ay(m,l):(ge(m,1),r=Lr(m)):(ge(m,11),r=Lr(m));else if(i[1]==="/")if(i.length===2)ge(m,5,2);else if(i[2]===">"){ge(m,14,2),Xe(m,3);continue}else if(/[a-z]/i.test(i[2])){ge(m,23),dh(m,1,x);continue}else ge(m,12,2),r=Lr(m);else/[a-z]/i.test(i[1])?(r=ly(m,l),Cs("COMPILER_NATIVE_TEMPLATE",m)&&r&&r.tag==="template"&&!r.props.some(a=>a.type===7&&Xv(a.name))&&(r=r.children)):i[1]==="?"?(ge(m,21,1),r=Lr(m)):ge(m,12,1)}if(r||(r=cy(m,y)),Nt(r))for(let a=0;a<r.length;a++)od(e,r[a]);else od(e,r)}let u=!1;if(y!==2&&y!==1){const i=m.options.whitespace!=="preserve";for(let r=0;r<e.length;r++){const a=e[r];if(a.type===2)if(m.inPre)a.content=a.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(a.content))i&&(a.content=a.content.replace(/[\t\r\n\f ]+/g," "));else{const n=e[r-1],s=e[r+1];!n||!s||i&&(n.type===3&&s.type===3||n.type===3&&s.type===1||n.type===1&&s.type===3||n.type===1&&s.type===1&&/[\r\n]/.test(a.content))?(u=!0,e[r]=null):a.content=" "}else a.type===3&&!m.options.comments&&(u=!0,e[r]=null)}if(m.inPre&&x&&m.options.isPreTag(x.tag)){const r=e[0];r&&r.type===2&&(r.content=r.content.replace(/^\r?\n/,""))}}return u?e.filter(Boolean):e}function od(m,y){if(y.type===2){const l=qo(m);if(l&&l.type===2&&l.loc.end.offset===y.loc.start.offset){l.content+=y.content,l.loc.end=y.loc.end,l.loc.source+=y.loc.source;return}}m.push(y)}function ay(m,y){Xe(m,9);const l=yu(m,3,y);return m.source.length===0?ge(m,6):Xe(m,3),l}function oy(m){const y=Ii(m);let l;const x=/--(\!)?>/.exec(m.source);if(!x)l=m.source.slice(4),Xe(m,m.source.length),ge(m,7);else{x.index<=3&&ge(m,0),x[1]&&ge(m,10),l=m.source.slice(4,x.index);const t=m.source.slice(0,x.index);let e=1,u=0;for(;(u=t.indexOf("<!--",e))!==-1;)Xe(m,u-e+1),u+4<t.length&&ge(m,16),e=u+1;Xe(m,x.index+x[0].length-e+1)}return{type:3,content:l,loc:Wi(m,y)}}function Lr(m){const y=Ii(m),l=m.source[1]==="?"?1:2;let x;const t=m.source.indexOf(">");return t===-1?(x=m.source.slice(l),Xe(m,m.source.length)):(x=m.source.slice(l,t),Xe(m,t+1)),{type:3,content:x,loc:Wi(m,y)}}function ly(m,y){const l=m.inPre,x=m.inVPre,t=qo(y),e=dh(m,0,t),u=m.inPre&&!l,i=m.inVPre&&!x;if(e.isSelfClosing||m.options.isVoidTag(e.tag))return u&&(m.inPre=!1),i&&(m.inVPre=!1),e;y.push(e);const r=m.options.getTextMode(e,t),a=yu(m,r,y);y.pop();{const n=e.props.find(s=>s.type===6&&s.name==="inline-template");if(n&&na("COMPILER_INLINE_TEMPLATE",m,n.loc)){const s=Wi(m,e.loc.end);n.value={type:2,content:s.source,loc:s}}}if(e.children=a,ch(m.source,e.tag))dh(m,1,t);else if(ge(m,24,0,e.loc.start),m.source.length===0&&e.tag.toLowerCase()==="script"){const n=a[0];n&&si(n.loc.source,"<!--")&&ge(m,8)}return e.loc=Wi(m,e.loc.start),u&&(m.inPre=!1),i&&(m.inVPre=!1),e}const Xv=xi("if,else,else-if,for,slot");function dh(m,y,l){const x=Ii(m),t=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(m.source),e=t[1],u=m.options.getNamespace(e,l);Xe(m,t[0].length),sa(m);const i=Ii(m),r=m.source;m.options.isPreTag(e)&&(m.inPre=!0);let a=ld(m,y);y===0&&!m.inVPre&&a.some(f=>f.type===7&&f.name==="pre")&&(m.inVPre=!0,de(m,i),m.source=r,a=ld(m,y).filter(f=>f.name!=="v-pre"));let n=!1;if(m.source.length===0?ge(m,9):(n=si(m.source,"/>"),y===1&&n&&ge(m,4),Xe(m,n?2:1)),y===1)return;let s=0;return m.inVPre||(e==="slot"?s=2:e==="template"?a.some(f=>f.type===7&&Xv(f.name))&&(s=3):hy(e,a,m)&&(s=1)),{type:1,ns:u,tag:e,tagType:s,props:a,isSelfClosing:n,children:[],loc:Wi(m,x),codegenNode:void 0}}function hy(m,y,l){const x=l.options;if(x.isCustomElement(m))return!1;if(m==="component"||/^[A-Z]/.test(m)||Yv(m)||x.isBuiltInComponent&&x.isBuiltInComponent(m)||x.isNativeTag&&!x.isNativeTag(m))return!0;for(let t=0;t<y.length;t++){const e=y[t];if(e.type===6){if(e.name==="is"&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(na("COMPILER_IS_ON_ELEMENT",l,e.loc))return!0}}else{if(e.name==="is")return!0;if(e.name==="bind"&&ps(e.arg,"is")&&na("COMPILER_IS_ON_ELEMENT",l,e.loc))return!0}}}function ld(m,y){const l=[],x=new Set;for(;m.source.length>0&&!si(m.source,">")&&!si(m.source,"/>");){if(si(m.source,"/")){ge(m,22),Xe(m,1),sa(m);continue}y===1&&ge(m,3);const t=uy(m,x);t.type===6&&t.value&&t.name==="class"&&(t.value.content=t.value.content.replace(/\s+/g," ").trim()),y===0&&l.push(t),/^[^\t\r\n\f />]/.test(m.source)&&ge(m,15),sa(m)}return l}function uy(m,y){const l=Ii(m),t=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(m.source)[0];y.has(t)&&ge(m,2),y.add(t),t[0]==="="&&ge(m,19);{const i=/["'<]/g;let r;for(;r=i.exec(t);)ge(m,17,r.index)}Xe(m,t.length);let e;/^[\t\r\n\f ]*=/.test(m.source)&&(sa(m),Xe(m,1),sa(m),e=fy(m),e||ge(m,13));const u=Wi(m,l);if(!m.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(t)){const i=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(t);let r=si(t,"."),a=i[1]||(r||si(t,":")?"bind":si(t,"@")?"on":"slot"),n;if(i[2]){const f=a==="slot",o=t.lastIndexOf(i[2]),h=Wi(m,hd(m,l,o),hd(m,l,o+i[2].length+(f&&i[3]||"").length));let d=i[2],v=!0;d.startsWith("[")?(v=!1,d.endsWith("]")?d=d.slice(1,d.length-1):(ge(m,27),d=d.slice(1))):f&&(d+=i[3]||""),n={type:4,content:d,isStatic:v,constType:v?3:0,loc:h}}if(e&&e.isQuoted){const f=e.loc;f.start.offset++,f.start.column++,f.end=To(f.start,e.content),f.source=f.source.slice(1,-1)}const s=i[3]?i[3].slice(1).split("."):[];return r&&s.push("prop"),a==="bind"&&n&&s.includes("sync")&&na("COMPILER_V_BIND_SYNC",m,u,n.loc.source)&&(a="model",s.splice(s.indexOf("sync"),1)),{type:7,name:a,exp:e&&{type:4,content:e.content,isStatic:!1,constType:0,loc:e.loc},arg:n,modifiers:s,loc:u}}return!m.inVPre&&si(t,"v-")&&ge(m,26),{type:6,name:t,value:e&&{type:2,content:e.content,loc:e.loc},loc:u}}function fy(m){const y=Ii(m);let l;const x=m.source[0],t=x==='"'||x==="'";if(t){Xe(m,1);const e=m.source.indexOf(x);e===-1?l=zr(m,m.source.length,4):(l=zr(m,e,4),Xe(m,1))}else{const e=/^[^\t\r\n\f >]+/.exec(m.source);if(!e)return;const u=/["'<=`]/g;let i;for(;i=u.exec(e[0]);)ge(m,18,i.index);l=zr(m,e[0].length,4)}return{content:l,isQuoted:t,loc:Wi(m,y)}}function dy(m,y){const[l,x]=m.options.delimiters,t=m.source.indexOf(x,l.length);if(t===-1){ge(m,25);return}const e=Ii(m);Xe(m,l.length);const u=Ii(m),i=Ii(m),r=t-l.length,a=m.source.slice(0,r),n=zr(m,r,y),s=n.trim(),f=n.indexOf(s);f>0&&Eo(u,a,f);const o=r-(n.length-s.length-f);return Eo(i,a,o),Xe(m,x.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:s,loc:Wi(m,u,i)},loc:Wi(m,e)}}function cy(m,y){const l=y===3?["]]>"]:["<",m.options.delimiters[0]];let x=m.source.length;for(let u=0;u<l.length;u++){const i=m.source.indexOf(l[u],1);i!==-1&&x>i&&(x=i)}const t=Ii(m);return{type:2,content:zr(m,x,y),loc:Wi(m,t)}}function zr(m,y,l){const x=m.source.slice(0,y);return Xe(m,y),l===2||l===3||!x.includes("&")?x:m.options.decodeEntities(x,l===4)}function Ii(m){const{column:y,line:l,offset:x}=m;return{column:y,line:l,offset:x}}function Wi(m,y,l){return l=l||Ii(m),{start:y,end:l,source:m.originalSource.slice(y.offset,l.offset)}}function qo(m){return m[m.length-1]}function si(m,y){return m.startsWith(y)}function Xe(m,y){const{source:l}=m;Eo(m,l,y),m.source=l.slice(y)}function sa(m){const y=/^[\t\r\n\f ]+/.exec(m.source);y&&Xe(m,y[0].length)}function hd(m,y,l){return To(y,m.originalSource.slice(y.offset,l),l)}function ge(m,y,l,x=Ii(m)){l&&(x.offset+=l,x.column+=l),m.options.onError(Re(y,{start:x,end:x,source:""}))}function vy(m,y,l){const x=m.source;switch(y){case 0:if(si(x,"</")){for(let t=l.length-1;t>=0;--t)if(ch(x,l[t].tag))return!0}break;case 1:case 2:{const t=qo(l);if(t&&ch(x,t.tag))return!0;break}case 3:if(si(x,"]]>"))return!0;break}return!x}function ch(m,y){return si(m,"</")&&m.slice(2,2+y.length).toLowerCase()===y.toLowerCase()&&/[\t\r\n\f />]/.test(m[2+y.length]||">")}function py(m,y){oo(m,y,Hv(m,m.children[0]))}function Hv(m,y){const{children:l}=m;return l.length===1&&y.type===1&&!Co(y)}function oo(m,y,l=!1){const{children:x}=m,t=x.length;let e=0;for(let u=0;u<x.length;u++){const i=x[u];if(i.type===1&&i.tagType===0){const r=l?0:zi(i,y);if(r>0){if(r>=2){i.codegenNode.patchFlag=-1+"",i.codegenNode=y.hoist(i.codegenNode),e++;continue}}else{const a=i.codegenNode;if(a.type===13){const n=Jv(a);if((!n||n===512||n===1)&&Kv(i,y)>=2){const s=Zv(i);s&&(a.props=y.hoist(s))}a.dynamicProps&&(a.dynamicProps=y.hoist(a.dynamicProps))}}}if(i.type===1){const r=i.tagType===1;r&&y.scopes.vSlot++,oo(i,y),r&&y.scopes.vSlot--}else if(i.type===11)oo(i,y,i.children.length===1);else if(i.type===9)for(let r=0;r<i.branches.length;r++)oo(i.branches[r],y,i.branches[r].children.length===1)}e&&y.transformHoist&&y.transformHoist(x,y,m),e&&e===t&&m.type===1&&m.tagType===0&&m.codegenNode&&m.codegenNode.type===13&&Nt(m.codegenNode.children)&&(m.codegenNode.children=y.hoist(ca(m.codegenNode.children)))}function zi(m,y){const{constantCache:l}=y;switch(m.type){case 1:if(m.tagType!==0)return 0;const x=l.get(m);if(x!==void 0)return x;const t=m.codegenNode;if(t.type!==13||t.isBlock&&m.tag!=="svg"&&m.tag!=="foreignObject")return 0;if(Jv(t))return l.set(m,0),0;{let i=3;const r=Kv(m,y);if(r===0)return l.set(m,0),0;r<i&&(i=r);for(let a=0;a<m.children.length;a++){const n=zi(m.children[a],y);if(n===0)return l.set(m,0),0;n<i&&(i=n)}if(i>1)for(let a=0;a<m.props.length;a++){const n=m.props[a];if(n.type===7&&n.name==="bind"&&n.exp){const s=zi(n.exp,y);if(s===0)return l.set(m,0),0;s<i&&(i=s)}}if(t.isBlock){for(let a=0;a<m.props.length;a++)if(m.props[a].type===7)return l.set(m,0),0;y.removeHelper(Ls),y.removeHelper(hr(y.inSSR,t.isComponent)),t.isBlock=!1,y.helper(lr(y.inSSR,t.isComponent))}return l.set(m,i),i}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return zi(m.content,y);case 4:return m.constType;case 8:let u=3;for(let i=0;i<m.children.length;i++){const r=m.children[i];if(_t(r)||Jn(r))continue;const a=zi(r,y);if(a===0)return 0;a<u&&(u=a)}return u;default:return 0}}const my=new Set([du,cu,ta,da]);function $v(m,y){if(m.type===14&&!_t(m.callee)&&my.has(m.callee)){const l=m.arguments[0];if(l.type===4)return zi(l,y);if(l.type===14)return $v(l,y)}return 0}function Kv(m,y){let l=3;const x=Zv(m);if(x&&x.type===15){const{properties:t}=x;for(let e=0;e<t.length;e++){const{key:u,value:i}=t[e],r=zi(u,y);if(r===0)return r;r<l&&(l=r);let a;if(i.type===4?a=zi(i,y):i.type===14?a=$v(i,y):a=0,a===0)return a;a<l&&(l=a)}}return l}function Zv(m){const y=m.codegenNode;if(y.type===13)return y.props}function Jv(m){const y=m.patchFlag;return y?parseInt(y,10):void 0}function gy(m,{filename:y="",prefixIdentifiers:l=!1,hoistStatic:x=!1,cacheHandlers:t=!1,nodeTransforms:e=[],directiveTransforms:u={},transformHoist:i=null,isBuiltInComponent:r=li,isCustomElement:a=li,expressionPlugins:n=[],scopeId:s=null,slotted:f=!0,ssr:o=!1,inSSR:h=!1,ssrCssVars:d="",bindingMetadata:v=xe,inline:c=!1,isTS:p=!1,onError:g=iu,onWarn:T=Iv,compatConfig:E}){const S=y.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={selfName:S&&Is(_e(S[1])),prefixIdentifiers:l,hoistStatic:x,cacheHandlers:t,nodeTransforms:e,directiveTransforms:u,transformHoist:i,isBuiltInComponent:r,isCustomElement:a,expressionPlugins:n,scopeId:s,slotted:f,ssr:o,inSSR:h,ssrCssVars:d,bindingMetadata:v,inline:c,isTS:p,onError:g,onWarn:T,compatConfig:E,root:m,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:m,childIndex:0,inVOnce:!1,helper(P){const A=C.helpers.get(P)||0;return C.helpers.set(P,A+1),P},removeHelper(P){const A=C.helpers.get(P);if(A){const R=A-1;R?C.helpers.set(P,R):C.helpers.delete(P)}},helperString(P){return`_${ar[C.helper(P)]}`},replaceNode(P){C.parent.children[C.childIndex]=C.currentNode=P},removeNode(P){const A=C.parent.children,R=P?A.indexOf(P):C.currentNode?C.childIndex:-1;!P||P===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>R&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(R,1)},onNodeRemoved:()=>{},addIdentifiers(P){},removeIdentifiers(P){},hoist(P){_t(P)&&(P=ee(P)),C.hoists.push(P);const A=ee(`_hoisted_${C.hoists.length}`,!1,P.loc,2);return A.hoisted=P,A},cache(P,A=!1){return $x(C.cached++,P,A)}};return C.filters=new Set,C}function xy(m,y){const l=gy(m,y);_o(m,l),y.hoistStatic&&py(m,l),y.ssr||yy(m,l),m.helpers=[...l.helpers.keys()],m.components=[...l.components],m.directives=[...l.directives],m.imports=l.imports,m.hoists=l.hoists,m.temps=l.temps,m.cached=l.cached,m.filters=[...l.filters]}function yy(m,y){const{helper:l}=y,{children:x}=m;if(x.length===1){const t=x[0];if(Hv(m,t)&&t.codegenNode){const e=t.codegenNode;e.type===13&&xu(e,y),m.codegenNode=e}else m.codegenNode=t}else if(x.length>1){let t=64;m.codegenNode=ea(y,l(_r),void 0,m.children,t+"",void 0,void 0,!0,void 0,!1)}}function Ty(m,y){let l=0;const x=()=>{l--};for(;l<m.children.length;l++){const t=m.children[l];_t(t)||(y.parent=m,y.childIndex=l,y.onNodeRemoved=x,_o(t,y))}}function _o(m,y){y.currentNode=m;const{nodeTransforms:l}=y,x=[];for(let e=0;e<l.length;e++){const u=l[e](m,y);if(u&&(Nt(u)?x.push(...u):x.push(u)),y.currentNode)m=y.currentNode;else return}switch(m.type){case 3:y.ssr||y.helper(fa);break;case 5:y.ssr||y.helper(jo);break;case 9:for(let e=0;e<m.branches.length;e++)_o(m.branches[e],y);break;case 10:case 11:case 1:case 0:Ty(m,y);break}y.currentNode=m;let t=x.length;for(;t--;)x[t]()}function Qv(m,y){const l=_t(m)?x=>x===m:x=>m.test(x);return(x,t)=>{if(x.type===1){const{props:e}=x;if(x.tagType===3&&e.some(_x))return;const u=[];for(let i=0;i<e.length;i++){const r=e[i];if(r.type===7&&l(r.name)){e.splice(i,1),i--;const a=y(x,r,t);a&&u.push(a)}}return u}}}const tl="/*#__PURE__*/",jv=m=>`${ar[m]}: _${ar[m]}`;function Ey(m,{mode:y="function",prefixIdentifiers:l=y==="module",sourceMap:x=!1,filename:t="template.vue.html",scopeId:e=null,optimizeImports:u=!1,runtimeGlobalName:i="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:a="vue/server-renderer",ssr:n=!1,isTS:s=!1,inSSR:f=!1}){const o={mode:y,prefixIdentifiers:l,sourceMap:x,filename:t,scopeId:e,optimizeImports:u,runtimeGlobalName:i,runtimeModuleName:r,ssrRuntimeModuleName:a,ssr:n,isTS:s,inSSR:f,source:m.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(d){return`_${ar[d]}`},push(d,v){o.code+=d},indent(){h(++o.indentLevel)},deindent(d=!1){d?--o.indentLevel:h(--o.indentLevel)},newline(){h(o.indentLevel)}};function h(d){o.push(`
`+"  ".repeat(d))}return o}function Sy(m,y={}){const l=Ey(m,y);y.onContextCreated&&y.onContextCreated(l);const{mode:x,push:t,prefixIdentifiers:e,indent:u,deindent:i,newline:r,scopeId:a,ssr:n}=l,s=m.helpers.length>0,f=!e&&x!=="module";Cy(m,l);const h=n?"ssrRender":"render",v=(n?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(t(`function ${h}(${v}) {`),u(),f&&(t("with (_ctx) {"),u(),s&&(t(`const { ${m.helpers.map(jv).join(", ")} } = _Vue`),t(`
`),r())),m.components.length&&(Vl(m.components,"component",l),(m.directives.length||m.temps>0)&&r()),m.directives.length&&(Vl(m.directives,"directive",l),m.temps>0&&r()),m.filters&&m.filters.length&&(r(),Vl(m.filters,"filter",l),r()),m.temps>0){t("let ");for(let c=0;c<m.temps;c++)t(`${c>0?", ":""}_temp${c}`)}return(m.components.length||m.directives.length||m.temps)&&(t(`
`),r()),n||t("return "),m.codegenNode?ai(m.codegenNode,l):t("null"),f&&(i(),t("}")),i(),t("}"),{ast:m,code:l.code,preamble:"",map:l.map?l.map.toJSON():void 0}}function Cy(m,y){const{ssr:l,prefixIdentifiers:x,push:t,newline:e,runtimeModuleName:u,runtimeGlobalName:i,ssrRuntimeModuleName:r}=y,a=i;if(m.helpers.length>0&&(t(`const _Vue = ${a}
`),m.hoists.length)){const n=[su,ru,fa,au,wv].filter(s=>m.helpers.includes(s)).map(jv).join(", ");t(`const { ${n} } = _Vue
`)}Py(m.hoists,y),e(),t("return ")}function Vl(m,y,{helper:l,push:x,newline:t,isTS:e}){const u=l(y==="filter"?hu:y==="component"?ou:lu);for(let i=0;i<m.length;i++){let r=m[i];const a=r.endsWith("__self");a&&(r=r.slice(0,-6)),x(`const ${ia(r,y)} = ${u}(${JSON.stringify(r)}${a?", true":""})${e?"!":""}`),i<m.length-1&&t()}}function Py(m,y){if(!m.length)return;y.pure=!0;const{push:l,newline:x,helper:t,scopeId:e,mode:u}=y;x();for(let i=0;i<m.length;i++){const r=m[i];r&&(l(`const _hoisted_${i+1} = `),ai(r,y),x())}y.pure=!1}function Tu(m,y){const l=m.length>3||!1;y.push("["),l&&y.indent(),va(m,y,l),l&&y.deindent(),y.push("]")}function va(m,y,l=!1,x=!0){const{push:t,newline:e}=y;for(let u=0;u<m.length;u++){const i=m[u];_t(i)?t(i):Nt(i)?Tu(i,y):ai(i,y),u<m.length-1&&(l?(x&&t(","),e()):x&&t(", "))}}function ai(m,y){if(_t(m)){y.push(m);return}if(Jn(m)){y.push(y.helper(m));return}switch(m.type){case 1:case 9:case 11:ai(m.codegenNode,y);break;case 2:Ay(m,y);break;case 4:kv(m,y);break;case 5:My(m,y);break;case 12:ai(m.codegenNode,y);break;case 8:qv(m,y);break;case 3:Ly(m,y);break;case 13:Oy(m,y);break;case 14:Iy(m,y);break;case 15:Dy(m,y);break;case 17:By(m,y);break;case 18:Ny(m,y);break;case 19:wy(m,y);break;case 20:Gy(m,y);break;case 21:va(m.body,y,!0,!1);break}}function Ay(m,y){y.push(JSON.stringify(m.content),m)}function kv(m,y){const{content:l,isStatic:x}=m;y.push(x?JSON.stringify(l):l,m)}function My(m,y){const{push:l,helper:x,pure:t}=y;t&&l(tl),l(`${x(jo)}(`),ai(m.content,y),l(")")}function qv(m,y){for(let l=0;l<m.children.length;l++){const x=m.children[l];_t(x)?y.push(x):ai(x,y)}}function Ry(m,y){const{push:l}=y;if(m.type===8)l("["),qv(m,y),l("]");else if(m.isStatic){const x=gu(m.content)?m.content:JSON.stringify(m.content);l(x,m)}else l(`[${m.content}]`,m)}function Ly(m,y){const{push:l,helper:x,pure:t}=y;t&&l(tl),l(`${x(fa)}(${JSON.stringify(m.content)})`,m)}function Oy(m,y){const{push:l,helper:x,pure:t}=y,{tag:e,props:u,children:i,patchFlag:r,dynamicProps:a,directives:n,isBlock:s,disableTracking:f,isComponent:o}=m;n&&l(x(uu)+"("),s&&l(`(${x(Ls)}(${f?"true":""}), `),t&&l(tl);const h=s?hr(y.inSSR,o):lr(y.inSSR,o);l(x(h)+"(",m),va(Fy([e,u,i,r,a]),y),l(")"),s&&l(")"),n&&(l(", "),ai(n,y),l(")"))}function Fy(m){let y=m.length;for(;y--&&m[y]==null;);return m.slice(0,y+1).map(l=>l||"null")}function Iy(m,y){const{push:l,helper:x,pure:t}=y,e=_t(m.callee)?m.callee:x(m.callee);t&&l(tl),l(e+"(",m),va(m.arguments,y),l(")")}function Dy(m,y){const{push:l,indent:x,deindent:t,newline:e}=y,{properties:u}=m;if(!u.length){l("{}",m);return}const i=u.length>1||!1;l(i?"{":"{ "),i&&x();for(let r=0;r<u.length;r++){const{key:a,value:n}=u[r];Ry(a,y),l(": "),ai(n,y),r<u.length-1&&(l(","),e())}i&&t(),l(i?"}":" }")}function By(m,y){Tu(m.elements,y)}function Ny(m,y){const{push:l,indent:x,deindent:t}=y,{params:e,returns:u,body:i,newline:r,isSlot:a}=m;a&&l(`_${ar[pu]}(`),l("(",m),Nt(e)?va(e,y):e&&ai(e,y),l(") => "),(r||i)&&(l("{"),x()),u?(r&&l("return "),Nt(u)?Tu(u,y):ai(u,y)):i&&ai(i,y),(r||i)&&(t(),l("}")),a&&(m.isNonScopedSlot&&l(", undefined, true"),l(")"))}function wy(m,y){const{test:l,consequent:x,alternate:t,newline:e}=m,{push:u,indent:i,deindent:r,newline:a}=y;if(l.type===4){const s=!gu(l.content);s&&u("("),kv(l,y),s&&u(")")}else u("("),ai(l,y),u(")");e&&i(),y.indentLevel++,e||u(" "),u("? "),ai(x,y),y.indentLevel--,e&&a(),e||u(" "),u(": ");const n=t.type===19;n||y.indentLevel++,ai(t,y),n||y.indentLevel--,e&&r(!0)}function Gy(m,y){const{push:l,helper:x,indent:t,deindent:e,newline:u}=y;l(`_cache[${m.index}] || (`),m.isVNode&&(t(),l(`${x(yo)}(-1),`),u()),l(`_cache[${m.index}] = `),ai(m.value,y),m.isVNode&&(l(","),u(),l(`${x(yo)}(1),`),u(),l(`_cache[${m.index}]`),e()),l(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Vy=Qv(/^(if|else|else-if)$/,(m,y,l)=>Uy(m,y,l,(x,t,e)=>{const u=l.parent.children;let i=u.indexOf(x),r=0;for(;i-->=0;){const a=u[i];a&&a.type===9&&(r+=a.branches.length)}return()=>{if(e)x.codegenNode=fd(t,r,l);else{const a=Yy(x.codegenNode);a.alternate=fd(t,r+x.branches.length-1,l)}}}));function Uy(m,y,l,x){if(y.name!=="else"&&(!y.exp||!y.exp.content.trim())){const t=y.exp?y.exp.loc:m.loc;l.onError(Re(28,y.loc)),y.exp=ee("true",!1,t)}if(y.name==="if"){const t=ud(m,y),e={type:9,loc:m.loc,branches:[t]};if(l.replaceNode(e),x)return x(e,t,!0)}else{const t=l.parent.children;let e=t.indexOf(m);for(;e-->=-1;){const u=t[e];if(u&&u.type===3){l.removeNode(u);continue}if(u&&u.type===2&&!u.content.trim().length){l.removeNode(u);continue}if(u&&u.type===9){y.name==="else-if"&&u.branches[u.branches.length-1].condition===void 0&&l.onError(Re(30,m.loc)),l.removeNode();const i=ud(m,y);u.branches.push(i);const r=x&&x(u,i,!1);_o(i,l),r&&r(),l.currentNode=null}else l.onError(Re(30,m.loc));break}}}function ud(m,y){const l=m.tagType===3;return{type:10,loc:m.loc,condition:y.name==="else"?void 0:y.exp,children:l&&!Yi(m,"for")?m.children:[m],userKey:ko(m,"key"),isTemplateIf:l}}function fd(m,y,l){return m.condition?fh(m.condition,dd(m,y,l),Ue(l.helper(fa),['""',"true"])):dd(m,y,l)}function dd(m,y,l){const{helper:x}=l,t=Be("key",ee(`${y}`,!1,Bi,2)),{children:e}=m,u=e[0];if(e.length!==1||u.type!==1)if(e.length===1&&u.type===11){const r=u.codegenNode;return Po(r,t,l),r}else{let r=64;return ea(l,x(_r),bi([t]),e,r+"",void 0,void 0,!0,!1,!1,m.loc)}else{const r=u.codegenNode,a=ey(r);return a.type===13&&xu(a,l),Po(a,t,l),r}}function Yy(m){for(;;)if(m.type===19)if(m.alternate.type===19)m=m.alternate;else return m;else m.type===20&&(m=m.value)}const by=Qv("for",(m,y,l)=>{const{helper:x,removeHelper:t}=l;return zy(m,y,l,e=>{const u=Ue(x(fu),[e.source]),i=So(m),r=Yi(m,"memo"),a=ko(m,"key"),n=a&&(a.type===6?ee(a.value.content,!0):a.exp),s=a?Be("key",n):null,f=e.source.type===4&&e.source.constType>0,o=f?64:a?128:256;return e.codegenNode=ea(l,x(_r),void 0,u,o+"",void 0,void 0,!0,!f,!1,m.loc),()=>{let h;const{children:d}=e,v=d.length!==1||d[0].type!==1,c=Co(m)?m:i&&m.children.length===1&&Co(m.children[0])?m.children[0]:null;if(c?(h=c.codegenNode,i&&s&&Po(h,s,l)):v?h=ea(l,x(_r),s?bi([s]):void 0,m.children,64+"",void 0,void 0,!0,void 0,!1):(h=d[0].codegenNode,i&&s&&Po(h,s,l),h.isBlock!==!f&&(h.isBlock?(t(Ls),t(hr(l.inSSR,h.isComponent))):t(lr(l.inSSR,h.isComponent))),h.isBlock=!f,h.isBlock?(x(Ls),x(hr(l.inSSR,h.isComponent))):x(lr(l.inSSR,h.isComponent))),r){const p=or(vh(e.parseResult,[ee("_cached")]));p.body=Kx([ki(["const _memo = (",r.exp,")"]),ki(["if (_cached",...n?[" && _cached.key === ",n]:[],` && ${l.helperString(Uv)}(_cached, _memo)) return _cached`]),ki(["const _item = ",h]),ee("_item.memo = _memo"),ee("return _item")]),u.arguments.push(p,ee("_cache"),ee(String(l.cached++)))}else u.arguments.push(or(vh(e.parseResult),h,!0))}})});function zy(m,y,l,x){if(!y.exp){l.onError(Re(31,y.loc));return}const t=_v(y.exp);if(!t){l.onError(Re(32,y.loc));return}const{addIdentifiers:e,removeIdentifiers:u,scopes:i}=l,{source:r,value:a,key:n,index:s}=t,f={type:11,loc:y.loc,source:r,valueAlias:a,keyAlias:n,objectIndexAlias:s,parseResult:t,children:So(m)?m.children:[m]};l.replaceNode(f),i.vFor++;const o=x&&x(f);return()=>{i.vFor--,o&&o()}}const Wy=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,cd=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Xy=/^\(|\)$/g;function _v(m,y){const l=m.loc,x=m.content,t=x.match(Wy);if(!t)return;const[,e,u]=t,i={source:_a(l,u.trim(),x.indexOf(u,e.length)),value:void 0,key:void 0,index:void 0};let r=e.trim().replace(Xy,"").trim();const a=e.indexOf(r),n=r.match(cd);if(n){r=r.replace(cd,"").trim();const s=n[1].trim();let f;if(s&&(f=x.indexOf(s,a+r.length),i.key=_a(l,s,f)),n[2]){const o=n[2].trim();o&&(i.index=_a(l,o,x.indexOf(o,i.key?f+s.length:a+r.length)))}}return r&&(i.value=_a(l,r,a)),i}function _a(m,y,l){return ee(y,!1,zv(m,l,y.length))}function vh({value:m,key:y,index:l},x=[]){return Hy([m,y,l,...x])}function Hy(m){let y=m.length;for(;y--&&!m[y];);return m.slice(0,y+1).map((l,x)=>l||ee("_".repeat(x+1),!1))}const vd=ee("undefined",!1),$y=(m,y)=>{if(m.type===1&&(m.tagType===1||m.tagType===3)){const l=Yi(m,"slot");if(l)return l.exp,y.scopes.vSlot++,()=>{y.scopes.vSlot--}}},Ky=(m,y,l)=>or(m,y,!1,!0,y.length?y[0].loc:l);function Zy(m,y,l=Ky){y.helper(pu);const{children:x,loc:t}=m,e=[],u=[];let i=y.scopes.vSlot>0||y.scopes.vFor>0;const r=Yi(m,"slot",!0);if(r){const{arg:v,exp:c}=r;v&&!mi(v)&&(i=!0),e.push(Be(v||ee("default",!0),l(c,x,t)))}let a=!1,n=!1;const s=[],f=new Set;let o=0;for(let v=0;v<x.length;v++){const c=x[v];let p;if(!So(c)||!(p=Yi(c,"slot",!0))){c.type!==3&&s.push(c);continue}if(r){y.onError(Re(37,p.loc));break}a=!0;const{children:g,loc:T}=c,{arg:E=ee("default",!0),exp:S,loc:C}=p;let P;mi(E)?P=E?E.content:"default":i=!0;const A=l(S,g,T);let R,M,L;if(R=Yi(c,"if"))i=!0,u.push(fh(R.exp,to(E,A,o++),vd));else if(M=Yi(c,/^else(-if)?$/,!0)){let F=v,I;for(;F--&&(I=x[F],I.type===3););if(I&&So(I)&&Yi(I,"if")){x.splice(v,1),v--;let B=u[u.length-1];for(;B.alternate.type===19;)B=B.alternate;B.alternate=M.exp?fh(M.exp,to(E,A,o++),vd):to(E,A,o++)}else y.onError(Re(30,M.loc))}else if(L=Yi(c,"for")){i=!0;const F=L.parseResult||_v(L.exp);F?u.push(Ue(y.helper(fu),[F.source,or(vh(F),to(E,A),!0)])):y.onError(Re(32,L.loc))}else{if(P){if(f.has(P)){y.onError(Re(38,C));continue}f.add(P),P==="default"&&(n=!0)}e.push(Be(E,A))}}if(!r){const v=(c,p)=>{const g=l(c,p,t);return y.compatConfig&&(g.isNonScopedSlot=!0),Be("default",g)};a?s.length&&s.some(c=>tp(c))&&(n?y.onError(Re(39,s[0].loc)):e.push(v(void 0,s))):e.push(v(void 0,x))}const h=i?2:lo(m.children)?3:1;let d=bi(e.concat(Be("_",ee(h+"",!1))),t);return u.length&&(d=Ue(y.helper(Vv),[d,ca(u)])),{slots:d,hasDynamicSlots:i}}function to(m,y,l){const x=[Be("name",m),Be("fn",y)];return l!=null&&x.push(Be("key",ee(String(l),!0))),bi(x)}function lo(m){for(let y=0;y<m.length;y++){const l=m[y];switch(l.type){case 1:if(l.tagType===2||lo(l.children))return!0;break;case 9:if(lo(l.branches))return!0;break;case 10:case 11:if(lo(l.children))return!0;break}}return!1}function tp(m){return m.type!==2&&m.type!==12?!0:m.type===2?!!m.content.trim():tp(m.content)}const ep=new WeakMap,Jy=(m,y)=>function(){if(m=y.currentNode,!(m.type===1&&(m.tagType===0||m.tagType===1)))return;const{tag:x,props:t}=m,e=m.tagType===1;let u=e?Qy(m,y):`"${x}"`;const i=Ee(u)&&u.callee===go;let r,a,n,s=0,f,o,h,d=i||u===br||u===nu||!e&&(x==="svg"||x==="foreignObject");if(t.length>0){const v=ip(m,y,void 0,e,i);r=v.props,s=v.patchFlag,o=v.dynamicPropNames;const c=v.directives;h=c&&c.length?ca(c.map(p=>ky(p,y))):void 0,v.shouldUseBlock&&(d=!0)}if(m.children.length>0)if(u===mo&&(d=!0,s|=1024),e&&u!==br&&u!==mo){const{slots:c,hasDynamicSlots:p}=Zy(m,y);a=c,p&&(s|=1024)}else if(m.children.length===1&&u!==br){const c=m.children[0],p=c.type,g=p===5||p===8;g&&zi(c,y)===0&&(s|=1),g||p===2?a=c:a=m.children}else a=m.children;s!==0&&(n=String(s),o&&o.length&&(f=qy(o))),m.codegenNode=ea(y,u,r,a,n,f,h,!!d,!1,e,m.loc)};function Qy(m,y,l=!1){let{tag:x}=m;const t=ph(x),e=ko(m,"is");if(e)if(t||Cs("COMPILER_IS_ON_ELEMENT",y)){const r=e.type===6?e.value&&ee(e.value.content,!0):e.exp;if(r)return Ue(y.helper(go),[r])}else e.type===6&&e.value.content.startsWith("vue:")&&(x=e.value.content.slice(4));const u=!t&&Yi(m,"is");if(u&&u.exp)return Ue(y.helper(go),[u.exp]);const i=Yv(x)||y.isBuiltInComponent(x);return i?(l||y.helper(i),i):(y.helper(ou),y.components.add(x),ia(x,"component"))}function ip(m,y,l=m.props,x,t,e=!1){const{tag:u,loc:i,children:r}=m;let a=[];const n=[],s=[],f=r.length>0;let o=!1,h=0,d=!1,v=!1,c=!1,p=!1,g=!1,T=!1;const E=[],S=A=>{a.length&&(n.push(bi(pd(a),i)),a=[]),A&&n.push(A)},C=({key:A,value:R})=>{if(mi(A)){const M=A.content,L=Os(M);if(L&&(!x||t)&&M.toLowerCase()!=="onclick"&&M!=="onUpdate:modelValue"&&!ms(M)&&(p=!0),L&&ms(M)&&(T=!0),R.type===20||(R.type===4||R.type===8)&&zi(R,y)>0)return;M==="ref"?d=!0:M==="class"?v=!0:M==="style"?c=!0:M!=="key"&&!E.includes(M)&&E.push(M),x&&(M==="class"||M==="style")&&!E.includes(M)&&E.push(M)}else g=!0};for(let A=0;A<l.length;A++){const R=l[A];if(R.type===6){const{loc:M,name:L,value:F}=R;let I=!0;if(L==="ref"&&(d=!0,y.scopes.vFor>0&&a.push(Be(ee("ref_for",!0),ee("true")))),L==="is"&&(ph(u)||F&&F.content.startsWith("vue:")||Cs("COMPILER_IS_ON_ELEMENT",y)))continue;a.push(Be(ee(L,!0,zv(M,0,L.length)),ee(F?F.content:"",I,F?F.loc:M)))}else{const{name:M,arg:L,exp:F,loc:I}=R,B=M==="bind",b=M==="on";if(M==="slot"){x||y.onError(Re(40,I));continue}if(M==="once"||M==="memo"||M==="is"||B&&ps(L,"is")&&(ph(u)||Cs("COMPILER_IS_ON_ELEMENT",y))||b&&e)continue;if((B&&ps(L,"key")||b&&f&&ps(L,"vue:before-update"))&&(o=!0),B&&ps(L,"ref")&&y.scopes.vFor>0&&a.push(Be(ee("ref_for",!0),ee("true"))),!L&&(B||b)){if(g=!0,F)if(B){if(S(),Cs("COMPILER_V_BIND_OBJECT_ORDER",y)){n.unshift(F);continue}n.push(F)}else S({type:14,loc:I,callee:y.helper(vu),arguments:x?[F]:[F,"true"]});else y.onError(Re(B?34:35,I));continue}const W=y.directiveTransforms[M];if(W){const{props:$,needRuntime:Z}=W(R,m,y);!e&&$.forEach(C),b&&L&&!mi(L)?S(bi($,i)):a.push(...$),Z&&(s.push(R),Jn(Z)&&ep.set(R,Z))}else Xm(M)||(s.push(R),f&&(o=!0))}}let P;if(n.length?(S(),n.length>1?P=Ue(y.helper(xo),n,i):P=n[0]):a.length&&(P=bi(pd(a),i)),g?h|=16:(v&&!x&&(h|=2),c&&!x&&(h|=4),E.length&&(h|=8),p&&(h|=32)),!o&&(h===0||h===32)&&(d||T||s.length>0)&&(h|=512),!y.inSSR&&P)switch(P.type){case 15:let A=-1,R=-1,M=!1;for(let I=0;I<P.properties.length;I++){const B=P.properties[I].key;mi(B)?B.content==="class"?A=I:B.content==="style"&&(R=I):B.isHandlerKey||(M=!0)}const L=P.properties[A],F=P.properties[R];M?P=Ue(y.helper(ta),[P]):(L&&!mi(L.value)&&(L.value=Ue(y.helper(du),[L.value])),F&&(c||F.value.type===4&&F.value.content.trim()[0]==="["||F.value.type===17)&&(F.value=Ue(y.helper(cu),[F.value])));break;case 14:break;default:P=Ue(y.helper(ta),[Ue(y.helper(da),[P])]);break}return{props:P,directives:s,patchFlag:h,dynamicPropNames:E,shouldUseBlock:o}}function pd(m){const y=new Map,l=[];for(let x=0;x<m.length;x++){const t=m[x];if(t.key.type===8||!t.key.isStatic){l.push(t);continue}const e=t.key.content,u=y.get(e);u?(e==="style"||e==="class"||Os(e))&&jy(u,t):(y.set(e,t),l.push(t))}return l}function jy(m,y){m.value.type===17?m.value.elements.push(y.value):m.value=ca([m.value,y.value],m.loc)}function ky(m,y){const l=[],x=ep.get(m);x?l.push(y.helperString(x)):(y.helper(lu),y.directives.add(m.name),l.push(ia(m.name,"directive")));const{loc:t}=m;if(m.exp&&l.push(m.exp),m.arg&&(m.exp||l.push("void 0"),l.push(m.arg)),Object.keys(m.modifiers).length){m.arg||(m.exp||l.push("void 0"),l.push("void 0"));const e=ee("true",!1,t);l.push(bi(m.modifiers.map(u=>Be(u,e)),t))}return ca(l,m.loc)}function qy(m){let y="[";for(let l=0,x=m.length;l<x;l++)y+=JSON.stringify(m[l]),l<x-1&&(y+=", ");return y+"]"}function ph(m){return m==="component"||m==="Component"}const _y=m=>{const y=Object.create(null);return l=>y[l]||(y[l]=m(l))},t1=/-(\w)/g,md=_y(m=>m.replace(t1,(y,l)=>l?l.toUpperCase():"")),e1=(m,y)=>{if(Co(m)){const{children:l,loc:x}=m,{slotName:t,slotProps:e}=i1(m,y),u=[y.prefixIdentifiers?"_ctx.$slots":"$slots",t,"{}","undefined","true"];let i=2;e&&(u[2]=e,i=3),l.length&&(u[3]=or([],l,!1,!1,x),i=4),y.scopeId&&!y.slotted&&(i=5),u.splice(i),m.codegenNode=Ue(y.helper(Gv),u,x)}};function i1(m,y){let l='"default"',x;const t=[];for(let e=0;e<m.props.length;e++){const u=m.props[e];u.type===6?u.value&&(u.name==="name"?l=JSON.stringify(u.value.content):(u.name=md(u.name),t.push(u))):u.name==="bind"&&ps(u.arg,"name")?u.exp&&(l=u.exp):(u.name==="bind"&&u.arg&&mi(u.arg)&&(u.arg.content=md(u.arg.content)),t.push(u))}if(t.length>0){const{props:e,directives:u}=ip(m,y,t,!1,!1);x=e,u.length&&y.onError(Re(36,u[0].loc))}return{slotName:l,slotProps:x}}const n1=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,np=(m,y,l,x)=>{const{loc:t,modifiers:e,arg:u}=m;!m.exp&&!e.length&&l.onError(Re(35,t));let i;if(u.type===4)if(u.isStatic){let s=u.content;s.startsWith("vue:")&&(s=`vnode-${s.slice(4)}`);const f=y.tagType!==0||s.startsWith("vnode")||!/[A-Z]/.test(s)?js(_e(s)):`on:${s}`;i=ee(f,!0,u.loc)}else i=ki([`${l.helperString(uh)}(`,u,")"]);else i=u,i.children.unshift(`${l.helperString(uh)}(`),i.children.push(")");let r=m.exp;r&&!r.content.trim()&&(r=void 0);let a=l.cacheHandlers&&!r&&!l.inVOnce;if(r){const s=bv(r.content),f=!(s||n1.test(r.content)),o=r.content.includes(";");(f||a&&s)&&(r=ki([`${f?"$event":"(...args)"} => ${o?"{":"("}`,r,o?"}":")"]))}let n={props:[Be(i,r||ee("() => {}",!1,t))]};return x&&(n=x(n)),a&&(n.props[0].value=l.cache(n.props[0].value)),n.props.forEach(s=>s.key.isHandlerKey=!0),n},s1=(m,y,l)=>{const{exp:x,modifiers:t,loc:e}=m,u=m.arg;return u.type!==4?(u.children.unshift("("),u.children.push(') || ""')):u.isStatic||(u.content=`${u.content} || ""`),t.includes("camel")&&(u.type===4?u.isStatic?u.content=_e(u.content):u.content=`${l.helperString(hh)}(${u.content})`:(u.children.unshift(`${l.helperString(hh)}(`),u.children.push(")"))),l.inSSR||(t.includes("prop")&&gd(u,"."),t.includes("attr")&&gd(u,"^")),!x||x.type===4&&!x.content.trim()?(l.onError(Re(34,e)),{props:[Be(u,ee("",!0,e))]}):{props:[Be(u,x)]}},gd=(m,y)=>{m.type===4?m.isStatic?m.content=y+m.content:m.content=`\`${y}\${${m.content}}\``:(m.children.unshift(`'${y}' + (`),m.children.push(")"))},r1=(m,y)=>{if(m.type===0||m.type===1||m.type===11||m.type===10)return()=>{const l=m.children;let x,t=!1;for(let e=0;e<l.length;e++){const u=l[e];if(Gl(u)){t=!0;for(let i=e+1;i<l.length;i++){const r=l[i];if(Gl(r))x||(x=l[e]=ki([u],u.loc)),x.children.push(" + ",r),l.splice(i,1),i--;else{x=void 0;break}}}}if(!(!t||l.length===1&&(m.type===0||m.type===1&&m.tagType===0&&!m.props.find(e=>e.type===7&&!y.directiveTransforms[e.name])&&m.tag!=="template")))for(let e=0;e<l.length;e++){const u=l[e];if(Gl(u)||u.type===8){const i=[];(u.type!==2||u.content!==" ")&&i.push(u),!y.ssr&&zi(u,y)===0&&i.push(1+""),l[e]={type:12,content:u,loc:u.loc,codegenNode:Ue(y.helper(au),i)}}}}},xd=new WeakSet,a1=(m,y)=>{if(m.type===1&&Yi(m,"once",!0))return xd.has(m)||y.inVOnce?void 0:(xd.add(m),y.inVOnce=!0,y.helper(yo),()=>{y.inVOnce=!1;const l=y.currentNode;l.codegenNode&&(l.codegenNode=y.cache(l.codegenNode,!0))})},sp=(m,y,l)=>{const{exp:x,arg:t}=m;if(!x)return l.onError(Re(41,m.loc)),eo();const e=x.loc.source,u=x.type===4?x.content:e,i=l.bindingMetadata[e];if(i==="props"||i==="props-aliased")return l.onError(Re(44,x.loc)),eo();const r=!1;if(!u.trim()||!bv(u)&&!r)return l.onError(Re(42,x.loc)),eo();const a=t||ee("modelValue",!0),n=t?mi(t)?`onUpdate:${t.content}`:ki(['"onUpdate:" + ',t]):"onUpdate:modelValue";let s;const f=l.isTS?"($event: any)":"$event";s=ki([`${f} => ((`,x,") = $event)"]);const o=[Be(a,m.exp),Be(n,s)];if(m.modifiers.length&&y.tagType===1){const h=m.modifiers.map(v=>(gu(v)?v:JSON.stringify(v))+": true").join(", "),d=t?mi(t)?`${t.content}Modifiers`:ki([t,' + "Modifiers"']):"modelModifiers";o.push(Be(d,ee(`{ ${h} }`,!1,m.loc,2)))}return eo(o)};function eo(m=[]){return{props:m}}const o1=/[\w).+\-_$\]]/,l1=(m,y)=>{Cs("COMPILER_FILTER",y)&&(m.type===5&&Ao(m.content,y),m.type===1&&m.props.forEach(l=>{l.type===7&&l.name!=="for"&&l.exp&&Ao(l.exp,y)}))};function Ao(m,y){if(m.type===4)yd(m,y);else for(let l=0;l<m.children.length;l++){const x=m.children[l];typeof x=="object"&&(x.type===4?yd(x,y):x.type===8?Ao(m,y):x.type===5&&Ao(x.content,y))}}function yd(m,y){const l=m.content;let x=!1,t=!1,e=!1,u=!1,i=0,r=0,a=0,n=0,s,f,o,h,d=[];for(o=0;o<l.length;o++)if(f=s,s=l.charCodeAt(o),x)s===39&&f!==92&&(x=!1);else if(t)s===34&&f!==92&&(t=!1);else if(e)s===96&&f!==92&&(e=!1);else if(u)s===47&&f!==92&&(u=!1);else if(s===124&&l.charCodeAt(o+1)!==124&&l.charCodeAt(o-1)!==124&&!i&&!r&&!a)h===void 0?(n=o+1,h=l.slice(0,o).trim()):v();else{switch(s){case 34:t=!0;break;case 39:x=!0;break;case 96:e=!0;break;case 40:a++;break;case 41:a--;break;case 91:r++;break;case 93:r--;break;case 123:i++;break;case 125:i--;break}if(s===47){let c=o-1,p;for(;c>=0&&(p=l.charAt(c),p===" ");c--);(!p||!o1.test(p))&&(u=!0)}}h===void 0?h=l.slice(0,o).trim():n!==0&&v();function v(){d.push(l.slice(n,o).trim()),n=o+1}if(d.length){for(o=0;o<d.length;o++)h=h1(h,d[o],y);m.content=h}}function h1(m,y,l){l.helper(hu);const x=y.indexOf("(");if(x<0)return l.filters.add(y),`${ia(y,"filter")}(${m})`;{const t=y.slice(0,x),e=y.slice(x+1);return l.filters.add(t),`${ia(t,"filter")}(${m}${e!==")"?","+e:e}`}}const Td=new WeakSet,u1=(m,y)=>{if(m.type===1){const l=Yi(m,"memo");return!l||Td.has(m)?void 0:(Td.add(m),()=>{const x=m.codegenNode||y.currentNode.codegenNode;x&&x.type===13&&(m.tagType!==1&&xu(x,y),m.codegenNode=Ue(y.helper(mu),[l.exp,or(void 0,x),"_cache",String(y.cached++)]))})}};function f1(m){return[[a1,Vy,u1,by,l1,e1,Jy,$y,r1],{on:np,bind:s1,model:sp}]}function d1(m,y={}){const l=y.onError||iu,x=y.mode==="module";y.prefixIdentifiers===!0?l(Re(47)):x&&l(Re(48));const t=!1;y.cacheHandlers&&l(Re(49)),y.scopeId&&!x&&l(Re(50));const e=_t(m)?sy(m,y):m,[u,i]=f1();return xy(e,de({},y,{prefixIdentifiers:t,nodeTransforms:[...u,...y.nodeTransforms||[]],directiveTransforms:de({},i,y.directiveTransforms||{})})),Sy(e,de({},y,{prefixIdentifiers:t}))}const c1=()=>({props:[]}),rp=Symbol(""),ap=Symbol(""),op=Symbol(""),lp=Symbol(""),mh=Symbol(""),hp=Symbol(""),up=Symbol(""),fp=Symbol(""),dp=Symbol(""),cp=Symbol("");Xx({[rp]:"vModelRadio",[ap]:"vModelCheckbox",[op]:"vModelText",[lp]:"vModelSelect",[mh]:"vModelDynamic",[hp]:"withModifiers",[up]:"withKeys",[fp]:"vShow",[dp]:"Transition",[cp]:"TransitionGroup"});let Ws;function v1(m,y=!1){return Ws||(Ws=document.createElement("div")),y?(Ws.innerHTML=`<div foo="${m.replace(/"/g,"&quot;")}">`,Ws.children[0].getAttribute("foo")):(Ws.innerHTML=m,Ws.textContent)}const p1=xi("style,iframe,script,noscript",!0),m1={isVoidTag:Gm,isNativeTag:m=>Nm(m)||wm(m),isPreTag:m=>m==="pre",decodeEntities:v1,isBuiltInComponent:m=>{if(Ks(m,"Transition"))return dp;if(Ks(m,"TransitionGroup"))return cp},getNamespace(m,y){let l=y?y.ns:0;if(y&&l===2)if(y.tag==="annotation-xml"){if(m==="svg")return 1;y.props.some(x=>x.type===6&&x.name==="encoding"&&x.value!=null&&(x.value.content==="text/html"||x.value.content==="application/xhtml+xml"))&&(l=0)}else/^m(?:[ions]|text)$/.test(y.tag)&&m!=="mglyph"&&m!=="malignmark"&&(l=0);else y&&l===1&&(y.tag==="foreignObject"||y.tag==="desc"||y.tag==="title")&&(l=0);if(l===0){if(m==="svg")return 1;if(m==="math")return 2}return l},getTextMode({tag:m,ns:y}){if(y===0){if(m==="textarea"||m==="title")return 1;if(p1(m))return 2}return 0}},g1=m=>{m.type===1&&m.props.forEach((y,l)=>{y.type===6&&y.name==="style"&&y.value&&(m.props[l]={type:7,name:"bind",arg:ee("style",!0,y.loc),exp:x1(y.value.content,y.loc),modifiers:[],loc:y.loc})})},x1=(m,y)=>{const l=Jd(m);return ee(JSON.stringify(l),!1,y,3)};function En(m,y){return Re(m,y)}const y1=(m,y,l)=>{const{exp:x,loc:t}=m;return x||l.onError(En(51,t)),y.children.length&&(l.onError(En(52,t)),y.children.length=0),{props:[Be(ee("innerHTML",!0,t),x||ee("",!0))]}},T1=(m,y,l)=>{const{exp:x,loc:t}=m;return x||l.onError(En(53,t)),y.children.length&&(l.onError(En(54,t)),y.children.length=0),{props:[Be(ee("textContent",!0),x?zi(x,l)>0?x:Ue(l.helperString(jo),[x],t):ee("",!0))]}},E1=(m,y,l)=>{const x=sp(m,y,l);if(!x.props.length||y.tagType===1)return x;m.arg&&l.onError(En(56,m.arg.loc));const{tag:t}=y,e=l.isCustomElement(t);if(t==="input"||t==="textarea"||t==="select"||e){let u=op,i=!1;if(t==="input"||e){const r=ko(y,"type");if(r){if(r.type===7)u=mh;else if(r.value)switch(r.value.content){case"radio":u=rp;break;case"checkbox":u=ap;break;case"file":i=!0,l.onError(En(57,m.loc));break}}else qx(y)&&(u=mh)}else t==="select"&&(u=lp);i||(x.needRuntime=l.helper(u))}else l.onError(En(55,m.loc));return x.props=x.props.filter(u=>!(u.key.type===4&&u.key.content==="modelValue")),x},S1=xi("passive,once,capture"),C1=xi("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),P1=xi("left,right"),vp=xi("onkeyup,onkeydown,onkeypress",!0),A1=(m,y,l,x)=>{const t=[],e=[],u=[];for(let i=0;i<y.length;i++){const r=y[i];r==="native"&&na("COMPILER_V_ON_NATIVE",l)||S1(r)?u.push(r):P1(r)?mi(m)?vp(m.content)?t.push(r):e.push(r):(t.push(r),e.push(r)):C1(r)?e.push(r):t.push(r)}return{keyModifiers:t,nonKeyModifiers:e,eventOptionModifiers:u}},Ed=(m,y)=>mi(m)&&m.content.toLowerCase()==="onclick"?ee(y,!0):m.type!==4?ki(["(",m,`) === "onClick" ? "${y}" : (`,m,")"]):m,M1=(m,y,l)=>np(m,y,l,x=>{const{modifiers:t}=m;if(!t.length)return x;let{key:e,value:u}=x.props[0];const{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:a}=A1(e,t,l,m.loc);if(r.includes("right")&&(e=Ed(e,"onContextmenu")),r.includes("middle")&&(e=Ed(e,"onMouseup")),r.length&&(u=Ue(l.helper(hp),[u,JSON.stringify(r)])),i.length&&(!mi(e)||vp(e.content))&&(u=Ue(l.helper(up),[u,JSON.stringify(i)])),a.length){const n=a.map(Is).join("");e=mi(e)?ee(`${e.content}${n}`,!0):ki(["(",e,`) + "${n}"`])}return{props:[Be(e,u)]}}),R1=(m,y,l)=>{const{exp:x,loc:t}=m;return x||l.onError(En(59,t)),{props:[],needRuntime:l.helper(fp)}},L1=(m,y)=>{m.type===1&&m.tagType===0&&(m.tag==="script"||m.tag==="style")&&(y.onError(En(61,m.loc)),y.removeNode())},O1=[g1],F1={cloak:c1,html:y1,text:T1,model:E1,on:M1,show:R1};function I1(m,y={}){return d1(m,de({},m1,y,{nodeTransforms:[L1,...O1,...y.nodeTransforms||[]],directiveTransforms:de({},F1,y.directiveTransforms||{}),transformHoist:null}))}const Sd=Object.create(null);function D1(m,y){if(!_t(m))if(m.nodeType)m=m.innerHTML;else return li;const l=m,x=Sd[l];if(x)return x;if(m[0]==="#"){const i=document.querySelector(m);m=i?i.innerHTML:""}const t=de({hoistStatic:!0,onError:void 0,onWarn:li},y);!t.isCustomElement&&typeof customElements<"u"&&(t.isCustomElement=i=>!!customElements.get(i));const{code:e}=I1(m,t),u=new Function("Vue",e)(Vx);return u._rc=!0,Sd[l]=u}rv(D1);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof window<"u";function B1(m){return m.__esModule||m[Symbol.toStringTag]==="Module"}const me=Object.assign;function Ul(m,y){const l={};for(const x in y){const t=y[x];l[x]=qi(t)?t.map(m):m(t)}return l}const Wr=()=>{},qi=Array.isArray,N1=/\/$/,w1=m=>m.replace(N1,"");function Yl(m,y,l="/"){let x,t={},e="",u="";const i=y.indexOf("#");let r=y.indexOf("?");return i<r&&i>=0&&(r=-1),r>-1&&(x=y.slice(0,r),e=y.slice(r+1,i>-1?i:y.length),t=m(e)),i>-1&&(x=x||y.slice(0,i),u=y.slice(i,y.length)),x=Y1(x??y,l),{fullPath:x+(e&&"?")+e+u,path:x,query:t,hash:u}}function G1(m,y){const l=y.query?m(y.query):"";return y.path+(l&&"?")+l+(y.hash||"")}function Cd(m,y){return!y||!m.toLowerCase().startsWith(y.toLowerCase())?m:m.slice(y.length)||"/"}function V1(m,y,l){const x=y.matched.length-1,t=l.matched.length-1;return x>-1&&x===t&&ur(y.matched[x],l.matched[t])&&pp(y.params,l.params)&&m(y.query)===m(l.query)&&y.hash===l.hash}function ur(m,y){return(m.aliasOf||m)===(y.aliasOf||y)}function pp(m,y){if(Object.keys(m).length!==Object.keys(y).length)return!1;for(const l in m)if(!U1(m[l],y[l]))return!1;return!0}function U1(m,y){return qi(m)?Pd(m,y):qi(y)?Pd(y,m):m===y}function Pd(m,y){return qi(y)?m.length===y.length&&m.every((l,x)=>l===y[x]):m.length===1&&m[0]===y}function Y1(m,y){if(m.startsWith("/"))return m;if(!m)return y;const l=y.split("/"),x=m.split("/");let t=l.length-1,e,u;for(e=0;e<x.length;e++)if(u=x[e],u!==".")if(u==="..")t>1&&t--;else break;return l.slice(0,t).join("/")+"/"+x.slice(e-(e===x.length?1:0)).join("/")}var ra;(function(m){m.pop="pop",m.push="push"})(ra||(ra={}));var Xr;(function(m){m.back="back",m.forward="forward",m.unknown=""})(Xr||(Xr={}));function b1(m){if(!m)if($s){const y=document.querySelector("base");m=y&&y.getAttribute("href")||"/",m=m.replace(/^\w+:\/\/[^\/]+/,"")}else m="/";return m[0]!=="/"&&m[0]!=="#"&&(m="/"+m),w1(m)}const z1=/^[^#]+#/;function W1(m,y){return m.replace(z1,"#")+y}function X1(m,y){const l=document.documentElement.getBoundingClientRect(),x=m.getBoundingClientRect();return{behavior:y.behavior,left:x.left-l.left-(y.left||0),top:x.top-l.top-(y.top||0)}}const el=()=>({left:window.pageXOffset,top:window.pageYOffset});function H1(m){let y;if("el"in m){const l=m.el,x=typeof l=="string"&&l.startsWith("#"),t=typeof l=="string"?x?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!t)return;y=X1(t,m)}else y=m;"scrollBehavior"in document.documentElement.style?window.scrollTo(y):window.scrollTo(y.left!=null?y.left:window.pageXOffset,y.top!=null?y.top:window.pageYOffset)}function Ad(m,y){return(history.state?history.state.position-y:-1)+m}const gh=new Map;function $1(m,y){gh.set(m,y)}function K1(m){const y=gh.get(m);return gh.delete(m),y}let Z1=()=>location.protocol+"//"+location.host;function mp(m,y){const{pathname:l,search:x,hash:t}=y,e=m.indexOf("#");if(e>-1){let i=t.includes(m.slice(e))?m.slice(e).length:1,r=t.slice(i);return r[0]!=="/"&&(r="/"+r),Cd(r,"")}return Cd(l,m)+x+t}function J1(m,y,l,x){let t=[],e=[],u=null;const i=({state:f})=>{const o=mp(m,location),h=l.value,d=y.value;let v=0;if(f){if(l.value=o,y.value=f,u&&u===h){u=null;return}v=d?f.position-d.position:0}else x(o);t.forEach(c=>{c(l.value,h,{delta:v,type:ra.pop,direction:v?v>0?Xr.forward:Xr.back:Xr.unknown})})};function r(){u=l.value}function a(f){t.push(f);const o=()=>{const h=t.indexOf(f);h>-1&&t.splice(h,1)};return e.push(o),o}function n(){const{history:f}=window;f.state&&f.replaceState(me({},f.state,{scroll:el()}),"")}function s(){for(const f of e)f();e=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",n)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",n),{pauseListeners:r,listen:a,destroy:s}}function Md(m,y,l,x=!1,t=!1){return{back:m,current:y,forward:l,replaced:x,position:window.history.length,scroll:t?el():null}}function Q1(m){const{history:y,location:l}=window,x={value:mp(m,l)},t={value:y.state};t.value||e(x.value,{back:null,current:x.value,forward:null,position:y.length-1,replaced:!0,scroll:null},!0);function e(r,a,n){const s=m.indexOf("#"),f=s>-1?(l.host&&document.querySelector("base")?m:m.slice(s))+r:Z1()+m+r;try{y[n?"replaceState":"pushState"](a,"",f),t.value=a}catch(o){console.error(o),l[n?"replace":"assign"](f)}}function u(r,a){const n=me({},y.state,Md(t.value.back,r,t.value.forward,!0),a,{position:t.value.position});e(r,n,!0),x.value=r}function i(r,a){const n=me({},t.value,y.state,{forward:r,scroll:el()});e(n.current,n,!0);const s=me({},Md(x.value,r,null),{position:n.position+1},a);e(r,s,!1),x.value=r}return{location:x,state:t,push:i,replace:u}}function j1(m){m=b1(m);const y=Q1(m),l=J1(m,y.state,y.location,y.replace);function x(e,u=!0){u||l.pauseListeners(),history.go(e)}const t=me({location:"",base:m,go:x,createHref:W1.bind(null,m)},y,l);return Object.defineProperty(t,"location",{enumerable:!0,get:()=>y.location.value}),Object.defineProperty(t,"state",{enumerable:!0,get:()=>y.state.value}),t}function k1(m){return typeof m=="string"||m&&typeof m=="object"}function gp(m){return typeof m=="string"||typeof m=="symbol"}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xp=Symbol("");var Rd;(function(m){m[m.aborted=4]="aborted",m[m.cancelled=8]="cancelled",m[m.duplicated=16]="duplicated"})(Rd||(Rd={}));function fr(m,y){return me(new Error,{type:m,[xp]:!0},y)}function cn(m,y){return m instanceof Error&&xp in m&&(y==null||!!(m.type&y))}const Ld="[^/]+?",q1={sensitive:!1,strict:!1,start:!0,end:!0},_1=/[.+*?^${}()[\]/\\]/g;function tT(m,y){const l=me({},q1,y),x=[];let t=l.start?"^":"";const e=[];for(const a of m){const n=a.length?[]:[90];l.strict&&!a.length&&(t+="/");for(let s=0;s<a.length;s++){const f=a[s];let o=40+(l.sensitive?.25:0);if(f.type===0)s||(t+="/"),t+=f.value.replace(_1,"\\$&"),o+=40;else if(f.type===1){const{value:h,repeatable:d,optional:v,regexp:c}=f;e.push({name:h,repeatable:d,optional:v});const p=c||Ld;if(p!==Ld){o+=10;try{new RegExp(`(${p})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${h}" (${p}): `+T.message)}}let g=d?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;s||(g=v&&a.length<2?`(?:/${g})`:"/"+g),v&&(g+="?"),t+=g,o+=20,v&&(o+=-8),d&&(o+=-20),p===".*"&&(o+=-50)}n.push(o)}x.push(n)}if(l.strict&&l.end){const a=x.length-1;x[a][x[a].length-1]+=.7000000000000001}l.strict||(t+="/?"),l.end?t+="$":l.strict&&(t+="(?:/|$)");const u=new RegExp(t,l.sensitive?"":"i");function i(a){const n=a.match(u),s={};if(!n)return null;for(let f=1;f<n.length;f++){const o=n[f]||"",h=e[f-1];s[h.name]=o&&h.repeatable?o.split("/"):o}return s}function r(a){let n="",s=!1;for(const f of m){(!s||!n.endsWith("/"))&&(n+="/"),s=!1;for(const o of f)if(o.type===0)n+=o.value;else if(o.type===1){const{value:h,repeatable:d,optional:v}=o,c=h in a?a[h]:"";if(qi(c)&&!d)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const p=qi(c)?c.join("/"):c;if(!p)if(v)f.length<2&&(n.endsWith("/")?n=n.slice(0,-1):s=!0);else throw new Error(`Missing required param "${h}"`);n+=p}}return n||"/"}return{re:u,score:x,keys:e,parse:i,stringify:r}}function eT(m,y){let l=0;for(;l<m.length&&l<y.length;){const x=y[l]-m[l];if(x)return x;l++}return m.length<y.length?m.length===1&&m[0]===40+40?-1:1:m.length>y.length?y.length===1&&y[0]===40+40?1:-1:0}function iT(m,y){let l=0;const x=m.score,t=y.score;for(;l<x.length&&l<t.length;){const e=eT(x[l],t[l]);if(e)return e;l++}if(Math.abs(t.length-x.length)===1){if(Od(x))return 1;if(Od(t))return-1}return t.length-x.length}function Od(m){const y=m[m.length-1];return m.length>0&&y[y.length-1]<0}const nT={type:0,value:""},sT=/[a-zA-Z0-9_]/;function rT(m){if(!m)return[[]];if(m==="/")return[[nT]];if(!m.startsWith("/"))throw new Error(`Invalid path "${m}"`);function y(o){throw new Error(`ERR (${l})/"${a}": ${o}`)}let l=0,x=l;const t=[];let e;function u(){e&&t.push(e),e=[]}let i=0,r,a="",n="";function s(){a&&(l===0?e.push({type:0,value:a}):l===1||l===2||l===3?(e.length>1&&(r==="*"||r==="+")&&y(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),e.push({type:1,value:a,regexp:n,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):y("Invalid state to consume buffer"),a="")}function f(){a+=r}for(;i<m.length;){if(r=m[i++],r==="\\"&&l!==2){x=l,l=4;continue}switch(l){case 0:r==="/"?(a&&s(),u()):r===":"?(s(),l=1):f();break;case 4:f(),l=x;break;case 1:r==="("?l=2:sT.test(r)?f():(s(),l=0,r!=="*"&&r!=="?"&&r!=="+"&&i--);break;case 2:r===")"?n[n.length-1]=="\\"?n=n.slice(0,-1)+r:l=3:n+=r;break;case 3:s(),l=0,r!=="*"&&r!=="?"&&r!=="+"&&i--,n="";break;default:y("Unknown state");break}}return l===2&&y(`Unfinished custom RegExp for param "${a}"`),s(),u(),t}function aT(m,y,l){const x=tT(rT(m.path),l),t=me(x,{record:m,parent:y,children:[],alias:[]});return y&&!t.record.aliasOf==!y.record.aliasOf&&y.children.push(t),t}function oT(m,y){const l=[],x=new Map;y=Dd({strict:!1,end:!0,sensitive:!1},y);function t(n){return x.get(n)}function e(n,s,f){const o=!f,h=lT(n);h.aliasOf=f&&f.record;const d=Dd(y,n),v=[h];if("alias"in n){const g=typeof n.alias=="string"?[n.alias]:n.alias;for(const T of g)v.push(me({},h,{components:f?f.record.components:h.components,path:T,aliasOf:f?f.record:h}))}let c,p;for(const g of v){const{path:T}=g;if(s&&T[0]!=="/"){const E=s.record.path,S=E[E.length-1]==="/"?"":"/";g.path=s.record.path+(T&&S+T)}if(c=aT(g,s,d),f?f.alias.push(c):(p=p||c,p!==c&&p.alias.push(c),o&&n.name&&!Id(c)&&u(n.name)),h.children){const E=h.children;for(let S=0;S<E.length;S++)e(E[S],c,f&&f.children[S])}f=f||c,(c.record.components&&Object.keys(c.record.components).length||c.record.name||c.record.redirect)&&r(c)}return p?()=>{u(p)}:Wr}function u(n){if(gp(n)){const s=x.get(n);s&&(x.delete(n),l.splice(l.indexOf(s),1),s.children.forEach(u),s.alias.forEach(u))}else{const s=l.indexOf(n);s>-1&&(l.splice(s,1),n.record.name&&x.delete(n.record.name),n.children.forEach(u),n.alias.forEach(u))}}function i(){return l}function r(n){let s=0;for(;s<l.length&&iT(n,l[s])>=0&&(n.record.path!==l[s].record.path||!yp(n,l[s]));)s++;l.splice(s,0,n),n.record.name&&!Id(n)&&x.set(n.record.name,n)}function a(n,s){let f,o={},h,d;if("name"in n&&n.name){if(f=x.get(n.name),!f)throw fr(1,{location:n});d=f.record.name,o=me(Fd(s.params,f.keys.filter(p=>!p.optional).map(p=>p.name)),n.params&&Fd(n.params,f.keys.map(p=>p.name))),h=f.stringify(o)}else if("path"in n)h=n.path,f=l.find(p=>p.re.test(h)),f&&(o=f.parse(h),d=f.record.name);else{if(f=s.name?x.get(s.name):l.find(p=>p.re.test(s.path)),!f)throw fr(1,{location:n,currentLocation:s});d=f.record.name,o=me({},s.params,n.params),h=f.stringify(o)}const v=[];let c=f;for(;c;)v.unshift(c.record),c=c.parent;return{name:d,path:h,params:o,matched:v,meta:uT(v)}}return m.forEach(n=>e(n)),{addRoute:e,resolve:a,removeRoute:u,getRoutes:i,getRecordMatcher:t}}function Fd(m,y){const l={};for(const x of y)x in m&&(l[x]=m[x]);return l}function lT(m){return{path:m.path,redirect:m.redirect,name:m.name,meta:m.meta||{},aliasOf:void 0,beforeEnter:m.beforeEnter,props:hT(m),children:m.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in m?m.components||null:m.component&&{default:m.component}}}function hT(m){const y={},l=m.props||!1;if("component"in m)y.default=l;else for(const x in m.components)y[x]=typeof l=="boolean"?l:l[x];return y}function Id(m){for(;m;){if(m.record.aliasOf)return!0;m=m.parent}return!1}function uT(m){return m.reduce((y,l)=>me(y,l.meta),{})}function Dd(m,y){const l={};for(const x in m)l[x]=x in y?y[x]:m[x];return l}function yp(m,y){return y.children.some(l=>l===m||yp(m,l))}const Tp=/#/g,fT=/&/g,dT=/\//g,cT=/=/g,vT=/\?/g,Ep=/\+/g,pT=/%5B/g,mT=/%5D/g,Sp=/%5E/g,gT=/%60/g,Cp=/%7B/g,xT=/%7C/g,Pp=/%7D/g,yT=/%20/g;function Eu(m){return encodeURI(""+m).replace(xT,"|").replace(pT,"[").replace(mT,"]")}function TT(m){return Eu(m).replace(Cp,"{").replace(Pp,"}").replace(Sp,"^")}function xh(m){return Eu(m).replace(Ep,"%2B").replace(yT,"+").replace(Tp,"%23").replace(fT,"%26").replace(gT,"`").replace(Cp,"{").replace(Pp,"}").replace(Sp,"^")}function ET(m){return xh(m).replace(cT,"%3D")}function ST(m){return Eu(m).replace(Tp,"%23").replace(vT,"%3F")}function CT(m){return m==null?"":ST(m).replace(dT,"%2F")}function Mo(m){try{return decodeURIComponent(""+m)}catch{}return""+m}function PT(m){const y={};if(m===""||m==="?")return y;const x=(m[0]==="?"?m.slice(1):m).split("&");for(let t=0;t<x.length;++t){const e=x[t].replace(Ep," "),u=e.indexOf("="),i=Mo(u<0?e:e.slice(0,u)),r=u<0?null:Mo(e.slice(u+1));if(i in y){let a=y[i];qi(a)||(a=y[i]=[a]),a.push(r)}else y[i]=r}return y}function Bd(m){let y="";for(let l in m){const x=m[l];if(l=ET(l),x==null){x!==void 0&&(y+=(y.length?"&":"")+l);continue}(qi(x)?x.map(e=>e&&xh(e)):[x&&xh(x)]).forEach(e=>{e!==void 0&&(y+=(y.length?"&":"")+l,e!=null&&(y+="="+e))})}return y}function AT(m){const y={};for(const l in m){const x=m[l];x!==void 0&&(y[l]=qi(x)?x.map(t=>t==null?null:""+t):x==null?x:""+x)}return y}const MT=Symbol(""),Nd=Symbol(""),il=Symbol(""),Ap=Symbol(""),yh=Symbol("");function Or(){let m=[];function y(x){return m.push(x),()=>{const t=m.indexOf(x);t>-1&&m.splice(t,1)}}function l(){m=[]}return{add:y,list:()=>m,reset:l}}function Wn(m,y,l,x,t){const e=x&&(x.enterCallbacks[t]=x.enterCallbacks[t]||[]);return()=>new Promise((u,i)=>{const r=s=>{s===!1?i(fr(4,{from:l,to:y})):s instanceof Error?i(s):k1(s)?i(fr(2,{from:y,to:s})):(e&&x.enterCallbacks[t]===e&&typeof s=="function"&&e.push(s),u())},a=m.call(x&&x.instances[t],y,l,r);let n=Promise.resolve(a);m.length<3&&(n=n.then(r)),n.catch(s=>i(s))})}function bl(m,y,l,x){const t=[];for(const e of m)for(const u in e.components){let i=e.components[u];if(!(y!=="beforeRouteEnter"&&!e.instances[u]))if(RT(i)){const a=(i.__vccOpts||i)[y];a&&t.push(Wn(a,l,x,e,u))}else{let r=i();t.push(()=>r.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${e.path}"`));const n=B1(a)?a.default:a;e.components[u]=n;const f=(n.__vccOpts||n)[y];return f&&Wn(f,l,x,e,u)()}))}}return t}function RT(m){return typeof m=="object"||"displayName"in m||"props"in m||"__vccOpts"in m}function wd(m){const y=ji(il),l=ji(Ap),x=Li(()=>y.resolve(ys(m.to))),t=Li(()=>{const{matched:r}=x.value,{length:a}=r,n=r[a-1],s=l.matched;if(!n||!s.length)return-1;const f=s.findIndex(ur.bind(null,n));if(f>-1)return f;const o=Gd(r[a-2]);return a>1&&Gd(n)===o&&s[s.length-1].path!==o?s.findIndex(ur.bind(null,r[a-2])):f}),e=Li(()=>t.value>-1&&IT(l.params,x.value.params)),u=Li(()=>t.value>-1&&t.value===l.matched.length-1&&pp(l.params,x.value.params));function i(r={}){return FT(r)?y[ys(m.replace)?"replace":"push"](ys(m.to)).catch(Wr):Promise.resolve()}return{route:x,href:Li(()=>x.value.href),isActive:e,isExactActive:u,navigate:i}}const LT=hi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wd,setup(m,{slots:y}){const l=pr(wd(m)),{options:x}=ji(il),t=Li(()=>({[Vd(m.activeClass,x.linkActiveClass,"router-link-active")]:l.isActive,[Vd(m.exactActiveClass,x.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const e=y.default&&y.default(l);return m.custom?e:Jo("a",{"aria-current":l.isExactActive?m.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:t.value},e)}}}),OT=LT;function FT(m){if(!(m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)&&!m.defaultPrevented&&!(m.button!==void 0&&m.button!==0)){if(m.currentTarget&&m.currentTarget.getAttribute){const y=m.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(y))return}return m.preventDefault&&m.preventDefault(),!0}}function IT(m,y){for(const l in y){const x=y[l],t=m[l];if(typeof x=="string"){if(x!==t)return!1}else if(!qi(t)||t.length!==x.length||x.some((e,u)=>e!==t[u]))return!1}return!0}function Gd(m){return m?m.aliasOf?m.aliasOf.path:m.path:""}const Vd=(m,y,l)=>m??y??l,DT=hi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(m,{attrs:y,slots:l}){const x=ji(yh),t=Li(()=>m.route||x.value),e=ji(Nd,0),u=Li(()=>{let a=ys(e);const{matched:n}=t.value;let s;for(;(s=n[a])&&!s.components;)a++;return a}),i=Li(()=>t.value.matched[u.value]);wr(Nd,Li(()=>u.value+1)),wr(MT,i),wr(yh,t);const r=Nr();return tr(()=>[r.value,i.value,m.name],([a,n,s],[f,o,h])=>{n&&(n.instances[s]=a,o&&o!==n&&a&&a===f&&(n.leaveGuards.size||(n.leaveGuards=o.leaveGuards),n.updateGuards.size||(n.updateGuards=o.updateGuards))),a&&n&&(!o||!ur(n,o)||!f)&&(n.enterCallbacks[s]||[]).forEach(d=>d(a))},{flush:"post"}),()=>{const a=t.value,n=m.name,s=i.value,f=s&&s.components[n];if(!f)return Ud(l.default,{Component:f,route:a});const o=s.props[n],h=o?o===!0?a.params:typeof o=="function"?o(a):o:null,v=Jo(f,me({},h,y,{onVnodeUnmounted:c=>{c.component.isUnmounted&&(s.instances[n]=null)},ref:r}));return Ud(l.default,{Component:v,route:a})||v}}});function Ud(m,y){if(!m)return null;const l=m(y);return l.length===1?l[0]:l}const BT=DT;function NT(m){const y=oT(m.routes,m),l=m.parseQuery||PT,x=m.stringifyQuery||Bd,t=m.history,e=Or(),u=Or(),i=Or(),r=cc(Gn);let a=Gn;$s&&m.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const n=Ul.bind(null,V=>""+V),s=Ul.bind(null,CT),f=Ul.bind(null,Mo);function o(V,z){let H,j;return gp(V)?(H=y.getRecordMatcher(V),j=z):j=V,y.addRoute(j,H)}function h(V){const z=y.getRecordMatcher(V);z&&y.removeRoute(z)}function d(){return y.getRoutes().map(V=>V.record)}function v(V){return!!y.getRecordMatcher(V)}function c(V,z){if(z=me({},z||r.value),typeof V=="string"){const K=Yl(l,V,z.path),Q=y.resolve({path:K.path},z),tt=t.createHref(K.fullPath);return me(K,Q,{params:f(Q.params),hash:Mo(K.hash),redirectedFrom:void 0,href:tt})}let H;if("path"in V)H=me({},V,{path:Yl(l,V.path,z.path).path});else{const K=me({},V.params);for(const Q in K)K[Q]==null&&delete K[Q];H=me({},V,{params:s(V.params)}),z.params=s(z.params)}const j=y.resolve(H,z),q=V.hash||"";j.params=n(f(j.params));const et=G1(x,me({},V,{hash:TT(q),path:j.path})),ot=t.createHref(et);return me({fullPath:et,hash:q,query:x===Bd?AT(V.query):V.query||{}},j,{redirectedFrom:void 0,href:ot})}function p(V){return typeof V=="string"?Yl(l,V,r.value.path):me({},V)}function g(V,z){if(a!==V)return fr(8,{from:z,to:V})}function T(V){return C(V)}function E(V){return T(me(p(V),{replace:!0}))}function S(V){const z=V.matched[V.matched.length-1];if(z&&z.redirect){const{redirect:H}=z;let j=typeof H=="function"?H(V):H;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=p(j):{path:j},j.params={}),me({query:V.query,hash:V.hash,params:"path"in j?{}:V.params},j)}}function C(V,z){const H=a=c(V),j=r.value,q=V.state,et=V.force,ot=V.replace===!0,K=S(H);if(K)return C(me(p(K),{state:typeof K=="object"?me({},q,K.state):q,force:et,replace:ot}),z||H);const Q=H;Q.redirectedFrom=z;let tt;return!et&&V1(x,j,H)&&(tt=fr(16,{to:Q,from:j}),D(j,j,!0,!1)),(tt?Promise.resolve(tt):A(Q,j)).catch(nt=>cn(nt)?cn(nt,2)?nt:Z(nt):W(nt,Q,j)).then(nt=>{if(nt){if(cn(nt,2))return C(me({replace:ot},p(nt.to),{state:typeof nt.to=="object"?me({},q,nt.to.state):q,force:et}),z||Q)}else nt=M(Q,j,!0,ot,q);return R(Q,j,nt),nt})}function P(V,z){const H=g(V,z);return H?Promise.reject(H):Promise.resolve()}function A(V,z){let H;const[j,q,et]=wT(V,z);H=bl(j.reverse(),"beforeRouteLeave",V,z);for(const K of j)K.leaveGuards.forEach(Q=>{H.push(Wn(Q,V,z))});const ot=P.bind(null,V,z);return H.push(ot),Xs(H).then(()=>{H=[];for(const K of e.list())H.push(Wn(K,V,z));return H.push(ot),Xs(H)}).then(()=>{H=bl(q,"beforeRouteUpdate",V,z);for(const K of q)K.updateGuards.forEach(Q=>{H.push(Wn(Q,V,z))});return H.push(ot),Xs(H)}).then(()=>{H=[];for(const K of V.matched)if(K.beforeEnter&&!z.matched.includes(K))if(qi(K.beforeEnter))for(const Q of K.beforeEnter)H.push(Wn(Q,V,z));else H.push(Wn(K.beforeEnter,V,z));return H.push(ot),Xs(H)}).then(()=>(V.matched.forEach(K=>K.enterCallbacks={}),H=bl(et,"beforeRouteEnter",V,z),H.push(ot),Xs(H))).then(()=>{H=[];for(const K of u.list())H.push(Wn(K,V,z));return H.push(ot),Xs(H)}).catch(K=>cn(K,8)?K:Promise.reject(K))}function R(V,z,H){for(const j of i.list())j(V,z,H)}function M(V,z,H,j,q){const et=g(V,z);if(et)return et;const ot=z===Gn,K=$s?history.state:{};H&&(j||ot?t.replace(V.fullPath,me({scroll:ot&&K&&K.scroll},q)):t.push(V.fullPath,q)),r.value=V,D(V,z,H,ot),Z()}let L;function F(){L||(L=t.listen((V,z,H)=>{if(!Y.listening)return;const j=c(V),q=S(j);if(q){C(me(q,{replace:!0}),j).catch(Wr);return}a=j;const et=r.value;$s&&$1(Ad(et.fullPath,H.delta),el()),A(j,et).catch(ot=>cn(ot,12)?ot:cn(ot,2)?(C(ot.to,j).then(K=>{cn(K,20)&&!H.delta&&H.type===ra.pop&&t.go(-1,!1)}).catch(Wr),Promise.reject()):(H.delta&&t.go(-H.delta,!1),W(ot,j,et))).then(ot=>{ot=ot||M(j,et,!1),ot&&(H.delta&&!cn(ot,8)?t.go(-H.delta,!1):H.type===ra.pop&&cn(ot,20)&&t.go(-1,!1)),R(j,et,ot)}).catch(Wr)}))}let I=Or(),B=Or(),b;function W(V,z,H){Z(V);const j=B.list();return j.length?j.forEach(q=>q(V,z,H)):console.error(V),Promise.reject(V)}function $(){return b&&r.value!==Gn?Promise.resolve():new Promise((V,z)=>{I.add([V,z])})}function Z(V){return b||(b=!V,F(),I.list().forEach(([z,H])=>V?H(V):z()),I.reset()),V}function D(V,z,H,j){const{scrollBehavior:q}=m;if(!$s||!q)return Promise.resolve();const et=!H&&K1(Ad(V.fullPath,0))||(j||!H)&&history.state&&history.state.scroll||null;return Vo().then(()=>q(V,z,et)).then(ot=>ot&&H1(ot)).catch(ot=>W(ot,V,z))}const O=V=>t.go(V);let N;const G=new Set,Y={currentRoute:r,listening:!0,addRoute:o,removeRoute:h,hasRoute:v,getRoutes:d,resolve:c,options:m,push:T,replace:E,go:O,back:()=>O(-1),forward:()=>O(1),beforeEach:e.add,beforeResolve:u.add,afterEach:i.add,onError:B.add,isReady:$,install(V){const z=this;V.component("RouterLink",OT),V.component("RouterView",BT),V.config.globalProperties.$router=z,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>ys(r)}),$s&&!N&&r.value===Gn&&(N=!0,T(t.location).catch(q=>{}));const H={};for(const q in Gn)H[q]=Li(()=>r.value[q]);V.provide(il,z),V.provide(Ap,pr(H)),V.provide(yh,r);const j=V.unmount;G.add(V),V.unmount=function(){G.delete(V),G.size<1&&(a=Gn,L&&L(),L=null,r.value=Gn,N=!1,b=!1),j()}}};return Y}function Xs(m){return m.reduce((y,l)=>y.then(()=>l()),Promise.resolve())}function wT(m,y){const l=[],x=[],t=[],e=Math.max(y.matched.length,m.matched.length);for(let u=0;u<e;u++){const i=y.matched[u];i&&(m.matched.find(a=>ur(a,i))?x.push(i):l.push(i));const r=m.matched[u];r&&(y.matched.find(a=>ur(a,r))||t.push(r))}return[l,x,t]}function GT(){return ji(il)}const VT=hi({__name:"App",setup(m){return GT().push("/"),(l,x)=>{const t=Rn("router-view");return Se(),jn(t)}}}),Zs=class{static getGameViewConfig(){return Zs.gameViewConfig}static setGameViewConfig(y){Zs.gameViewConfig=y}static setNextLevelViewConfig(y){Zs.nextLevelViewConfig=y}static getNextLevelViewConfig(){return Zs.nextLevelViewConfig}};let yn=Zs;vt(yn,"gameViewConfig"),vt(yn,"nextLevelViewConfig");var be;(function(m){m[m.UNDO_BUTTON_CLICKED=0]="UNDO_BUTTON_CLICKED",m[m.HERO_DIRECTION_INPUT=1]="HERO_DIRECTION_INPUT",m[m.RESTART_LEVEL=2]="RESTART_LEVEL",m[m.QUIT_LEVEL=3]="QUIT_LEVEL",m[m.MAP_EDITOR_CURSOR_POSITION_CHANGED=4]="MAP_EDITOR_CURSOR_POSITION_CHANGED"})(be||(be={}));const Ui=class{constructor(){vt(this,"lastValues");vt(this,"eventListener",new Map);this.lastValues={},Object.keys(be).filter(y=>!isNaN(Number(y))).map(y=>Number(y)).forEach(y=>this.eventListener.set(y,[]))}static listenToEvent(y,l,x){return Ui.instance.eventListener.get(y).push(l),x!=null&&x.recoverLast&&Ui.instance.lastValues[y]&&l(Ui.instance.lastValues[y]),Ui.instance}static emit(y,l){return Ui.instance.lastValues[y]=l,Ui.instance.eventListener.get(y).forEach(x=>x(l)),Ui.instance}static clear(){Ui.instance.lastValues={},Object.keys(be).filter(y=>!isNaN(Number(y))).map(y=>Number(y)).forEach(y=>Ui.instance.eventListener.set(y,[]))}};let Oi=Ui;vt(Oi,"instance",new Ui);var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mp(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Th={},UT={get exports(){return Th},set exports(m){Th=m}};(function(m,y){(function(x,t){m.exports=t()})(Hr,function(){return function(l){var x={};function t(e){if(x[e])return x[e].exports;var u=x[e]={i:e,l:!1,exports:{}};return l[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}return t.m=l,t.c=x,t.d=function(e,u,i){t.o(e,u)||Object.defineProperty(e,u,{enumerable:!0,get:i})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,u){if(u&1&&(e=t(e)),u&8||u&4&&typeof e=="object"&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),u&2&&typeof e!="string")for(var r in e)t.d(i,r,function(a){return e[a]}.bind(null,r));return i},t.n=function(e){var u=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(u,"a",u),u},t.o=function(e,u){return Object.prototype.hasOwnProperty.call(e,u)},t.p="",t(t.s=1528)}([function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function e(n,s,f){var o=f?n[s]:Object.getOwnPropertyDescriptor(n,s);return!f&&o.value&&typeof o.value=="object"&&(o=o.value),o&&t(o)?(typeof o.enumerable>"u"&&(o.enumerable=!0),typeof o.configurable>"u"&&(o.configurable=!0),o):!1}function u(n,s){var f=Object.getOwnPropertyDescriptor(n,s);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function i(n,s,f,o){for(var h in s)if(s.hasOwnProperty(h)){var d=e(s,h,f);if(d!==!1){var v=o||n;if(u(v.prototype,h)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,h,d)}else n.prototype[h]=s[h]}}function r(n,s){if(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++)i(n,s[f].prototype||s[f])}}function a(n){n||(n={});var s,f;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");s=n.initialize,delete n.initialize}else if(n.Extends){var o=n.Extends;s=function(){o.apply(this,arguments)}}else s=function(){};n.Extends?(s.prototype=Object.create(n.Extends.prototype),s.prototype.constructor=s,f=n.Extends,delete n.Extends):s.prototype.constructor=s;var h=null;return n.Mixins&&(h=n.Mixins,delete n.Mixins),r(s,h),i(s,n,!0,f),s}a.extend=i,a.mixin=r,a.ignoreFinals=!1,l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=typeof e;return!e||r==="number"||r==="string"?i:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(124),i=new e({initialize:function(a,n){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(n===void 0&&(n=a),this.x=a||0,this.y=n||0)},clone:function(){return new i(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,a){return a===void 0&&(a=r),this.x=r,this.y=a,this},setTo:function(r,a){return this.set(r,a)},setToPolar:function(r,a){return a==null&&(a=1),this.x=Math.cos(r)*a,this.y=Math.sin(r)*a,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,a){return u(this.x,r.x,a)&&u(this.y,r.y,a)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var a=r.x-this.x,n=r.y-this.y;return Math.sqrt(a*a+n*n)},distanceSq:function(r){var a=r.x-this.x,n=r.y-this.y;return a*a+n*n},length:function(){var r=this.x,a=this.y;return Math.sqrt(r*r+a*a)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,a=this.y;return r*r+a*a},normalize:function(){var r=this.x,a=this.y,n=r*r+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=r*n,this.y=a*n),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,a){a===void 0&&(a=0);var n=this.x,s=this.y;return this.x=n+a*(r.x-n),this.y=s+a*(r.y-s),this},transformMat3:function(r){var a=this.x,n=this.y,s=r.val;return this.x=s[0]*a+s[3]*n+s[6],this.y=s[1]*a+s[4]*n+s[7],this},transformMat4:function(r){var a=this.x,n=this.y,s=r.val;return this.x=s[0]*a+s[4]*n+s[12],this.y=s[1]*a+s[5]*n+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var a=this.length();return a&&a>r&&this.scale(r/a),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var a=Math.cos(r),n=Math.sin(r);return this.set(a*this.x-n*this.y,n*this.x+a*this.y)}});i.ZERO=new i,i.RIGHT=new i(1,0),i.LEFT=new i(-1,0),i.UP=new i(0,-1),i.DOWN=new i(0,1),i.ONE=new i(1,1),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(56),i=new e({initialize:function(a,n){a===void 0&&(a=0),n===void 0&&(n=a),this.type=u.POINT,this.x=a,this.y=n},setTo:function(r,a){return r===void 0&&(r=0),a===void 0&&(a=r),this.x=r,this.y=a,this}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),i=t(20),r=new e({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,n){r.prototype.hasOwnProperty(a)||(r.prototype[a]=n)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},u.register("GameObjectFactory",r,"add"),l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(!e||typeof e=="number")return i;if(e.hasOwnProperty(u))return e[u];if(u.indexOf(".")!==-1){for(var r=u.split("."),a=e,n=i,s=0;s<r.length;s++)if(a.hasOwnProperty(r[s]))n=a[r[s]],a=a[r[s]];else{n=i;break}return n}else return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(u){for(var i in t)u[i]=t[i]},register:function(u,i){t[u]=i},destroy:function(){t={}}};l.exports=e},function(l,x,t){var e=Object.prototype.hasOwnProperty,u="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(u=!1));function r(f,o,h){this.fn=f,this.context=o,this.once=h||!1}function a(f,o,h,d,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var c=new r(h,d||f,v),p=u?u+o:o;return f._events[p]?f._events[p].fn?f._events[p]=[f._events[p],c]:f._events[p].push(c):(f._events[p]=c,f._eventsCount++),f}function n(f,o){--f._eventsCount===0?f._events=new i:delete f._events[o]}function s(){this._events=new i,this._eventsCount=0}s.prototype.eventNames=function(){var o=[],h,d;if(this._eventsCount===0)return o;for(d in h=this._events)e.call(h,d)&&o.push(u?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(h)):o},s.prototype.listeners=function(o){var h=u?u+o:o,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,c=d.length,p=new Array(c);v<c;v++)p[v]=d[v].fn;return p},s.prototype.listenerCount=function(o){var h=u?u+o:o,d=this._events[h];return d?d.fn?1:d.length:0},s.prototype.emit=function(o,h,d,v,c,p){var g=u?u+o:o;if(!this._events[g])return!1;var T=this._events[g],E=arguments.length,S,C;if(T.fn){switch(T.once&&this.removeListener(o,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,d),!0;case 4:return T.fn.call(T.context,h,d,v),!0;case 5:return T.fn.call(T.context,h,d,v,c),!0;case 6:return T.fn.call(T.context,h,d,v,c,p),!0}for(C=1,S=new Array(E-1);C<E;C++)S[C-1]=arguments[C];T.fn.apply(T.context,S)}else{var P=T.length,A;for(C=0;C<P;C++)switch(T[C].once&&this.removeListener(o,T[C].fn,void 0,!0),E){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,h);break;case 3:T[C].fn.call(T[C].context,h,d);break;case 4:T[C].fn.call(T[C].context,h,d,v);break;default:if(!S)for(A=1,S=new Array(E-1);A<E;A++)S[A-1]=arguments[A];T[C].fn.apply(T[C].context,S)}}return!0},s.prototype.on=function(o,h,d){return a(this,o,h,d,!1)},s.prototype.once=function(o,h,d){return a(this,o,h,d,!0)},s.prototype.removeListener=function(o,h,d,v){var c=u?u+o:o;if(!this._events[c])return this;if(!h)return n(this,c),this;var p=this._events[c];if(p.fn)p.fn===h&&(!v||p.once)&&(!d||p.context===d)&&n(this,c);else{for(var g=0,T=[],E=p.length;g<E;g++)(p[g].fn!==h||v&&!p[g].once||d&&p[g].context!==d)&&T.push(p[g]);T.length?this._events[c]=T.length===1?T[0]:T:n(this,c)}return this},s.prototype.removeAllListeners=function(o){var h;return o?(h=u?u+o:o,this._events[h]&&n(this,h)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=u,s.EventEmitter=s,l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(57),i=t(171),r=t(306),a=t(56),n=t(47),s=t(174),f=new e({initialize:function(h,d,v,c){h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),this.type=a.RECTANGLE,this.x=h,this.y=d,this.width=v,this.height=c},contains:function(o,h){return u(this,o,h)},getPoint:function(o,h){return i(this,o,h)},getPoints:function(o,h,d){return r(this,o,h,d)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,h,d,v){return this.x=o,this.y=h,this.width=d,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(o,h){return h===void 0&&(h=o),this.x=o,this.y=h,this},setSize:function(o,h){return h===void 0&&(h=o),this.width=o,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(o){return o===void 0&&(o=new n),o.setTo(this.x,this.y,this.right,this.y),o},getLineB:function(o){return o===void 0&&(o=new n),o.setTo(this.right,this.y,this.right,this.bottom),o},getLineC:function(o){return o===void 0&&(o=new n),o.setTo(this.right,this.bottom,this.x,this.bottom),o},getLineD:function(o){return o===void 0&&(o=new n),o.setTo(this.x,this.bottom,this.x,this.y),o},left:{get:function(){return this.x},set:function(o){o>=this.right?this.width=0:this.width=this.right-o,this.x=o}},right:{get:function(){return this.x+this.width},set:function(o){o<=this.x?this.width=0:this.width=o-this.x}},top:{get:function(){return this.y},set:function(o){o>=this.bottom?this.height=0:this.height=this.bottom-o,this.y=o}},bottom:{get:function(){return this.y+this.height},set:function(o){o<=this.y?this.height=0:this.height=o-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(o){this.x=o-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(o){this.y=o-this.height/2}}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var u="",i=0;i<e;++i)i>0&&(u+=`
else `),i<e-1&&(u+="if(test == "+i+".0){}");return u}l.exports={getTintFromFloats:function(e,u,i,r){var a=(e*255|0)&255,n=(u*255|0)&255,s=(i*255|0)&255,f=(r*255|0)&255;return(f<<24|a<<16|n<<8|s)>>>0},getTintAppendFloatAlpha:function(e,u){var i=(u*255|0)&255;return(i<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,u){var i=(e>>16|0)&255,r=(e>>8|0)&255,a=(e|0)&255,n=(u*255|0)&255;return(n<<24|a<<16|r<<8|i)>>>0},getFloatsFromUintRGB:function(e){var u=(e>>16|0)&255,i=(e>>8|0)&255,r=(e|0)&255;return[u/255,i/255,r/255]},checkShaderMax:function(e,u){(!u||u===-1)&&(u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var i=e.createShader(e.FRAGMENT_SHADER),r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var a=r.replace(/%forloop%/gi,t(u));if(e.shaderSource(i,a),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))u=u/2|0;else break}return u},parseFragmentShaderMaxTextures:function(e,u){if(!e)return"";for(var i="",r=0;r<u;r++)r>0&&(i+=`
	else `),r<u-1&&(i+="if (outTexId < "+r+".5)"),i+=`
	{`,i+=`
		texture = texture2D(uMainSampler[`+r+"], outTexCoord);",i+=`
	}`;return e=e.replace(/%count%/gi,u.toString()),e.replace(/%forloop%/gi,i)}}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),u=t(6),i=function(r,a,n){var s=u(r,a,null);if(s===null)return n;if(Array.isArray(s))return e.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return e.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return e.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(a);return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(176),i=t(101),r=t(9),a=t(75),n=t(20),s=new e({Extends:r,initialize:function(o,h){r.call(this),this.scene=o,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),o.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new i(this)),this},setData:function(f,o){return this.data||(this.data=new i(this)),this.data.set(f,o),this},incData:function(f,o){return this.data||(this.data=new i(this)),this.data.inc(f,o),this},toggleData:function(f){return this.data||(this.data=new i(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new i(this)),this.data.get(f)},setInteractive:function(f,o,h){return this.scene.sys.input.enable(this,f,o,h),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(f){return!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,o=this.parentContainer,h=[];o&&(h.unshift(o.getIndex(f)),f=o,o.parentContainer);)o=o.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(f)):h.unshift(this.scene.sys.displayList.getIndex(f)),h},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),f.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),i=t(20),r=new e({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.events.once(i.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(a,n){r.prototype.hasOwnProperty(a)||(r.prototype[a]=n)},r.remove=function(a){r.prototype.hasOwnProperty(a)&&delete r.prototype[a]},u.register("GameObjectCreator",r,"make"),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),u=function(){var i,r,a,n,s,f,o=arguments[0]||{},h=1,d=arguments.length,v=!1;for(typeof o=="boolean"&&(v=o,o=arguments[1]||{},h=2),d===h&&(o=this,--h);h<d;h++)if((i=arguments[h])!=null)for(r in i)a=o[r],n=i[r],o!==n&&(v&&n&&(e(n)||(s=Array.isArray(n)))?(s?(s=!1,f=a&&Array.isArray(a)?a:[]):f=a&&e(a)?a:{},o[r]=u(v,f,n)):n!==void 0&&(o[r]=n));return o};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return Math.max(u,Math.min(i,e))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,i=new e,r=new e,a={camera:u,sprite:i,calc:r},n=function(s,f,o){var h=u,d=i,v=r;return d.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),h.copyFrom(f.matrix),o?(h.multiplyWithOffset(o,-f.scrollX*s.scrollFactorX,-f.scrollY*s.scrollFactorY),d.e=s.x,d.f=s.y):(d.e-=f.scrollX*s.scrollFactorX,d.f-=f.scrollY*s.scrollFactorY),h.multiply(d,v),a};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(95),r=t(2),a=t(155),n=t(240),s=t(517),f=t(156),o=new e({initialize:function(d,v){this.loader=d,this.cache=r(v,"cache",!1),this.type=r(v,"type",!1),this.key=r(v,"key",!1);var c=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+c),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var p=r(v,"url");p===void 0?p=d.path+c+"."+r(v,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(p=d.path+p),this.url=p,this.src="",this.xhrSettings=f(r(v,"responseType",void 0)),r(v,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,r(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?u.FILE_POPULATED:u.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(v,"config",{}),this.multiFile,this.linkFile},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===u.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=u.FILE_LOADING,this.src=a(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(h,d){var v=h.responseURL&&(h.responseURL.indexOf("file://")===0||h.responseURL.indexOf("capacitor://")===0),c=v&&d.target.status===0,p=!(d.target&&d.target.status!==200)||c;h.readyState===4&&h.status>=400&&h.status<=599&&(p=!1),this.state=u.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=u.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=u.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=u.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(h){h===void 0&&(h=this.data);var d=this.key,v=this.type;this.loader.emit(i.FILE_COMPLETE,d,v,h),this.loader.emit(i.FILE_KEY_COMPLETE+v+"-"+d,d,v,h),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});o.createObjectURL=function(h,d,v){if(typeof URL=="function")h.src=URL.createObjectURL(d);else{var c=new FileReader;c.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(d.type||v)+";base64,"+c.result.split(",")[1]},c.onerror=h.onerror,c.readAsDataURL(d)}},o.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},u={};u.register=function(i,r,a,n){n===void 0&&(n=!1),t[i]={plugin:r,mapping:a,custom:n}},u.registerCustom=function(i,r,a,n){e[i]={plugin:r,mapping:a,data:n}},u.hasCore=function(i){return t.hasOwnProperty(i)},u.hasCustom=function(i){return e.hasOwnProperty(i)},u.getCore=function(i){return t[i]},u.getCustom=function(i){return e[i]},u.getCustomClass=function(i){return e.hasOwnProperty(i)?e[i].plugin:null},u.remove=function(i){t.hasOwnProperty(i)&&delete t[i]},u.removeCustom=function(i){e.hasOwnProperty(i)&&delete e[i]},u.destroyCorePlugins=function(){for(var i in t)t.hasOwnProperty(i)&&delete t[i]},u.destroyCustomPlugins=function(){for(var i in e)e.hasOwnProperty(i)&&delete e[i]},l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(14),i=t(3),r=new e({initialize:function(n,s,f,o,h,d){n===void 0&&(n=1),s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o=1),h===void 0&&(h=0),d===void 0&&(d=0),this.matrix=new Float32Array([n,s,f,o,h,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,n=a[0],s=a[1],f=a[2],o=a[3];return n||s?s>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):f||o?u.TAU-(o>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,n){var s=this.matrix;return s[4]=s[0]*a+s[2]*n+s[4],s[5]=s[1]*a+s[3]*n+s[5],this},scale:function(a,n){var s=this.matrix;return s[0]*=a,s[1]*=a,s[2]*=n,s[3]*=n,this},rotate:function(a){var n=Math.sin(a),s=Math.cos(a),f=this.matrix,o=f[0],h=f[1],d=f[2],v=f[3];return f[0]=o*s+d*n,f[1]=h*s+v*n,f[2]=o*-n+d*s,f[3]=h*-n+v*s,this},multiply:function(a,n){var s=this.matrix,f=a.matrix,o=s[0],h=s[1],d=s[2],v=s[3],c=s[4],p=s[5],g=f[0],T=f[1],E=f[2],S=f[3],C=f[4],P=f[5],A=n===void 0?this:n;return A.a=g*o+T*d,A.b=g*h+T*v,A.c=E*o+S*d,A.d=E*h+S*v,A.e=C*o+P*d+c,A.f=C*h+P*v+p,A},multiplyWithOffset:function(a,n,s){var f=this.matrix,o=a.matrix,h=f[0],d=f[1],v=f[2],c=f[3],p=f[4],g=f[5],T=n*h+s*v+p,E=n*d+s*c+g,S=o[0],C=o[1],P=o[2],A=o[3],R=o[4],M=o[5];return f[0]=S*h+C*v,f[1]=S*d+C*c,f[2]=P*h+A*v,f[3]=P*d+A*c,f[4]=R*h+M*v+T,f[5]=R*d+M*c+E,this},transform:function(a,n,s,f,o,h){var d=this.matrix,v=d[0],c=d[1],p=d[2],g=d[3],T=d[4],E=d[5];return d[0]=a*v+n*p,d[1]=a*c+n*g,d[2]=s*v+f*p,d[3]=s*c+f*g,d[4]=o*v+h*p+T,d[5]=o*c+h*g+E,this},transformPoint:function(a,n,s){s===void 0&&(s={x:0,y:0});var f=this.matrix,o=f[0],h=f[1],d=f[2],v=f[3],c=f[4],p=f[5];return s.x=a*o+n*d+c,s.y=a*h+n*v+p,s},invert:function(){var a=this.matrix,n=a[0],s=a[1],f=a[2],o=a[3],h=a[4],d=a[5],v=n*o-s*f;return a[0]=o/v,a[1]=-s/v,a[2]=-f/v,a[3]=n/v,a[4]=(f*d-o*h)/v,a[5]=-(n*d-s*h)/v,this},copyFrom:function(a){var n=this.matrix;return n[0]=a.a,n[1]=a.b,n[2]=a.c,n[3]=a.d,n[4]=a.e,n[5]=a.f,this},copyFromArray:function(a){var n=this.matrix;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],this},copyToContext:function(a){var n=this.matrix;return a.transform(n[0],n[1],n[2],n[3],n[4],n[5]),a},setToContext:function(a){var n=this.matrix;return a.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),a},copyToArray:function(a){var n=this.matrix;return a===void 0?a=[n[0],n[1],n[2],n[3],n[4],n[5]]:(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]),a},setTransform:function(a,n,s,f,o,h){var d=this.matrix;return d[0]=a,d[1]=n,d[2]=s,d[3]=f,d[4]=o,d[5]=h,this},decomposeMatrix:function(){var a=this.decomposedMatrix,n=this.matrix,s=n[0],f=n[1],o=n[2],h=n[3],d=s*h-f*o;if(a.translateX=n[4],a.translateY=n[5],s||f){var v=Math.sqrt(s*s+f*f);a.rotation=f>0?Math.acos(s/v):-Math.acos(s/v),a.scaleX=v,a.scaleY=d/v}else if(o||h){var c=Math.sqrt(o*o+h*h);a.rotation=Math.PI*.5-(h>0?Math.acos(-o/c):-Math.acos(o/c)),a.scaleX=d/c,a.scaleY=c}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,n,s,f,o){var h=this.matrix,d=Math.sin(s),v=Math.cos(s);return h[4]=a,h[5]=n,h[0]=v*f,h[1]=d*f,h[2]=-d*o,h[3]=v*o,this},applyInverse:function(a,n,s){s===void 0&&(s=new i);var f=this.matrix,o=f[0],h=f[1],d=f[2],v=f[3],c=f[4],p=f[5],g=1/(o*v+d*-h);return s.x=v*g*a+-d*g*n+(p*d-c*v)*g,s.y=o*g*n+-h*g*a+(-p*o+c*h)*g,s},getX:function(a,n){return a*this.a+n*this.c+this.e},getY:function(a,n){return a*this.b+n*this.d+this.f},getXRound:function(a,n,s){var f=this.getX(a,n);return s&&(f=Math.round(f)),f},getYRound:function(a,n,s){var f=this.getY(a,n);return s&&(f=Math.round(f)),f},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(i,r,a,n,s,f){i===void 0&&(i=0),r===void 0&&(r=0),a===void 0&&(a=f.width),n===void 0&&(n=f.height),s||(s={});var o=e(s,"isNotEmpty",!1),h=e(s,"isColliding",!1),d=e(s,"hasInterestingFace",!1);i<0&&(a+=i,i=0),r<0&&(n+=r,r=0),i+a>f.width&&(a=Math.max(f.width-i,0)),r+n>f.height&&(n=Math.max(f.height-r,0));for(var v=[],c=r;c<r+n;c++)for(var p=i;p<i+a;p++){var g=f.data[c][p];if(g!==null){if(o&&g.index===-1||h&&!g.collides||d&&!g.hasInterestingFace)continue;v.push(g)}}return v};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=1);var s,f=0,o=e.length;if(n===1)for(s=a;s<o;s++)e[s][u]=i+f*r,f++;else for(s=a;s>=0;s--)e[s][u]=i+f*r,f++;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(13),i=function(r,a,n){a.x=u(n,"x",0),a.y=u(n,"y",0),a.depth=u(n,"depth",0),a.flipX=u(n,"flipX",!1),a.flipY=u(n,"flipY",!1);var s=u(n,"scale",null);typeof s=="number"?a.setScale(s):s!==null&&(a.scaleX=u(s,"x",1),a.scaleY=u(s,"y",1));var f=u(n,"scrollFactor",null);typeof f=="number"?a.setScrollFactor(f):f!==null&&(a.scrollFactorX=u(f,"x",1),a.scrollFactorY=u(f,"y",1)),a.rotation=u(n,"rotation",0);var o=u(n,"angle",null);o!==null&&(a.angle=o),a.alpha=u(n,"alpha",1);var h=u(n,"origin",null);if(typeof h=="number")a.setOrigin(h);else if(h!==null){var d=u(h,"x",.5),v=u(h,"y",.5);a.setOrigin(d,v)}a.blendMode=u(n,"blendMode",e.NORMAL),a.visible=u(n,"visible",!0);var c=u(n,"add",!0);return c&&r.sys.displayList.add(a),a.preUpdate&&r.sys.updateList.add(a),a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(i,r,a,n,s){var f=n.alpha*a.alpha;if(f<=0)return!1;var o=e(a,n,s).calc;return r.globalCompositeOperation=i.blendModes[a.blendMode],r.globalAlpha=f,r.save(),o.setToContext(r),r.imageSmoothingEnabled=!(!i.antialias||a.frame&&a.frame.source.scaleMode),!0};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=t(192),i=[],r=!1,a=function(){var n=function(g,T,E,S,C){T===void 0&&(T=1),E===void 0&&(E=1),S===void 0&&(S=e.CANVAS),C===void 0&&(C=!1);var P,A=o(S);return A===null?(A={parent:g,canvas:document.createElement("canvas"),type:S},S===e.CANVAS&&i.push(A),P=A.canvas):(A.parent=g,P=A.canvas),C&&(A.parent=P),P.width=T,P.height=E,r&&S===e.CANVAS&&u.disable(P.getContext("2d")),P},s=function(g,T,E){return n(g,T,E,e.CANVAS)},f=function(g,T,E){return n(g,T,E,e.WEBGL)},o=function(g){if(g===void 0&&(g=e.CANVAS),g===e.WEBGL)return null;for(var T=0;T<i.length;T++){var E=i[T];if(!E.parent&&E.type===g)return E}return null},h=function(g){var T=g instanceof HTMLCanvasElement;i.forEach(function(E){(T&&E.canvas===g||!T&&E.parent===g)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},d=function(){var g=0;return i.forEach(function(T){T.parent&&g++}),g},v=function(){return i.length-d()},c=function(){r=!0},p=function(){r=!1};return{create2D:s,create:n,createWebGL:f,disableSmoothing:c,enableSmoothing:p,first:o,free:v,pool:i,remove:h,total:d}};l.exports=a()},function(l,x){var t={};l.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(u,i){var r,a;typeof i=="boolean"?(r=2,a=i):(r=1,a=!0);for(var n=r;n<arguments.length;n++){var s=arguments[n];if(s)for(var f in s)a&&s[f]&&s[f].constructor===Object&&(!u[f]||u[f].constructor===Object)?(u[f]=u[f]||{},t.extend(u[f],a,s[f])):u[f]=s[f]}return u},t.clone=function(u,i){return t.extend({},i,u)},t.keys=function(u){if(Object.keys)return Object.keys(u);var i=[];for(var r in u)i.push(r);return i},t.values=function(u){var i=[];if(Object.keys){for(var r=Object.keys(u),a=0;a<r.length;a++)i.push(u[r[a]]);return i}for(var n in u)i.push(u[n]);return i},t.get=function(u,i,r,a){i=i.split(".").slice(r,a);for(var n=0;n<i.length;n+=1)u=u[i[n]];return u},t.set=function(u,i,r,a,n){var s=i.split(".").slice(a,n);return t.get(u,i,0,-1)[s[s.length-1]]=r,r},t.shuffle=function(u){for(var i=u.length-1;i>0;i--){var r=Math.floor(t.random()*(i+1)),a=u[i];u[i]=u[r],u[r]=a}return u},t.choose=function(u){return u[Math.floor(t.random()*u.length)]},t.isElement=function(u){return typeof HTMLElement<"u"?u instanceof HTMLElement:!!(u&&u.nodeType&&u.nodeName)},t.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"},t.isFunction=function(u){return typeof u=="function"},t.isPlainObject=function(u){return typeof u=="object"&&u.constructor===Object},t.isString=function(u){return Object.prototype.toString.call(u)==="[object String]"},t.clamp=function(u,i,r){return u<i?i:u>r?r:u},t.sign=function(u){return u<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(u,i){return u=typeof u<"u"?u:0,i=typeof i<"u"?i:1,u+e()*(i-u)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(u){return u=u.replace("#",""),u.length==3&&(u=u.charAt(0)+u.charAt(0)+u.charAt(1)+u.charAt(1)+u.charAt(2)+u.charAt(2)),parseInt(u,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(u,i){if(u.indexOf)return u.indexOf(i);for(var r=0;r<u.length;r++)if(u[r]===i)return r;return-1},t.map=function(u,i){if(u.map)return u.map(i);for(var r=[],a=0;a<u.length;a+=1)r.push(i(u[a]));return r},t.topologicalSort=function(u){var i=[],r=[],a=[];for(var n in u)!r[n]&&!a[n]&&t._topologicalSort(n,r,a,u,i);return i},t._topologicalSort=function(u,i,r,a,n){var s=a[u]||[];r[u]=!0;for(var f=0;f<s.length;f+=1){var o=s[f];r[o]||i[o]||t._topologicalSort(o,i,r,a,n)}r[u]=!1,i[u]=!0,n.push(u)},t.chain=function(){for(var u=[],i=0;i<arguments.length;i+=1){var r=arguments[i];r._chained?u.push.apply(u,r._chained):u.push(r)}var a=function(){for(var n,s=new Array(arguments.length),f=0,o=arguments.length;f<o;f++)s[f]=arguments[f];for(f=0;f<u.length;f+=1){var h=u[f].apply(n,s);typeof h<"u"&&(n=h)}return n};return a._chained=u,a},t.chainPathBefore=function(u,i,r){return t.set(u,i,t.chain(r,t.get(u,i)))},t.chainPathAfter=function(u,i,r){return t.set(u,i,t.chain(t.get(u,i),r))}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(47),a=new e({Extends:i,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Transform,u.Visible],initialize:function(s,f,o){f===void 0&&(f="Shape"),i.call(this,s,f),this.geom=o,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(n,s){return s===void 0&&(s=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(n,s,f){return f===void 0&&(f=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=s,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,s){return this.width=n,this.height=s,this},setDisplaySize:function(n,s){return this.displayWidth=n,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(i){return i*e.DEG_TO_RAD};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(103),i=t(328),r=t(188),a=t(329),n=new e({initialize:function(f,o,h,d){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,o,h,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,f,o,h,d){return h===void 0&&(h=255),d===void 0&&(d=!0),this._locked=!0,this.red=s,this.green=f,this.blue=o,this.alpha=h,this._locked=!1,this.update(d)},setGLTo:function(s,f,o,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=s,this.greenGL=f,this.blueGL=o,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,f,o){return r(s,f,o,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var f=this.r,o=this.g,h=this.b,d=this.a;return this._color=u(f,o,h),this._color32=i(f,o,h,d),this._rgba="rgba("+f+","+o+","+h+","+d/255+")",s&&a(f,o,h,this),this},updateHSV:function(){var s=this.r,f=this.g,o=this.b;return a(s,f,o,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var o=Math.floor(s+Math.random()*(f-s)),h=Math.floor(s+Math.random()*(f-s)),d=Math.floor(s+Math.random()*(f-s));return this.setTo(o,h,d)},randomGray:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var o=Math.floor(s+Math.random()*(f-s));return this.setTo(o,o,o)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var f=this.r,o=this.g,h=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),this.setTo(f,o,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=a||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this},max:function(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this},clone:function(){return new u(this.x,this.y,this.z)},addVectors:function(i,r){return this.x=i.x+r.x,this.y=i.y+r.y,this.z=i.z+r.z,this},crossVectors:function(i,r){var a=i.x,n=i.y,s=i.z,f=r.x,o=r.y,h=r.z;return this.x=n*h-s*o,this.y=s*f-a*h,this.z=a*o-n*f,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this},set:function(i,r,a){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):(this.x=i||0,this.y=r||0,this.z=a||0),this},setFromMatrixPosition:function(i){return this.fromArray(i.val,12)},setFromMatrixColumn:function(i,r){return this.fromArray(i.val,r*4)},fromArray:function(i,r){return r===void 0&&(r=0),this.x=i[r],this.y=i[r+1],this.z=i[r+2],this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this},addScalar:function(i){return this.x+=i,this.y+=i,this.z+=i,this},addScale:function(i,r){return this.x+=i.x*r,this.y+=i.y*r,this.z+=i.z*r||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this},scale:function(i){return isFinite(i)?(this.x*=i,this.y*=i,this.z*=i):(this.x=0,this.y=0,this.z=0),this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0;return Math.sqrt(r*r+a*a+n*n)},distanceSq:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0;return r*r+a*a+n*n},length:function(){var i=this.x,r=this.y,a=this.z;return Math.sqrt(i*i+r*r+a*a)},lengthSq:function(){var i=this.x,r=this.y,a=this.z;return i*i+r*r+a*a},normalize:function(){var i=this.x,r=this.y,a=this.z,n=i*i+r*r+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=i*n,this.y=r*n,this.z=a*n),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z},cross:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,f=i.y,o=i.z;return this.x=a*o-n*f,this.y=n*s-r*o,this.z=r*f-a*s,this},lerp:function(i,r){r===void 0&&(r=0);var a=this.x,n=this.y,s=this.z;return this.x=a+r*(i.x-a),this.y=n+r*(i.y-n),this.z=s+r*(i.z-s),this},applyMatrix3:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=s[0]*r+s[3]*a+s[6]*n,this.y=s[1]*r+s[4]*a+s[7]*n,this.z=s[2]*r+s[5]*a+s[8]*n,this},applyMatrix4:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,f=1/(s[3]*r+s[7]*a+s[11]*n+s[15]);return this.x=(s[0]*r+s[4]*a+s[8]*n+s[12])*f,this.y=(s[1]*r+s[5]*a+s[9]*n+s[13])*f,this.z=(s[2]*r+s[6]*a+s[10]*n+s[14])*f,this},transformMat3:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=r*s[0]+a*s[3]+n*s[6],this.y=r*s[1]+a*s[4]+n*s[7],this.z=r*s[2]+a*s[5]+n*s[8],this},transformMat4:function(i){var r=this.x,a=this.y,n=this.z,s=i.val;return this.x=s[0]*r+s[4]*a+s[8]*n+s[12],this.y=s[1]*r+s[5]*a+s[9]*n+s[13],this.z=s[2]*r+s[6]*a+s[10]*n+s[14],this},transformCoordinates:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,f=r*s[0]+a*s[4]+n*s[8]+s[12],o=r*s[1]+a*s[5]+n*s[9]+s[13],h=r*s[2]+a*s[6]+n*s[10]+s[14],d=r*s[3]+a*s[7]+n*s[11]+s[15];return this.x=f/d,this.y=o/d,this.z=h/d,this},transformQuat:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,f=i.y,o=i.z,h=i.w,d=h*r+f*n-o*a,v=h*a+o*r-s*n,c=h*n+s*a-f*r,p=-s*r-f*a-o*n;return this.x=d*h+p*-s+v*-o-c*-f,this.y=v*h+p*-f+c*-s-d*-o,this.z=c*h+p*-o+d*-f-v*-s,this},project:function(i){var r=this.x,a=this.y,n=this.z,s=i.val,f=s[0],o=s[1],h=s[2],d=s[3],v=s[4],c=s[5],p=s[6],g=s[7],T=s[8],E=s[9],S=s[10],C=s[11],P=s[12],A=s[13],R=s[14],M=s[15],L=1/(r*d+a*g+n*C+M);return this.x=(r*f+a*v+n*T+P)*L,this.y=(r*o+a*c+n*E+A)*L,this.z=(r*h+a*p+n*S+R)*L,this},projectViewMatrix:function(i,r){return this.applyMatrix4(i).applyMatrix4(r)},unprojectViewMatrix:function(i,r){return this.applyMatrix4(i).applyMatrix4(r)},unproject:function(i,r){var a=i.x,n=i.y,s=i.z,f=i.w,o=this.x-a,h=f-this.y-1-n,d=this.z;return this.x=2*o/s-1,this.y=2*h/f-1,this.z=2*d-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});u.ZERO=new u,u.RIGHT=new u(1,0,0),u.LEFT=new u(-1,0,0),u.UP=new u(0,-1,0),u.DOWN=new u(0,1,0),u.FORWARD=new u(0,0,1),u.BACK=new u(0,0,-1),u.ONE=new u(1,1,1),l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(l,x,t){var e={};l.exports=e;var u=t(64),i=t(83),r=t(165),a=t(32),n=t(84),s=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(o){var h={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!o.hasOwnProperty("position")&&o.hasOwnProperty("vertices")?o.position=u.centre(o.vertices):o.hasOwnProperty("vertices")||(h.vertices=u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=a.extend(h,o);return f(d,o),d.setOnCollideWith=function(v,c){return c?this.onCollideWith[v.id]=c:delete this.onCollideWith[v.id],this},d},e.nextGroup=function(o){return o?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(o,h){h=h||{},e.set(o,{bounds:o.bounds||n.create(o.vertices),positionPrev:o.positionPrev||i.clone(o.position),anglePrev:o.anglePrev||o.angle,vertices:o.vertices,parts:o.parts||[o],isStatic:o.isStatic,isSleeping:o.isSleeping,parent:o.parent||o});var d=o.bounds;if(u.rotate(o.vertices,o.angle,o.position),s.rotate(o.axes,o.angle),n.update(d,o.vertices,o.velocity),e.set(o,{axes:h.axes||o.axes,area:h.area||o.area,mass:h.mass||o.mass,inertia:h.inertia||o.inertia}),o.parts.length===1){var v=o.centerOfMass,c=o.centerOffset,p=d.max.x-d.min.x,g=d.max.y-d.min.y;v.x=-(d.min.x-o.position.x)/p,v.y=-(d.min.y-o.position.y)/g,c.x=p*v.x,c.y=g*v.y}};e.set=function(o,h,d){var v;typeof h=="string"&&(v=h,h={},h[v]=d);for(v in h)if(Object.prototype.hasOwnProperty.call(h,v))switch(d=h[v],v){case"isStatic":e.setStatic(o,d);break;case"isSleeping":r.set(o,d);break;case"mass":e.setMass(o,d);break;case"density":e.setDensity(o,d);break;case"inertia":e.setInertia(o,d);break;case"vertices":e.setVertices(o,d);break;case"position":e.setPosition(o,d);break;case"angle":e.setAngle(o,d);break;case"velocity":e.setVelocity(o,d);break;case"angularVelocity":e.setAngularVelocity(o,d);break;case"parts":e.setParts(o,d);break;case"centre":e.setCentre(o,d);break;default:o[v]=d}},e.setStatic=function(o,h){for(var d=0;d<o.parts.length;d++){var v=o.parts[d];v.isStatic=h,h?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},e.setMass=function(o,h){var d=o.inertia/(o.mass/6);o.inertia=d*(h/6),o.inverseInertia=1/o.inertia,o.mass=h,o.inverseMass=1/o.mass,o.density=o.mass/o.area},e.setDensity=function(o,h){e.setMass(o,h*o.area),o.density=h},e.setInertia=function(o,h){o.inertia=h,o.inverseInertia=1/o.inertia},e.setVertices=function(o,h){h[0].body===o?o.vertices=h:o.vertices=u.create(h,o),o.axes=s.fromVertices(o.vertices),o.area=u.area(o.vertices),e.setMass(o,o.density*o.area);var d=u.centre(o.vertices);u.translate(o.vertices,d,-1),e.setInertia(o,e._inertiaScale*u.inertia(o.vertices,o.mass)),u.translate(o.vertices,o.position),n.update(o.bounds,o.vertices,o.velocity)},e.setParts=function(o,h,d){var v;for(h=h.slice(0),o.parts.length=0,o.parts.push(o),o.parent=o,v=0;v<h.length;v++){var c=h[v];c!==o&&(c.parent=o,o.parts.push(c))}if(o.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var p=[];for(v=0;v<h.length;v++)p=p.concat(h[v].vertices);u.clockwiseSort(p);var g=u.hull(p),T=u.centre(g);e.setVertices(o,g),u.translate(o.vertices,T)}var E=e._totalProperties(o),S=E.centre.x,C=E.centre.y,P=o.bounds,A=o.centerOfMass,R=o.centerOffset;n.update(P,o.vertices,o.velocity),A.x=-(P.min.x-S)/(P.max.x-P.min.x),A.y=-(P.min.y-C)/(P.max.y-P.min.y),R.x=S,R.y=C,o.area=E.area,o.parent=o,o.position.x=S,o.position.y=C,o.positionPrev.x=S,o.positionPrev.y=C,e.setMass(o,E.mass),e.setInertia(o,E.inertia),e.setPosition(o,E.centre)}},e.setCentre=function(o,h,d){d?(o.positionPrev.x+=h.x,o.positionPrev.y+=h.y,o.position.x+=h.x,o.position.y+=h.y):(o.positionPrev.x=h.x-(o.position.x-o.positionPrev.x),o.positionPrev.y=h.y-(o.position.y-o.positionPrev.y),o.position.x=h.x,o.position.y=h.y)},e.setPosition=function(o,h){var d=i.sub(h,o.position);o.positionPrev.x+=d.x,o.positionPrev.y+=d.y;for(var v=0;v<o.parts.length;v++){var c=o.parts[v];c.position.x+=d.x,c.position.y+=d.y,u.translate(c.vertices,d),n.update(c.bounds,c.vertices,o.velocity)}},e.setAngle=function(o,h){var d=h-o.angle;o.anglePrev+=d;for(var v=0;v<o.parts.length;v++){var c=o.parts[v];c.angle+=d,u.rotate(c.vertices,d,o.position),s.rotate(c.axes,d),n.update(c.bounds,c.vertices,o.velocity),v>0&&i.rotateAbout(c.position,d,o.position,c.position)}},e.setVelocity=function(o,h){o.positionPrev.x=o.position.x-h.x,o.positionPrev.y=o.position.y-h.y,o.velocity.x=h.x,o.velocity.y=h.y,o.speed=i.magnitude(o.velocity)},e.setAngularVelocity=function(o,h){o.anglePrev=o.angle-h,o.angularVelocity=h,o.angularSpeed=Math.abs(o.angularVelocity)},e.translate=function(o,h){e.setPosition(o,i.add(o.position,h))},e.rotate=function(o,h,d){if(!d)e.setAngle(o,o.angle+h);else{var v=Math.cos(h),c=Math.sin(h),p=o.position.x-d.x,g=o.position.y-d.y;e.setPosition(o,{x:d.x+(p*v-g*c),y:d.y+(p*c+g*v)}),e.setAngle(o,o.angle+h)}},e.scale=function(o,h,d,v){var c=0,p=0;v=v||o.position;for(var g=0;g<o.parts.length;g++){var T=o.parts[g];T.scale.x=h,T.scale.y=d,u.scale(T.vertices,h,d,v),T.axes=s.fromVertices(T.vertices),T.area=u.area(T.vertices),e.setMass(T,o.density*T.area),u.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*u.inertia(T.vertices,T.mass)),u.translate(T.vertices,{x:T.position.x,y:T.position.y}),g>0&&(c+=T.area,p+=T.inertia),T.position.x=v.x+(T.position.x-v.x)*h,T.position.y=v.y+(T.position.y-v.y)*d,n.update(T.bounds,T.vertices,o.velocity)}o.parts.length>1&&(o.area=c,o.isStatic||(e.setMass(o,o.density*c),e.setInertia(o,p))),o.circleRadius&&(h===d?o.circleRadius*=h:o.circleRadius=null)},e.update=function(o,h,d,v){var c=Math.pow(h*d*o.timeScale,2),p=1-o.frictionAir*d*o.timeScale,g=o.position.x-o.positionPrev.x,T=o.position.y-o.positionPrev.y;o.velocity.x=g*p*v+o.force.x/o.mass*c,o.velocity.y=T*p*v+o.force.y/o.mass*c,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.position.x+=o.velocity.x,o.position.y+=o.velocity.y,o.angularVelocity=(o.angle-o.anglePrev)*p*v+o.torque/o.inertia*c,o.anglePrev=o.angle,o.angle+=o.angularVelocity,o.speed=i.magnitude(o.velocity),o.angularSpeed=Math.abs(o.angularVelocity);for(var E=0;E<o.parts.length;E++){var S=o.parts[E];u.translate(S.vertices,o.velocity),E>0&&(S.position.x+=o.velocity.x,S.position.y+=o.velocity.y),o.angularVelocity!==0&&(u.rotate(S.vertices,o.angularVelocity,o.position),s.rotate(S.axes,o.angularVelocity),E>0&&i.rotateAbout(S.position,o.angularVelocity,o.position,S.position)),n.update(S.bounds,S.vertices,o.velocity)}},e.applyForce=function(o,h,d){o.force.x+=d.x,o.force.y+=d.y;var v={x:h.x-o.position.x,y:h.y-o.position.y};o.torque+=v.x*d.y-v.y*d.x},e._totalProperties=function(o){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=o.parts.length===1?0:1;d<o.parts.length;d++){var v=o.parts[d],c=v.mass!==1/0?v.mass:1;h.mass+=c,h.area+=v.area,h.inertia+=v.inertia,h.centre=i.add(h.centre,i.mult(v.position,c))}return h.centre=i.div(h.centre,h.mass),h}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=1);var s,f=0,o=e.length;if(n===1)for(s=a;s<o;s++)e[s][u]+=i+f*r,f++;else for(s=a;s>=0;s--)e[s][u]+=i+f*r,f++;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(307),i=t(172),r=t(56),a=t(173),n=t(3),s=new e({initialize:function(o,h,d,v){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=r.LINE,this.x1=o,this.y1=h,this.x2=d,this.y2=v},getPoint:function(f,o){return u(this,f,o)},getPoints:function(f,o,h){return i(this,f,o,h)},getRandomPoint:function(f){return a(this,f)},setTo:function(f,o,h,d){return f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),this.x1=f,this.y1=o,this.x2=h,this.y2=d,this},getPointA:function(f){return f===void 0&&(f=new n),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new n),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=i||u.fillColor,n=r||u.fillAlpha,s=(a&16711680)>>>16,f=(a&65280)>>>8,o=a&255;e.fillStyle="rgba("+s+","+f+","+o+","+n+")"};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s){var f=[];s.forEach(function(h){h&&f.push(h)}),this.loader=r,this.type=a,this.key=n,this.multiKeyIndex=r.multiKeyIndex++,this.files=f,this.complete=!1,this.pending=f.length,this.failed=0,this.config={},this.baseURL=r.baseURL,this.path=r.path,this.prefix=r.prefix;for(var o=0;o<f.length;o++)f[o].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(i){return this.files.push(i),i.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(i){var r=this.files.indexOf(i);r!==-1&&this.pending--},onFileFailed:function(i){var r=this.files.indexOf(i);r!==-1&&this.failed++}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=e-i,n=u-r;return Math.sqrt(a*a+n*n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.y=u+e.height*e.originY,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x=u+e.width*e.originX,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x=u-e.width+e.width*e.originX,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.y=u-e.height+e.height*e.originY,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=i&&e.y+e.height>=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(175),i=t(9),r=t(374),a=t(2),n=t(69),s=t(91),f=t(141),o=t(12),h=t(375),d=new e({Extends:i,initialize:function(c){i.call(this);var p=c.game,g=p.renderer,T=g.gl;this.name=a(c,"name","WebGLPipeline"),this.game=p,this.renderer=g,this.manager,this.gl=T,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=a(c,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=a(c,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=c,this.glReset=!1},boot:function(){var v,c=this.gl,p=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var T=this.renderTargets,E=a(p,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var S=g.width,C=g.height;if(typeof E=="number")for(v=0;v<E;v++)T.push(new f(g,S,C,1,0,!0));else if(Array.isArray(E))for(v=0;v<E.length;v++){var P=a(E[v],"scale",1),A=a(E[v],"minFilter",0),R=a(E[v],"autoClear",1);T.push(new f(g,S,C,P,A,R))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(p);var M=this.shaders,L=0;for(v=0;v<M.length;v++)M[v].vertexSize>L&&(L=M[v].vertexSize);var F=a(p,"batchSize",g.config.batchSize);this.vertexCapacity=F*6;var I=new ArrayBuffer(this.vertexCapacity*L);this.vertexData=I,this.bytes=new Uint8Array(I),this.vertexViewF32=new Float32Array(I),this.vertexViewU32=new Uint32Array(I);var B=a(p,"vertices",null);for(B?(this.vertexViewF32.set(B),this.vertexBuffer=g.createVertexBuffer(I,c.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(I.byteLength,c.DYNAMIC_DRAW),this.setVertexBuffer(),v=M.length-1;v>=0;v--)M[v].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,c){var p=this.renderer;if(v!==this.currentShader||p.currentProgram!==this.currentShader.program){this.flush(),p.resetTextures();var g=this.setVertexBuffer();g&&!c&&(c=!0),v.bind(c,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var c=this.shaders,p=0;p<c.length;p++)if(c[p].name===v)return c[p]},setShadersFromConfig:function(v){var c,p=this.shaders,g=this.renderer;for(c=0;c<p.length;c++)p[c].destroy();var T="vertShader",E="fragShader",S="attributes",C=a(v,T,null),P=o.parseFragmentShaderMaxTextures(a(v,E,null),g.maxTextures),A=a(v,S,null),R=a(v,"shaders",[]),M=R.length;if(M===0)C&&P&&(this.shaders=[new h(this,"default",C,P,u(A))]);else{var L=[];for(c=0;c<M;c++){var F=R[c],I=a(F,"name","default"),B=a(F,T,C),b=o.parseFragmentShaderMaxTextures(a(F,E,P),g.maxTextures),W=a(F,S,A);B&&b&&L.push(new h(this,I,B,b,u(W)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(v,c){return c===void 0&&(c=v.frame),this.currentUnit=this.renderer.setTextureSource(c.source),this.currentUnit},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},resize:function(v,c){(v!==this.width||c!==this.height)&&this.flush(),this.width=v,this.height=c;for(var p=this.renderTargets,g=0;g<p.length;g++)p[g].resize(v,c);return this.setProjectionMatrix(v,c),this.emit(r.RESIZE,v,c,this),this.onResize(v,c),this},setProjectionMatrix:function(v,c){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=v,this.projectionHeight=c,p.ortho(0,v,c,0,-1e3,1e3);for(var g=this.shaders,T="uProjectionMatrix",E=0;E<g.length;E++){var S=g[E];S.hasUniform(T)&&(S.resetUniform(T),S.setMatrix4fv(T,!1,p.val,S))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,c=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==c)&&this.setProjectionMatrix(v,c)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var c=this.setVertexBuffer();return v.bind(c),this.currentShader=v,this.emit(r.BIND,this,v),this.onActive(v),this},rebind:function(v){this.setVertexBuffer();for(var c=this.shaders,p=c.length-1;p>=0;p--){var g=c[p].rebind();(!v||g===v)&&(this.currentShader=g)}return this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var v=this.gl,c=this.vertexBuffer;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==c?(v.bindBuffer(v.ARRAY_BUFFER,c),!0):!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var c=this.gl,p=this.vertexCount,g=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),p===this.vertexCapacity?c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.DYNAMIC_DRAW):c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,p*g)),c.drawArrays(this.topology,0,p)),this.vertexCount=0,this.emit(r.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,c,p,g,T,E,S){var C=this.vertexViewF32,P=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++A]=v,C[++A]=c,C[++A]=p,C[++A]=g,C[++A]=T,C[++A]=E,P[++A]=S,this.vertexCount++},batchQuad:function(v,c,p,g,T,E,S,C,P,A,R,M,L,F,I,B,b,W,$,Z){Z===void 0&&(Z=this.currentUnit);var D=!1;return this.shouldFlush(6)&&(this.flush(),D=!0,Z=this.setTexture2D($)),this.batchVert(c,p,A,R,Z,W,F),this.batchVert(g,T,A,L,Z,W,B),this.batchVert(E,S,M,L,Z,W,b),this.batchVert(c,p,A,R,Z,W,F),this.batchVert(E,S,M,L,Z,W,b),this.batchVert(C,P,M,R,Z,W,I),this.onBatch(v),D},batchTri:function(v,c,p,g,T,E,S,C,P,A,R,M,L,F,I,B,b){b===void 0&&(b=this.currentUnit);var W=!1;return this.shouldFlush(3)&&(this.flush(),W=!0,b=this.setTexture2D(B)),this.batchVert(c,p,C,P,b,I,M),this.batchVert(g,T,C,R,b,I,L),this.batchVert(E,S,A,R,b,I,F),this.onBatch(v),W},drawFillRect:function(v,c,p,g,T,E,S,C){S===void 0&&(S=this.renderer.whiteTexture.glTexture),C===void 0&&(C=!0),v=Math.floor(v),c=Math.floor(c);var P=Math.floor(v+p),A=Math.floor(c+g),R=this.setTexture2D(S),M=o.getTintAppendFloatAlphaAndSwap(T,E),L=0,F=0,I=1,B=1;C&&(F=1,B=0),this.batchQuad(null,v,c,v,A,P,A,P,c,L,F,I,B,M,M,M,M,0,S,R)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(v),this.currentUnit},bindTexture:function(v,c){c===void 0&&(c=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+c),p.bindTexture(p.TEXTURE_2D,v),this},bindRenderTarget:function(v,c){return this.bindTexture(v.texture,c)},setTime:function(v){return this.set1f(v,this.game.loop.getDuration()),this},set1f:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set1f(v,c),this},set2f:function(v,c,p,g){return g===void 0&&(g=this.currentShader),g.set2f(v,c,p),this},set3f:function(v,c,p,g,T){return T===void 0&&(T=this.currentShader),T.set3f(v,c,p,g),this},set4f:function(v,c,p,g,T,E){return E===void 0&&(E=this.currentShader),E.set4f(v,c,p,g,T),this},set1fv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set1fv(v,c),this},set2fv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set2fv(v,c),this},set3fv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set3fv(v,c),this},set4fv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set4fv(v,c),this},set1iv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set1iv(v,c),this},set2iv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set2iv(v,c),this},set3iv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set3iv(v,c),this},set4iv:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set4iv(v,c),this},set1i:function(v,c,p){return p===void 0&&(p=this.currentShader),p.set1i(v,c),this},set2i:function(v,c,p,g){return g===void 0&&(g=this.currentShader),g.set2i(v,c,p),this},set3i:function(v,c,p,g,T){return T===void 0&&(T=this.currentShader),T.set3i(v,c,p,g),this},set4i:function(v,c,p,g,T,E){return E===void 0&&(E=this.currentShader),E.set4i(v,c,p,g,T),this},setMatrix2fv:function(v,c,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(v,c,p),this},setMatrix3fv:function(v,c,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(v,c,p),this},setMatrix4fv:function(v,c,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(v,c,p),this},destroy:function(){this.emit(r.DESTROY,this);var v,c=this.shaders;for(v=0;v<c.length;v++)c[v].destroy();var p=this.renderTargets;for(v=0;v<p.length;v++)p[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var g=this.renderer;return g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(O,N,G){G=G||2;var Y=N&&N.length,V=Y?N[0]*G:O.length,z=u(O,0,V,G,!0),H=[];if(!z||z.next===z.prev)return H;var j,q,et,ot,K,Q,tt;if(Y&&(z=o(O,N,z,G)),O.length>80*G){j=et=O[0],q=ot=O[1];for(var nt=G;nt<V;nt+=G)K=O[nt],Q=O[nt+1],K<j&&(j=K),Q<q&&(q=Q),K>et&&(et=K),Q>ot&&(ot=Q);tt=Math.max(et-j,ot-q),tt=tt!==0?1/tt:0}return r(z,H,G,j,q,tt),H}function u(O,N,G,Y,V){var z,H;if(V===D(O,N,G,Y)>0)for(z=N;z<G;z+=Y)H=W(z,O[z],O[z+1],H);else for(z=G-Y;z>=N;z-=Y)H=W(z,O[z],O[z+1],H);return H&&A(H,H.next)&&($(H),H=H.next),H}function i(O,N){if(!O)return O;N||(N=O);var G=O,Y;do if(Y=!1,!G.steiner&&(A(G,G.next)||P(G.prev,G,G.next)===0)){if($(G),G=N=G.prev,G===G.next)break;Y=!0}else G=G.next;while(Y||G!==N);return N}function r(O,N,G,Y,V,z,H){if(O){!H&&z&&p(O,Y,V,z);for(var j=O,q,et;O.prev!==O.next;){if(q=O.prev,et=O.next,z?n(O,Y,V,z):a(O)){N.push(q.i/G),N.push(O.i/G),N.push(et.i/G),$(O),O=et.next,j=et.next;continue}if(O=et,O===j){H?H===1?(O=s(i(O),N,G),r(O,N,G,Y,V,z,2)):H===2&&f(O,N,G,Y,V,z):r(i(O),N,G,Y,V,z,1);break}}}}function a(O){var N=O.prev,G=O,Y=O.next;if(P(N,G,Y)>=0)return!1;for(var V=O.next.next;V!==O.prev;){if(S(N.x,N.y,G.x,G.y,Y.x,Y.y,V.x,V.y)&&P(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function n(O,N,G,Y){var V=O.prev,z=O,H=O.next;if(P(V,z,H)>=0)return!1;for(var j=V.x<z.x?V.x<H.x?V.x:H.x:z.x<H.x?z.x:H.x,q=V.y<z.y?V.y<H.y?V.y:H.y:z.y<H.y?z.y:H.y,et=V.x>z.x?V.x>H.x?V.x:H.x:z.x>H.x?z.x:H.x,ot=V.y>z.y?V.y>H.y?V.y:H.y:z.y>H.y?z.y:H.y,K=T(j,q,N,G,Y),Q=T(et,ot,N,G,Y),tt=O.prevZ,nt=O.nextZ;tt&&tt.z>=K&&nt&&nt.z<=Q;){if(tt!==O.prev&&tt!==O.next&&S(V.x,V.y,z.x,z.y,H.x,H.y,tt.x,tt.y)&&P(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,nt!==O.prev&&nt!==O.next&&S(V.x,V.y,z.x,z.y,H.x,H.y,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;tt&&tt.z>=K;){if(tt!==O.prev&&tt!==O.next&&S(V.x,V.y,z.x,z.y,H.x,H.y,tt.x,tt.y)&&P(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;nt&&nt.z<=Q;){if(nt!==O.prev&&nt!==O.next&&S(V.x,V.y,z.x,z.y,H.x,H.y,nt.x,nt.y)&&P(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}function s(O,N,G){var Y=O;do{var V=Y.prev,z=Y.next.next;!A(V,z)&&R(V,Y,Y.next,z)&&I(V,z)&&I(z,V)&&(N.push(V.i/G),N.push(Y.i/G),N.push(z.i/G),$(Y),$(Y.next),Y=O=z),Y=Y.next}while(Y!==O);return i(Y)}function f(O,N,G,Y,V,z){var H=O;do{for(var j=H.next.next;j!==H.prev;){if(H.i!==j.i&&C(H,j)){var q=b(H,j);H=i(H,H.next),q=i(q,q.next),r(H,N,G,Y,V,z),r(q,N,G,Y,V,z);return}j=j.next}H=H.next}while(H!==O)}function o(O,N,G,Y){var V=[],z,H,j,q,et;for(z=0,H=N.length;z<H;z++)j=N[z]*Y,q=z<H-1?N[z+1]*Y:O.length,et=u(O,j,q,Y,!1),et===et.next&&(et.steiner=!0),V.push(E(et));for(V.sort(h),z=0;z<V.length;z++)d(V[z],G),G=i(G,G.next);return G}function h(O,N){return O.x-N.x}function d(O,N){if(N=v(O,N),N){var G=b(N,O);i(N,N.next),i(G,G.next)}}function v(O,N){var G=N,Y=O.x,V=O.y,z=-1/0,H;do{if(V<=G.y&&V>=G.next.y&&G.next.y!==G.y){var j=G.x+(V-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(j<=Y&&j>z){if(z=j,j===Y){if(V===G.y)return G;if(V===G.next.y)return G.next}H=G.x<G.next.x?G:G.next}}G=G.next}while(G!==N);if(!H)return null;if(Y===z)return H;var q=H,et=H.x,ot=H.y,K=1/0,Q;G=H;do Y>=G.x&&G.x>=et&&Y!==G.x&&S(V<ot?Y:z,V,et,ot,V<ot?z:Y,V,G.x,G.y)&&(Q=Math.abs(V-G.y)/(Y-G.x),I(G,O)&&(Q<K||Q===K&&(G.x>H.x||G.x===H.x&&c(H,G)))&&(H=G,K=Q)),G=G.next;while(G!==q);return H}function c(O,N){return P(O.prev,O,N.prev)<0&&P(N.next,O,O.next)<0}function p(O,N,G,Y){var V=O;do V.z===null&&(V.z=T(V.x,V.y,N,G,Y)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==O);V.prevZ.nextZ=null,V.prevZ=null,g(V)}function g(O){var N,G,Y,V,z,H,j,q,et=1;do{for(G=O,O=null,z=null,H=0;G;){for(H++,Y=G,j=0,N=0;N<et&&(j++,Y=Y.nextZ,!!Y);N++);for(q=et;j>0||q>0&&Y;)j!==0&&(q===0||!Y||G.z<=Y.z)?(V=G,G=G.nextZ,j--):(V=Y,Y=Y.nextZ,q--),z?z.nextZ=V:O=V,V.prevZ=z,z=V;G=Y}z.nextZ=null,et*=2}while(H>1);return O}function T(O,N,G,Y,V){return O=32767*(O-G)*V,N=32767*(N-Y)*V,O=(O|O<<8)&16711935,O=(O|O<<4)&252645135,O=(O|O<<2)&858993459,O=(O|O<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,O|N<<1}function E(O){var N=O,G=O;do(N.x<G.x||N.x===G.x&&N.y<G.y)&&(G=N),N=N.next;while(N!==O);return G}function S(O,N,G,Y,V,z,H,j){return(V-H)*(N-j)-(O-H)*(z-j)>=0&&(O-H)*(Y-j)-(G-H)*(N-j)>=0&&(G-H)*(z-j)-(V-H)*(Y-j)>=0}function C(O,N){return O.next.i!==N.i&&O.prev.i!==N.i&&!F(O,N)&&(I(O,N)&&I(N,O)&&B(O,N)&&(P(O.prev,O,N.prev)||P(O,N.prev,N))||A(O,N)&&P(O.prev,O,O.next)>0&&P(N.prev,N,N.next)>0)}function P(O,N,G){return(N.y-O.y)*(G.x-N.x)-(N.x-O.x)*(G.y-N.y)}function A(O,N){return O.x===N.x&&O.y===N.y}function R(O,N,G,Y){var V=L(P(O,N,G)),z=L(P(O,N,Y)),H=L(P(G,Y,O)),j=L(P(G,Y,N));return!!(V!==z&&H!==j||V===0&&M(O,G,N)||z===0&&M(O,Y,N)||H===0&&M(G,O,Y)||j===0&&M(G,N,Y))}function M(O,N,G){return N.x<=Math.max(O.x,G.x)&&N.x>=Math.min(O.x,G.x)&&N.y<=Math.max(O.y,G.y)&&N.y>=Math.min(O.y,G.y)}function L(O){return O>0?1:O<0?-1:0}function F(O,N){var G=O;do{if(G.i!==O.i&&G.next.i!==O.i&&G.i!==N.i&&G.next.i!==N.i&&R(G,G.next,O,N))return!0;G=G.next}while(G!==O);return!1}function I(O,N){return P(O.prev,O,O.next)<0?P(O,N,O.next)>=0&&P(O,O.prev,N)>=0:P(O,N,O.prev)<0||P(O,O.next,N)<0}function B(O,N){var G=O,Y=!1,V=(O.x+N.x)/2,z=(O.y+N.y)/2;do G.y>z!=G.next.y>z&&G.next.y!==G.y&&V<(G.next.x-G.x)*(z-G.y)/(G.next.y-G.y)+G.x&&(Y=!Y),G=G.next;while(G!==O);return Y}function b(O,N){var G=new Z(O.i,O.x,O.y),Y=new Z(N.i,N.x,N.y),V=O.next,z=N.prev;return O.next=N,N.prev=O,G.next=V,V.prev=G,Y.next=G,G.prev=Y,z.next=Y,Y.prev=z,Y}function W(O,N,G,Y){var V=new Z(O,N,G);return Y?(V.next=Y.next,V.prev=Y,Y.next.prev=V,Y.next=V):(V.prev=V,V.next=V),V}function $(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function Z(O,N,G){this.i=O,this.x=N,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(O,N,G,Y){var V=N&&N.length,z=V?N[0]*G:O.length,H=Math.abs(D(O,0,z,G));if(V)for(var j=0,q=N.length;j<q;j++){var et=N[j]*G,ot=j<q-1?N[j+1]*G:O.length;H-=Math.abs(D(O,et,ot,G))}var K=0;for(j=0;j<Y.length;j+=3){var Q=Y[j]*G,tt=Y[j+1]*G,nt=Y[j+2]*G;K+=Math.abs((O[Q]-O[nt])*(O[tt+1]-O[Q+1])-(O[Q]-O[tt])*(O[nt+1]-O[Q+1]))}return H===0&&K===0?0:Math.abs((K-H)/H)};function D(O,N,G,Y){for(var V=0,z=N,H=G-Y;z<G;z+=Y)V+=(O[H]-O[z])*(O[z+1]+O[H+1]),H=z;return V}e.flatten=function(O){for(var N=O[0][0].length,G={vertices:[],holes:[],dimensions:N},Y=0,V=0;V<O.length;V++){for(var z=0;z<O[V].length;z++)for(var H=0;H<N;H++)G.vertices.push(O[V][z][H]);V>0&&(Y+=O[V-1].length,G.holes.push(Y))}return G},l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=i||u.strokeColor,n=r||u.strokeAlpha,s=(a&16711680)>>>16,f=(a&65280)>>>8,o=a&255;e.strokeStyle="rgba("+s+","+f+","+o+","+n+")",e.lineWidth=u.lineWidth};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(6),s=t(7),f=new e({Extends:i,initialize:function(h,d,v,c,p){var g="json";if(s(d)){var T=d;d=a(T,"key"),v=a(T,"url"),c=a(T,"xhrSettings"),g=a(T,"extension",g),p=a(T,"dataKey",p)}var E={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:d,url:v,xhrSettings:c,config:p};i.call(this,h,E),s(v)&&(p?this.data=n(v,p):this.data=v,this.state=u.FILE_POPULATED)},onProcess:function(){if(this.state!==u.FILE_POPULATED){this.state=u.FILE_PROCESSING;try{var o=JSON.parse(this.xhrLoader.responseText)}catch(d){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),d}var h=this.config;typeof h=="string"?this.data=n(o,h,o):this.data=o}this.onProcessComplete()}});r.register("json",function(o,h,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new f(this,o[c]));else this.addFile(new f(this,o,h,v,d));return this}),l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=t(26),i=function(r,a,n,s,f){for(var o=null,h=null,d=null,v=null,c=u(r,a,n,s,null,f),p=0;p<c.length;p++){var g=c[p];g&&(g.collides?(o=e(g.x,g.y-1,!0,f),h=e(g.x,g.y+1,!0,f),d=e(g.x-1,g.y,!0,f),v=e(g.x+1,g.y,!0,f),g.faceTop=!(o&&o.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(d&&d.collides),g.faceRight=!(v&&v.collides)):g.resetFaces())}};l.exports=i},function(l,x,t){var e={};l.exports=e;var u=t(83),i=t(32);(function(){e.create=function(r,a){for(var n=[],s=0;s<r.length;s++){var f=r[s],o={x:f.x,y:f.y,index:s,body:a,isInternal:!1,contact:null,offset:null};o.contact={vertex:o,normalImpulse:0,tangentImpulse:0},n.push(o)}return n},e.fromPath=function(r,a){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(n,function(f,o,h){s.push({x:parseFloat(o),y:parseFloat(h)})}),e.create(s,a)},e.centre=function(r){for(var a=e.area(r,!0),n={x:0,y:0},s,f,o,h=0;h<r.length;h++)o=(h+1)%r.length,s=u.cross(r[h],r[o]),f=u.mult(u.add(r[h],r[o]),s),n=u.add(n,f);return u.div(n,6*a)},e.mean=function(r){for(var a={x:0,y:0},n=0;n<r.length;n++)a.x+=r[n].x,a.y+=r[n].y;return u.div(a,r.length)},e.area=function(r,a){for(var n=0,s=r.length-1,f=0;f<r.length;f++)n+=(r[s].x-r[f].x)*(r[s].y+r[f].y),s=f;return a?n/2:Math.abs(n)/2},e.inertia=function(r,a){for(var n=0,s=0,f=r,o,h,d=0;d<f.length;d++)h=(d+1)%f.length,o=Math.abs(u.cross(f[h],f[d])),n+=o*(u.dot(f[h],f[h])+u.dot(f[h],f[d])+u.dot(f[d],f[d])),s+=o;return a/6*(n/s)},e.translate=function(r,a,n){var s;if(n)for(s=0;s<r.length;s++)r[s].x+=a.x*n,r[s].y+=a.y*n;else for(s=0;s<r.length;s++)r[s].x+=a.x,r[s].y+=a.y;return r},e.rotate=function(r,a,n){if(a!==0){for(var s=Math.cos(a),f=Math.sin(a),o=0;o<r.length;o++){var h=r[o],d=h.x-n.x,v=h.y-n.y;h.x=n.x+(d*s-v*f),h.y=n.y+(d*f+v*s)}return r}},e.contains=function(r,a){for(var n=0;n<r.length;n++){var s=r[n],f=r[(n+1)%r.length];if((a.x-s.x)*(f.y-s.y)+(a.y-s.y)*(s.x-f.x)>0)return!1}return!0},e.scale=function(r,a,n,s){if(a===1&&n===1)return r;s=s||e.centre(r);for(var f,o,h=0;h<r.length;h++)f=r[h],o=u.sub(f,s),r[h].x=s.x+o.x*a,r[h].y=s.y+o.y*n;return r},e.chamfer=function(r,a,n,s,f){typeof a=="number"?a=[a]:a=a||[8],n=typeof n<"u"?n:-1,s=s||2,f=f||14;for(var o=[],h=0;h<r.length;h++){var d=r[h-1>=0?h-1:r.length-1],v=r[h],c=r[(h+1)%r.length],p=a[h<a.length?h:a.length-1];if(p===0){o.push(v);continue}var g=u.normalise({x:v.y-d.y,y:d.x-v.x}),T=u.normalise({x:c.y-v.y,y:v.x-c.x}),E=Math.sqrt(2*Math.pow(p,2)),S=u.mult(i.clone(g),p),C=u.normalise(u.mult(u.add(g,T),.5)),P=u.sub(v,u.mult(C,E)),A=n;n===-1&&(A=Math.pow(p,.32)*1.75),A=i.clamp(A,s,f),A%2===1&&(A+=1);for(var R=Math.acos(u.dot(g,T)),M=R/A,L=0;L<A;L++)o.push(u.add(u.rotate(S,M*L),P))}return o},e.clockwiseSort=function(r){var a=e.mean(r);return r.sort(function(n,s){return u.angle(a,n)-u.angle(a,s)}),r},e.isConvex=function(r){var a=0,n=r.length,s,f,o,h;if(n<3)return null;for(s=0;s<n;s++)if(f=(s+1)%n,o=(s+2)%n,h=(r[f].x-r[s].x)*(r[o].y-r[f].y),h-=(r[f].y-r[s].y)*(r[o].x-r[f].x),h<0?a|=1:h>0&&(a|=2),a===3)return!1;return a!==0?!0:null},e.hull=function(r){var a=[],n=[],s,f;for(r=r.slice(0),r.sort(function(o,h){var d=o.x-h.x;return d!==0?d:o.y-h.y}),f=0;f<r.length;f+=1){for(s=r[f];n.length>=2&&u.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}for(f=r.length-1;f>=0;f-=1){for(s=r[f];a.length>=2&&u.cross3(a[a.length-2],a[a.length-1],s)<=0;)a.pop();a.push(s)}return a.pop(),n.pop(),a.concat(n)}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(66),i=t(300),r=t(301),a=t(56),n=t(170),s=new e({initialize:function(o,h,d){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),this.type=a.CIRCLE,this.x=o,this.y=h,this._radius=d,this._diameter=d*2},contains:function(f,o){return u(this,f,o)},getPoint:function(f,o){return i(this,f,o)},getPoints:function(f,o,h){return r(this,f,o,h)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,o,h){return this.x=f,this.y=o,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,o){return o===void 0&&(o=f),this.x=f,this.y=o,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(e.radius>0&&u>=e.left&&u<=e.right&&i>=e.top&&i<=e.bottom){var r=(e.x-u)*(e.x-u),a=(e.y-i)*(e.y-i);return r+a<=e.radius*e.radius}else return!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i-u;return u+((e-u)%r+r)%r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(39),i=1e-6,r=new e({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new r(this)},set:function(h){return this.copy(h)},setValues:function(h,d,v,c,p,g,T,E,S,C,P,A,R,M,L,F){var I=this.val;return I[0]=h,I[1]=d,I[2]=v,I[3]=c,I[4]=p,I[5]=g,I[6]=T,I[7]=E,I[8]=S,I[9]=C,I[10]=P,I[11]=A,I[12]=R,I[13]=M,I[14]=L,I[15]=F,this},copy:function(h){var d=h.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,d,v){var c=a.fromQuat(v),p=c.val,g=d.x,T=d.y,E=d.z;return this.setValues(p[0]*g,p[1]*g,p[2]*g,0,p[4]*T,p[5]*T,p[6]*T,0,p[8]*E,p[9]*E,p[10]*E,0,h.x,h.y,h.z,1)},xyz:function(h,d,v){this.identity();var c=this.val;return c[12]=h,c[13]=d,c[14]=v,this},scaling:function(h,d,v){this.zero();var c=this.val;return c[0]=h,c[5]=d,c[10]=v,c[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,d=h[1],v=h[2],c=h[3],p=h[6],g=h[7],T=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=d,h[6]=h[9],h[7]=h[13],h[8]=v,h[9]=p,h[11]=h[14],h[12]=c,h[13]=g,h[14]=T,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,d=h[0],v=h[1],c=h[2],p=h[3],g=h[4],T=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15],B=d*T-v*g,b=d*E-c*g,W=d*S-p*g,$=v*E-c*T,Z=v*S-p*T,D=c*S-p*E,O=C*L-P*M,N=C*F-A*M,G=C*I-R*M,Y=P*F-A*L,V=P*I-R*L,z=A*I-R*F,H=B*z-b*V+W*Y+$*G-Z*N+D*O;return H?(H=1/H,this.setValues((T*z-E*V+S*Y)*H,(c*V-v*z-p*Y)*H,(L*D-F*Z+I*$)*H,(A*Z-P*D-R*$)*H,(E*G-g*z-S*N)*H,(d*z-c*G+p*N)*H,(F*W-M*D-I*b)*H,(C*D-A*W+R*b)*H,(g*V-T*G+S*O)*H,(v*G-d*V-p*O)*H,(M*Z-L*W+I*B)*H,(P*W-C*Z-R*B)*H,(T*N-g*Y-E*O)*H,(d*Y-v*N+c*O)*H,(L*b-M*$-F*B)*H,(C*$-P*b+A*B)*H)):this},adjoint:function(){var h=this.val,d=h[0],v=h[1],c=h[2],p=h[3],g=h[4],T=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15];return this.setValues(T*(A*I-R*F)-P*(E*I-S*F)+L*(E*R-S*A),-(v*(A*I-R*F)-P*(c*I-p*F)+L*(c*R-p*A)),v*(E*I-S*F)-T*(c*I-p*F)+L*(c*S-p*E),-(v*(E*R-S*A)-T*(c*R-p*A)+P*(c*S-p*E)),-(g*(A*I-R*F)-C*(E*I-S*F)+M*(E*R-S*A)),d*(A*I-R*F)-C*(c*I-p*F)+M*(c*R-p*A),-(d*(E*I-S*F)-g*(c*I-p*F)+M*(c*S-p*E)),d*(E*R-S*A)-g*(c*R-p*A)+C*(c*S-p*E),g*(P*I-R*L)-C*(T*I-S*L)+M*(T*R-S*P),-(d*(P*I-R*L)-C*(v*I-p*L)+M*(v*R-p*P)),d*(T*I-S*L)-g*(v*I-p*L)+M*(v*S-p*T),-(d*(T*R-S*P)-g*(v*R-p*P)+C*(v*S-p*T)),-(g*(P*F-A*L)-C*(T*F-E*L)+M*(T*A-E*P)),d*(P*F-A*L)-C*(v*F-c*L)+M*(v*A-c*P),-(d*(T*F-E*L)-g*(v*F-c*L)+M*(v*E-c*T)),d*(T*A-E*P)-g*(v*A-c*P)+C*(v*E-c*T))},determinant:function(){var h=this.val,d=h[0],v=h[1],c=h[2],p=h[3],g=h[4],T=h[5],E=h[6],S=h[7],C=h[8],P=h[9],A=h[10],R=h[11],M=h[12],L=h[13],F=h[14],I=h[15],B=d*T-v*g,b=d*E-c*g,W=d*S-p*g,$=v*E-c*T,Z=v*S-p*T,D=c*S-p*E,O=C*L-P*M,N=C*F-A*M,G=C*I-R*M,Y=P*F-A*L,V=P*I-R*L,z=A*I-R*F;return B*z-b*V+W*Y+$*G-Z*N+D*O},multiply:function(h){var d=this.val,v=d[0],c=d[1],p=d[2],g=d[3],T=d[4],E=d[5],S=d[6],C=d[7],P=d[8],A=d[9],R=d[10],M=d[11],L=d[12],F=d[13],I=d[14],B=d[15],b=h.val,W=b[0],$=b[1],Z=b[2],D=b[3];return d[0]=W*v+$*T+Z*P+D*L,d[1]=W*c+$*E+Z*A+D*F,d[2]=W*p+$*S+Z*R+D*I,d[3]=W*g+$*C+Z*M+D*B,W=b[4],$=b[5],Z=b[6],D=b[7],d[4]=W*v+$*T+Z*P+D*L,d[5]=W*c+$*E+Z*A+D*F,d[6]=W*p+$*S+Z*R+D*I,d[7]=W*g+$*C+Z*M+D*B,W=b[8],$=b[9],Z=b[10],D=b[11],d[8]=W*v+$*T+Z*P+D*L,d[9]=W*c+$*E+Z*A+D*F,d[10]=W*p+$*S+Z*R+D*I,d[11]=W*g+$*C+Z*M+D*B,W=b[12],$=b[13],Z=b[14],D=b[15],d[12]=W*v+$*T+Z*P+D*L,d[13]=W*c+$*E+Z*A+D*F,d[14]=W*p+$*S+Z*R+D*I,d[15]=W*g+$*C+Z*M+D*B,this},multiplyLocal:function(h){var d=this.val,v=h.val;return this.setValues(d[0]*v[0]+d[1]*v[4]+d[2]*v[8]+d[3]*v[12],d[0]*v[1]+d[1]*v[5]+d[2]*v[9]+d[3]*v[13],d[0]*v[2]+d[1]*v[6]+d[2]*v[10]+d[3]*v[14],d[0]*v[3]+d[1]*v[7]+d[2]*v[11]+d[3]*v[15],d[4]*v[0]+d[5]*v[4]+d[6]*v[8]+d[7]*v[12],d[4]*v[1]+d[5]*v[5]+d[6]*v[9]+d[7]*v[13],d[4]*v[2]+d[5]*v[6]+d[6]*v[10]+d[7]*v[14],d[4]*v[3]+d[5]*v[7]+d[6]*v[11]+d[7]*v[15],d[8]*v[0]+d[9]*v[4]+d[10]*v[8]+d[11]*v[12],d[8]*v[1]+d[9]*v[5]+d[10]*v[9]+d[11]*v[13],d[8]*v[2]+d[9]*v[6]+d[10]*v[10]+d[11]*v[14],d[8]*v[3]+d[9]*v[7]+d[10]*v[11]+d[11]*v[15],d[12]*v[0]+d[13]*v[4]+d[14]*v[8]+d[15]*v[12],d[12]*v[1]+d[13]*v[5]+d[14]*v[9]+d[15]*v[13],d[12]*v[2]+d[13]*v[6]+d[14]*v[10]+d[15]*v[14],d[12]*v[3]+d[13]*v[7]+d[14]*v[11]+d[15]*v[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,d){var v=h.val,c=d.val,p=v[0],g=v[4],T=v[8],E=v[12],S=v[1],C=v[5],P=v[9],A=v[13],R=v[2],M=v[6],L=v[10],F=v[14],I=v[3],B=v[7],b=v[11],W=v[15],$=c[0],Z=c[4],D=c[8],O=c[12],N=c[1],G=c[5],Y=c[9],V=c[13],z=c[2],H=c[6],j=c[10],q=c[14],et=c[3],ot=c[7],K=c[11],Q=c[15];return this.setValues(p*$+g*N+T*z+E*et,S*$+C*N+P*z+A*et,R*$+M*N+L*z+F*et,I*$+B*N+b*z+W*et,p*Z+g*G+T*H+E*ot,S*Z+C*G+P*H+A*ot,R*Z+M*G+L*H+F*ot,I*Z+B*G+b*H+W*ot,p*D+g*Y+T*j+E*K,S*D+C*Y+P*j+A*K,R*D+M*Y+L*j+F*K,I*D+B*Y+b*j+W*K,p*O+g*V+T*q+E*Q,S*O+C*V+P*q+A*Q,R*O+M*V+L*q+F*Q,I*O+B*V+b*q+W*Q)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,d,v){var c=this.val;return c[12]=c[0]*h+c[4]*d+c[8]*v+c[12],c[13]=c[1]*h+c[5]*d+c[9]*v+c[13],c[14]=c[2]*h+c[6]*d+c[10]*v+c[14],c[15]=c[3]*h+c[7]*d+c[11]*v+c[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,d,v){var c=this.val;return c[0]=c[0]*h,c[1]=c[1]*h,c[2]=c[2]*h,c[3]=c[3]*h,c[4]=c[4]*d,c[5]=c[5]*d,c[6]=c[6]*d,c[7]=c[7]*d,c[8]=c[8]*v,c[9]=c[9]*v,c[10]=c[10]*v,c[11]=c[11]*v,this},makeRotationAxis:function(h,d){var v=Math.cos(d),c=Math.sin(d),p=1-v,g=h.x,T=h.y,E=h.z,S=p*g,C=p*T;return this.setValues(S*g+v,S*T-c*E,S*E+c*T,0,S*T+c*E,C*T+v,C*E-c*g,0,S*E-c*T,C*E+c*g,p*E*E+v,0,0,0,0,1)},rotate:function(h,d){var v=this.val,c=d.x,p=d.y,g=d.z,T=Math.sqrt(c*c+p*p+g*g);if(Math.abs(T)<i)return this;T=1/T,c*=T,p*=T,g*=T;var E=Math.sin(h),S=Math.cos(h),C=1-S,P=v[0],A=v[1],R=v[2],M=v[3],L=v[4],F=v[5],I=v[6],B=v[7],b=v[8],W=v[9],$=v[10],Z=v[11],D=v[12],O=v[13],N=v[14],G=v[15],Y=c*c*C+S,V=p*c*C+g*E,z=g*c*C-p*E,H=c*p*C-g*E,j=p*p*C+S,q=g*p*C+c*E,et=c*g*C+p*E,ot=p*g*C-c*E,K=g*g*C+S;return this.setValues(P*Y+L*V+b*z,A*Y+F*V+W*z,R*Y+I*V+$*z,M*Y+B*V+Z*z,P*H+L*j+b*q,A*H+F*j+W*q,R*H+I*j+$*q,M*H+B*j+Z*q,P*et+L*ot+b*K,A*et+F*ot+W*K,R*et+I*ot+$*K,M*et+B*ot+Z*K,D,O,N,G)},rotateX:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),p=d[4],g=d[5],T=d[6],E=d[7],S=d[8],C=d[9],P=d[10],A=d[11];return d[4]=p*c+S*v,d[5]=g*c+C*v,d[6]=T*c+P*v,d[7]=E*c+A*v,d[8]=S*c-p*v,d[9]=C*c-g*v,d[10]=P*c-T*v,d[11]=A*c-E*v,this},rotateY:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),p=d[0],g=d[1],T=d[2],E=d[3],S=d[8],C=d[9],P=d[10],A=d[11];return d[0]=p*c-S*v,d[1]=g*c-C*v,d[2]=T*c-P*v,d[3]=E*c-A*v,d[8]=p*v+S*c,d[9]=g*v+C*c,d[10]=T*v+P*c,d[11]=E*v+A*c,this},rotateZ:function(h){var d=this.val,v=Math.sin(h),c=Math.cos(h),p=d[0],g=d[1],T=d[2],E=d[3],S=d[4],C=d[5],P=d[6],A=d[7];return d[0]=p*c+S*v,d[1]=g*c+C*v,d[2]=T*c+P*v,d[3]=E*c+A*v,d[4]=S*c-p*v,d[5]=C*c-g*v,d[6]=P*c-T*v,d[7]=A*c-E*v,this},fromRotationTranslation:function(h,d){var v=h.x,c=h.y,p=h.z,g=h.w,T=v+v,E=c+c,S=p+p,C=v*T,P=v*E,A=v*S,R=c*E,M=c*S,L=p*S,F=g*T,I=g*E,B=g*S;return this.setValues(1-(R+L),P+B,A-I,0,P-B,1-(C+L),M+F,0,A+I,M-F,1-(C+R),0,d.x,d.y,d.z,1)},fromQuat:function(h){var d=h.x,v=h.y,c=h.z,p=h.w,g=d+d,T=v+v,E=c+c,S=d*g,C=d*T,P=d*E,A=v*T,R=v*E,M=c*E,L=p*g,F=p*T,I=p*E;return this.setValues(1-(A+M),C+I,P-F,0,C-I,1-(S+M),R+L,0,P+F,R-L,1-(S+A),0,0,0,0,1)},frustum:function(h,d,v,c,p,g){var T=1/(d-h),E=1/(c-v),S=1/(p-g);return this.setValues(p*2*T,0,0,0,0,p*2*E,0,0,(d+h)*T,(c+v)*E,(g+p)*S,-1,0,0,g*p*2*S,0)},perspective:function(h,d,v,c){var p=1/Math.tan(h/2),g=1/(v-c);return this.setValues(p/d,0,0,0,0,p,0,0,0,0,(c+v)*g,-1,0,0,2*c*v*g,0)},perspectiveLH:function(h,d,v,c){return this.setValues(2*v/h,0,0,0,0,2*v/d,0,0,0,0,-c/(v-c),1,0,0,v*c/(v-c),0)},ortho:function(h,d,v,c,p,g){var T=h-d,E=v-c,S=p-g;return T=T===0?T:1/T,E=E===0?E:1/E,S=S===0?S:1/S,this.setValues(-2*T,0,0,0,0,-2*E,0,0,0,0,2*S,0,(h+d)*T,(c+v)*E,(g+p)*S,1)},lookAtRH:function(h,d,v){var c=this.val;return o.subVectors(h,d),o.getLengthSquared()===0&&(o.z=1),o.normalize(),s.crossVectors(v,o),s.getLengthSquared()===0&&(Math.abs(v.z)===1?o.x+=1e-4:o.z+=1e-4,o.normalize(),s.crossVectors(v,o)),s.normalize(),f.crossVectors(o,s),c[0]=s.x,c[1]=s.y,c[2]=s.z,c[4]=f.x,c[5]=f.y,c[6]=f.z,c[8]=o.x,c[9]=o.y,c[10]=o.z,this},lookAt:function(h,d,v){var c=h.x,p=h.y,g=h.z,T=v.x,E=v.y,S=v.z,C=d.x,P=d.y,A=d.z;if(Math.abs(c-C)<i&&Math.abs(p-P)<i&&Math.abs(g-A)<i)return this.identity();var R=c-C,M=p-P,L=g-A,F=1/Math.sqrt(R*R+M*M+L*L);R*=F,M*=F,L*=F;var I=E*L-S*M,B=S*R-T*L,b=T*M-E*R;F=Math.sqrt(I*I+B*B+b*b),F?(F=1/F,I*=F,B*=F,b*=F):(I=0,B=0,b=0);var W=M*b-L*B,$=L*I-R*b,Z=R*B-M*I;return F=Math.sqrt(W*W+$*$+Z*Z),F?(F=1/F,W*=F,$*=F,Z*=F):(W=0,$=0,Z=0),this.setValues(I,W,R,0,B,$,M,0,b,Z,L,0,-(I*c+B*p+b*g),-(W*c+$*p+Z*g),-(R*c+M*p+L*g),1)},yawPitchRoll:function(h,d,v){this.zero(),a.zero(),n.zero();var c=this.val,p=a.val,g=n.val,T=Math.sin(v),E=Math.cos(v);return c[10]=1,c[15]=1,c[0]=E,c[1]=T,c[4]=-T,c[5]=E,T=Math.sin(d),E=Math.cos(d),p[0]=1,p[15]=1,p[5]=E,p[10]=E,p[9]=-T,p[6]=T,T=Math.sin(h),E=Math.cos(h),g[5]=1,g[15]=1,g[0]=E,g[2]=-T,g[8]=T,g[10]=E,this.multiplyLocal(a),this.multiplyLocal(n),this},setWorldMatrix:function(h,d,v,c,p){return this.yawPitchRoll(h.y,h.x,h.z),a.scaling(v.x,v.y,v.z),n.xyz(d.x,d.y,d.z),this.multiplyLocal(a),this.multiplyLocal(n),c&&this.multiplyLocal(c),p&&this.multiplyLocal(p),this},multiplyToMat4:function(h,d){var v=this.val,c=h.val,p=v[0],g=v[1],T=v[2],E=v[3],S=v[4],C=v[5],P=v[6],A=v[7],R=v[8],M=v[9],L=v[10],F=v[11],I=v[12],B=v[13],b=v[14],W=v[15],$=c[0],Z=c[1],D=c[2],O=c[3],N=c[4],G=c[5],Y=c[6],V=c[7],z=c[8],H=c[9],j=c[10],q=c[11],et=c[12],ot=c[13],K=c[14],Q=c[15];return d.setValues($*p+Z*S+D*R+O*I,Z*g+Z*C+D*M+O*B,D*T+Z*P+D*L+O*b,O*E+Z*A+D*F+O*W,N*p+G*S+Y*R+V*I,N*g+G*C+Y*M+V*B,N*T+G*P+Y*L+V*b,N*E+G*A+Y*F+V*W,z*p+H*S+j*R+q*I,z*g+H*C+j*M+q*B,z*T+H*P+j*L+q*b,z*E+H*A+j*F+q*W,et*p+ot*S+K*R+Q*I,et*g+ot*C+K*M+Q*B,et*T+ot*P+K*L+Q*b,et*E+ot*A+K*F+Q*W)},fromRotationXYTranslation:function(h,d,v){var c=d.x,p=d.y,g=d.z,T=Math.sin(h.x),E=Math.cos(h.x),S=Math.sin(h.y),C=Math.cos(h.y),P=c,A=p,R=g,M=-T,L=0-M*S,F=0-E*S,I=M*C,B=E*C;return v||(P=C*c+S*g,A=L*c+E*p+I*g,R=F*c+T*p+B*g),this.setValues(C,L,F,0,0,E,T,0,S,I,B,0,P,A,R,1)},getMaxScaleOnAxis:function(){var h=this.val,d=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],v=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],c=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(d,v,c))}}),a=new r,n=new r,s=new u,f=new u,o=new u;l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function f(o,h,d,v,c){var p="png",g;if(n(h)){var T=h;h=a(T,"key"),d=a(T,"url"),g=a(T,"normalMap"),v=a(T,"xhrSettings"),p=a(T,"extension",p),c=a(T,"frameConfig")}Array.isArray(d)&&(g=d[1],d=d[0]);var E={type:"image",cache:o.textureManager,extension:p,responseType:"blob",key:h,url:d,xhrSettings:v,config:c};if(i.call(this,o,E),g){var S=new f(o,this.key,g,v,c);S.type="normalMap",this.setLink(S),o.addFile(S)}},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){i.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(f.data),f.onProcessError()},i.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var f,o=this.linkFile;o&&o.state===u.FILE_COMPLETE?(this.type==="image"?f=this.cache.addImage(this.key,this.data,o.data):f=this.cache.addImage(o.key,o.data,this.data),this.pendingDestroy(f),o.pendingDestroy(f)):o||(f=this.cache.addImage(this.key,this.data),this.pendingDestroy(f))}});r.register("image",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),i=t(11),r=t(15),a=t(1065),n=new u({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,a],initialize:function(f,o,h,d,v){r.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(d,v),this.setPosition(o,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,f){this.anims.update(s,f)},play:function(s,f){return this.anims.play(s,f)},playReverse:function(s,f){return this.anims.playReverse(s,f)},playAfterDelay:function(s,f){return this.anims.playAfterDelay(s,f)},playAfterRepeat:function(s,f){return this.anims.playAfterRepeat(s,f)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return i.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){if(!(u>=e.length)){for(var i=e.length-1,r=e[u],a=u;a<i;a++)e[a]=e[a+1];return e.length=i,r}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return i===void 0&&(i=0),u===0?e:(e-=i,e=u*Math.floor(e/u),r?(i+e)/u:i+e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={};for(var i in e)Array.isArray(e[i])?u[i]=e[i].slice(0):u[i]=e[i];return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=e.length;if(u<0||u>a||u>=i||i>a||u+i>a){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){return String(r).localeCompare(a)}function e(r,a){var n=r.length;if(n<=1)return r;for(var s=new Array(n),f=1;f<n;f*=2){u(r,a,f,s);var o=r;r=s,s=o}return r}function u(r,a,n,s){var f=r.length,o=0,h=n*2,d,v,c,p,g;for(d=0;d<f;d+=h)for(v=d+n,c=v+n,v>f&&(v=f),c>f&&(c=f),p=d,g=v;;)if(p<v&&g<c)a(r[p],r[g])<=0?s[o++]=r[p++]:s[o++]=r[g++];else if(p<v)s[o++]=r[p++];else if(g<c)s[o++]=r[g++];else break}var i=function(r,a){a===void 0&&(a=t);var n=e(r,a);return n!==r&&u(n,null,r.length,r),r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),u=t(205),i=function(r,a){var n=e.Power0;if(typeof r=="string")if(e.hasOwnProperty(r))n=e[r];else{var s="";r.indexOf(".")&&(s=r.substr(r.indexOf(".")+1),s.toLowerCase()==="in"?s="easeIn":s.toLowerCase()==="out"?s="easeOut":s.toLowerCase()==="inout"&&(s="easeInOut")),r=u(r.substr(0,r.indexOf(".")+1)+s),e.hasOwnProperty(r)&&(n=e[r])}else typeof r=="function"?n=r:Array.isArray(r)&&r.length;if(!a)return n;var f=a.slice(0);return f.unshift(0),function(o){return f[0]=o,n.apply(this,f)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a,n,s){var f=i.strokeTint,o=e.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*a);f.TL=o,f.TR=o,f.BL=o,f.BR=o;var h=r.pathData,d=h.length-1,v=r.lineWidth,c=v/2,p=h[0]-n,g=h[1]-s;r.closePath||(d-=2);for(var T=2;T<d;T+=2){var E=h[T]-n,S=h[T+1]-s;i.batchLine(p,g,E,S,c,c,v,T-2,r.closePath?T===d-1:!1),p=E,g=S}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(115),i=t(476),r=t(477),a=t(56),n=t(47),s=t(181),f=new e({initialize:function(h,d,v,c,p,g){h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=a.TRIANGLE,this.x1=h,this.y1=d,this.x2=v,this.y2=c,this.x3=p,this.y3=g},contains:function(o,h){return u(this,o,h)},getPoint:function(o,h){return i(this,o,h)},getPoints:function(o,h,d){return r(this,o,h,d)},getRandomPoint:function(o){return s(this,o)},setTo:function(o,h,d,v,c,p){return o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),this.x1=o,this.y1=h,this.x2=d,this.y2=v,this.x3=c,this.y3=p,this},getLineA:function(o){return o===void 0&&(o=new n),o.setTo(this.x1,this.y1,this.x2,this.y2),o},getLineB:function(o){return o===void 0&&(o=new n),o.setTo(this.x2,this.y2,this.x3,this.y3),o},getLineC:function(o){return o===void 0&&(o=new n),o.setTo(this.x3,this.y3,this.x1,this.y1),o},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(o){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-o:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-o:h=this.x3-o,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(o){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-o:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-o:h=this.x3-o,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(o){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-o:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-o:h=this.y3-o,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(o){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-o:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-o:h=this.y3-o,this.y1-=h,this.y2-=h,this.y3-=h}}});l.exports=f},function(l,x){var t={};l.exports=t,function(){t.create=function(e,u){return{x:e||0,y:u||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,u,i){var r=Math.cos(u),a=Math.sin(u);i||(i={});var n=e.x*r-e.y*a;return i.y=e.x*a+e.y*r,i.x=n,i},t.rotateAbout=function(e,u,i,r){var a=Math.cos(u),n=Math.sin(u);r||(r={});var s=i.x+((e.x-i.x)*a-(e.y-i.y)*n);return r.y=i.y+((e.x-i.x)*n+(e.y-i.y)*a),r.x=s,r},t.normalise=function(e){var u=t.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},t.dot=function(e,u){return e.x*u.x+e.y*u.y},t.cross=function(e,u){return e.x*u.y-e.y*u.x},t.cross3=function(e,u,i){return(u.x-e.x)*(i.y-e.y)-(u.y-e.y)*(i.x-e.x)},t.add=function(e,u,i){return i||(i={}),i.x=e.x+u.x,i.y=e.y+u.y,i},t.sub=function(e,u,i){return i||(i={}),i.x=e.x-u.x,i.y=e.y-u.y,i},t.mult=function(e,u){return{x:e.x*u,y:e.y*u}},t.div=function(e,u){return{x:e.x/u,y:e.y/u}},t.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(l,x){var t={};l.exports=t,function(){t.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(u,e),u},t.update=function(e,u,i){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<u.length;r++){var a=u[r];a.x>e.max.x&&(e.max.x=a.x),a.x<e.min.x&&(e.min.x=a.x),a.y>e.max.y&&(e.max.y=a.y),a.y<e.min.y&&(e.min.y=a.y)}i&&(i.x>0?e.max.x+=i.x:e.min.x+=i.x,i.y>0?e.max.y+=i.y:e.min.y+=i.y)},t.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},t.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},t.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},t.shift=function(e,u){var i=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+i,e.min.y=u.y,e.max.y=u.y+r}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(0),i=t(11),r=t(502),a=new u({Mixins:[i.Alpha,i.Flip,i.Visible],initialize:function(s,f,o,h,d,v,c,p){this.layer=s,this.index=f,this.x=o,this.y=h,this.width=d,this.height=v,this.right,this.bottom,this.baseWidth=c!==void 0?c:d,this.baseHeight=p!==void 0?p:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(n,s){return!(n<this.pixelX||s<this.pixelY||n>this.right||s>this.bottom)},copy:function(n){return this.index=n.index,this.alpha=n.alpha,this.properties=n.properties,this.visible=n.visible,this.setFlip(n.flipX,n.flipY),this.tint=n.tint,this.rotation=n.rotation,this.collideUp=n.collideUp,this.collideDown=n.collideDown,this.collideLeft=n.collideLeft,this.collideRight=n.collideRight,this.collisionCallback=n.collisionCallback,this.collisionCallbackContext=n.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(n){var s=this.tilemapLayer;return s?s.tileToWorldX(this.x,n):this.x*this.baseWidth},getRight:function(n){var s=this.tilemapLayer;return s?this.getLeft(n)+this.width*s.scaleX:this.getLeft(n)+this.width},getTop:function(n){var s=this.tilemapLayer;return s?s.tileToWorldY(this.y,n)-(this.height-this.baseHeight)*s.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(n){var s=this.tilemapLayer;return s?this.getTop(n)+this.height*s.scaleY:this.getTop(n)+this.height},getBounds:function(n,s){return s===void 0&&(s=new r),s.x=this.getLeft(),s.y=this.getTop(),s.width=this.getRight()-s.x,s.height=this.getBottom()-s.y,s},getCenterX:function(n){return(this.getLeft(n)+this.getRight(n))/2},getCenterY:function(n){return(this.getTop(n)+this.getBottom(n))/2},intersects:function(n,s,f,o){return!(f<=this.pixelX||o<=this.pixelY||n>=this.right||s>=this.bottom)},isInteresting:function(n,s){return n&&s?this.canCollide||this.hasInterestingFace:n?this.collides:s?this.hasInterestingFace:!1},resetCollision:function(n){if(n===void 0&&(n=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,n){var s=this.tilemapLayer;s&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(n,s,f,o,h){if(s===void 0&&(s=n),f===void 0&&(f=n),o===void 0&&(o=n),h===void 0&&(h=!0),this.collideLeft=n,this.collideRight=s,this.collideUp=f,this.collideDown=o,this.faceLeft=n,this.faceRight=s,this.faceTop=f,this.faceBottom=o,h){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(n,s){return n===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=n,this.collisionCallbackContext=s),this},setSize:function(n,s,f,o){return n!==void 0&&(this.width=n),s!==void 0&&(this.height=s),f!==void 0&&(this.baseWidth=f),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var n=this.layer.orientation;if(n===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(n===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(n===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(n===e.HEXAGONAL){var s=this.layer.hexSideLength,f=(this.baseHeight-s)/2+s;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*f}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var n=this.layer.tilemapLayer;if(n){var s=n.gidMap[this.index];if(s)return s}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var n=this.tilemapLayer;return n?n.tilemap:null}}});l.exports=a},function(l,x,t){var e={};l.exports=e;var u=t(64),i=t(32),r=t(41),a=t(84),n=t(83),s=t(1393);(function(){e.rectangle=function(f,o,h,d,v){v=v||{};var c={label:"Rectangle Body",position:{x:f,y:o},vertices:u.fromPath("L 0 0 L "+h+" 0 L "+h+" "+d+" L 0 "+d)};if(v.chamfer){var p=v.chamfer;c.vertices=u.chamfer(c.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete v.chamfer}return r.create(i.extend({},c,v))},e.trapezoid=function(f,o,h,d,v,c){c=c||{},v*=.5;var p=(1-v*2)*h,g=h*v,T=g+p,E=T+g,S;v<.5?S="L 0 0 L "+g+" "+-d+" L "+T+" "+-d+" L "+E+" 0":S="L 0 0 L "+T+" "+-d+" L "+E+" 0";var C={label:"Trapezoid Body",position:{x:f,y:o},vertices:u.fromPath(S)};if(c.chamfer){var P=c.chamfer;C.vertices=u.chamfer(C.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete c.chamfer}return r.create(i.extend({},C,c))},e.circle=function(f,o,h,d,v){d=d||{};var c={label:"Circle Body",circleRadius:h};v=v||25;var p=Math.ceil(Math.max(10,Math.min(v,h)));return p%2===1&&(p+=1),e.polygon(f,o,p,h,i.extend({},c,d))},e.polygon=function(f,o,h,d,v){if(v=v||{},h<3)return e.circle(f,o,d,v);for(var c=2*Math.PI/h,p="",g=c*.5,T=0;T<h;T+=1){var E=g+T*c,S=Math.cos(E)*d,C=Math.sin(E)*d;p+="L "+S.toFixed(3)+" "+C.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:f,y:o},vertices:u.fromPath(p)};if(v.chamfer){var A=v.chamfer;P.vertices=u.chamfer(P.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete v.chamfer}return r.create(i.extend({},P,v))},e.fromVertices=function(f,o,h,d,v,c,p){var g,T,E,S,C,P;for(d=d||{},T=[],v=typeof v<"u"?v:!1,c=typeof c<"u"?c:.01,p=typeof p<"u"?p:10,s||i.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),i.isArray(h[0])||(h=[h]),P=0;P<h.length;P+=1)if(S=h[P],E=u.isConvex(S),E||!s)E?S=u.clockwiseSort(S):S=u.hull(S),T.push({position:{x:f,y:o},vertices:S});else{var A=S.map(function(F){return[F.x,F.y]});s.makeCCW(A),c!==!1&&s.removeCollinearPoints(A,c);var R=s.quickDecomp(A);for(C=0;C<R.length;C++){var M=R[C],L=M.map(function(F){return{x:F[0],y:F[1]}});p>0&&u.area(L)<p||T.push({position:u.centre(L),vertices:L})}}for(C=0;C<T.length;C++)T[C]=r.create(i.extend(T[C],d));return v&&e.flagCoincidentParts(T,5),T.length>1?(g=r.create(i.extend({parts:T.slice(0)},d)),r.setPosition(g,{x:f,y:o}),g):T[0]},e.flagCoincidentParts=function(f,o){o===void 0&&(o=5);for(var h=0;h<f.length;h++)for(var d=f[h],v=h+1;v<f.length;v++){var c=f[v];if(a.overlaps(d.bounds,c.bounds))for(var p=d.vertices,g=c.vertices,T=0;T<d.vertices.length;T++)for(var E=0;E<c.vertices.length;E++){var S=n.magnitudeSquared(n.sub(p[(T+1)%p.length],g[E])),C=n.magnitudeSquared(n.sub(p[T],g[(E+1)%g.length]));S<o&&C<o&&(p[T].isInternal=!0,g[E].isInternal=!0)}}return f}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.width*e.originX;return e.x=u+i-e.width*.5,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.height*e.originY;return e.y=u+i-e.height*.5,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(i,r,a,n){n===void 0&&(n=i);var s;if(!Array.isArray(r))return s=i.indexOf(r),s!==-1?(e(i,s),a&&a.call(n,r),r):null;for(var f=r.length-1,o=[];f>=0;){var h=r[f];s=i.indexOf(h),s!==-1&&(e(i,s),o.push(h),a&&a.call(n,h)),f--}return o};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(199),i=t(10),r=t(3),a=new e({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(n,s){return s===void 0&&(s=32),n.strokePoints(this.getPoints(s))},getBounds:function(n,s){n||(n=new i),s===void 0&&(s=16);var f=this.getLength();s>f&&(s=f/2);var o=Math.max(1,Math.round(f/s));return u(this.getSpacedPoints(o),n)},getDistancePoints:function(n){var s=this.getLength(),f=Math.max(1,s/n);return this.getSpacedPoints(f)},getEndPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],f,o=this.getPoint(0,this._tmpVec2A),h=0;s.push(0);for(var d=1;d<=n;d++)f=this.getPoint(d/n,this._tmpVec2B),h+=f.distance(o),s.push(h),o.copy(f);return this.cacheArcLengths=s,s},getPointAt:function(n,s){var f=this.getUtoTmapping(n);return this.getPoint(f,s)},getPoints:function(n,s,f){f===void 0&&(f=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var o=0;o<=n;o++)f.push(this.getPoint(o/n));return f},getRandomPoint:function(n){return n===void 0&&(n=new r),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,s,f){f===void 0&&(f=[]),n||(s?n=this.getLength()/s:n=this.defaultDivisions);for(var o=0;o<=n;o++){var h=this.getUtoTmapping(o/n,null,n);f.push(this.getPoint(h))}return f},getStartPoint:function(n){return n===void 0&&(n=new r),this.getPointAt(0,n)},getTangent:function(n,s){s===void 0&&(s=new r);var f=1e-4,o=n-f,h=n+f;return o<0&&(o=0),h>1&&(h=1),this.getPoint(o,this._tmpVec2A),this.getPoint(h,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,s){var f=this.getUtoTmapping(n);return this.getTangent(f,s)},getTFromDistance:function(n,s){return n<=0?0:this.getUtoTmapping(0,n,s)},getUtoTmapping:function(n,s,f){var o=this.getLengths(f),h=0,d=o.length,v;s?v=Math.min(s,o[d-1]):v=n*o[d-1];for(var c=0,p=d-1,g;c<=p;)if(h=Math.floor(c+(p-c)/2),g=o[h]-v,g<0)c=h+1;else if(g>0)p=h-1;else{p=h;break}if(h=p,o[h]===v)return h/(d-1);var T=o[h],E=o[h+1],S=E-T,C=(v-T)/S;return(h+C)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){a===void 0&&(a=new e);var n=i.x1,s=i.y1,f=i.x2,o=i.y2,h=r.x1,d=r.y1,v=r.x2,c=r.y2,p=(v-h)*(s-d)-(c-d)*(n-h),g=(f-n)*(s-d)-(o-s)*(n-h),T=(c-d)*(f-n)-(v-h)*(o-s);if(T===0)return!1;var E=p/T,S=g/T;return E>=0&&E<=1&&S>=0&&S<=1?(a.x=n+E*(f-n),a.y=s+E*(o-s),!0):!1};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=function(i,r,a){return i=e(i,0,1),(a-r)*i+r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e&&e.hasOwnProperty(u)?e[u]:i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(315),i=new e({initialize:function(a,n){this.parent=a,this.events=n,n||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(u.DESTROY,this.destroy,this)},get:function(r){var a=this.list;if(Array.isArray(r)){for(var n=[],s=0;s<r.length;s++)n.push(a[r[s]]);return n}else return a[r]},getAll:function(){var r={};for(var a in this.list)this.list.hasOwnProperty(a)&&(r[a]=this.list[a]);return r},query:function(r){var a={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(r)&&(a[n]=this.list[n]);return a},set:function(r,a){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,a);for(var n in r)this.setValue(n,r[n]);return this},inc:function(r,a){if(this._frozen)return this;a===void 0&&(a=1);var n=this.get(r);return n===void 0&&(n=0),this.set(r,n+a),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,a){if(this._frozen)return this;if(this.has(r))this.values[r]=a;else{var n=this,s=this.list,f=this.events,o=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(h){if(!n._frozen){var d=s[r];s[r]=h,f.emit(u.CHANGE_DATA,o,r,h,d),f.emit(u.CHANGE_DATA_KEY+r,o,h,d)}}}),s[r]=a,f.emit(u.SET_DATA,o,r,a)}return this},each:function(r,a){for(var n=[this.parent,null,void 0],s=1;s<arguments.length;s++)n.push(arguments[s]);for(var f in this.list)n[1]=f,n[2]=this.list[f],r.apply(a,n);return this},merge:function(r,a){a===void 0&&(a=!0);for(var n in r)r.hasOwnProperty(n)&&(a||!a&&!this.has(n))&&this.setValue(n,r[n]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var a=0;a<r.length;a++)this.removeValue(r[a]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var a=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(u.REMOVE_DATA,this.parent,r,a)}return this},pop:function(r){var a=void 0;return!this._frozen&&this.has(r)&&(a=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(u.REMOVE_DATA,this.parent,r,a)),a},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(u.CHANGE_DATA),this.events.off(u.SET_DATA),this.events.off(u.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var a in this.list)this.list[a]!==void 0&&r++;return r}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r){if(this.entries={},this.size=0,Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a][0],r[a][1])},set:function(i,r){return this.has(i)||this.size++,this.entries[i]=r,this},get:function(i){if(this.has(i))return this.entries[i]},getArray:function(){var i=[],r=this.entries;for(var a in r)i.push(r[a]);return i},has:function(i){return this.entries.hasOwnProperty(i)},delete:function(i){return this.has(i)&&(delete this.entries[i],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(i){delete this.entries[i]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var i=[],r=this.entries;for(var a in r)i.push(r[a]);return i},dump:function(){var i=this.entries;console.group("Map");for(var r in i)console.log(r,i[r]);console.groupEnd()},each:function(i){var r=this.entries;for(var a in r)if(i(a,r[a])===!1)break;return this},contains:function(i){var r=this.entries;for(var a in r)if(r[a]===i)return!0;return!1},merge:function(i,r){r===void 0&&(r=!1);var a=this.entries,n=i.entries;for(var s in n)a.hasOwnProperty(s)&&r?a[s]=n[s]:this.set(s,n[s]);return this}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e<<16|u<<8|i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(l,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var u={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return u;var r=navigator.userAgent;/Windows/.test(r)?u.windows=!0:/Mac OS/.test(r)&&!/like Mac OS/.test(r)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(u.iOS=!0,u.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),u.iOSVersion=parseInt(RegExp.$1,10)):u.macOS=!0:/Android/.test(r)?u.android=!0:/Linux/.test(r)?u.linux=!0:/iP[ao]d|iPhone/i.test(r)?(u.iOS=!0,navigator.appVersion.match(/OS (\d+)/),u.iOSVersion=parseInt(RegExp.$1,10),u.iPhone=r.toLowerCase().indexOf("iphone")!==-1,u.iPad=r.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(r)||/\bKF[A-Z][A-Z]+/.test(r)||/Silk.*Mobile Safari/.test(r)?u.kindle=!0:/CrOS/.test(r)&&(u.chromeOS=!0),(/Windows Phone/i.test(r)||/IEMobile/i.test(r))&&(u.android=!1,u.iOS=!1,u.macOS=!1,u.windows=!0,u.windowsPhone=!0);var a=/Silk/.test(r);return(u.windows||u.macOS||u.linux&&!a||u.chromeOS)&&(u.desktop=!0),(u.windowsPhone||/Windows NT/i.test(r)&&/Touch/i.test(r))&&(u.desktop=!1),navigator.standalone&&(u.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(u.cordova=!0),window.ejecta!==void 0&&(u.ejecta=!0)),typeof e<"u"&&e.versions&&e.versions.node&&(u.node=!0),u.node&&typeof e.versions=="object"&&(u.nodeWebkit=!!e.versions["node-webkit"],u.electron=!!e.versions.electron),/Crosswalk/.test(r)&&(u.crosswalk=!0),u.pixelRatio=window.devicePixelRatio||1,u}l.exports=i()}).call(this,t(807))},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),i=t(2),r=t(878),a=t(879),n=t(25),s=t(12),f=t(107),o=t(58),h=new e({Extends:o,initialize:function(v){var c=v.game.renderer,p=i(v,"fragShader",r);v.fragShader=s.parseFragmentShaderMaxTextures(p,c.maxTextures),v.vertShader=i(v,"vertShader",a),v.attributes=i(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),o.call(this,v),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){o.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(d,v,c){this.manager.set(this,d);var p=this._tempMatrix1,g=this._tempMatrix2,T=this._tempMatrix3,E=d.frame,S=E.glTexture,C=E.u0,P=E.v0,A=E.u1,R=E.v1,M=E.x,L=E.y,F=E.cutWidth,I=E.cutHeight,B=E.customPivot,b=d.displayOriginX,W=d.displayOriginY,$=-b+M,Z=-W+L;if(d.isCropped){var D=d._crop;(D.flipX!==d.flipX||D.flipY!==d.flipY)&&E.updateCropUVs(D,d.flipX,d.flipY),C=D.u0,P=D.v0,A=D.u1,R=D.v1,F=D.width,I=D.height,M=D.x,L=D.y,$=-b+M,Z=-W+L}var O=1,N=1;d.flipX&&(B||($+=-E.realWidth+b*2),O=-1),(d.flipY||E.source.isGLTexture&&!S.flipY)&&(B||(Z+=-E.realHeight+W*2),N=-1),g.applyITRS(d.x,d.y,d.rotation,d.scaleX*O,d.scaleY*N),p.copyFrom(v.matrix),c?(p.multiplyWithOffset(c,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),g.e=d.x,g.f=d.y):(g.e-=v.scrollX*d.scrollFactorX,g.f-=v.scrollY*d.scrollFactorY),p.multiply(g,T);var G=$+F,Y=Z+I,V=v.roundPixels,z=T.getXRound($,Z,V),H=T.getYRound($,Z,V),j=T.getXRound($,Y,V),q=T.getYRound($,Y,V),et=T.getXRound(G,Y,V),ot=T.getYRound(G,Y,V),K=T.getXRound(G,Z,V),Q=T.getYRound(G,Z,V),tt=s.getTintAppendFloatAlpha,nt=v.alpha,ft=tt(d.tintTopLeft,nt*d._alphaTL),mt=tt(d.tintTopRight,nt*d._alphaTR),pt=tt(d.tintBottomLeft,nt*d._alphaBL),at=tt(d.tintBottomRight,nt*d._alphaBR);this.shouldFlush(6)&&this.flush();var Tt=this.setGameObject(d,E);this.manager.preBatch(d),this.batchQuad(d,z,H,j,q,et,ot,K,Q,C,P,A,R,ft,mt,pt,at,d.tintFill,S,Tt),this.manager.postBatch(d)},batchTexture:function(d,v,c,p,g,T,E,S,C,P,A,R,M,L,F,I,B,b,W,$,Z,D,O,N,G,Y,V,z,H,j,q,et){this.manager.set(this,d);var ot=this._tempMatrix1,K=this._tempMatrix2,Q=this._tempMatrix3,tt=b/c+V,nt=W/p+z,ft=(b+$)/c+V,mt=(W+Z)/p+z,pt=E,at=S,Tt=-I,lt=-B;if(d.isCropped){var Et=d._crop,Ct=Et.width,Lt=Et.height;pt=Ct,at=Lt,E=Ct,S=Lt,b=Et.x,W=Et.y;var Pt=b,Mt=W;R&&(Pt=$-Et.x-Ct),M&&(Mt=Z-Et.y-Lt),tt=Pt/c+V,nt=Mt/p+z,ft=(Pt+Ct)/c+V,mt=(Mt+Lt)/p+z,Tt=-I+b,lt=-B+W}M=M^(!q&&v.isRenderTexture?1:0),R&&(pt*=-1,Tt+=E),M&&(at*=-1,lt+=S);var wt=Tt+pt,Dt=lt+at;K.applyITRS(g,T,A,C,P),ot.copyFrom(H.matrix),j?(ot.multiplyWithOffset(j,-H.scrollX*L,-H.scrollY*F),K.e=g,K.f=T):(K.e-=H.scrollX*L,K.f-=H.scrollY*F),ot.multiply(K,Q);var bt=H.roundPixels,ie=Q.getXRound(Tt,lt,bt),ae=Q.getYRound(Tt,lt,bt),Le=Q.getXRound(Tt,Dt,bt),Xt=Q.getYRound(Tt,Dt,bt),Me=Q.getXRound(wt,Dt,bt),ve=Q.getYRound(wt,Dt,bt),Ht=Q.getXRound(wt,lt,bt),Oe=Q.getYRound(wt,lt,bt);et===void 0&&(et=this.renderer.setTexture2D(v)),d&&this.manager.preBatch(d),this.batchQuad(d,ie,ae,Le,Xt,Me,ve,Ht,Oe,tt,nt,ft,mt,D,O,N,G,Y,v,et),d&&this.manager.postBatch(d)},batchTextureFrame:function(d,v,c,p,g,T,E){this.manager.set(this);var S=this._tempMatrix1.copyFrom(T),C=this._tempMatrix2,P=v+d.width,A=c+d.height;E?S.multiply(E,C):C=S;var R=C.getX(v,c),M=C.getY(v,c),L=C.getX(v,A),F=C.getY(v,A),I=C.getX(P,A),B=C.getY(P,A),b=C.getX(P,c),W=C.getY(P,c),$=this.renderer.setTextureSource(d.source);p=s.getTintAppendFloatAlpha(p,g),this.batchQuad(null,R,M,L,F,I,B,b,W,d.u0,d.v0,d.u1,d.v1,p,p,p,p,0,d.glTexture,$)},batchFillRect:function(d,v,c,p,g,T){this.renderer.pipelines.set(this);var E=this.calcMatrix;T&&T.multiply(g,E);var S=d+c,C=v+p,P=E.getX(d,v),A=E.getY(d,v),R=E.getX(d,C),M=E.getY(d,C),L=E.getX(S,C),F=E.getY(S,C),I=E.getX(S,v),B=E.getY(S,v),b=this.fillTint;this.batchQuad(null,P,A,R,M,L,F,I,B,0,0,1,1,b.TL,b.TR,b.BL,b.BR,2)},batchFillTriangle:function(d,v,c,p,g,T,E,S){this.renderer.pipelines.set(this);var C=this.calcMatrix;S&&S.multiply(E,C);var P=C.getX(d,v),A=C.getY(d,v),R=C.getX(c,p),M=C.getY(c,p),L=C.getX(g,T),F=C.getY(g,T),I=this.fillTint;this.batchTri(null,P,A,R,M,L,F,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(d,v,c,p,g,T,E,S,C){var P=this.tempTriangle;P[0].x=d,P[0].y=v,P[0].width=E,P[1].x=c,P[1].y=p,P[1].width=E,P[2].x=g,P[2].y=T,P[2].width=E,P[3].x=d,P[3].y=v,P[3].width=E,this.batchStrokePath(P,E,!1,S,C)},batchFillPath:function(d,v,c){this.renderer.pipelines.set(this);var p=this.calcMatrix;c&&c.multiply(v,p);for(var g=d.length,T=this.polygonCache,E,S,C=this.fillTint.TL,P=this.fillTint.TR,A=this.fillTint.BL,R=0;R<g;++R)S=d[R],T.push(S.x,S.y);E=u(T),g=E.length;for(var M=0;M<g;M+=3){var L=E[M+0]*2,F=E[M+1]*2,I=E[M+2]*2,B=T[L+0],b=T[L+1],W=T[F+0],$=T[F+1],Z=T[I+0],D=T[I+1],O=p.getX(B,b),N=p.getY(B,b),G=p.getX(W,$),Y=p.getY(W,$),V=p.getX(Z,D),z=p.getY(Z,D);this.batchTri(null,O,N,G,Y,V,z,0,0,1,1,C,P,A,2)}T.length=0},batchStrokePath:function(d,v,c,p,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=d.length-1,E=0;E<T;E++){var S=d[E],C=d[E+1];this.batchLine(S.x,S.y,C.x,C.y,S.width/2,C.width/2,v,E,!c&&E===T-1,p,g)}},batchLine:function(d,v,c,p,g,T,E,S,C,P,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(P,R);var M=c-d,L=p-v,F=Math.sqrt(M*M+L*L),I=g*(p-v)/F,B=g*(d-c)/F,b=T*(p-v)/F,W=T*(d-c)/F,$=c-b,Z=p-W,D=d-I,O=v-B,N=c+b,G=p+W,Y=d+I,V=v+B,z=R.getX($,Z),H=R.getY($,Z),j=R.getX(D,O),q=R.getY(D,O),et=R.getX(N,G),ot=R.getY(N,G),K=R.getX(Y,V),Q=R.getY(Y,V),tt=this.strokeTint,nt=tt.TL,ft=tt.TR,mt=tt.BL,pt=tt.BR;if(this.batchQuad(null,K,Q,j,q,z,H,et,ot,0,0,1,1,nt,ft,mt,pt,2),!(E<=2)){var at=this.prevQuad,Tt=this.firstQuad;S>0&&at[4]?this.batchQuad(null,K,Q,j,q,at[0],at[1],at[2],at[3],0,0,1,1,nt,ft,mt,pt,2):(Tt[0]=K,Tt[1]=Q,Tt[2]=j,Tt[3]=q,Tt[4]=1),C&&Tt[4]?this.batchQuad(null,z,H,et,ot,Tt[0],Tt[1],Tt[2],Tt[3],0,0,1,1,nt,ft,mt,pt,2):(at[0]=z,at[1]=H,at[2]=et,at[3]=ot,at[4]=1)}}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),i=t(17),r=new e({initialize:function(n,s,f,o,h,d,v){this.texture=n,this.name=s,this.source=n.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(d,v,o,h)},setSize:function(a,n,s,f){s===void 0&&(s=0),f===void 0&&(f=0),this.cutX=s,this.cutY=f,this.cutWidth=a,this.cutHeight=n,this.width=a,this.height=n,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(n/2);var o=this.data,h=o.cut;h.x=s,h.y=f,h.w=a,h.h=n,h.r=s+a,h.b=f+n,o.sourceSize.w=a,o.sourceSize.h=n,o.spriteSourceSize.w=a,o.spriteSourceSize.h=n,o.radius=.5*Math.sqrt(a*a+n*n);var d=o.drawImage;return d.x=s,d.y=f,d.width=a,d.height=n,this.updateUVs()},setTrim:function(a,n,s,f,o,h){var d=this.data,v=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=a,d.sourceSize.h=n,v.x=s,v.y=f,v.w=o,v.h=h,v.r=s+o,v.b=f+h,this.x=s,this.y=f,this.width=o,this.height=h,this.halfWidth=o*.5,this.halfHeight=h*.5,this.centerX=Math.floor(o/2),this.centerY=Math.floor(h/2),this.updateUVs()},setCropUVs:function(a,n,s,f,o,h,d){var v=this.cutX,c=this.cutY,p=this.cutWidth,g=this.cutHeight,T=this.realWidth,E=this.realHeight;n=u(n,0,T),s=u(s,0,E),f=u(f,0,T-n),o=u(o,0,E-s);var S=v+n,C=c+s,P=f,A=o,R=this.data;if(R.trim){var M=R.spriteSourceSize;f=u(f,0,p-n),o=u(o,0,g-s);var L=n+f,F=s+o,I=!(M.r<n||M.b<s||M.x>L||M.y>F);if(I){var B=Math.max(M.x,n),b=Math.max(M.y,s),W=Math.min(M.r,L)-B,$=Math.min(M.b,F)-b;P=W,A=$,h?S=v+(p-(B-M.x)-W):S=v+(B-M.x),d?C=c+(g-(b-M.y)-$):C=c+(b-M.y),n=B,s=b,f=W,o=$}else S=0,C=0,P=0,A=0}else h&&(S=v+(p-n-f)),d&&(C=c+(g-s-o));var Z=this.source.width,D=this.source.height;return a.u0=Math.max(0,S/Z),a.v0=Math.max(0,C/D),a.u1=Math.min(1,(S+P)/Z),a.v1=Math.min(1,(C+A)/D),a.x=n,a.y=s,a.cx=S,a.cy=C,a.cw=P,a.ch=A,a.width=f,a.height=o,a.flipX=h,a.flipY=d,a},updateCropUVs:function(a,n,s){return this.setCropUVs(a,a.x,a.y,a.width,a.height,n,s)},setUVs:function(a,n,s,f,o,h){var d=this.data.drawImage;return d.width=a,d.height=n,this.u0=s,this.v0=f,this.u1=o,this.v1=h,this},updateUVs:function(){var a=this.cutX,n=this.cutY,s=this.cutWidth,f=this.cutHeight,o=this.data.drawImage;o.width=s,o.height=f;var h=this.source.width,d=this.source.height;return this.u0=a/h,this.v0=n/d,this.u1=(a+s)/h,this.v1=(n+f)/d,this},updateUVsInverted:function(){var a=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/n,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var a=new r(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=i(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),u=t(0),i=t(1),r=t(79),a=new u({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=i,this.removeCallback=i,this._sortKey=""},add:function(n,s){return s?e.Add(this.list,n):e.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,s,f){return f?e.AddAt(this.list,n,s):e.AddAt(this.list,n,s,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,s){return n?(s===void 0&&(s=function(f,o){return f[n]-o[n]}),r(this.list,s),this):this},getByName:function(n){return e.GetFirst(this.list,"name",n)},getRandom:function(n,s){return e.GetRandom(this.list,n,s)},getFirst:function(n,s,f,o){return e.GetFirst(this.list,n,s,f,o)},getAll:function(n,s,f,o){return e.GetAll(this.list,n,s,f,o)},count:function(n,s){return e.CountAllMatching(this.list,n,s)},swap:function(n,s){e.Swap(this.list,n,s)},moveTo:function(n,s){return e.MoveTo(this.list,n,s)},moveAbove:function(n,s){return e.MoveAbove(this.list,n,s)},moveBelow:function(n,s){return e.MoveBelow(this.list,n,s)},remove:function(n,s){return s?e.Remove(this.list,n):e.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,s){return s?e.RemoveAt(this.list,n):e.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,s,f){return f?e.RemoveBetween(this.list,n,s):e.RemoveBetween(this.list,n,s,this.removeCallback,this)},removeAll:function(n){for(var s=this.list.length;s--;)this.remove(this.list[s],n);return this},bringToTop:function(n){return e.BringToTop(this.list,n)},sendToBack:function(n){return e.SendToBack(this.list,n)},moveUp:function(n){return e.MoveUp(this.list,n),n},moveDown:function(n){return e.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(n,s){return e.Replace(this.list,n,s)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,s,f,o){return e.SetAll(this.list,n,s,f,o),this},each:function(n,s){for(var f=[null],o=2;o<arguments.length;o++)f.push(arguments[o]);for(o=0;o<this.list.length;o++)f[0]=this.list[o],n.apply(s,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(112),i=t(445),r=t(446),a=t(56),n=t(180),s=new e({initialize:function(o,h,d,v){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=0),this.type=a.ELLIPSE,this.x=o,this.y=h,this.width=d,this.height=v},contains:function(f,o){return u(this,f,o)},getPoint:function(f,o){return i(this,f,o)},getPoints:function(f,o,h){return r(this,f,o,h)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,o,h,d){return this.x=f,this.y=o,this.width=h,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,o){return o===void 0&&(o=f),this.x=f,this.y=o,this},setSize:function(f,o){return o===void 0&&(o=f),this.width=f,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(e.width<=0||e.height<=0)return!1;var r=(u-e.x)/e.width,a=(i-e.y)/e.height;return r*=r,a*=a,r+a<.25};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),u=t(0),i=t(75),r=t(9),a=t(207),n=t(2),s=t(6),f=t(7),o=t(437),h=t(149),d=t(73),v=new u({Extends:r,initialize:function(p,g,T){r.call(this),T?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?f(g[0])&&(T=g,g=null):f(g)&&(T=g,g=null),this.scene=p,this.children=new h,this.isParent=!0,this.type="Group",this.classType=n(T,"classType",d),this.name=n(T,"name",""),this.active=n(T,"active",!0),this.maxSize=n(T,"maxSize",-1),this.defaultKey=n(T,"defaultKey",null),this.defaultFrame=n(T,"defaultFrame",null),this.runChildUpdate=n(T,"runChildUpdate",!1),this.createCallback=n(T,"createCallback",null),this.removeCallback=n(T,"removeCallback",null),this.createMultipleCallback=n(T,"createMultipleCallback",null),this.internalCreateCallback=n(T,"internalCreateCallback",null),this.internalRemoveCallback=n(T,"internalRemoveCallback",null),g&&this.addMultiple(g),T&&this.createMultiple(T),this.on(i.ADDED_TO_SCENE,this.addedToScene,this),this.on(i.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(c,p,g,T,E,S){if(c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=this.defaultKey),T===void 0&&(T=this.defaultFrame),E===void 0&&(E=!0),S===void 0&&(S=!0),this.isFull())return null;var C=new this.classType(this.scene,c,p,g,T);return C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList(),C.visible=E,C.setActive(S),this.add(C),C},createMultiple:function(c){if(this.isFull())return[];Array.isArray(c)||(c=[c]);var p=[];if(c[0].key)for(var g=0;g<c.length;g++){var T=this.createFromConfig(c[g]);p=p.concat(T)}return p},createFromConfig:function(c){if(this.isFull())return[];this.classType=n(c,"classType",this.classType);var p=n(c,"key",void 0),g=n(c,"frame",null),T=n(c,"visible",!0),E=n(c,"active",!0),S=[];if(p===void 0)return S;Array.isArray(p)||(p=[p]),Array.isArray(g)||(g=[g]);var C=n(c,"repeat",0),P=n(c,"randomKey",!1),A=n(c,"randomFrame",!1),R=n(c,"yoyo",!1),M=n(c,"quantity",!1),L=n(c,"frameQuantity",1),F=n(c,"max",0),I=o(p,g,{max:F,qty:M||L,random:P,randomB:A,repeat:C,yoyo:R});c.createCallback&&(this.createCallback=c.createCallback),c.removeCallback&&(this.removeCallback=c.removeCallback);for(var B=0;B<I.length;B++){var b=this.create(0,0,I[B].a,I[B].b,T,E);if(!b)break;S.push(b)}var W=s(c,"setXY.x",0),$=s(c,"setXY.y",0),Z=s(c,"setXY.stepX",0),D=s(c,"setXY.stepY",0);e.SetXY(S,W,$,Z,D);var O=s(c,"setRotation.value",0),N=s(c,"setRotation.step",0);e.SetRotation(S,O,N);var G=s(c,"setScale.x",1),Y=s(c,"setScale.y",G),V=s(c,"setScale.stepX",0),z=s(c,"setScale.stepY",0);e.SetScale(S,G,Y,V,z);var H=s(c,"setOrigin.x",.5),j=s(c,"setOrigin.y",H),q=s(c,"setOrigin.stepX",0),et=s(c,"setOrigin.stepY",0);e.SetOrigin(S,H,j,q,et);var ot=s(c,"setAlpha.value",1),K=s(c,"setAlpha.step",0);e.SetAlpha(S,ot,K);var Q=s(c,"setDepth.value",0),tt=s(c,"setDepth.step",0);e.SetDepth(S,Q,tt);var nt=s(c,"setScrollFactor.x",1),ft=s(c,"setScrollFactor.y",nt),mt=s(c,"setScrollFactor.stepX",0),pt=s(c,"setScrollFactor.stepY",0);e.SetScrollFactor(S,nt,ft,mt,pt);var at=n(c,"hitArea",null),Tt=n(c,"hitAreaCallback",null);at&&e.SetHitArea(S,at,Tt);var lt=n(c,"gridAlign",!1);return lt&&e.GridAlign(S,lt),this.createMultipleCallback&&this.createMultipleCallback.call(this,S),S},preUpdate:function(c,p){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),T=0;T<g.length;T++){var E=g[T];E.active&&E.update(c,p)}},add:function(c,p){return p===void 0&&(p=!1),this.isFull()?this:(this.children.set(c),this.internalCreateCallback&&this.internalCreateCallback.call(this,c),this.createCallback&&this.createCallback.call(this,c),p&&(c.addToDisplayList(this.scene.sys.displayList),c.addToUpdateList()),c.on(i.DESTROY,this.remove,this),this)},addMultiple:function(c,p){if(p===void 0&&(p=!1),Array.isArray(c))for(var g=0;g<c.length;g++)this.add(c[g],p);return this},remove:function(c,p,g){return p===void 0&&(p=!1),g===void 0&&(g=!1),this.children.contains(c)?(this.children.delete(c),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,c),this.removeCallback&&this.removeCallback.call(this,c),c.off(i.DESTROY,this.remove,this),g?c.destroy():p&&(c.removeFromDisplayList(),c.removeFromUpdateList()),this):this},clear:function(c,p){c===void 0&&(c=!1),p===void 0&&(p=!1);for(var g=this.children,T=0;T<g.size;T++){var E=g.entries[T];E.off(i.DESTROY,this.remove,this),p?E.destroy():c&&(E.removeFromDisplayList(),E.removeFromUpdateList())}return this.children.clear(),this},contains:function(c){return this.children.contains(c)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(c,p,g,T){return a(this.children.entries,c,p,g,T)},getFirst:function(c,p,g,T,E,S,C){return this.getHandler(!0,1,c,p,g,T,E,S,C)},getFirstNth:function(c,p,g,T,E,S,C,P){return this.getHandler(!0,c,p,g,T,E,S,C,P)},getLast:function(c,p,g,T,E,S,C){return this.getHandler(!1,1,c,p,g,T,E,S,C)},getLastNth:function(c,p,g,T,E,S,C,P){return this.getHandler(!1,c,p,g,T,E,S,C,P)},getHandler:function(c,p,g,T,E,S,C,P,A){g===void 0&&(g=!1),T===void 0&&(T=!1);var R,M,L=0,F=this.children.entries;if(c)for(M=0;M<F.length;M++)if(R=F[M],R.active===g){if(L++,L===p)break}else R=null;else for(M=F.length-1;M>=0;M--)if(R=F[M],R.active===g){if(L++,L===p)break}else R=null;return R?(typeof E=="number"&&(R.x=E),typeof S=="number"&&(R.y=S),R):T?this.create(E,S,C,P,A):null},get:function(c,p,g,T,E){return this.getFirst(!1,!0,c,p,g,T,E)},getFirstAlive:function(c,p,g,T,E,S){return this.getFirst(!0,c,p,g,T,E,S)},getFirstDead:function(c,p,g,T,E,S){return this.getFirst(!1,c,p,g,T,E,S)},playAnimation:function(c,p){return e.PlayAnimation(this.children.entries,c,p),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(c){c===void 0&&(c=!0);for(var p=0,g=0;g<this.children.size;g++)this.children.entries[g].active===c&&p++;return p},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var c=this.getTotalUsed(),p=this.maxSize===-1?999999999999:this.maxSize;return p-c},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},propertyValueSet:function(c,p,g,T,E){return e.PropertyValueSet(this.children.entries,c,p,g,T,E),this},propertyValueInc:function(c,p,g,T,E){return e.PropertyValueInc(this.children.entries,c,p,g,T,E),this},setX:function(c,p){return e.SetX(this.children.entries,c,p),this},setY:function(c,p){return e.SetY(this.children.entries,c,p),this},setXY:function(c,p,g,T){return e.SetXY(this.children.entries,c,p,g,T),this},incX:function(c,p){return e.IncX(this.children.entries,c,p),this},incY:function(c,p){return e.IncY(this.children.entries,c,p),this},incXY:function(c,p,g,T){return e.IncXY(this.children.entries,c,p,g,T),this},shiftPosition:function(c,p,g){return e.ShiftPosition(this.children.entries,c,p,g),this},angle:function(c,p){return e.Angle(this.children.entries,c,p),this},rotate:function(c,p){return e.Rotate(this.children.entries,c,p),this},rotateAround:function(c,p){return e.RotateAround(this.children.entries,c,p),this},rotateAroundDistance:function(c,p,g){return e.RotateAroundDistance(this.children.entries,c,p,g),this},setAlpha:function(c,p){return e.SetAlpha(this.children.entries,c,p),this},setTint:function(c,p,g,T){return e.SetTint(this.children.entries,c,p,g,T),this},setOrigin:function(c,p,g,T){return e.SetOrigin(this.children.entries,c,p,g,T),this},scaleX:function(c,p){return e.ScaleX(this.children.entries,c,p),this},scaleY:function(c,p){return e.ScaleY(this.children.entries,c,p),this},scaleXY:function(c,p,g,T){return e.ScaleXY(this.children.entries,c,p,g,T),this},setDepth:function(c,p){return e.SetDepth(this.children.entries,c,p),this},setBlendMode:function(c){return e.SetBlendMode(this.children.entries,c),this},setHitArea:function(c,p){return e.SetHitArea(this.children.entries,c,p),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(c){this.children.contains(c)&&c.setActive(!1)},killAndHide:function(c){this.children.contains(c)&&(c.setActive(!1),c.setVisible(!1))},setVisible:function(c,p,g){return e.SetVisible(this.children.entries,c,p,g),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(c,p){c===void 0&&(c=!1),p===void 0&&(p=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(i.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(p,c),this.scene=void 0,this.children=void 0)}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a,n,s,f){for(var o=e.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*n),h=a.pathData,d=a.pathIndexes,v=0;v<d.length;v+=3){var c=d[v]*2,p=d[v+1]*2,g=d[v+2]*2,T=h[c+0]-s,E=h[c+1]-f,S=h[p+0]-s,C=h[p+1]-f,P=h[g+0]-s,A=h[g+1]-f,R=r.getX(T,E),M=r.getY(T,E),L=r.getX(S,C),F=r.getY(S,C),I=r.getX(P,A),B=r.getY(P,A);i.batchTri(a,R,M,L,F,I,B,0,0,1,1,o,o,o,2)}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=e.x3-e.x1,a=e.y3-e.y1,n=e.x2-e.x1,s=e.y2-e.y1,f=u-e.x1,o=i-e.y1,h=r*r+a*a,d=r*n+a*s,v=r*f+a*o,c=n*n+s*s,p=n*f+s*o,g=h*c-d*d,T=g===0?0:1/g,E=(c*v-d*p)*T,S=(h*p-d*v)*T;return E>=0&&S>=0&&E+S<1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(10),i=t(3);function r(n,s,f,o){var h=n-f,d=s-o,v=h*h+d*d;return Math.sqrt(v)}var a=new e({initialize:function(s,f,o){this.vertex1=s,this.vertex2=f,this.vertex3=o,this.bounds=new u,this._inCenter=new i},getInCenter:function(n){n===void 0&&(n=!0);var s=this.vertex1,f=this.vertex2,o=this.vertex3,h,d,v,c,p,g;n?(h=s.x,d=s.y,v=f.x,c=f.y,p=o.x,g=o.y):(h=s.vx,d=s.vy,v=f.vx,c=f.vy,p=o.vx,g=o.vy);var T=r(p,g,v,c),E=r(h,d,p,g),S=r(v,c,h,d),C=T+E+S;return this._inCenter.set((h*T+v*E+p*S)/C,(d*T+c*E+g*S)/C)},contains:function(n,s,f){var o=this.vertex1,h=this.vertex2,d=this.vertex3,v=o.vx,c=o.vy,p=h.vx,g=h.vy,T=d.vx,E=d.vy;if(f){var S=f.a,C=f.b,P=f.c,A=f.d,R=f.e,M=f.f;v=o.vx*S+o.vy*P+R,c=o.vx*C+o.vy*A+M,p=h.vx*S+h.vy*P+R,g=h.vx*C+h.vy*A+M,T=d.vx*S+d.vy*P+R,E=d.vx*C+d.vy*A+M}var L=T-v,F=E-c,I=p-v,B=g-c,b=n-v,W=s-c,$=L*L+F*F,Z=L*I+F*B,D=L*b+F*W,O=I*I+B*B,N=I*b+B*W,G=$*O-Z*Z,Y=G===0?0:1/G,V=(O*D-Z*N)*Y,z=($*N-Z*D)*Y;return V>=0&&z>=0&&V+z<1},isCounterClockwise:function(n){var s=this.vertex1,f=this.vertex2,o=this.vertex3,h=(f.vx-s.vx)*(o.vy-s.vy)-(f.vy-s.vy)*(o.vx-s.vx);return n<=0?h>=0:h<0},load:function(n,s,f,o,h){return f=this.vertex1.load(n,s,f,o,h),f=this.vertex2.load(n,s,f,o,h),f=this.vertex3.load(n,s,f,o,h),f},transformCoordinatesLocal:function(n,s,f,o){return this.vertex1.transformCoordinatesLocal(n,s,f,o),this.vertex2.transformCoordinatesLocal(n,s,f,o),this.vertex3.transformCoordinatesLocal(n,s,f,o),this},updateBounds:function(){var n=this.vertex1,s=this.vertex2,f=this.vertex3,o=this.bounds;return o.x=Math.min(n.vx,s.vx,f.vx),o.y=Math.min(n.vy,s.vy,f.vy),o.width=Math.max(n.vx,s.vx,f.vx)-o.x,o.height=Math.max(n.vy,s.vy,f.vy)-o.y,this},isInView:function(n,s,f,o,h,d,v,c,p,g,T){var E=this.vertex1.update(h,d,v,c,p,g,T,o),S=this.vertex2.update(h,d,v,c,p,g,T,o),C=this.vertex3.update(h,d,v,c,p,g,T,o);if(E.ta<=0&&S.ta<=0&&C.ta<=0||s&&!this.isCounterClockwise(f))return!1;var P=this.bounds;P.x=Math.min(E.tx,S.tx,C.tx),P.y=Math.min(E.ty,S.ty,C.ty),P.width=Math.max(E.tx,S.tx,C.tx)-P.x,P.height=Math.max(E.ty,S.ty,C.ty)-P.y;var A=n.x+n.width,R=n.y+n.height;return P.width<=0||P.height<=0||n.width<=0||n.height<=0?!1:!(P.right<n.x||P.bottom<n.y||P.x>A||P.y>R)},translate:function(n,s){s===void 0&&(s=0);var f=this.vertex1,o=this.vertex2,h=this.vertex3;return f.x+=n,f.y+=s,o.x+=n,o.y+=s,h.x+=n,h.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(n){var s=this.getInCenter();this.translate(n-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var s=this.getInCenter();this.translate(0,n-s.y)}},alpha:{get:function(){var n=this.vertex1,s=this.vertex2,f=this.vertex3;return(n.alpha+s.alpha+f.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,s=this.vertex2,f=this.vertex3;return(n.vz+s.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(12),i=t(39),r=new e({Extends:i,initialize:function(n,s,f,o,h,d,v,c,p,g){d===void 0&&(d=16777215),v===void 0&&(v=1),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),i.call(this,n,s,f),this.vx=0,this.vy=0,this.vz=0,this.nx=c,this.ny=p,this.nz=g,this.u=o,this.v=h,this.color=d,this.alpha=v,this.tx=0,this.ty=0,this.ta=0},setUVs:function(a,n){return this.u=a,this.v=n,this},transformCoordinatesLocal:function(a,n,s,f){var o=this.x,h=this.y,d=this.z,v=a.val,c=o*v[0]+h*v[4]+d*v[8]+v[12],p=o*v[1]+h*v[5]+d*v[9]+v[13],g=o*v[2]+h*v[6]+d*v[10]+v[14],T=o*v[3]+h*v[7]+d*v[11]+v[15];this.vx=c/T*n,this.vy=-(p/T)*s,f<=0?this.vz=g/T:this.vz=-(g/T)},update:function(a,n,s,f,o,h,d,v){var c=this.vx*a+this.vy*s+o,p=this.vx*n+this.vy*f+h;return d&&(c=Math.round(c),p=Math.round(p)),this.tx=c,this.ty=p,this.ta=this.alpha*v,this},load:function(a,n,s,f,o){return a[++s]=this.tx,a[++s]=this.ty,a[++s]=this.u,a[++s]=this.v,a[++s]=f,a[++s]=o,n[++s]=u.getTintAppendFloatAlpha(this.color,this.ta),s}});l.exports=r},function(l,x,t){var e={};l.exports=e;var u=t(166),i=t(32),r=t(84),a=t(41);(function(){e.create=function(n){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},n)},e.setModified=function(n,s,f,o){if(u.trigger(n,"compositeModified",n),n.isModified=s,f&&n.parent&&e.setModified(n.parent,s,f,o),o)for(var h=0;h<n.composites.length;h++){var d=n.composites[h];e.setModified(d,s,f,o)}},e.add=function(n,s){var f=[].concat(s);u.trigger(n,"beforeAdd",{object:s});for(var o=0;o<f.length;o++){var h=f[o];switch(h.type){case"body":if(h.parent!==h){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,h);break;case"constraint":e.addConstraint(n,h);break;case"composite":e.addComposite(n,h);break;case"mouseConstraint":e.addConstraint(n,h.constraint);break}}return u.trigger(n,"afterAdd",{object:s}),n},e.remove=function(n,s,f){var o=[].concat(s);u.trigger(n,"beforeRemove",{object:s});for(var h=0;h<o.length;h++){var d=o[h];switch(d.type){case"body":e.removeBody(n,d,f);break;case"constraint":e.removeConstraint(n,d,f);break;case"composite":e.removeComposite(n,d,f);break;case"mouseConstraint":e.removeConstraint(n,d.constraint);break}}return u.trigger(n,"afterRemove",{object:s}),n},e.addComposite=function(n,s){return n.composites.push(s),s.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,s,f){var o=n.composites.indexOf(s);if(o!==-1&&(e.removeCompositeAt(n,o),e.setModified(n,!0,!0,!1)),f)for(var h=0;h<n.composites.length;h++)e.removeComposite(n.composites[h],s,!0);return n},e.removeCompositeAt=function(n,s){return n.composites.splice(s,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,s){return n.bodies.push(s),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,s,f){var o=n.bodies.indexOf(s);if(o!==-1&&(e.removeBodyAt(n,o),e.setModified(n,!0,!0,!1)),f)for(var h=0;h<n.composites.length;h++)e.removeBody(n.composites[h],s,!0);return n},e.removeBodyAt=function(n,s){return n.bodies.splice(s,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,s){return n.constraints.push(s),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,s,f){var o=n.constraints.indexOf(s);if(o!==-1&&e.removeConstraintAt(n,o),f)for(var h=0;h<n.composites.length;h++)e.removeConstraint(n.composites[h],s,!0);return n},e.removeConstraintAt=function(n,s){return n.constraints.splice(s,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,s,f){if(f)for(var o=0;o<n.composites.length;o++)e.clear(n.composites[o],s,!0);return s?n.bodies=n.bodies.filter(function(h){return h.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){for(var s=[].concat(n.bodies),f=0;f<n.composites.length;f++)s=s.concat(e.allBodies(n.composites[f]));return s},e.allConstraints=function(n){for(var s=[].concat(n.constraints),f=0;f<n.composites.length;f++)s=s.concat(e.allConstraints(n.composites[f]));return s},e.allComposites=function(n){for(var s=[].concat(n.composites),f=0;f<n.composites.length;f++)s=s.concat(e.allComposites(n.composites[f]));return s},e.get=function(n,s,f){var o,h;switch(f){case"body":o=e.allBodies(n);break;case"constraint":o=e.allConstraints(n);break;case"composite":o=e.allComposites(n).concat(n);break}return o?(h=o.filter(function(d){return d.id.toString()===s.toString()}),h.length===0?null:h[0]):null},e.move=function(n,s,f){return e.remove(n,s),e.add(f,s),n},e.rebase=function(n){for(var s=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),f=0;f<s.length;f++)s[f].id=i.nextId();return e.setModified(n,!0,!0,!1),n},e.translate=function(n,s,f){for(var o=f?e.allBodies(n):n.bodies,h=0;h<o.length;h++)a.translate(o[h],s);return e.setModified(n,!0,!0,!1),n},e.rotate=function(n,s,f,o){for(var h=Math.cos(s),d=Math.sin(s),v=o?e.allBodies(n):n.bodies,c=0;c<v.length;c++){var p=v[c],g=p.position.x-f.x,T=p.position.y-f.y;a.setPosition(p,{x:f.x+(g*h-T*d),y:f.y+(g*d+T*h)}),a.rotate(p,s)}return e.setModified(n,!0,!0,!1),n},e.scale=function(n,s,f,o,h){for(var d=h?e.allBodies(n):n.bodies,v=0;v<d.length;v++){var c=d[v],p=c.position.x-o.x,g=c.position.y-o.y;a.setPosition(c,{x:o.x+p*s,y:o.y+g*f}),a.scale(c,s,f)}return e.setModified(n,!0,!0,!1),n},e.bounds=function(n){for(var s=e.allBodies(n),f=[],o=0;o<s.length;o+=1){var h=s[o];f.push(h.bounds.min,h.bounds.max)}return r.create(f)}})()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e>=0&&e<i.width&&u>=0&&u<i.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(29),i=t(2),r=new e({initialize:function(n){n===void 0&&(n={}),this.name=i(n,"name","layer"),this.x=i(n,"x",0),this.y=i(n,"y",0),this.width=i(n,"width",0),this.height=i(n,"height",0),this.tileWidth=i(n,"tileWidth",0),this.tileHeight=i(n,"tileHeight",0),this.baseTileWidth=i(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=i(n,"baseTileHeight",this.tileHeight),this.orientation=i(n,"orientation",u.ORTHOGONAL),this.widthInPixels=i(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=i(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=i(n,"alpha",1),this.visible=i(n,"visible",!0),this.properties=i(n,"properties",[]),this.indexes=i(n,"indexes",[]),this.collideIndexes=i(n,"collideIndexes",[]),this.callbacks=i(n,"callbacks",[]),this.bodies=i(n,"bodies",[]),this.data=i(n,"data",[]),this.tilemapLayer=i(n,"tilemapLayer",null),this.hexSideLength=i(n,"hexSideLength",0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(29),i=t(2),r=new e({initialize:function(n){n===void 0&&(n={}),this.name=i(n,"name","map"),this.width=i(n,"width",0),this.height=i(n,"height",0),this.infinite=i(n,"infinite",!1),this.tileWidth=i(n,"tileWidth",0),this.tileHeight=i(n,"tileHeight",0),this.widthInPixels=i(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=i(n,"heightInPixels",this.height*this.tileHeight),this.format=i(n,"format",null),this.orientation=i(n,"orientation",u.ORTHOGONAL),this.renderOrder=i(n,"renderOrder","right-down"),this.version=i(n,"version","1"),this.properties=i(n,"properties",{}),this.layers=i(n,"layers",[]),this.images=i(n,"images",[]),this.objects=i(n,"objects",{}),this.collision=i(n,"collision",{}),this.tilesets=i(n,"tilesets",[]),this.imageCollections=i(n,"imageCollections",[]),this.tiles=i(n,"tiles",[]),this.hexSideLength=i(n,"hexSideLength",0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s,f,o,h,d){(n===void 0||n<=0)&&(n=32),(s===void 0||s<=0)&&(s=32),f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h={}),d===void 0&&(d={}),this.name=r,this.firstgid=a,this.tileWidth=n,this.tileHeight=s,this.tileMargin=f,this.tileSpacing=o,this.tileProperties=h,this.tileData=d,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(i){return this.containsTileIndex(i)?this.tileProperties[i-this.firstgid]:null},getTileData:function(i){return this.containsTileIndex(i)?this.tileData[i-this.firstgid]:null},getTileCollisionGroup:function(i){var r=this.getTileData(i);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},getTileTextureCoordinates:function(i){return this.containsTileIndex(i)?this.texCoordinates[i-this.firstgid]:null},setImage:function(i){return this.image=i,this.glTexture=i.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(i,r){return i!==void 0&&(this.tileWidth=i),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(i,r){return i!==void 0&&(this.tileMargin=i),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(i,r){var a=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(i-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(a%1!==0||n%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),a=Math.floor(a),n=Math.floor(n),this.rows=a,this.columns=n,this.total=a*n,this.texCoordinates.length=0;for(var s=this.tileMargin,f=this.tileMargin,o=0;o<this.rows;o++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:s,y:f}),s+=this.tileWidth+this.tileSpacing;s=this.tileMargin,f+=this.tileHeight+this.tileSpacing}return this}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return i===void 0&&(i=1e-4),Math.abs(e-u)<i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(1068),a=new e({Extends:i,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Size,u.TextureCrop,u.Tint,u.Transform,u.Visible,r],initialize:function(s,f,o,h,d){i.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,d),this.setPosition(f,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.hasOwnProperty(u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(i,r){var a=e(i);for(var n in r)a.hasOwnProperty(n)||(a[n]=r[n]);return a};l.exports=u},function(l,x,t){var e={};l.exports=e;var u=t(64),i=t(83),r=t(165),a=t(84),n=t(271),s=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var o=f;o.bodyA&&!o.pointA&&(o.pointA={x:0,y:0}),o.bodyB&&!o.pointB&&(o.pointB={x:0,y:0});var h=o.bodyA?i.add(o.bodyA.position,o.pointA):o.pointA,d=o.bodyB?i.add(o.bodyB.position,o.pointB):o.pointB,v=i.magnitude(i.sub(h,d));o.length=typeof o.length<"u"?o.length:v,o.id=o.id||s.nextId(),o.label=o.label||"Constraint",o.type="constraint",o.stiffness=o.stiffness||(o.length>0?1:.7),o.damping=o.damping||0,o.angularStiffness=o.angularStiffness||0,o.angleA=o.bodyA?o.bodyA.angle:o.angleA,o.angleB=o.bodyB?o.bodyB.angle:o.angleB,o.plugin={};var c={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return o.length===0&&o.stiffness>.1?(c.type="pin",c.anchors=!1):o.stiffness<.9&&(c.type="spring"),o.render=s.extend(c,o.render),o},e.preSolveAll=function(f){for(var o=0;o<f.length;o+=1){var h=f[o],d=h.constraintImpulse;h.isStatic||d.x===0&&d.y===0&&d.angle===0||(h.position.x+=d.x,h.position.y+=d.y,h.angle+=d.angle)}},e.solveAll=function(f,o){for(var h=0;h<f.length;h+=1){var d=f[h],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||c)&&e.solve(f[h],o)}for(h=0;h<f.length;h+=1)d=f[h],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,c=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!v&&!c&&e.solve(f[h],o)},e.solve=function(f,o){var h=f.bodyA,d=f.bodyB,v=f.pointA,c=f.pointB;if(!(!h&&!d)){h&&!h.isStatic&&(i.rotate(v,h.angle-f.angleA,v),f.angleA=h.angle),d&&!d.isStatic&&(i.rotate(c,d.angle-f.angleB,c),f.angleB=d.angle);var p=v,g=c;if(h&&(p=i.add(h.position,v)),d&&(g=i.add(d.position,c)),!(!p||!g)){var T=i.sub(p,g),E=i.magnitude(T);E<e._minLength&&(E=e._minLength);var S=(E-f.length)/E,C=f.stiffness<1?f.stiffness*o:f.stiffness,P=i.mult(T,S*C),A=(h?h.inverseMass:0)+(d?d.inverseMass:0),R=(h?h.inverseInertia:0)+(d?d.inverseInertia:0),M=A+R,L,F,I,B,b;if(f.damping){var W=i.create();I=i.div(T,E),b=i.sub(d&&i.sub(d.position,d.positionPrev)||W,h&&i.sub(h.position,h.positionPrev)||W),B=i.dot(I,b)}h&&!h.isStatic&&(F=h.inverseMass/A,h.constraintImpulse.x-=P.x*F,h.constraintImpulse.y-=P.y*F,h.position.x-=P.x*F,h.position.y-=P.y*F,f.damping&&(h.positionPrev.x-=f.damping*I.x*B*F,h.positionPrev.y-=f.damping*I.y*B*F),L=i.cross(v,P)/M*e._torqueDampen*h.inverseInertia*(1-f.angularStiffness),h.constraintImpulse.angle-=L,h.angle-=L),d&&!d.isStatic&&(F=d.inverseMass/A,d.constraintImpulse.x+=P.x*F,d.constraintImpulse.y+=P.y*F,d.position.x+=P.x*F,d.position.y+=P.y*F,f.damping&&(d.positionPrev.x+=f.damping*I.x*B*F,d.positionPrev.y+=f.damping*I.y*B*F),L=i.cross(c,P)/M*e._torqueDampen*d.inverseInertia*(1-f.angularStiffness),d.constraintImpulse.angle+=L,d.angle+=L)}}},e.postSolveAll=function(f){for(var o=0;o<f.length;o++){var h=f[o],d=h.constraintImpulse;if(!(h.isStatic||d.x===0&&d.y===0&&d.angle===0)){r.set(h,!1);for(var v=0;v<h.parts.length;v++){var c=h.parts[v];u.translate(c.vertices,d),v>0&&(c.position.x+=d.x,c.position.y+=d.y),d.angle!==0&&(u.rotate(c.vertices,d.angle,h.position),n.rotate(c.axes,d.angle),v>0&&i.rotateAbout(c.position,d.angle,h.position,c.position)),a.update(c.bounds,c.vertices,h.velocity)}d.angle*=e._warming,d.x*=e._warming,d.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+f.pointA.x,y:(f.bodyA?f.bodyA.position.y:0)+f.pointA.y}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+f.pointB.x,y:(f.bodyB?f.bodyB.position.y:0)+f.pointB.y}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(65),i=t(66),r=t(0),a=t(11),n=t(15),s=t(10),f=t(57),o=new r({Extends:n,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(d,v,c,p,g){p===void 0&&(p=1),g===void 0&&(g=p),n.call(this,d,"Zone"),this.setPosition(v,c),this.width=p,this.height=g,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,d,v){v===void 0&&(v=!0),this.width=h,this.height=d,this.updateDisplayOrigin();var c=this.input;return v&&c&&!c.customHitArea&&(c.hitArea.width=h,c.hitArea.height=d),this},setDisplaySize:function(h,d){return this.displayWidth=h,this.displayHeight=d,this},setCircleDropZone:function(h){return this.setDropZone(new u(0,0,h),i)},setRectangleDropZone:function(h,d){return this.setDropZone(new s(0,0,h,d),f)},setDropZone:function(h,d){return h===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(h,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,d,v){v.addToRenderList(d)},renderWebGL:function(h,d,v){v.addToRenderList(d)}});l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=e.length-1;u>0;u--){var i=Math.floor(Math.random()*(u+1)),r=e[u];e[u]=e[i],e[i]=r}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(36),r=t(9),a=t(37),n=t(10),s=t(25),f=t(187),o=t(3),h=new e({Extends:r,Mixins:[u.Alpha,u.Visible],initialize:function(v,c,p,g){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=v,this._y=c,this._width=p,this._height=g,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new o(p/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this.originX=d,this.originY=v,this},getScroll:function(d,v,c){c===void 0&&(c=new o);var p=this.width*.5,g=this.height*.5;return c.x=d-p,c.y=v-g,this.useBounds&&(c.x=this.clampX(c.x),c.y=this.clampY(c.y)),c},centerOnX:function(d){var v=this.width*.5;return this.midPoint.x=d,this.scrollX=d-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var v=this.height*.5;return this.midPoint.y=d,this.scrollY=d-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,v){return this.centerOnX(d),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,v=this.width*.5,c=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-v,this.scrollY=d.centerY-c}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var v=this.matrix.matrix,c=v[0],p=v[1],g=v[2],T=v[3],E=c*T-p*g;if(!E)return d;var S=v[4],C=v[5],P=this.scrollX,A=this.scrollY,R=this.width,M=this.height,L=this.y,F=L+M,I=this.x,B=I+R,b=this.culledObjects,W=d.length;E=1/E,b.length=0;for(var $=0;$<W;++$){var Z=d[$];if(!Z.hasOwnProperty("width")||Z.parentContainer){b.push(Z);continue}var D=Z.width,O=Z.height,N=Z.x-P*Z.scrollFactorX-D*Z.originX,G=Z.y-A*Z.scrollFactorY-O*Z.originY,Y=N*c+G*g+S,V=N*p+G*T+C,z=(N+D)*c+(G+O)*g+S,H=(N+D)*p+(G+O)*T+C;z>I&&Y<B&&H>L&&V<F&&b.push(Z)}return b},getWorldPoint:function(d,v,c){c===void 0&&(c=new o);var p=this.matrix.matrix,g=p[0],T=p[1],E=p[2],S=p[3],C=p[4],P=p[5],A=g*S-T*E;if(!A)return c.x=d,c.y=v,c;A=1/A;var R=S*A,M=-T*A,L=-E*A,F=g*A,I=(E*P-S*C)*A,B=(T*C-g*P)*A,b=Math.cos(this.rotation),W=Math.sin(this.rotation),$=this.zoomX,Z=this.zoomY,D=this.scrollX,O=this.scrollY,N=d+(D*b-O*W)*$,G=v+(D*W+O*b)*Z;return c.x=N*R+G*L+I,c.y=N*M+G*F+B,c},ignore:function(d){var v=this.id;Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var p=d[c];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,c=d*.5,p=v*.5,g=this.zoomX,T=this.zoomY,E=this.matrix,S=d*this.originX,C=v*this.originY,P=this.scrollX,A=this.scrollY;this.useBounds&&(P=this.clampX(P),A=this.clampY(A)),this.roundPixels&&(S=Math.round(S),C=Math.round(C)),this.scrollX=P,this.scrollY=A;var R=P+c,M=A+p;this.midPoint.set(R,M);var L=d/g,F=v/T;this.worldView.setTo(R-L/2,M-F/2,L,F),E.applyITRS(this.x+S,this.y+C,this.rotation,g,T),E.translate(-S,-C)},clampX:function(d){var v=this._bounds,c=this.displayWidth,p=v.x+(c-this.width)/2,g=Math.max(p,p+v.width-c);return d<p?d=p:d>g&&(d=g),d},clampY:function(d){var v=this._bounds,c=this.displayHeight,p=v.y+(c-this.height)/2,g=Math.max(p,p+v.height-c);return d<p?d=p:d>g&&(d=g),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=i(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=f(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,v,c,p,g){return g===void 0&&(g=!1),this._bounds.setTo(d,v,c,p),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new n);var v=this._bounds;return d.setTo(v.x,v.y,v.width,v.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,v){return v===void 0&&(v=d),this.x=d,this.y=v,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d;var v=d.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(d,v){return v===void 0&&(v=d),this.scrollX=d,this.scrollY=v,this},setSize:function(d,v){return v===void 0&&(v=d),this.width=d,this.height=v,this},setViewport:function(d,v,c,p){return this.x=d,this.y=v,this.width=c,this.height=p,this},setZoom:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),d===0&&(d=.001),v===0&&(v=.001),this.zoomX=d,this.zoomY=v,this},setMask:function(d,v){return v===void 0&&(v=!0),this.mask=d,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},updateSystem:function(){if(this.scaleManager){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;d&&!this._customViewport?v.customViewports++:!d&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){this._scrollX=d,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(d){this._scrollY=d,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),u=t(335),i=t(336),r=t(337),a=t(338),n=t(339),s=t(340),f=t(341),o=t(342),h=t(343),d=t(344),v=t(345);l.exports={Power0:s,Power1:f.Out,Power2:r.Out,Power3:o.Out,Power4:h.Out,Linear:s,Quad:f.Out,Cubic:r.Out,Quart:o.Out,Quint:h.Out,Sine:d.Out,Expo:n.Out,Circ:i.Out,Elastic:a.Out,Back:e.Out,Bounce:u.Out,Stepped:v,"Quad.easeIn":f.In,"Cubic.easeIn":r.In,"Quart.easeIn":o.In,"Quint.easeIn":h.In,"Sine.easeIn":d.In,"Expo.easeIn":n.In,"Circ.easeIn":i.In,"Elastic.easeIn":a.In,"Back.easeIn":e.In,"Bounce.easeIn":u.In,"Quad.easeOut":f.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":o.Out,"Quint.easeOut":h.Out,"Sine.easeOut":d.Out,"Expo.easeOut":n.Out,"Circ.easeOut":i.Out,"Elastic.easeOut":a.Out,"Back.easeOut":e.Out,"Bounce.easeOut":u.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":o.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":i.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":u.InOut}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return(u-e)*i+e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function i(){var r=navigator.userAgent;return/Edge\/\d+/.test(r)?u.edge=!0:/Chrome\/(\d+)/.test(r)&&!e.windowsPhone?(u.chrome=!0,u.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(r)?(u.firefox=!0,u.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(r)&&e.iOS?u.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(r)?(u.ie=!0,u.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(r)?u.opera=!0:/Safari/.test(r)&&!e.windowsPhone?u.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(u.ie=!0,u.trident=!0,u.tridentVersion=parseInt(RegExp.$1,10),u.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(u.silk=!0),u}l.exports=i()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.random()*(u-e)+e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return i===void 0&&(i=0),u===0?e:(e-=i,e=u*Math.ceil(e/u),r?(i+e)/u:i+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=a||0,this.z=n||0,this.w=s||0)},clone:function(){return new u(this.x,this.y,this.z,this.w)},copy:function(i){return this.x=i.x,this.y=i.y,this.z=i.z||0,this.w=i.w||0,this},equals:function(i){return this.x===i.x&&this.y===i.y&&this.z===i.z&&this.w===i.w},set:function(i,r,a,n){return typeof i=="object"?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.w=i.w||0):(this.x=i||0,this.y=r||0,this.z=a||0,this.w=n||0),this},add:function(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z||0,this.w+=i.w||0,this},subtract:function(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z||0,this.w-=i.w||0,this},scale:function(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this},length:function(){var i=this.x,r=this.y,a=this.z,n=this.w;return Math.sqrt(i*i+r*r+a*a+n*n)},lengthSq:function(){var i=this.x,r=this.y,a=this.z,n=this.w;return i*i+r*r+a*a+n*n},normalize:function(){var i=this.x,r=this.y,a=this.z,n=this.w,s=i*i+r*r+a*a+n*n;return s>0&&(s=1/Math.sqrt(s),this.x=i*s,this.y=r*s,this.z=a*s,this.w=n*s),this},dot:function(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w},lerp:function(i,r){r===void 0&&(r=0);var a=this.x,n=this.y,s=this.z,f=this.w;return this.x=a+r*(i.x-a),this.y=n+r*(i.y-n),this.z=s+r*(i.z-s),this.w=f+r*(i.w-f),this},multiply:function(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z||1,this.w*=i.w||1,this},divide:function(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z||1,this.w/=i.w||1,this},distance:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0,s=i.w-this.w||0;return Math.sqrt(r*r+a*a+n*n+s*s)},distanceSq:function(i){var r=i.x-this.x,a=i.y-this.y,n=i.z-this.z||0,s=i.w-this.w||0;return r*r+a*a+n*n+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(i){var r=this.x,a=this.y,n=this.z,s=this.w,f=i.val;return this.x=f[0]*r+f[4]*a+f[8]*n+f[12]*s,this.y=f[1]*r+f[5]*a+f[9]*n+f[13]*s,this.z=f[2]*r+f[6]*a+f[10]*n+f[14]*s,this.w=f[3]*r+f[7]*a+f[11]*n+f[15]*s,this},transformQuat:function(i){var r=this.x,a=this.y,n=this.z,s=i.x,f=i.y,o=i.z,h=i.w,d=h*r+f*n-o*a,v=h*a+o*r-s*n,c=h*n+s*a-f*r,p=-s*r-f*a-o*n;return this.x=d*h+p*-s+v*-o-c*-f,this.y=v*h+p*-f+c*-s-d*-o,this.z=c*h+p*-o+d*-f-v*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});u.prototype.sub=u.prototype.subtract,u.prototype.mul=u.prototype.multiply,u.prototype.div=u.prototype.divide,u.prototype.dist=u.prototype.distance,u.prototype.distSq=u.prototype.distanceSq,u.prototype.len=u.prototype.length,u.prototype.lenSq=u.prototype.lengthSq,l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(91),i=new e({initialize:function(a,n,s,f,o,h,d){f===void 0&&(f=1),o===void 0&&(o=0),h===void 0&&(h=!0),d===void 0&&(d=!1),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=o,this.autoClear=h,this.autoResize=!1,this.resize(n,s),d&&this.setAutoResize(!0)},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(u.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(u.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,a){var n=r*this.scale,s=a*this.scale;if(n!==this.width||s!==this.height){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),r*=this.scale,a*=this.scale,r=Math.round(r),a=Math.round(a),r<=0&&(r=1),a<=0&&(a=1),this.texture=f.createTextureFromSource(null,r,a,this.minFilter),this.framebuffer=f.createFramebuffer(r,a,this.texture,!1),this.width=r,this.height=a}return this},bind:function(r,a,n){if(r===void 0&&(r=!1),r&&this.renderer.flush(),a&&n&&this.resize(a,n),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),r&&this.adjustViewport(),this.autoClear){var s=this.renderer.gl;s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT)}},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(){var r=this.renderer,a=r.gl;r.pushFramebuffer(this.framebuffer),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),r.popFramebuffer(),r.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var a=this.renderer;return r&&a.flush(),a.popFramebuffer()},destroy:function(){var r=this.renderer;r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),r.off(u.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i;if(u)typeof u=="string"?i=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(i=u);else if(e.parentElement||u===null)return e;return i||(i=document.body),i.appendChild(e),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(77),i=t(9),r=t(70),a=t(22),n=t(1),s=t(207),f=t(428),o=new e({Extends:i,initialize:function(d){i.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,d.events.on(a.BLUR,this.onGameBlur,this),d.events.on(a.FOCUS,this.onGameFocus,this),d.events.on(a.PRE_STEP,this.update,this),d.events.once(a.DESTROY,this.destroy,this)},add:n,addAudioSprite:function(h,d){d===void 0&&(d={});var v=this.add(h,d);v.spritemap=this.jsonCache.get(h).spritemap;for(var c in v.spritemap)if(v.spritemap.hasOwnProperty(c)){var p=u(d),g=v.spritemap[c];p.loop=g.hasOwnProperty("loop")?g.loop:!1,v.addMarker({name:c,start:g.start,duration:g.end-g.start,config:p})}return v},get:function(h){return f(this.sounds,"key",h)},getAll:function(h){return s(this.sounds,"key",h)},play:function(h,d){var v=this.add(h);return v.once(r.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(h,d,v){var c=this.addAudioSprite(h);return c.once(r.COMPLETE,c.destroy,c),c.play(d,v)},remove:function(h){var d=this.sounds.indexOf(h);return d!==-1?(h.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var d=0,v=this.sounds.length-1;v>=0;v--){var c=this.sounds[v];c.key===h&&(c.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(h){var d=0;return this.getAll(h).forEach(function(v){v.stop()&&d++}),d},unlock:n,onBlur:n,onFocus:n,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(h,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(c){c.update(h,d)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(h,d){var v=this;this.sounds.forEach(function(c,p){c&&!c.pendingRemove&&h.call(d||v,c,p,v.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,h)}}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(70),r=t(17),a=t(1),n=new e({Extends:u,initialize:function(f,o,h){u.call(this),this.manager=f,this.key=o,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var f=this.markers[s];return f?(this.markers[s]=null,f):null},play:function(s,f){if(s===void 0&&(s=""),typeof s=="object"&&(f=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var s=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,o=Math.pow(s,f);this.totalRate=this.currentConfig.rate*this.manager.rate*o},destroy:function(){this.pendingRemove||(this.emit(i.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),u=t(435),i=function(r,a){if(a===void 0&&(a=90),!e(r))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")r=u(r),r.reverse();else if(a===-90||a===270||a==="rotateRight")r.reverse(),r=u(r);else if(Math.abs(a)===180||a==="rotate180"){for(var n=0;n<r.length;n++)r[n].reverse();r.reverse()}return r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),i=t(11),r=t(15),a=t(1043),n=t(1044),s=t(212),f=t(10),o=t(1045),h=new e({Extends:r,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Texture,i.Tint,i.Transform,i.Visible,o],initialize:function(v,c,p,g,T,E,S){T===void 0&&(T=""),S===void 0&&(S=0),r.call(this,v,"BitmapText"),this.font=g;var C=this.scene.sys.cache.bitmapFont.get(g);C||console.warn("Invalid BitmapText key: "+g),this.fontData=C.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._align=S,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(c,p),this.setOrigin(0,0),this.initPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,v,c,p){return d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=.5),this.dropShadowX=d,this.dropShadowY=v,this.dropShadowColor=c,this.dropShadowAlpha=p,this},setCharacterTint:function(d,v,c,p,g,T,E){d===void 0&&(d=0),v===void 0&&(v=1),c===void 0&&(c=!1),p===void 0&&(p=-1),g===void 0&&(g=p,T=p,E=p);var S=this.text.length;v===-1&&(v=S),d<0&&(d=S+d),d=u(d,0,S-1);for(var C=u(d+v,d,S),P=this.charColors,A=d;A<C;A++){var R=P[A];if(p===-1)P[A]=null;else{var M=c?1:0;R?(R.tintEffect=M,R.tintTL=p,R.tintTR=g,R.tintBL=T,R.tintBR=E):P[A]={tintEffect:M,tintTL:p,tintTR:g,tintBL:T,tintBR:E}}}return this},setWordTint:function(d,v,c,p,g,T,E){v===void 0&&(v=1);for(var S=this.getTextBounds(),C=S.words,P=typeof d=="number",A=0,R=0;R<C.length;R++){var M=C[R];if((P&&R===d||!P&&M.word===d)&&(this.setCharacterTint(M.i,M.word.length,c,p,g,T,E),A++,A===v))return this}return this},getTextBounds:function(d){var v=this._bounds;return(this._dirty||d||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(a(this,d,!0,v),this._dirty=!1),v},getCharacterAt:function(d,v,c){for(var p=this.getLocalPoint(d,v,null,c),g=this.getTextBounds(),T=g.characters,E=new f,S=0;S<T.length;S++){var C=T[S];if(E.setTo(C.x,C.t,C.r-C.x,C.b),E.contains(p.x,p.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,v,c){if(v===void 0&&(v=this._fontSize),c===void 0&&(c=this._align),d!==this.font){var p=this.scene.sys.cache.bitmapFont.get(d);p&&(this.font=d,this.fontData=p.data,this._fontSize=v,this._align=c,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),a(this,!1,!0,this._bounds))}return this},setMaxWidth:function(d,v){return this._maxWidth=d,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var d=i.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return d.data=v,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=n,h.ParseXMLBitmapFont=s,l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var a=0;a<r.length;a++)this.set(r[a])},set:function(i){return this.entries.indexOf(i)===-1&&this.entries.push(i),this},get:function(i,r){for(var a=0;a<this.entries.length;a++){var n=this.entries[a];if(n[i]===r)return n}},getArray:function(){return this.entries.slice(0)},delete:function(i){var r=this.entries.indexOf(i);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var i=0;i<this.entries.length;i++){var r=this.entries[i];console.log(r)}console.groupEnd()},each:function(i,r){var a,n=this.entries.slice(),s=n.length;if(r)for(a=0;a<s&&i.call(r,n[a],a)!==!1;a++);else for(a=0;a<s&&i(n[a],a)!==!1;a++);return this},iterate:function(i,r){var a,n=this.entries.length;if(r)for(a=0;a<n&&i.call(r,this.entries[a],a)!==!1;a++);else for(a=0;a<n&&i(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(i){var r,a=[];for(r=1;r<arguments.length;r++)a.push(arguments[r]);var n=this.entries.length;for(r=0;r<n;r++){var s=this.entries[r];s[i].apply(s,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(i){return this.entries.indexOf(i)>-1},union:function(i){var r=new u;return i.entries.forEach(function(a){r.set(a)}),this.entries.forEach(function(a){r.set(a)}),r},intersect:function(i){var r=new u;return this.entries.forEach(function(a){i.contains(a)&&r.set(a)}),r},difference:function(i){var r=new u;return this.entries.forEach(function(a){i.contains(a)||r.set(a)}),r},size:{get:function(){return this.entries.length},set:function(i){return i<this.entries.length?this.entries.length=i:this.entries.length}}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(189),a=t(92),n=t(1182),s=new e({Extends:i,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Pipeline,u.ScrollFactor,u.Transform,u.Visible,n],initialize:function(o,h,d,v,c,p,g){v===void 0&&(v=16777215),c===void 0&&(c=128),p===void 0&&(p=1),g===void 0&&(g=.1),i.call(this,o,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.setPosition(h,d),this.color=r(v),this.intensity=p,this.attenuation=g,this.width=c*2,this.height=c*2,this._radius=c},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=u.width/2,r=u.height/2,a=Math.abs(e.x-u.x-i),n=Math.abs(e.y-u.y-r),s=i+e.radius,f=r+e.radius;if(a>s||n>f)return!1;if(a<=i||n<=r)return!0;var o=a-i,h=n-r,d=o*o,v=h*h,c=e.radius*e.radius;return d+v<=c};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u={},i={};i.register=function(r,a,n,s,f){u[r]={plugin:a,mapping:n,settingsKey:s,configKey:f}},i.getPlugin=function(r){return u[r]},i.install=function(r){var a=r.scene.sys,n=a.settings.input,s=a.game.config;for(var f in u){var o=u[f].plugin,h=u[f].mapping,d=u[f].settingsKey,v=u[f].configKey;e(n,d,s[v])&&(r[h]=new o(r))}},i.remove=function(r){u.hasOwnProperty(r)&&delete u[r]},l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n){return e===void 0&&(e=""),u===void 0&&(u=!0),i===void 0&&(i=""),r===void 0&&(r=""),a===void 0&&(a=0),n===void 0&&(n=!1),{responseType:e,async:u,user:i,password:r,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(243),i=t(73),r=new e({Extends:i,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(n,s,f,o,h){i.call(this,n,s,f,o,h),this.body=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),u=function(i,r,a,n){if(a===void 0&&(a=!1),e(i,r,n)){var s=n.data[r][i]||null;return s?s.index===-1?a?s:null:s:null}else return null};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=e.data,n=e.width,s=e.height,f=e.tilemapLayer,o=Math.max(0,u.left),h=Math.min(n,u.right),d=Math.max(0,u.top),v=Math.min(s,u.bottom),c,p,g;if(i===0)for(p=d;p<v;p++)for(c=o;a[p]&&c<h;c++)g=a[p][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===1)for(p=d;p<v;p++)for(c=h;a[p]&&c>=o;c--)g=a[p][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===2)for(p=v;p>=d;p--)for(c=o;a[p]&&c<h;c++)g=a[p][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);else if(i===3)for(p=v;p>=d;p--)for(c=h;a[p]&&c>=o;c--)g=a[p][c],!(!g||g.index===-1||!g.visible||g.alpha===0)&&r.push(g);return f.tilesDrawn=r.length,f.tilesTotal=n*s,r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i.collideIndexes.indexOf(e);u&&r===-1?i.collideIndexes.push(e):!u&&r!==-1&&i.collideIndexes.splice(r,1)};l.exports=t},function(l,x,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(i,r,a){if(!r)return{i:0,layers:i.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=r.x+e(r,"startx",0)*i.tilewidth+e(r,"offsetx",0),s=r.y+e(r,"starty",0)*i.tileheight+e(r,"offsety",0);return{i:0,layers:r.layers,name:a.name+r.name+"/",opacity:a.opacity*r.opacity,visible:a.visible&&r.visible,x:a.x+n,y:a.y+s}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r;if(e.hasOwnProperty(u)){var a=typeof e[u];a==="function"?r=function(n,s,f,o,h,d){return e[u](n,s,f,o,h,d)}:r=function(){return e[u]}}else typeof i=="function"?r=i:r=function(){return i};return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),u=t(13),i=t(99),r=t(80),a=t(162),n=t(583),s=t(263),f=t(6),o=t(264),h=t(266),d=t(268),v=function(c,p,g){g===void 0&&(g=e);for(var T=g.targets?g.targets:s(p),E=n(p),S=a(p,"delay",g.delay),C=a(p,"duration",g.duration),P=f(p,"easeParams",g.easeParams),A=r(f(p,"ease",g.ease),P),R=a(p,"hold",g.hold),M=a(p,"repeat",g.repeat),L=a(p,"repeatDelay",g.repeatDelay),F=i(p,"yoyo",g.yoyo),I=i(p,"flipX",g.flipX),B=i(p,"flipY",g.flipY),b=[],W=0;W<E.length;W++)for(var $=E[W].key,Z=E[W].value,D=0;D<T.length;D++){var O=o($,Z),N=d(T[D],D,$,O.getEnd,O.getStart,O.getActive,r(f(Z,"ease",A),f(Z,"easeParams",P)),a(Z,"delay",S),a(Z,"duration",C),i(Z,"yoyo",F),a(Z,"hold",R),a(Z,"repeat",M),a(Z,"repeatDelay",L),i(Z,"flipX",I),i(Z,"flipY",B));b.push(N)}var G=new h(c,b,T);G.offset=u(p,"offset",null),G.completeDelay=u(p,"completeDelay",0),G.loop=Math.round(u(p,"loop",0)),G.loopDelay=Math.round(u(p,"loopDelay",0)),G.paused=i(p,"paused",!1),G.useFrames=i(p,"useFrames",!1);for(var Y=f(p,"callbackScope",G),V=[G,null],z=h.TYPES,H=0;H<z.length;H++){var j=z[H],q=f(p,j,!1);if(q){var et=f(p,j+"Scope",Y),ot=f(p,j+"Params",[]);G.setCallback(j,q,V.concat(ot),et)}}return G};l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(102),i=t(2),r=t(132),a=t(185),n=new e({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(r.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(s){var f=this.parent;if(s===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var h=s[o];this.nextAnim===null?this.nextAnim=h:this.nextAnimsQueue.push(h)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(s){this.isPlaying&&this.stop();var f=this.animationManager,o=typeof s=="string"?s:i(s,"key",null),h=this.exists(o)?this.get(o):f.get(o);if(!h)console.warn("Missing animation: "+o);else{this.currentAnim=h;var d=h.getTotalFrames(),v=i(s,"frameRate",h.frameRate),c=i(s,"duration",h.duration);h.calculateDuration(this,d,c,v),this.delay=i(s,"delay",h.delay),this.repeat=i(s,"repeat",h.repeat),this.repeatDelay=i(s,"repeatDelay",h.repeatDelay),this.yoyo=i(s,"yoyo",h.yoyo),this.showOnStart=i(s,"showOnStart",h.showOnStart),this.hideOnComplete=i(s,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=i(s,"skipMissedFrames",h.skipMissedFrames),this.timeScale=i(s,"timeScale",this.timeScale);var p=i(s,"startFrame",0);p>h.getTotalFrames()&&(p=0);var g=h.frames[p];p===0&&!this.forward&&(g=h.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(s){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),s!==void 0&&this.setCurrentFrame(s),this.parent},resume:function(s){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),s!==void 0&&this.setCurrentFrame(s),this.parent},playAfterDelay:function(s,f){if(!this.isPlaying)this.delayCounter=f,this.play(s,!0);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.nextAnim=s,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(s,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(s);else{var o=this.nextAnim,h=this.nextAnimsQueue;o&&h.unshift(o),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=s,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(s,f){f===void 0&&(f=!1);var o=this.currentAnim,h=this.parent,d=typeof s=="string"?s:s.key;if(f&&this.isPlaying&&o.key===d)return h;if(o&&this.isPlaying){var v=this.animationManager.getMix(o.key,s);if(v>0)return this.playAfterDelay(s,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s)},playReverse:function(s,f){f===void 0&&(f=!1);var o=typeof s=="string"?s:s.key;return f&&this.isPlaying&&this.currentAnim.key===o?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s))},startAnimation:function(s){this.load(s);var f=this.currentAnim,o=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),o},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(r.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(r.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(r.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(r.ANIMATION_COMPLETE,r.ANIMATION_COMPLETE_KEY)},emitEvents:function(s,f){var o=this.currentAnim,h=this.currentFrame,d=this.parent,v=h.textureFrame;d.emit(s,o,h,d,v),f&&d.emit(f+o.key,o,h,d,v)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var s=this.currentFrame;if(!s)return 0;var f=s.progress;return this.inReverse&&(f*=-1),f},setProgress:function(s){return this.forward||(s=1-s),this.setCurrentFrame(this.currentAnim.getFrameByProgress(s)),this.parent},setRepeat:function(s){return this.repeatCounter=s===-1?Number.MAX_VALUE:s,this.parent},globalRemove:function(s,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(s,f){s===void 0&&(s=!1),f===void 0&&(f=!1);var o=this.currentAnim,h=this.parent;return o?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),o.getFirstTick(this),this.emitEvents(r.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!s,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(o.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(s)}return this.parent},stopAfterDelay:function(s){return this._pendingStop=1,this._pendingStopValue=s,this.parent},stopAfterRepeat:function(s){return s===void 0&&(s=1),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=s,this.parent},stopOnFrame:function(s){return this._pendingStop=3,this._pendingStopValue=s,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(s,f){var o=this.currentAnim;if(!(!this.isPlaying||!o||o.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?o.nextFrame(this):o.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?o.nextFrame(this):o.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(s){var f=this.parent;return this.currentFrame=s,f.texture=s.frame.texture,f.frame=s.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),s.setAlpha&&(f.alpha=s.alpha),f.setSizeToFrame(),f._originComponent&&(s.frame.customPivot?f.setOrigin(s.frame.pivotX,s.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(r.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===s&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(s){return this.anims?this.anims.get(s):null},exists:function(s){return this.anims?this.anims.has(s):!1},create:function(s){var f=s.key,o=!1;return f&&(o=this.get(f),o||(o=new a(this,f,s),this.anims||(this.anims=new u),this.anims.set(f,o))),o},generateFrameNames:function(s,f){return this.animationManager.generateFrameNames(s,f)},generateFrameNumbers:function(s,f){return this.animationManager.generateFrameNumbers(s,f)},remove:function(s){var f=this.get(s);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(s)),f},destroy:function(){this.animationManager.off(r.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});l.exports=n},function(l,x,t){var e={};l.exports=e;var u=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(i,r){for(var a=r*r*r,n=0;n<i.length;n++){var s=i[n],f=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(s.force.x!==0||s.force.y!==0){e.set(s,!1);continue}var o=Math.min(s.motion,f),h=Math.max(s.motion,f);s.motion=e._minBias*o+(1-e._minBias)*h,s.sleepThreshold>0&&s.motion<e._motionSleepThreshold*a?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&e.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}},e.afterCollisions=function(i,r){for(var a=r*r*r,n=0;n<i.length;n++){var s=i[n];if(s.isActive){var f=s.collision,o=f.bodyA.parent,h=f.bodyB.parent;if(!(o.isSleeping&&h.isSleeping||o.isStatic||h.isStatic)&&(o.isSleeping||h.isSleeping)){var d=o.isSleeping&&!o.isStatic?o:h,v=d===o?h:o;!d.isStatic&&v.motion>e._motionWakeThreshold*a&&e.set(d,!1)}}}},e.set=function(i,r){var a=i.isSleeping;r?(i.isSleeping=!0,i.sleepCounter=i.sleepThreshold,i.positionImpulse.x=0,i.positionImpulse.y=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.speed=0,i.angularSpeed=0,i.motion=0,a||u.trigger(i,"sleepStart")):(i.isSleeping=!1,i.sleepCounter=0,a&&u.trigger(i,"sleepEnd"))}})()},function(l,x,t){var e={};l.exports=e;var u=t(32);(function(){e.on=function(i,r,a){for(var n=r.split(" "),s,f=0;f<n.length;f++)s=n[f],i.events=i.events||{},i.events[s]=i.events[s]||[],i.events[s].push(a);return a},e.off=function(i,r,a){if(!r){i.events={};return}typeof r=="function"&&(a=r,r=u.keys(i.events).join(" "));for(var n=r.split(" "),s=0;s<n.length;s++){var f=i.events[n[s]],o=[];if(a&&f)for(var h=0;h<f.length;h++)f[h]!==a&&o.push(f[h]);i.events[n[s]]=o}},e.trigger=function(i,r,a){var n,s,f,o,h=i.events;if(h&&u.keys(h).length>0){a||(a={}),n=r.split(" ");for(var d=0;d<n.length;d++)if(s=n[d],f=h[s],f){o=u.clone(a,!1),o.name=s,o.source=i;for(var v=0;v<f.length;v++)f[v].apply(i,[o])}}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),u=t(92),i=t(74),r={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(a){a===void 0&&(a=u.MULTI_PIPELINE);var n=this.scene.sys.renderer;if(!n)return!1;var s=n.pipelines;if(this.postPipelines=[],this.pipelineData={},s){var f=s.get(a);if(f)return this.defaultPipeline=f,this.pipeline=f,!0}return!1},setPipeline:function(a,n,s){var f=this.scene.sys.renderer;if(!f)return this;var o=f.pipelines;if(o){var h=o.get(a);h&&(this.pipeline=h),n&&(this.pipelineData=s?e(n):n)}return this},setPostPipeline:function(a,n,s){var f=this.scene.sys.renderer;if(!f)return this;var o=f.pipelines;if(o){Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++){var d=o.getPostPipeline(a[h],this);d&&this.postPipelines.push(d)}n&&(this.pipelineData=s?e(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(a,n){var s=this.pipelineData;return n===void 0?delete s[a]:s[a]=n,this},getPostPipeline:function(a){for(var n=this.postPipelines,s=[],f=0;f<n.length;f++){var o=n[f];(typeof a=="string"&&o.name===a||o instanceof a)&&s.push(o)}return s.length===1?s[0]:s},resetPipeline:function(a,n){return a===void 0&&(a=!1),n===void 0&&(n=!1),this.pipeline=this.defaultPipeline,a&&(this.postPipelines=[],this.hasPostPipeline=!1),n&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var n=this.postPipelines,s=0;s<n.length;s++)n[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.pipelineData={})},removePostPipeline:function(a){for(var n=this.postPipelines,s=n.length-1;s>=0;s--){var f=n[s];(typeof a=="string"&&f.name===a||typeof a!="string"&&f instanceof a)&&(f.destroy(),i(n,s))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){return a===void 0&&(a=new e),a.x=i.x+i.radius*Math.cos(r),a.y=i.y+i.radius*Math.sin(r),a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){r===void 0&&(r=new e);var a=2*Math.PI*Math.random(),n=Math.random()+Math.random(),s=n>1?2-n:n,f=s*Math.cos(a),o=s*Math.sin(a);return r.x=i.x+f*i.radius,r.y=i.y+o*i.radius,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),u=t(4),i=function(r,a,n){if(n===void 0&&(n=new u),a<=0||a>=1)return n.x=r.x,n.y=r.y,n;var s=e(r)*a;return a>.5?(s-=r.width+r.height,s<=r.width?(n.x=r.right-s,n.y=r.bottom):(n.x=r.x,n.y=r.bottom-(s-r.width))):s<=r.width?(n.x=r.x+s,n.y=r.y):(n.x=r.right,n.y=r.y+(s-r.width)),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(4),i=function(r,a,n,s){s===void 0&&(s=[]),!a&&n>0&&(a=e(r)/n);for(var f=r.x1,o=r.y1,h=r.x2,d=r.y2,v=0;v<a;v++){var c=v/a,p=f+(h-f)*c,g=o+(d-o)*c;s.push(new u(p,g))}return s};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){r===void 0&&(r=new e);var a=Math.random();return r.x=i.x1+a*(i.x2-i.x1),r.y=i.y1+a*(i.y2-i.y1),r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.x=i.x+Math.random()*i.width,r.y=i.y+Math.random()*i.height,r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u,i,r;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(r in e)i=e[r],u[r]=t(i);return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s,f,o,h){h===void 0&&(h=new e);var d=Math.sin(s),v=Math.cos(s),c=v*f,p=d*f,g=-d*o,T=v*o,E=1/(c*T+g*-p);return h.x=T*E*i+-g*E*r+(n*g-a*T)*E,h.y=c*E*r+-p*E*i+(-n*c+a*p)*E,h};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);for(var i=null,r=0;r<u;r++)i=e.shift(),e.push(i);return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);for(var i=null,r=0;r<u;r++)i=e.pop(),e.unshift(i);return i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){r===void 0&&(r=new e);var a=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return r.x=i.x+n*Math.cos(a)*i.width/2,r.y=i.y+n*Math.sin(a)*i.height/2,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){r===void 0&&(r=new e);var a=i.x2-i.x1,n=i.y2-i.y1,s=i.x3-i.x1,f=i.y3-i.y1,o=Math.random(),h=Math.random();return o+h>=1&&(o=1-o,h=1-h),r.x=i.x1+(a*o+s*h),r.y=i.y1+(n*o+f*h),r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){var n=r+Math.atan2(e.y-i,e.x-u);return e.x=u+a*Math.cos(n),e.y=i+a*Math.sin(n),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e=Math.max(0,Math.min(1,(e-u)/(i-u))),e*e*e*(e*(e*6-15)+10)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e<=u?0:e>=i?1:(e=(e-u)/(i-u),e*e*(3-2*e))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(132),r=t(318),a=t(319),n=t(6),s=t(320),f=new u({initialize:function(h,d,v){this.manager=h,this.key=d,this.type="frame",this.frames=this.getFrames(h.textureManager,n(v,"frames",[]),n(v,"defaultTextureKey",null),n(v,"sortFrames",!0)),this.frameRate=n(v,"frameRate",null),this.duration=n(v,"duration",null),this.msPerFrame,this.skipMissedFrames=n(v,"skipMissedFrames",!0),this.delay=n(v,"delay",0),this.repeat=n(v,"repeat",0),this.repeatDelay=n(v,"repeatDelay",0),this.yoyo=n(v,"yoyo",!1),this.showOnStart=n(v,"showOnStart",!1),this.hideOnComplete=n(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(i.PAUSE_ALL,this.pause,this),this.manager.on(i.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(o,h,d,v){d===null&&v===null?(o.frameRate=24,o.duration=24/h*1e3):d&&v===null?(o.duration=d,o.frameRate=h/(d/1e3)):(o.frameRate=v,o.duration=h/v*1e3),o.msPerFrame=1e3/o.frameRate},addFrame:function(o){return this.addFrameAt(this.frames.length,o)},addFrameAt:function(o,h){var d=this.getFrames(this.manager.textureManager,h);if(d.length>0){if(o===0)this.frames=d.concat(this.frames);else if(o===this.frames.length)this.frames=this.frames.concat(d);else{var v=this.frames.slice(0,o),c=this.frames.slice(o);this.frames=v.concat(d,c)}this.updateFrameSequence()}return this},checkFrame:function(o){return o>=0&&o<this.frames.length},getFirstTick:function(o){o.accumulator=0,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameAt:function(o){return this.frames[o]},getFrames:function(o,h,d,v){v===void 0&&(v=!0);var c=[],p,g,T=1,E,S;if(typeof h=="string"){S=h;var C=o.get(S),P=C.getFrameNames();v&&s(P),h=[],P.forEach(function(I){h.push({key:S,frame:I})})}if(!Array.isArray(h)||h.length===0)return c;for(E=0;E<h.length;E++){var A=h[E],R=n(A,"key",d);if(R){var M=n(A,"frame",0),L=o.getFrame(R,M);g=new a(R,M,T,L),g.duration=n(A,"duration",0),g.isFirst=!p,p&&(p.nextFrame=g,g.prevFrame=p),c.push(g),p=g,T++}}if(c.length>0){g.isLast=!0,g.nextFrame=c[0],c[0].prevFrame=g;var F=1/(c.length-1);for(E=0;E<c.length;E++)c[E].progress=E*F}return c},getNextTick:function(o){o.accumulator-=o.nextTick,o.nextTick=o.msPerFrame+o.currentFrame.duration},getFrameByProgress:function(o){return o=e(o,0,1),r(o,this.frames,"progress")},nextFrame:function(o){var h=o.currentFrame;h.isLast?o.yoyo?this.handleYoyoFrame(o,!1):o.repeatCounter>0?o.inReverse&&o.forward?o.forward=!1:this.repeatAnimation(o):o.complete():this.updateAndGetNextTick(o,h.nextFrame)},handleYoyoFrame:function(o,h){if(h||(h=!1),o.inReverse===!h&&o.repeatCounter>0){(o.repeatDelay===0||o.pendingRepeat)&&(o.forward=h),this.repeatAnimation(o);return}if(o.inReverse!==h&&o.repeatCounter===0){o.complete();return}o.forward=h;var d=h?o.currentFrame.nextFrame:o.currentFrame.prevFrame;this.updateAndGetNextTick(o,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(o){var h=o.currentFrame;h.isFirst?o.yoyo?this.handleYoyoFrame(o,!0):o.repeatCounter>0?o.inReverse&&!o.forward?this.repeatAnimation(o):(o.forward=!0,this.repeatAnimation(o)):o.complete():this.updateAndGetNextTick(o,h.prevFrame)},updateAndGetNextTick:function(o,h){o.setCurrentFrame(h),this.getNextTick(o)},removeFrame:function(o){var h=this.frames.indexOf(o);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(o){return this.frames.splice(o,1),this.updateFrameSequence(),this},repeatAnimation:function(o){if(o._pendingStop===2){if(o._pendingStopValue===0)return o.stop();o._pendingStopValue--}o.repeatDelay>0&&!o.pendingRepeat?(o.pendingRepeat=!0,o.accumulator-=o.nextTick,o.nextTick+=o.repeatDelay):(o.repeatCounter--,o.forward?o.setCurrentFrame(o.currentFrame.nextFrame):o.setCurrentFrame(o.currentFrame.prevFrame),o.isPlaying&&(this.getNextTick(o),o.handleRepeat()))},toJSON:function(){var o={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){o.frames.push(h.toJSON())}),o},updateFrameSequence:function(){for(var o=this.frames.length,h=1/(o-1),d,v=0;v<o;v++)d=this.frames[v],d.index=v+1,d.isFirst=!1,d.isLast=!1,d.progress=v*h,v===0?(d.isFirst=!0,o===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[o-1],d.nextFrame=this.frames[v+1])):v===o-1&&o>1?(d.isLast=!0,d.prevFrame=this.frames[o-2],d.nextFrame=this.frames[0]):o>1&&(d.prevFrame=this.frames[v-1],d.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(i.PAUSE_ALL,this.pause,this),this.manager.off(i.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var o=0;o<this.frames.length;o++)this.frames[o].destroy();this.frames=[],this.manager=null}});l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u===void 0&&(u=0),i===void 0&&(i=" "),r===void 0&&(r=3),e=e.toString();var a=0;if(u+1>=e.length)switch(r){case 1:e=new Array(u+1-e.length).join(i)+e;break;case 3:var n=Math.ceil((a=u-e.length)/2),s=a-n;e=new Array(s+1).join(i)+e+new Array(n+1).join(i);break;default:e=e+new Array(u+1-e.length).join(i);break}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),u=t(189),i=t(331),r=t(332),a=function(n){var s=typeof n;switch(s){case"string":return n.substr(0,3).toLowerCase()==="rgb"?r(n):e(n);case"number":return u(n);case"object":return i(n)}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function u(r,a,n,s){var f=(r+a*6)%6,o=Math.min(f,4-f,1);return Math.round(255*(s-s*n*Math.max(0,o)))}var i=function(r,a,n,s){a===void 0&&(a=1),n===void 0&&(n=1);var f=u(5,r,a,n),o=u(3,r,a,n),h=u(1,r,a,n);return s?s.setTo?s.setTo(f,o,h,s.alpha,!1):(s.r=f,s.g=o,s.b=h,s.color=e(f,o,h),s):{r:f,g:o,b:h,color:e(f,o,h)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=t(330),i=function(r){var a=u(r);return new e(a.r,a.g,a.b,a.a)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x=u-e.width/2,e.y=i-e.height/2,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u=t(136),i=t(31),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var s=new ArrayBuffer(4),f=new Uint8Array(s),o=new Uint32Array(s);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,o[0]===3569595041?!0:o[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,f=function(){if(window.WebGLRenderingContext)try{var o=i.createWebGL(this),h=o.getContext("webgl")||o.getContext("experimental-webgl"),d=i.create2D(this),v=d.getContext("2d"),c=v.createImageData(1,1);return s=c.data instanceof Uint8ClampedArray,i.remove(o),i.remove(d),!!h}catch{return!1}return!1};return r.webGL=f(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,u.firefox&&u.firefoxVersion<21&&(r.getUserMedia=!1),!e.iOS&&(u.ie||u.firefox||u.chrome)&&(r.canvasBitBltShift=!0),(u.safari||u.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=a()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}l.exports=n()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var u=function(n){for(var s=["i","webkitI","msI","mozI","oI"],f=0;f<s.length;f++){var o=s[f]+"mageSmoothingEnabled";if(o in n)return o}return null},i=function(n){return t===""&&(t=u(n)),t&&(n[t]=!0),n},r=function(n){return t===""&&(t=u(n)),t&&(n[t]=!1),n},a=function(n){return t!==null?n[t]:null};return{disable:r,enable:i,getPrefix:u,isEnabled:a}};l.exports=e()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(17),i={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};i=u(!1,i,e),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){var n=(r-u)*.5,s=(a-i)*.5,f=e*e,o=e*f;return(2*i-2*r+n+s)*o+(-3*i+3*r-2*n-s)*f+n*e+i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(i){return i*e.RAD_TO_DEG};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(i){return this._matrix=i,this._dirty=!0,this},reset:function(){var i=this._matrix;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=0,i[6]=1,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=1,i[13]=0,i[14]=0,i[15]=0,i[16]=0,i[17]=0,i[18]=1,i[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var i=new Float32Array(this._matrix);i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,this._data=i,this._dirty=!1}return this._data},brightness:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],r)},saturate:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i*2/3+1,n=(a-1)*-.5;return this.multiply([a,n,n,0,0,n,a,n,0,0,n,n,a,0,0,0,0,0,1,0],r)},desaturate:function(i){return i===void 0&&(i=!1),this.saturate(-1,i)},hue:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1),i=i/180*Math.PI;var a=Math.cos(i),n=Math.sin(i),s=.213,f=.715,o=.072;return this.multiply([s+a*(1-s)+n*-s,f+a*-f+n*-f,o+a*-o+n*(1-o),0,0,s+a*-s+n*.143,f+a*(1-f)+n*.14,o+a*-o+n*-.283,0,0,s+a*-s+n*-(1-s),f+a*-f+n*f,o+a*(1-o)+n*o,0,0,0,0,0,1,0],r)},grayscale:function(i,r){return i===void 0&&(i=1),r===void 0&&(r=!1),this.saturate(-i,r)},blackWhite:function(i){return i===void 0&&(i=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],i)},contrast:function(i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=i+1,n=-.5*(a-1);return this.multiply([a,0,0,0,n,0,a,0,0,n,0,0,a,0,n,0,0,0,1,0],r)},negative:function(i){return i===void 0&&(i=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],i)},desaturateLuminance:function(i){return i===void 0&&(i=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],i)},sepia:function(i){return i===void 0&&(i=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],i)},night:function(i,r){return i===void 0&&(i=.1),r===void 0&&(r=!1),this.multiply([i*-2,-i,0,0,0,-i,0,i,0,0,0,i,i*2,0,0,0,0,0,1,0],r)},lsd:function(i){return i===void 0&&(i=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],i)},brown:function(i){return i===void 0&&(i=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],i)},vintagePinhole:function(i){return i===void 0&&(i=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],i)},kodachrome:function(i){return i===void 0&&(i=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],i)},technicolor:function(i){return i===void 0&&(i=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],i)},polaroid:function(i){return i===void 0&&(i=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],i)},shiftToBGR:function(i){return i===void 0&&(i=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],i)},multiply:function(i,r){r||this.reset();for(var a=this._matrix,n=[],s=0;s<20;s++)n[s]=a[s];return a[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],a[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],a[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],a[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],a[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],a[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],a[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],a[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],a[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],a[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],a[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],a[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],a[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],a[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],a[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],a[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],a[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],a[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],a[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],a[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],this._dirty=!0,this}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(14),i=function(r,a){if(a===void 0&&(a=new e),r.length===0)return a;for(var n=Number.MAX_VALUE,s=Number.MAX_VALUE,f=u.MIN_SAFE_INTEGER,o=u.MIN_SAFE_INTEGER,h,d,v,c=0;c<r.length;c++)h=r[c],Array.isArray(h)?(d=h[0],v=h[1]):(d=h.x,v=h.y),n=Math.min(n,d),s=Math.min(s,v),f=Math.max(f,d),o=Math.max(o,v);return a.x=n,a.y=s,a.width=f-n,a.height=o-s,a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1),i=new e({initialize:function(a,n,s){this._rgb=[0,0,0],this.onChangeCallback=u,this.dirty=!1,this.set(a,n,s)},set:function(r,a,n){return r===void 0&&(r=0),a===void 0&&(a=0),n===void 0&&(n=0),this._rgb=[r,a,n],this.onChange(),this},equals:function(r,a,n){var s=this._rgb;return s.r===r&&s.g===a&&s.b===n},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(144),i=t(197),r=t(20),a=t(419),n=t(420),s=t(33),f=t(1),o=t(421),h=new e({initialize:function(v,c){this.scene=v,this.game,this.renderer,this.config=c,this.settings=o.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(d){this.settings.status=u.INIT,this.sceneUpdate=f,this.game=d,this.renderer=d.renderer,this.canvas=d.canvas,this.context=d.context;var v=d.plugins;this.plugins=v,v.addToScene(this,i.Global,[i.CoreScene,n(this),a(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(d,v){var c=this.events;c.emit(r.PRE_UPDATE,d,v),c.emit(r.UPDATE,d,v),this.sceneUpdate.call(this.scene,d,v),c.emit(r.POST_UPDATE,d,v)},render:function(d){var v=this.displayList;v.depthSort(),this.events.emit(r.PRE_RENDER,d),this.cameras.render(d,v),this.events.emit(r.RENDER,d)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(d){var v=this.events,c=this.settings;return this.settings.active&&(c.status=u.PAUSED,c.active=!1,v.emit(r.PAUSE,this,d)),this},resume:function(d){var v=this.events,c=this.settings;return this.settings.active||(c.status=u.RUNNING,c.active=!0,v.emit(r.RESUME,this,d)),this},sleep:function(d){var v=this.events,c=this.settings;return c.status=u.SLEEPING,c.active=!1,c.visible=!1,v.emit(r.SLEEP,this,d),this},wake:function(d){var v=this.events,c=this.settings;return c.status=u.RUNNING,c.active=!0,c.visible=!0,v.emit(r.WAKE,this,d),c.isTransition&&v.emit(r.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===u.SLEEPING},isActive:function(){return this.settings.status===u.RUNNING},isPaused:function(){return this.settings.status===u.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(d){return this.settings.visible=d,this},setActive:function(d,v){return d?this.resume(v):this.pause(v)},start:function(d){var v=this.events,c=this.settings;d&&(c.data=d),c.status=u.START,c.active=!0,c.visible=!0,v.emit(r.START,this),v.emit(r.READY,this,d)},shutdown:function(d){var v=this.events,c=this.settings;v.off(r.TRANSITION_INIT),v.off(r.TRANSITION_START),v.off(r.TRANSITION_COMPLETE),v.off(r.TRANSITION_OUT),c.status=u.SHUTDOWN,c.active=!1,c.visible=!1,this.renderer===s.WEBGL&&this.renderer.resetTextures(!0),v.emit(r.SHUTDOWN,this,d)},destroy:function(){var d=this.events,v=this.settings;v.status=u.DESTROYED,v.active=!1,v.visible=!1,d.emit(r.DESTROY,this),d.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],p=0;p<c.length;p++)this[c[p]]=null}});l.exports=h},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=t(0),i=t(109),r=t(424),a="Texture.frame missing: ",n=new u({initialize:function(f,o,h,d,v){Array.isArray(h)||(h=[h]),this.manager=f,this.key=o,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<h.length;c++)this.source.push(new r(this,h[c],d,v))},add:function(s,f,o,h,d,v){if(this.has(s))return null;var c=new i(this,s,f,o,h,d,v);return this.frames[s]=c,this.firstFrame==="__BASE"&&(this.firstFrame=s),this.frameTotal++,c},remove:function(s){if(this.has(s)){var f=this.get(s);return f.destroy(),delete this.frames[s],!0}return!1},has:function(s){return this.frames[s]},get:function(s){s||(s=this.firstFrame);var f=this.frames[s];return f||(console.warn(a+s),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(s){for(var f=0;f<this.source.length;f++)if(this.source[f]===s)return f;return-1},getFramesFromTextureSource:function(s,f){f===void 0&&(f=!1);var o=[];for(var h in this.frames)if(!(h==="__BASE"&&!f)){var d=this.frames[h];d.sourceIndex===s&&o.push(d)}return o},getFrameNames:function(s){s===void 0&&(s=!1);var f=Object.keys(this.frames);if(!s){var o=f.indexOf("__BASE");o!==-1&&f.splice(o,1)}return f},getSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var f=this.frames[s];return f?f.source.image:(console.warn(a+s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var f=this.frames[s],o;return f?o=f.sourceIndex:(console.warn(a+s),o=this.frames.__BASE.sourceIndex),this.dataSource[o].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var o=this.source[f];this.dataSource.push(new r(this,s[f],o.width,o.height))}},setFilter:function(s){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(s);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(s)},destroy:function(){var s;for(s=0;s<this.source.length;s++)this.source[s].destroy();for(s=0;s<this.dataSource.length;s++)this.dataSource[s].destroy();for(var f in this.frames){var o=this.frames[f];o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var h=this.manager.game.renderer;h&&h.type===e.WEBGL&&h.resetTextures(!0),this.manager=null}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);var f=[];if(e(i,n,s))for(var o=n;o<s;o++){var h=i[o];(!r||r&&a===void 0&&h.hasOwnProperty(r)||r&&a!==void 0&&h[r]===a)&&f.push(h)}return f};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var u=e[0].length,i=1;i<e.length;i++)if(e[i].length!==u)return!1;return!0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){u===void 0&&(u=0),i===void 0&&(i=e.length);var r=u+Math.floor(Math.random()*i);return e[r]===void 0?null:e[r]};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(438),r=new e({Extends:u,initialize:function(){u.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(a){return this._pending.push(a),this._toProcess++,a},remove:function(a){return this._destroy.push(a),this._toProcess++,a},removeAll:function(){for(var a=this._active,n=this._destroy,s=a.length;s--;)n.push(a[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,n=this._active,s,f;for(s=0;s<a.length;s++){f=a[s];var o=n.indexOf(f);o!==-1&&(n.splice(o,1),this.emit(i.PROCESS_QUEUE_REMOVE,f))}for(a.length=0,a=this._pending,s=0;s<a.length;s++)f=a[s],(!this.checkQueue||this.checkQueue&&n.indexOf(f)===-1)&&(n.push(f),this.emit(i.PROCESS_QUEUE_ADD,f));return a.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(u,i){return parseInt(u.getAttribute(i),10)}var e=function(u,i,r,a,n){r===void 0&&(r=0),a===void 0&&(a=0);var s=i.cutX,f=i.cutY,o=i.source.width,h=i.source.height,d=i.sourceIndex,v={},c=u.getElementsByTagName("info")[0],p=u.getElementsByTagName("common")[0];v.font=c.getAttribute("face"),v.size=t(c,"size"),v.lineHeight=t(p,"lineHeight")+a,v.chars={};var g=u.getElementsByTagName("char"),T=i!==void 0&&i.trimmed;if(T)var E=i.height,S=i.width;for(var C=0;C<g.length;C++){var P=g[C],A=t(P,"id"),R=String.fromCharCode(A),M=t(P,"x"),L=t(P,"y"),F=t(P,"width"),I=t(P,"height");T&&(M<S&&(S=M),L<E&&(E=L)),T&&E!==0&&S!==0&&(M-=i.x,L-=i.y);var B=(s+M)/o,b=(f+L)/h,W=(s+M+F)/o,$=(f+L+I)/h;if(v.chars[A]={x:M,y:L,width:F,height:I,centerX:Math.floor(F/2),centerY:Math.floor(I/2),xOffset:t(P,"xoffset"),yOffset:t(P,"yoffset"),xAdvance:t(P,"xadvance")+r,data:{},kerning:{},u0:B,v0:b,u1:W,v1:$},n&&F!==0&&I!==0){var Z=n.add(R,d,M,L,F,I);Z&&Z.setUVs(F,I,B,b,W,$)}}var D=u.getElementsByTagName("kerning");for(C=0;C<D.length;C++){var O=D[C],N=t(O,"first"),G=t(O,"second"),Y=t(O,"amount");v.chars[G].kerning[N]=Y}return v};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),u=t(440),i=t(0),r=t(11),a=t(109),n=t(15),s=t(110),f=new i({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,e],initialize:function(h,d,v,c,p){n.call(this,h,"Blitter"),this.setTexture(c,p),this.setPosition(d,v),this.initPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(o,h,d,v,c){v===void 0&&(v=!0),c===void 0&&(c=this.children.length),d===void 0?d=this.frame:d instanceof a||(d=this.texture.get(d));var p=new u(this,o,h,d,v);return this.children.addAt(p,c,!1),this.dirty=!0,p},createFromCallback:function(o,h,d,v){for(var c=this.createMultiple(h,d,v),p=0;p<c.length;p++){var g=c[p];o.call(this,g,p)}return c},createMultiple:function(o,h,d){h===void 0&&(h=this.frame.name),d===void 0&&(d=!0),Array.isArray(h)||(h=[h]);var v=[],c=this;return h.forEach(function(p){for(var g=0;g<o;g++)v.push(c.create(0,0,p,d))}),v},childCanRender:function(o){return o.visible&&o.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),u=t(35),i=t(0),r=t(11),a=t(75),n=t(15),s=t(10),f=t(1052),o=t(441),h=t(3),d=new i({Extends:n,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.Pipeline,r.Transform,r.Visible,f],initialize:function(c,p,g,T){n.call(this,c,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._sortKey="",this._sysEvents=c.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(p,g),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new s),v.setTo(this.x,this.y,0,0),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix(),p=c.transformPoint(this.x,this.y);v.setTo(p.x,p.y,0,0)}if(this.list.length>0){var g=this.list,T=new s,E=!1;v.setEmpty();for(var S=0;S<g.length;S++){var C=g[S];C.getBounds&&(C.getBounds(T),E?o(T,v,v):(v.setTo(T.x,T.y,T.width,T.height),E=!0))}}return v},addHandler:function(v){v.once(a.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.removeFromDisplayList(),v.parentContainer=this)},removeHandler:function(v){v.off(a.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null,v.addToDisplayList())},pointToContainer:function(v,c){c===void 0&&(c=new h),this.parentContainer?this.parentContainer.pointToContainer(v,c):c=new h(v.x,v.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(v.x,v.y,c),c},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return e.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,c){return e.AddAt(this.list,v,c,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,c){return v?(c===void 0&&(c=function(p,g){return p[v]-g[v]}),e.StableSort(this.list,c),this):this},getByName:function(v){return e.GetFirst(this.list,"name",v)},getRandom:function(v,c){return e.GetRandom(this.list,v,c)},getFirst:function(v,c,p,g){return e.GetFirst(this.list,v,c,p,g)},getAll:function(v,c,p,g){return e.GetAll(this.list,v,c,p,g)},count:function(v,c,p,g){return e.CountAllMatching(this.list,v,c,p,g)},swap:function(v,c){return e.Swap(this.list,v,c),this},moveTo:function(v,c){return e.MoveTo(this.list,v,c),this},moveAbove:function(v,c){return e.MoveAbove(this.list,v,c),this},moveBelow:function(v,c){return e.MoveBelow(this.list,v,c),this},remove:function(v,c){var p=e.Remove(this.list,v,this.removeHandler,this);if(c&&p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++)p[g].destroy()}return this},removeAt:function(v,c){var p=e.RemoveAt(this.list,v,this.removeHandler,this);return c&&p&&p.destroy(),this},removeBetween:function(v,c,p){var g=e.RemoveBetween(this.list,v,c,this.removeHandler,this);if(p)for(var T=0;T<g.length;T++)g[T].destroy();return this},removeAll:function(v){var c=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var p=0;p<c.length;p++)c[p].destroy();return this},bringToTop:function(v){return e.BringToTop(this.list,v),this},sendToBack:function(v){return e.SendToBack(this.list,v),this},moveUp:function(v){return e.MoveUp(this.list,v),this},moveDown:function(v){return e.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(v,c,p){var g=e.Replace(this.list,v,c);return g&&(this.addHandler(c),this.removeHandler(v),p&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,c,p,g){return e.SetAll(this.list,v,c,p,g),this},each:function(v,c){var p=[null],g,T=this.list.slice(),E=T.length;for(g=2;g<arguments.length;g++)p.push(arguments[g]);for(g=0;g<E;g++)p[0]=T[g],v.apply(c,p);return this},iterate:function(v,c){var p=[null],g;for(g=2;g<arguments.length;g++)p.push(arguments[g]);for(g=0;g<this.list.length;g++)p[0]=this.list[g],v.apply(c,p);return this},setScrollFactor:function(v,c,p){return c===void 0&&(c=v),p===void 0&&(p=!1),this.scrollFactorX=v,this.scrollFactorY=c,p&&(e.SetAll(this.list,"scrollFactorX",v),e.SetAll(this.list,"scrollFactorY",c)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(0),i=t(1057),r=new u({Extends:e,Mixins:[i],initialize:function(n,s,f,o,h,d,v){e.call(this,n,s,f,o,h,d,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,n){return this.cropWidth=a,this.cropHeight=n,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),u=t(0),i=t(217),r=t(303),a=t(304),n=t(305),s=t(309),f=t(167),o=t(312),h=t(313),d=t(314),v=t(111),c=t(15),p=t(2),g=t(6),T=t(14),E=t(1063),S=new u({Extends:c,Mixins:[r,a,n,s,f,h,d,o,E],initialize:function(P,A){var R=g(A,"x",0),M=g(A,"y",0);c.call(this,P,"Graphics"),this.setPosition(R,M),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(A)},setDefaultStyles:function(C){return g(C,"lineStyle",null)&&(this.defaultStrokeWidth=g(C,"lineStyle.width",1),this.defaultStrokeColor=g(C,"lineStyle.color",16777215),this.defaultStrokeAlpha=g(C,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),g(C,"fillStyle",null)&&(this.defaultFillColor=g(C,"fillStyle.color",16777215),this.defaultFillAlpha=g(C,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(C,P,A){return A===void 0&&(A=1),this.commandBuffer.push(i.LINE_STYLE,C,P,A),this._lineWidth=C,this},fillStyle:function(C,P){return P===void 0&&(P=1),this.commandBuffer.push(i.FILL_STYLE,C,P),this},fillGradientStyle:function(C,P,A,R,M,L,F,I){return M===void 0&&(M=1),L===void 0&&(L=M),F===void 0&&(F=M),I===void 0&&(I=M),this.commandBuffer.push(i.GRADIENT_FILL_STYLE,M,L,F,I,C,P,A,R),this},lineGradientStyle:function(C,P,A,R,M,L){return L===void 0&&(L=1),this.commandBuffer.push(i.GRADIENT_LINE_STYLE,C,L,P,A,R,M),this},beginPath:function(){return this.commandBuffer.push(i.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(i.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(i.FILL_PATH),this},fill:function(){return this.commandBuffer.push(i.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(i.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(i.STROKE_PATH),this},fillCircleShape:function(C){return this.fillCircle(C.x,C.y,C.radius)},strokeCircleShape:function(C){return this.strokeCircle(C.x,C.y,C.radius)},fillCircle:function(C,P,A){return this.beginPath(),this.arc(C,P,A,0,T.PI2),this.fillPath(),this},strokeCircle:function(C,P,A){return this.beginPath(),this.arc(C,P,A,0,T.PI2),this.strokePath(),this},fillRectShape:function(C){return this.fillRect(C.x,C.y,C.width,C.height)},strokeRectShape:function(C){return this.strokeRect(C.x,C.y,C.width,C.height)},fillRect:function(C,P,A,R){return this.commandBuffer.push(i.FILL_RECT,C,P,A,R),this},strokeRect:function(C,P,A,R){var M=this._lineWidth/2,L=C-M,F=C+M;return this.beginPath(),this.moveTo(C,P),this.lineTo(C,P+R),this.strokePath(),this.beginPath(),this.moveTo(C+A,P),this.lineTo(C+A,P+R),this.strokePath(),this.beginPath(),this.moveTo(L,P),this.lineTo(F+A,P),this.strokePath(),this.beginPath(),this.moveTo(L,P+R),this.lineTo(F+A,P+R),this.strokePath(),this},fillRoundedRect:function(C,P,A,R,M){M===void 0&&(M=20);var L=M,F=M,I=M,B=M;return typeof M!="number"&&(L=p(M,"tl",20),F=p(M,"tr",20),I=p(M,"bl",20),B=p(M,"br",20)),this.beginPath(),this.moveTo(C+L,P),this.lineTo(C+A-F,P),this.arc(C+A-F,P+F,F,-T.TAU,0),this.lineTo(C+A,P+R-B),this.arc(C+A-B,P+R-B,B,0,T.TAU),this.lineTo(C+I,P+R),this.arc(C+I,P+R-I,I,T.TAU,Math.PI),this.lineTo(C,P+L),this.arc(C+L,P+L,L,-Math.PI,-T.TAU),this.fillPath(),this},strokeRoundedRect:function(C,P,A,R,M){M===void 0&&(M=20);var L=M,F=M,I=M,B=M;return typeof M!="number"&&(L=p(M,"tl",20),F=p(M,"tr",20),I=p(M,"bl",20),B=p(M,"br",20)),this.beginPath(),this.moveTo(C+L,P),this.lineTo(C+A-F,P),this.moveTo(C+A-F,P),this.arc(C+A-F,P+F,F,-T.TAU,0),this.lineTo(C+A,P+R-B),this.moveTo(C+A,P+R-B),this.arc(C+A-B,P+R-B,B,0,T.TAU),this.lineTo(C+I,P+R),this.moveTo(C+I,P+R),this.arc(C+I,P+R-I,I,T.TAU,Math.PI),this.lineTo(C,P+L),this.moveTo(C,P+L),this.arc(C+L,P+L,L,-Math.PI,-T.TAU),this.strokePath(),this},fillPointShape:function(C,P){return this.fillPoint(C.x,C.y,P)},fillPoint:function(C,P,A){return!A||A<1?A=1:(C-=A/2,P-=A/2),this.commandBuffer.push(i.FILL_RECT,C,P,A,A),this},fillTriangleShape:function(C){return this.fillTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},strokeTriangleShape:function(C){return this.strokeTriangle(C.x1,C.y1,C.x2,C.y2,C.x3,C.y3)},fillTriangle:function(C,P,A,R,M,L){return this.commandBuffer.push(i.FILL_TRIANGLE,C,P,A,R,M,L),this},strokeTriangle:function(C,P,A,R,M,L){return this.commandBuffer.push(i.STROKE_TRIANGLE,C,P,A,R,M,L),this},strokeLineShape:function(C){return this.lineBetween(C.x1,C.y1,C.x2,C.y2)},lineBetween:function(C,P,A,R){return this.beginPath(),this.moveTo(C,P),this.lineTo(A,R),this.strokePath(),this},lineTo:function(C,P){return this.commandBuffer.push(i.LINE_TO,C,P),this},moveTo:function(C,P){return this.commandBuffer.push(i.MOVE_TO,C,P),this},strokePoints:function(C,P,A,R){P===void 0&&(P=!1),A===void 0&&(A=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return P&&this.lineTo(C[0].x,C[0].y),A&&this.closePath(),this.strokePath(),this},fillPoints:function(C,P,A,R){P===void 0&&(P=!1),A===void 0&&(A=!1),R===void 0&&(R=C.length),this.beginPath(),this.moveTo(C[0].x,C[0].y);for(var M=1;M<R;M++)this.lineTo(C[M].x,C[M].y);return P&&this.lineTo(C[0].x,C[0].y),A&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(C,P){P===void 0&&(P=32);var A=C.getPoints(P);return this.strokePoints(A,!0)},strokeEllipse:function(C,P,A,R,M){M===void 0&&(M=32);var L=new v(C,P,A,R),F=L.getPoints(M);return this.strokePoints(F,!0)},fillEllipseShape:function(C,P){P===void 0&&(P=32);var A=C.getPoints(P);return this.fillPoints(A,!0)},fillEllipse:function(C,P,A,R,M){M===void 0&&(M=32);var L=new v(C,P,A,R),F=L.getPoints(M);return this.fillPoints(F,!0)},arc:function(C,P,A,R,M,L,F){return L===void 0&&(L=!1),F===void 0&&(F=0),this.commandBuffer.push(i.ARC,C,P,A,R,M,L,F),this},slice:function(C,P,A,R,M,L,F){return L===void 0&&(L=!1),F===void 0&&(F=0),this.commandBuffer.push(i.BEGIN_PATH),this.commandBuffer.push(i.MOVE_TO,C,P),this.commandBuffer.push(i.ARC,C,P,A,R,M,L,F),this.commandBuffer.push(i.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(i.SAVE),this},restore:function(){return this.commandBuffer.push(i.RESTORE),this},translateCanvas:function(C,P){return this.commandBuffer.push(i.TRANSLATE,C,P),this},scaleCanvas:function(C,P){return this.commandBuffer.push(i.SCALE,C,P),this},rotateCanvas:function(C){return this.commandBuffer.push(i.ROTATE,C),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(C,P,A){var R=this.scene.sys,M=R.game.renderer;P===void 0&&(P=R.scale.width),A===void 0&&(A=R.scale.height),S.TargetCamera.setScene(this.scene),S.TargetCamera.setViewport(0,0,P,A),S.TargetCamera.scrollX=this.x,S.TargetCamera.scrollY=this.y;var L,F;if(typeof C=="string")if(R.textures.exists(C)){L=R.textures.get(C);var I=L.getSourceImage();I instanceof HTMLCanvasElement&&(F=I.getContext("2d"))}else L=R.textures.createCanvas(C,P,A),F=L.getSourceImage().getContext("2d");else C instanceof HTMLCanvasElement&&(F=C.getContext("2d"));return F&&(this.renderCanvas(M,this,S.TargetCamera,null,F,!1),L&&L.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});S.TargetCamera=new e,l.exports=S},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){a===void 0&&(a=new e);var n=i.width/2,s=i.height/2;return a.x=i.x+n*Math.cos(r),a.y=i.y+s*Math.sin(r),a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(0),i=t(11),r=t(176),a=t(101),n=t(9),s=t(75),f=t(110),o=t(1071),h=t(20),d=t(79),v=new u({Extends:f,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.Visible,n,o],initialize:function(p,g){f.call(this,p),n.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),g&&this.add(g),p.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(c,p){return this.data||(this.data=new a(this)),this.data.set(c,p),this},incData:function(c,p){return this.data||(this.data=new a(this)),this.data.inc(c,p),this},toggleData:function(c){return this.data||(this.data=new a(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new a(this)),this.data.get(c)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(c){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,p=this.parentContainer,g=[];p&&(g.unshift(p.getIndex(c)),c=p,p.parentContainer);)p=p.parentContainer;return g.unshift(this.displayList.getIndex(c)),g},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(s.ADDED_TO_SCENE,c,this.scene),this.events.emit(h.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(s.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,c,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,p){return c._depth-p._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var c=this.list.length;c--;)this.list[c].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(450),a=t(110),n=t(452),s=t(1075),f=new e({Extends:i,Mixins:[u.Depth,u.Mask,u.Pipeline,u.Transform,u.Visible,s],initialize:function(h,d,v,c){if(i.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],v!==null&&(typeof v=="object"||Array.isArray(v))&&(c=v,v=null),this.setTexture(d,v),this.initPipeline(),this.emitters=new a(this),this.wells=new a(this),c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++)this.createEmitter(c[p])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(o,h){return this.texture=this.scene.sys.textures.get(o),this.setFrame(h)},setFrame:function(o){this.frame=this.texture.get(o);var h=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),d=[];return h.forEach(function(v){d.push(v.name)}),this.frameNames=d,this.defaultFrame=this.frame,this},setEmitterFrames:function(o,h){Array.isArray(o)||(o=[o]);var d=h.frames;d.length=0;for(var v=0;v<o.length;v++){var c=o[v];this.frameNames.indexOf(c)!==-1&&d.push(this.texture.get(c))}return d.length>0?h.defaultFrame=d[0]:h.defaultFrame=this.defaultFrame,this},addEmitter:function(o){return this.emitters.add(o)},createEmitter:function(o){return this.addEmitter(new n(this,o))},removeEmitter:function(o){return this.emitters.remove(o,!0)},addGravityWell:function(o){return this.wells.add(o)},createGravityWell:function(o){return this.addGravityWell(new r(o))},emitParticle:function(o,h,d){for(var v=this.emitters.list,c=0;c<v.length;c++){var p=v[c];p.active&&p.emitParticle(o,h,d)}return this},emitParticleAt:function(o,h,d){return this.emitParticle(d,o,h)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(o,h){h*=this.timeScale;for(var d=this.emitters.list,v=0;v<d.length;v++){var c=d[v];c.active&&c.preUpdate(o,h)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(133),i=t(31),r=t(0),a=t(11),n=t(33),s=t(109),f=t(15),o=t(1),h=t(92),d=t(1079),v=t(141),c=t(12),p=t(222),g=new r({Extends:f,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,d],initialize:function(E,S,C,P,A,R,M){S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=32),A===void 0&&(A=32),f.call(this,E,"RenderTexture"),this.renderer=E.sys.renderer,this.textureManager=E.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,R===void 0?(this.canvas=i.create2D(this,P,A),this.texture=E.sys.textures.addCanvas(p(),this.canvas),this.frame=this.texture.get()):(this.texture=E.sys.textures.get(R),this.frame=this.texture.get(M),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new u(0,0,P,A),this.renderTarget=null;var L=this.renderer;L?L.type===n.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new v(L,P,A,1,0,!1)):L.type===n.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=o,this.camera.setScene(E),this.setPosition(S,C),R===void 0&&this.setSize(P,A),this.setOrigin(0,0),this.initPipeline(h.SINGLE_PIPELINE)},setSize:function(T,E){return this.resize(T,E)},resize:function(T,E){E===void 0&&(E=T);var S=this.frame;if(T!==this.width||E!==this.height){if(S.name==="__BASE"){this.canvas.width=T,this.canvas.height=E,this.texture.width=T,this.texture.height=E;var C=this.renderTarget;C&&(C.resize(T,E),S.glTexture=C.texture,S.source.isRenderTexture=!0,S.source.isGLTexture=!0,S.source.glTexture=C.texture),this.camera.setSize(T,E),S.source.width=T,S.source.height=E,S.setSize(T,E),this.width=T,this.height=E}}else{var P=this.texture.getSourceImage();S.cutX+T>P.width&&(T=P.width-S.cutX),S.cutY+E>P.height&&(E=P.height-S.cutY),S.setSize(T,E,S.cutX,S.cutY)}this.updateDisplayOrigin();var A=this.input;return A&&!A.customHitArea&&(A.hitArea.width=T,A.hitArea.height=E),this},setGlobalTint:function(T){return this.globalTint=T,this},setGlobalAlpha:function(T){return this.globalAlpha=T,this},saveTexture:function(T){return this.textureManager.renameTexture(this.texture.key,T),this._saved=!0,this.texture},fill:function(T,E,S,C,P,A){var R=this.frame,M=this.camera,L=this.renderer;E===void 0&&(E=1),S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=R.cutWidth),A===void 0&&(A=R.cutHeight);var F=(T>>16&255)/255,I=(T>>8&255)/255,B=(T&255)/255,b=this.renderTarget;if(M.preRender(),b){b.bind(!0);var W=this.pipeline;W.manager.set(W);var $=b.width,Z=b.height,D=L.width,O=L.height,N=D/$,G=O/Z;W.drawFillRect(S*N,C*G,P*N,A*G,c.getTintFromFloats(B,I,F,1),E),b.unbind(!0)}else{var Y=this.context;L.setContext(Y),Y.fillStyle="rgba("+F+","+I+","+B+","+E+")",Y.fillRect(S+R.cutX,C+R.cutY,P,A),L.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var T=this.renderTarget;if(T)T.clear();else{var E=this.context;E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),E.restore()}this.dirty=!1}return this},erase:function(T,E,S){return this._eraseMode=!0,this.draw(T,E,S,1,16777215),this._eraseMode=!1,this},draw:function(T,E,S,C,P){return this.beginDraw(),this.batchDraw(T,E,S,C,P),this.endDraw(),this},drawFrame:function(T,E,S,C,P,A){return this.beginDraw(),this.batchDrawFrame(T,E,S,C,P,A),this.endDraw(),this},beginDraw:function(){var T=this.camera,E=this.renderer,S=this.renderTarget;return T.preRender(),S?E.beginCapture(S.width,S.height):E.setContext(this.context),this},batchDraw:function(T,E,S,C,P){return C===void 0&&(C=this.globalAlpha),P===void 0?P=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):P=(P>>16)+(P&65280)+((P&255)<<16),Array.isArray(T)||(T=[T]),this.batchList(T,E,S,C,P),this},batchDrawFrame:function(T,E,S,C,P,A){S===void 0&&(S=0),C===void 0&&(C=0),P===void 0&&(P=this.globalAlpha),A===void 0?A=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):A=(A>>16)+(A&65280)+((A&255)<<16);var R=this.textureManager.getFrame(T,E);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,S,C,A,P,this.camera.matrix,null):this.batchTextureFrame(R,S+this.frame.cutX,C+this.frame.cutY,P,A)),this},endDraw:function(T){T===void 0&&(T=this._eraseMode);var E=this.renderer,S=this.renderTarget;if(S){var C=E.endCapture(),P=E.pipelines.setUtility();P.blitFrame(C,S,1,!1,!1,T),E.resetScissor(),E.resetViewport()}else E.setContext();return this.dirty=!0,this},batchList:function(T,E,S,C,P){for(var A=0;A<T.length;A++){var R=T[A];!R||R===this||(R.renderWebGL||R.renderCanvas?this.drawGameObject(R,E,S):R.isParent||R.list?this.batchGroup(R.getChildren(),E,S):typeof R=="string"?this.batchTextureFrameKey(R,null,E,S,C,P):R instanceof s?this.batchTextureFrame(R,E,S,C,P):Array.isArray(R)&&this.batchList(R,E,S,C,P))}},batchGroup:function(T,E,S){E===void 0&&(E=0),S===void 0&&(S=0),E+=this.frame.cutX,S+=this.frame.cutY;for(var C=0;C<T.length;C++){var P=T[C];if(P.willRender(this.camera)){var A=P.x+E,R=P.y+S;this.drawGameObject(P,A,R)}}},batchGameObjectWebGL:function(T,E,S){E===void 0&&(E=T.x),S===void 0&&(S=T.y);var C=T.x,P=T.y;T.setPosition(E+this.frame.cutX,S+this.frame.cutY),T.renderDirect?T.renderDirect(this.renderer,T,this.camera):T.renderWebGL(this.renderer,T,this.camera),T.setPosition(C,P)},batchGameObjectCanvas:function(T,E,S){E===void 0&&(E=T.x),S===void 0&&(S=T.y);var C=T.x,P=T.y;if(this._eraseMode){var A=T.blendMode;T.blendMode=e.ERASE}T.setPosition(E+this.frame.cutX,S+this.frame.cutY),T.renderCanvas(this.renderer,T,this.camera,null),T.setPosition(C,P),this._eraseMode&&(T.blendMode=A)},batchTextureFrameKey:function(T,E,S,C,P,A){var R=this.textureManager.getFrame(T,E);R&&this.batchTextureFrame(R,S,C,P,A)},batchTextureFrame:function(T,E,S,C,P){E===void 0&&(E=0),S===void 0&&(S=0),E+=this.frame.cutX,S+=this.frame.cutY;var A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(T,E,S,P,C,this.camera.matrix,null);else{var R=this.context,M=T.canvasData,L=T.source.image,F=this.camera.matrix;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=C,F.setToContext(R),R.drawImage(L,M.x,M.y,M.width,M.height,E,S,M.width,M.height),R.restore()}},snapshotArea:function(T,E,S,C,P,A,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,T,E,S,C,A,R):this.renderer.snapshotCanvas(this.canvas,P,!1,T,E,S,C,A,R),this},snapshot:function(T,E,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,0,0,this.width,this.height,E,S):this.renderer.snapshotCanvas(this.canvas,T,!1,0,0,this.width,this.height,E,S),this},snapshotPixel:function(T,E,S){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!0,T,E):this.renderer.snapshotCanvas(this.canvas,S,!0,T,E),this},preDestroy:function(){this._saved||(i.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});l.exports=g},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,i=e==="x"?u:u&3|8;return i.toString(16)})};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),i=t(11),r=t(15),a=t(92),n=t(1085),s=t(3),f=new u({Extends:r,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Flip,i.Mask,i.Pipeline,i.Size,i.Texture,i.Transform,i.Visible,i.ScrollFactor,n],initialize:function(h,d,v,c,p,g,T,E,S){c===void 0&&(c="__DEFAULT"),g===void 0&&(g=2),T===void 0&&(T=!0),r.call(this,h,"Rope"),this.anims=new e(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=c==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(c,p),this.setPosition(d,v),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,E,S),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,h){var d=this.anims.currentFrame;this.anims.update(o,h),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(o,h,d){return this.anims.play(o,h,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(o,h,d){return o===void 0&&(o=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(o,h,d))},setVertical:function(o,h,d){return o===void 0&&(o=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(o,h,d)):this},setTintFill:function(o){return o===void 0&&(o=!1),this.tintFill=o,this},setAlphas:function(o,h){var d=this.points.length;if(d<1)return this;var v=this.alphas;o===void 0?o=[1]:!Array.isArray(o)&&h===void 0&&(o=[o]);var c,p=0;if(h!==void 0)for(c=0;c<d;c++)p=c*2,v[p]=o,v[p+1]=h;else if(o.length===d)for(c=0;c<d;c++)p=c*2,v[p]=o[c],v[p+1]=o[c];else{var g=o[0];for(c=0;c<d;c++)p=c*2,o.length>p&&(g=o[p]),v[p]=g,o.length>p+1&&(g=o[p+1]),v[p+1]=g}return this},setColors:function(o){var h=this.points.length;if(h<1)return this;var d=this.colors;o===void 0?o=[16777215]:Array.isArray(o)||(o=[o]);var v,c=0;if(o.length===h)for(v=0;v<h;v++)c=v*2,d[c]=o[v],d[c+1]=o[v];else{var p=o[0];for(v=0;v<h;v++)c=v*2,o.length>c&&(p=o[c]),d[c]=p,o.length>c+1&&(p=o[c+1]),d[c+1]=p}return this},setPoints:function(o,h,d){if(o===void 0&&(o=2),typeof o=="number"){var v=o;v<2&&(v=2),o=[];var c,p,g;if(this.horizontal)for(g=-this.frame.halfWidth,p=this.frame.width/(v-1),c=0;c<v;c++)o.push({x:g+c*p,y:0});else for(g=-this.frame.halfHeight,p=this.frame.height/(v-1),c=0;c<v;c++)o.push({x:0,y:g+c*p})}var T=o.length,E=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(o.unshift({x:0,y:0}),T++),E!==T&&this.resizeArrays(T),this.points=o,this.updateUVs(),h!=null&&this.setColors(h),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var o=this.uv,h=this.points.length,d=this.frame.u0,v=this.frame.v0,c=this.frame.u1,p=this.frame.v1,g=(c-d)/(h-1),T=(p-v)/(h-1),E=0;E<h;E++){var S=E*4,C,P,A,R;this.horizontal?(this._flipX?(C=c-E*g,A=c-E*g):(C=d+E*g,A=d+E*g),this._flipY?(P=p,R=v):(P=v,R=p)):(this._flipX?(C=d,A=c):(C=c,A=d),this._flipY?(P=p-E*T,R=p-E*T):(P=v+E*T,R=v+E*T)),o[S+0]=C,o[S+1]=P,o[S+2]=A,o[S+3]=R}return this},resizeArrays:function(o){var h=this.colors,d=this.alphas;this.vertices=new Float32Array(o*4),this.uv=new Float32Array(o*4),h=new Uint32Array(o*2),d=new Float32Array(o*2);for(var v=0;v<o*2;v++)h[v]=16777215,d[v]=1;return this.colors=h,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var o=this._perp,h=this.points,d=this.vertices,v=h.length;if(this.dirty=!1,!(v<1)){for(var c,p=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<v;T++){var E=h[T],S=T*4;T<v-1?c=h[T+1]:c=E,o.x=c.y-p.y,o.y=-(c.x-p.x);var C=o.length();o.x/=C,o.y/=C,o.x*=g,o.y*=g,d[S]=E.x+o.x,d[S+1]=E.y+o.y,d[S+2]=E.x-o.x,d[S+3]=E.y-o.y,p=E}return this}},setDebug:function(o,h){return this.debugGraphic=o,!o&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(o,h,d){var v=o.debugGraphic,c=d[0],p=d[1],g=d[2],T=d[3];v.lineBetween(c,p,g,T);for(var E=4;E<h;E+=4){var S=d[E+0],C=d[E+1],P=d[E+2],A=d[E+3];v.lineBetween(c,p,S,C),v.lineBetween(g,T,P,A),v.lineBetween(g,T,S,C),v.lineBetween(S,C,P,A),c=S,p=C,g=P,T=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(o){return this._flipX=o,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(o){return this._flipY=o,this.updateUVs()}}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=t(31),i=t(0),r=t(11),a=t(22),n=t(15),s=t(458),f=t(6),o=t(202),h=t(1088),d=t(459),v=new i({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,h],initialize:function(p,g,T,E,S){g===void 0&&(g=0),T===void 0&&(T=0),n.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(g,T),this.setOrigin(0,0),this.initPipeline(),this.canvas=u.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,S),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=p.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),p.sys.game.events.on(a.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(c){var p=this.style;if(p.wordWrapCallback){var g=p.wordWrapCallback.call(p.wordWrapCallbackScope,c,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(c,this.context,this.style.wordWrapWidth):this.basicWordWrap(c,this.context,this.style.wordWrapWidth):c},advancedWordWrap:function(c,p,g){for(var T="",E=c.replace(/ +/gi," ").split(this.splitRegExp),S=E.length,C=0;C<S;C++){var P=E[C],A="";P=P.replace(/^ *|\s*$/gi,"");var R=p.measureText(P).width;if(R<g){T+=P+`
`;continue}for(var M=g,L=P.split(" "),F=0;F<L.length;F++){var I=L[F],B=I+" ",b=p.measureText(B).width;if(b>M){if(F===0){for(var W=B;W.length&&(W=W.slice(0,-1),b=p.measureText(W).width,!(b<=M)););if(!W.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var $=I.substr(W.length);L[F]=$,A+=W}var Z=L[F].length?F:F+1,D=L.slice(Z).join(" ").replace(/[ \n]*$/gi,"");E[C+1]=D+" "+(E[C+1]||""),S=E.length;break}else A+=B,M-=b}T+=A.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(c,p,g){for(var T="",E=c.split(this.splitRegExp),S=E.length-1,C=p.measureText(" ").width,P=0;P<=S;P++){for(var A=g,R=E[P].split(" "),M=R.length-1,L=0;L<=M;L++){var F=R[L],I=p.measureText(F).width,B=I;L<M&&(B+=C),B>A&&L>0&&(T+=`
`,A=g),T+=F,L<M?(T+=" ",A-=B):A-=I}P<S&&(T+=`
`)}return T},getWrappedText:function(c){c===void 0&&(c=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(c);return p.split(this.splitRegExp)},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this._text&&(this._text=c.toString(),this.updateText()),this},setStyle:function(c){return this.style.setStyle(c)},setFont:function(c){return this.style.setFont(c)},setFontFamily:function(c){return this.style.setFontFamily(c)},setFontSize:function(c){return this.style.setFontSize(c)},setFontStyle:function(c){return this.style.setFontStyle(c)},setFixedSize:function(c,p){return this.style.setFixedSize(c,p)},setBackgroundColor:function(c){return this.style.setBackgroundColor(c)},setFill:function(c){return this.style.setFill(c)},setColor:function(c){return this.style.setColor(c)},setStroke:function(c,p){return this.style.setStroke(c,p)},setShadow:function(c,p,g,T,E,S){return this.style.setShadow(c,p,g,T,E,S)},setShadowOffset:function(c,p){return this.style.setShadowOffset(c,p)},setShadowColor:function(c){return this.style.setShadowColor(c)},setShadowBlur:function(c){return this.style.setShadowBlur(c)},setShadowStroke:function(c){return this.style.setShadowStroke(c)},setShadowFill:function(c){return this.style.setShadowFill(c)},setWordWrapWidth:function(c,p){return this.style.setWordWrapWidth(c,p)},setWordWrapCallback:function(c,p){return this.style.setWordWrapCallback(c,p)},setAlign:function(c){return this.style.setAlign(c)},setResolution:function(c){return this.style.setResolution(c)},setLineSpacing:function(c){return this.lineSpacing=c,this.updateText()},setPadding:function(c,p,g,T){if(typeof c=="object"){var E=c,S=f(E,"x",null);S!==null?(c=S,g=S):(c=f(E,"left",0),g=f(E,"right",c));var C=f(E,"y",null);C!==null?(p=C,T=C):(p=f(E,"top",0),T=f(E,"bottom",p))}else c===void 0&&(c=0),p===void 0&&(p=c),g===void 0&&(g=c),T===void 0&&(T=p);return this.padding.left=c,this.padding.top=p,this.padding.right=g,this.padding.bottom=T,this.updateText()},setMaxLines:function(c){return this.style.setMaxLines(c)},updateText:function(){var c=this.canvas,p=this.context,g=this.style,T=g.resolution,E=g.metrics;g.syncFont(c,p);var S=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(S=this.runWordWrap(this._text));var C=S.split(this.splitRegExp),P=s(this,E,C),A=this.padding,R;g.fixedWidth===0?(this.width=P.width+A.left+A.right,R=P.width):(this.width=g.fixedWidth,R=this.width-A.left-A.right,R<P.width&&(R=P.width)),g.fixedHeight===0?this.height=P.height+A.top+A.bottom:this.height=g.fixedHeight;var M=this.width,L=this.height;this.updateDisplayOrigin(),M*=T,L*=T,M=Math.max(M,1),L=Math.max(L,1),c.width!==M||c.height!==L?(c.width=M,c.height=L,this.frame.setSize(M,L),g.syncFont(c,p)):p.clearRect(0,0,M,L),p.save(),p.scale(T,T),g.backgroundColor&&(p.fillStyle=g.backgroundColor,p.fillRect(0,0,M,L)),g.syncStyle(c,p),p.textBaseline="alphabetic",p.translate(A.left,A.top);for(var F,I,B=0;B<P.lines;B++){if(F=g.strokeThickness/2,I=g.strokeThickness/2+B*P.lineHeight+E.ascent,B>0&&(I+=P.lineSpacing*B),g.rtl)F=M-F;else if(g.align==="right")F+=R-P.lineWidths[B];else if(g.align==="center")F+=(R-P.lineWidths[B])/2;else if(g.align==="justify"){var b=.85;if(P.lineWidths[B]/P.width>=b){var W=P.width-P.lineWidths[B],$=p.measureText(" ").width,Z=C[B].trim(),D=Z.split(" ");W+=(C[B].length-Z.length)*$;for(var O=Math.floor(W/$),N=0;O>0;)D[N]+=" ",N=(N+1)%(D.length-1||1),--O;C[B]=D.join(" ")}}this.autoRound&&(F=Math.round(F),I=Math.round(I)),g.strokeThickness&&(this.style.syncShadow(p,g.shadowStroke),p.strokeText(C[B],F,I)),g.color&&(this.style.syncShadow(p,g.shadowFill),p.fillText(C[B],F,I))}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(c){this.setText(c)}},toJSON:function(){var c=r.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return c.data=p,c},preDestroy:function(){this.style.rtl&&o(this.canvas),u.remove(this.canvas),this.texture.destroy()}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(0),i=t(11),r=t(22),a=t(15),n=t(361),s=t(192),f=t(1091),o=t(3),h=8,d=new u({Extends:a,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Crop,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Tint,i.Transform,i.Visible,f],initialize:function(c,p,g,T,E,S,C){var P=c.sys.renderer;a.call(this,c,"TileSprite");var A=c.sys.textures.get(S),R=A.get(C);!T||!E?(T=R.width,E=R.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new o,this._tileScale=new o(1,1),this.dirty=!1,this.renderer=P,this.canvas=e.create(this,T,E),this.context=this.canvas.getContext("2d"),this.displayTexture=A,this.displayFrame=R,this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=n(R.width),this.potHeight=n(R.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(p,g),this.setSize(T,E),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),c.sys.game.events.on(r.CONTEXT_RESTORED,function(M){if(M){var L=M.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=M.createTexture2D(0,L.LINEAR,L.LINEAR,L.REPEAT,L.REPEAT,L.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(v,c){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(c)},setFrame:function(v){var c=this.displayTexture.get(v);return this.potWidth=n(c.width),this.potHeight=n(c.height),this.canvas.width=0,!c.cutWidth||!c.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=c,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,c){return v!==void 0&&(this.tilePositionX=v),c!==void 0&&(this.tilePositionY=c),this},setTileScale:function(v,c){return v===void 0&&(v=this.tileScaleX),c===void 0&&(c=v),this.tileScaleX=v,this.tileScaleY=c,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var c=this.fillContext,p=this.fillCanvas,g=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=v.cutWidth,T=v.cutHeight),c.clearRect(0,0,g,T),p.width=g,p.height=T,c.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,g,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=c.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var c=this.context;this.scene.sys.game.config.antialias||s.disable(c);var p=this._tileScale.x,g=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;c.clearRect(0,0,this.width,this.height),c.save(),c.scale(p,g),c.translate(-T,-E),c.fillStyle=this.fillPattern,c.fillRect(T,E,this.width/p,this.height/g),c.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),i=t(11),r=t(75),a=t(22),n=t(51),s=t(15),f=t(70),o=t(222),h=t(1094),d=t(14),v=new e({Extends:s,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,h],initialize:function(p,g,T,E){s.call(this,p,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=o(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=d.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(g,T),this.initPipeline(),E&&this.changeSource(E,!1);var S=p.sys.game.events;S.on(a.PAUSE,this.globalPause,this),S.on(a.RESUME,this.globalResume,this);var C=p.sys.sound;C&&C.on(f.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(c,p,g){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var T=this.video;if(!T)return console.warn("Video not loaded"),this;c===void 0&&(c=T.loop);var E=this.scene.sys.sound;E&&E.mute&&this.setMute(!0),isNaN(p)||(this._markerIn=p),!isNaN(g)&&g>p&&(this._markerOut=g),T.loop=c;var S=this._callbacks,C=T.play();return C!==void 0?C.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(T.addEventListener("playing",S.play,!0),T.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),T.addEventListener("ended",S.end,!0),T.addEventListener("timeupdate",S.time,!0),T.addEventListener("seeking",S.seeking,!0),T.addEventListener("seeked",S.seeked,!0),this},changeSource:function(c,p,g,T,E){p===void 0&&(p=!0);var S=this.video;S&&this.stop();var C=this.scene.sys.cache.video.get(c);return C?(this.video=C,this._cacheKey=c,this._codePaused=C.paused,this._codeMuted=C.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,C,C.videoWidth,C.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,C.videoWidth,C.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,C.videoWidth,C.videoHeight)):this.updateTexture(),C.currentTime=0,this._lastUpdate=0,p&&this.play(g,T,E)):this.video=null,this},addMarker:function(c,p,g){return!isNaN(p)&&p>=0&&!isNaN(g)&&(this.markers[c]=[p,g]),this},playMarker:function(c,p){var g=this.markers[c];return g&&this.play(p,g[0],g[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,p){return c===void 0&&(c=this.width),p===void 0&&(p=this.height),this.snapshotArea(0,0,this.width,this.height,c,p)},snapshotArea:function(c,p,g,T,E,S){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=this.width),T===void 0&&(T=this.height),E===void 0&&(E=g),S===void 0&&(S=T);var C=this.video,P=this.snapshotTexture;return P?(P.setSize(E,S),C&&P.context.drawImage(C,c,p,g,T,0,0,E,S)):(P=this.scene.sys.textures.createCanvas(o(),E,S),this.snapshotTexture=P,C&&P.context.drawImage(C,c,p,g,T,0,0,E,S)),P.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},loadURL:function(c,p,g){g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");return T.controls=!1,g&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0),T.src=c,T.load(),this.video=T,this},loadMediaStream:function(c,p,g){g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");T.controls=!1,g&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0);try{T.srcObject=c}catch{T.src=window.URL.createObjectURL(c)}return T.load(),this.video=T,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(c){this.scene.sys.input.once(n.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(r.VIDEO_ERROR,this,c)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(c){this.stop(),this.emit(r.VIDEO_ERROR,this,c)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(r.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(r.VIDEO_PLAY,this)},completeHandler:function(){this.emit(r.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(r.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var c=this.video;if(c){var p=c.currentTime;p!==this._lastUpdate&&(this._lastUpdate=p,this.updateTexture(),p>=this._markerOut&&(c.loop?(c.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=p,this.emit(r.VIDEO_LOOP,this)):(this.emit(r.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(r.VIDEO_TIMEOUT,this))},updateTexture:function(){var c=this.video,p=c.videoWidth,g=c.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,c,p,g),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,p,g),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,p,g);else{var T=this.videoTextureSource;T.source!==c&&(T.source=c,T.width=p,T.height=g),T.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(c){var p=this.video;if(p){var g=p.duration;if(g!==1/0&&!isNaN(g)){var T=g*c;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var p=this.video;if(p){if(typeof c=="string"){var g=c[0],T=parseFloat(c.substr(1));g==="+"?c=p.currentTime+T:g==="-"&&(c=p.currentTime-T)}p.currentTime=c,this._lastUpdate=c}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(r.VIDEO_SEEKED,this);var c=this.video;c&&this.updateTexture()},getProgress:function(){var c=this.video;if(c){var p=c.currentTime,g=c.duration;if(g!==1/0&&!isNaN(g))return p/g}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var p=this.video;return p&&(p.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,p){this._systemMuted=p;var g=this.video;g&&(g.muted=this._codeMuted?!0:p)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(c){c===void 0&&(c=!0);var p=this.video;return this._codePaused=c,p&&(c?p.paused||p.pause():c||p.paused&&!this._systemPaused&&p.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=u(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,p){return p===void 0&&(p=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,c),this._key=c,this.flipY=p,this.videoTextureSource&&this.videoTextureSource.setFlipY(p),this.videoTexture},stop:function(){var c=this.video;if(c){var p=this._callbacks;for(var g in p)c.removeEventListener(g,p[g],!0);c.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var c=this.scene.sys.game.events;c.off(a.PAUSE,this.globalPause,this),c.off(a.RESUME,this.globalResume,this);var p=this.scene.sys.sound;p&&p.off(f.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(228),i=t(470),r=t(56),a=new e({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(n,s){return u(this,n,s)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var s,f=Number.MAX_VALUE,o=0;o<n.length;o++)s={x:0,y:0},typeof n[o]=="number"||typeof n[o]=="string"?(s.x=parseFloat(n[o]),s.y=parseFloat(n[o+1]),o++):Array.isArray(n[o])?(s.x=n[o][0],s.y=n[o][1]):(s.x=n[o].x,s.y=n[o].y),this.points.push(s),s.y<f&&(f=s.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,s,f,o=0;o<this.points.length-1;o++)s=this.points[o],f=this.points[o+1],n+=(f.x-s.x)*(s.y+f.y);return s=this.points[0],f=this.points[this.points.length-1],n+=(s.x-f.x)*(f.y+s.y),this.area=-n*.5,this.area},getPoints:function(n,s,f){return i(this,n,s,f)}});l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){for(var r=!1,a=-1,n=e.points.length-1;++a<e.points.length;n=a){var s=e.points[a].x,f=e.points[a].y,o=e.points[n].x,h=e.points[n].y;(f<=i&&i<h||h<=i&&i<f)&&u<(o-s)*(i-f)/(h-f)+s&&(r=!r)}return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(2),a=t(17),n=t(478),s=t(1176),f=t(25),o=new e({Extends:i,Mixins:[u.ComputedSize,u.Depth,u.GetBounds,u.Mask,u.Origin,u.ScrollFactor,u.Transform,u.Visible,s],initialize:function(d,v,c,p,g,T,E,S){c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=128),T===void 0&&(T=128),i.call(this,d,"Shader"),this.blendMode=-1,this.shader;var C=d.sys.renderer;this.renderer=C,this.gl=C.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=C.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=C.width,this._rendererHeight=C.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(c,p),this.setSize(g,T),this.setOrigin(.5,.5),this.setShader(v,E,S)},willRender:function(h){return this.renderToTexture?!0:!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,d){if(d===void 0&&(d=!1),!this.renderToTexture){var v=this.width,c=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,v,c,0),this.glTexture.flipY=d,this.framebuffer=p.createFramebuffer(v,c,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=c,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,v,c))}return this.shader&&(p.pipelines.clear(),this.load(),this.flush(),p.pipelines.rebind()),this},setShader:function(h,d,v){if(d===void 0&&(d=[]),typeof h=="string"){var c=this.scene.sys.cache.shader;if(!c.has(h))return console.warn("Shader missing: "+h),this;this.shader=c.get(h)}else this.shader=h;var p=this.gl,g=this.renderer;this.program&&p.deleteProgram(this.program);var T=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);p.uniformMatrix4fv(p.getUniformLocation(T,"uViewMatrix"),!1,this.viewMatrix),p.uniformMatrix4fv(p.getUniformLocation(T,"uProjectionMatrix"),!1,this.projectionMatrix),p.uniform2f(p.getUniformLocation(T,"uResolution"),this.width,this.height),this.program=T;var E=new Date,S={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,S):this.uniforms=S;for(var C=0;C<4;C++)d[C]&&this.setSampler2D("iChannel"+C,d[C],C,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,d,v,c){var p=-1e3,g=1e3,T=1/(h-d),E=1/(v-c),S=1/(p-g),C=this.projectionMatrix;C[0]=-2*T,C[5]=-2*E,C[10]=2*S,C[12]=(h+d)*T,C[13]=(c+v)*E,C[14]=(g+p)*S;var P=this.program,A=this.gl,R=this.renderer;R.setProgram(P),A.uniformMatrix4fv(A.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=v},initUniforms:function(){var h=this.gl,d=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var c in this.uniforms){var p=this.uniforms[c],g=p.type,T=d[g];p.uniformLocation=h.getUniformLocation(v,c),g!=="sampler2D"&&(p.glMatrix=T.matrix,p.glValueLength=T.length,p.glFunc=T.func)}},setSampler2DBuffer:function(h,d,v,c,p,g){p===void 0&&(p=0),g===void 0&&(g={});var T=this.uniforms[h];return T.value=d,g.width=v,g.height=c,T.textureData=g,this._textureCount=p,this.initSampler2D(T),this},setSampler2D:function(h,d,v,c){v===void 0&&(v=0);var p=this.scene.sys.textures;if(p.exists(d)){var g=p.getFrame(d);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(h,g.glTexture,g.width,g.height,v,c);var T=this.uniforms[h],E=g.source;T.textureKey=d,T.source=E.image,T.value=g.glTexture,E.isGLTexture&&(c||(c={}),c.width=E.width,c.height=E.height),c&&(T.textureData=c),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(h,d){return n(this.uniforms,h,d),this},getUniform:function(h){return r(this.uniforms,h,null)},setChannel0:function(h,d){return this.setSampler2D("iChannel0",h,0,d)},setChannel1:function(h,d){return this.setSampler2D("iChannel1",h,1,d)},setChannel2:function(h,d){return this.setSampler2D("iChannel2",h,2,d)},setChannel3:function(h,d){return this.setSampler2D("iChannel3",h,3,d)},initSampler2D:function(h){if(h.value){var d=this.gl;d.activeTexture(d.TEXTURE0+this._textureCount),d.bindTexture(d.TEXTURE_2D,h.value);var v=h.textureData;if(v&&!h.value.isRenderTexture){var c=d[r(v,"magFilter","linear").toUpperCase()],p=d[r(v,"minFilter","linear").toUpperCase()],g=d[r(v,"wrapS","repeat").toUpperCase()],T=d[r(v,"wrapT","repeat").toUpperCase()],E=d[r(v,"format","rgba").toUpperCase()];if(v.repeat&&(g=d.REPEAT,T=d.REPEAT),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var S=r(v,"width",512),C=r(v,"height",2),P=r(v,"border",0);d.texImage2D(d.TEXTURE_2D,0,E,S,C,P,E,d.UNSIGNED_BYTE,null)}else d.texImage2D(d.TEXTURE_2D,0,E,d.RGBA,d.UNSIGNED_BYTE,h.source);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,c),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,g),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,T)}this.renderer.setProgram(this.program),d.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var h=this.gl,d=this.uniforms,v,c,p,g,T,E=0;for(var S in d)v=d[S],p=v.glFunc,c=v.glValueLength,g=v.uniformLocation,T=v.value,T!==null&&(c===1?v.glMatrix?p.call(h,g,v.transpose,T):p.call(h,g,T):c===2?p.call(h,g,T.x,T.y):c===3?p.call(h,g,T.x,T.y,T.z):c===4?p.call(h,g,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(h.activeTexture(h.TEXTURE0+E),h.bindTexture(h.TEXTURE_2D,T),h.uniform1i(g,E),E++))},load:function(h){var d=this.gl,v=this.width,c=this.height,p=this.renderer,g=this.program,T=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,S=-this._displayOriginY;T[0]=h[0],T[1]=h[1],T[4]=h[2],T[5]=h[3],T[8]=h[4],T[9]=h[5],T[12]=T[0]*E+T[4]*S,T[13]=T[1]*E+T[5]*S}d.useProgram(g),d.uniformMatrix4fv(d.getUniformLocation(g,"uViewMatrix"),!1,T),d.uniform2f(d.getUniformLocation(g,"uResolution"),this.width,this.height);var C=this.uniforms,P=C.resolution;P.value.x=v,P.value.y=c,C.time.value=p.game.loop.getDuration();var A=this.pointer;if(A){var R=C.mouse,M=A.x/v,L=1-A.y/c;R.value.x=M.toFixed(2),R.value.y=L.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,d=this.height,v=this.program,c=this.gl,p=this.vertexBuffer,g=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)),c.bindBuffer(c.ARRAY_BUFFER,p);var E=c.getAttribLocation(v,"inPosition");E!==-1&&(c.enableVertexAttribArray(E),c.vertexAttribPointer(E,2,c.FLOAT,!1,T,0));var S=this.vertexViewF32;S[3]=d,S[4]=h,S[5]=d,S[8]=h,S[9]=d,S[10]=h;var C=6;c.bufferSubData(c.ARRAY_BUFFER,0,this.bytes.subarray(0,C*T)),c.drawArrays(c.TRIANGLES,0,C),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(36),r=t(116),a=t(15),n=t(479),s=t(480),f=t(19),o=t(69),h=t(1179),d=t(79),v=t(39),c=t(117),p=new e({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.Size,u.Texture,u.Transform,u.Visible,u.ScrollFactor,h],initialize:function(T,E,S,C,P,A,R,M,L,F,I,B){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C="__WHITE"),a.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new o,this.viewPosition=new v,this.viewMatrix=new o,this.projectionMatrix=new o,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var b=T.sys.renderer;this.setPosition(E,S),this.setTexture(C,P),this.setSize(b.width,b.height),this.initPipeline(),this.setPerspective(b.width,b.height),A&&this.addVertices(A,R,M,L,F,I,B)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(v.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=v.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,T,E,S,C){return E===void 0&&(E=45),S===void 0&&(S=.01),C===void 0&&(C=1e3),this.projectionMatrix.perspective(i(E),g/T,S,C),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,T,E,S){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),E===void 0&&(E=-1e3),S===void 0&&(S=1e3),this.projectionMatrix.ortho(-g,g,-T,T,E,S),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,T,E,S,C,P,A,R,M){var L=this.scene.sys.cache.obj.get(g);return L&&s(L,this,T,E,S,C,P,A,R,M),this},sortByDepth:function(g,T){return g.depth-T.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(g,T,E,S,C,P,A){var R=new c(g,T,E,S,C,P,A);return this.vertices.push(R),R},addFace:function(g,T,E){var S=new r(g,T,E);return this.faces.push(S),this.dirtyCache[9]=-1,S},addVertices:function(g,T,E,S,C,P,A){var R=n(g,T,E,S,C,P,A);return R&&(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},getFaceAt:function(g,T,E){E===void 0&&(E=this.scene.sys.cameras.main);for(var S=f(this,E).calc,C=this.faces,P=[],A=0;A<C.length;A++){var R=C[A];R.contains(g,T,S)&&P.push(R)}return d(P,this.sortByDepth)},setDebug:function(g,T){return this.debugGraphic=g,!g&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,T=this.modelRotation,E=this.modelScale,S=this.dirtyCache,C=g.x,P=g.y,A=g.z,R=T.x,M=T.y,L=T.z,F=E.x,I=E.y,B=E.z,b=this.getFaceCount(),W=S[0],$=S[1],Z=S[2],D=S[3],O=S[4],N=S[5],G=S[6],Y=S[7],V=S[8],z=S[9];return S[0]=C,S[1]=P,S[2]=A,S[3]=R,S[4]=M,S[5]=L,S[6]=F,S[7]=I,S[8]=B,S[9]=b,W!==C||$!==P||Z!==A||D!==R||O!==M||N!==L||G!==F||Y!==I||V!==B||z!==b},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var T=this.width,E=this.height,S=this.viewMatrix,C=this.viewPosition;g[10]&&(S.identity(),S.translate(C),S.invert(),g[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var A=C.z,R=this.faces,M=0;M<R.length;M++)R[M].transformCoordinatesLocal(P,T,E,A);this.depthSort()}},renderDebug:function(g,T){for(var E=g.debugGraphic,S=0;S<T.length;S++){var C=T[S],P=C.vertex1.tx,A=C.vertex1.ty,R=C.vertex2.tx,M=C.vertex2.ty,L=C.vertex3.tx,F=C.vertex3.ty;E.strokeTriangle(P,A,R,M,L,F)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),u=function(i,r){return e(i.x,i.y,r.x,r.y)<=i.radius+r.radius};l.exports=u},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(233),i=function(r,a,n){if(n===void 0&&(n=[]),u(r,a)){var s=r.x1,f=r.y1,o=r.x2,h=r.y2,d=a.x,v=a.y,c=a.radius,p=o-s,g=h-f,T=s-d,E=f-v,S=p*p+g*g,C=2*(p*T+g*E),P=T*T+E*E-c*c,A=C*C-4*S*P,R,M;if(A===0){var L=-C/(2*S);R=s+L*p,M=f+L*g,L>=0&&L<=1&&n.push(new e(R,M))}else if(A>0){var F=(-C-Math.sqrt(A))/(2*S);R=s+F*p,M=f+F*g,F>=0&&F<=1&&n.push(new e(R,M));var I=(-C+Math.sqrt(A))/(2*S);R=s+I*p,M=f+I*g,I>=0&&I<=1&&n.push(new e(R,M))}}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=t(4),i=new u,r=function(a,n,s){if(s===void 0&&(s=i),e(n,a.x1,a.y1))return s.x=a.x1,s.y=a.y1,!0;if(e(n,a.x2,a.y2))return s.x=a.x2,s.y=a.y2,!0;var f=a.x2-a.x1,o=a.y2-a.y1,h=n.x-a.x1,d=n.y-a.y1,v=f*f+o*o,c=f,p=o;if(v>0){var g=(h*f+d*o)/v;c*=g,p*=g}s.x=a.x1+c,s.y=a.y1+p;var T=c*c+p*p;return T<=v&&c*f+p*o>=0&&e(n,s.x,s.y)};l.exports=r},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(96),i=t(488),r=function(a,n,s){if(s===void 0&&(s=[]),i(a,n))for(var f=n.getLineA(),o=n.getLineB(),h=n.getLineC(),d=n.getLineD(),v=[new e,new e,new e,new e],c=[u(f,a,v[0]),u(o,a,v[1]),u(h,a,v[2]),u(d,a,v[3])],p=0;p<4;p++)c[p]&&s.push(v[p]);return s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i===void 0&&(i=!1),r===void 0&&(r=[]);for(var a=e.x3-e.x1,n=e.y3-e.y1,s=e.x2-e.x1,f=e.y2-e.y1,o=a*a+n*n,h=a*s+n*f,d=s*s+f*f,v=o*d-h*h,c=v===0?0:1/v,p,g,T,E,S,C,P=e.x1,A=e.y1,R=0;R<u.length&&(T=u[R].x-P,E=u[R].y-A,S=a*T+n*E,C=s*T+f*E,p=(d*S-h*C)*c,g=(o*C-h*S)*c,!(p>=0&&g>=0&&p+g<1&&(r.push({x:u[R].x,y:u[R].y}),i)));R++);return r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x1-u,f=e.y1-i;return e.x1=s*a-f*n+u,e.y1=s*n+f*a+i,s=e.x2-u,f=e.y2-i,e.x2=s*a-f*n+u,e.y2=s*n+f*a+i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x1-u,f=e.y1-i;return e.x1=s*a-f*n+u,e.y1=s*n+f*a+i,s=e.x2-u,f=e.y2-i,e.x2=s*a-f*n+u,e.y2=s*n+f*a+i,s=e.x3-u,f=e.y3-i,e.x3=s*a-f*n+u,e.y3=s*n+f*a+i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(156),i=function(r,a){var n=r===void 0?u():e({},r);if(a)for(var s in a)a[s]!==void 0&&(n[s]=a[s]);return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(408),f=new e({Extends:i,initialize:function(h,d,v,c){var p="xml";if(n(d)){var g=d;d=a(g,"key"),v=a(g,"url"),c=a(g,"xhrSettings"),p=a(g,"extension",p)}var T={type:"xml",cache:h.cacheManager.xml,extension:p,responseType:"text",key:d,url:v,xhrSettings:c};i.call(this,h,T)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});r.register("xml",function(o,h,d){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new f(this,o[v]));else this.addFile(new f(this,o,h,d));return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="text",p="txt",g=o.cacheManager.text;if(n(h)){var T=h;h=a(T,"key"),d=a(T,"url"),v=a(T,"xhrSettings"),p=a(T,"extension",p),c=a(T,"type",c),g=a(T,"cache",g)}var E={type:c,cache:g,extension:p,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,E)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(l,x){var t=function(e,u,i,r,a,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1);var f=[],o=[],h=e.treeMinMax;if(h.minX=u,h.minY=i,h.maxX=u+r,h.maxY=i+a,s&&(o=e.staticTree.search(h)),n&&e.useTree)f=e.tree.search(h);else if(n){var d=e.bodies,v={position:{x:u,y:i},left:u,top:i,right:u+r,bottom:i+a,isCircle:!1},c=e.intersects;d.iterate(function(p){c(p,v)&&f.push(p)})}return o.concat(f)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=function(i,r,a,n){var s=0,f=i.deltaAbsX()+r.deltaAbsX()+n;return i._dx===0&&r._dx===0?(i.embedded=!0,r.embedded=!0):i._dx>r._dx?(s=i.right-r.x,s>f&&!a||i.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(i.touching.none=!1,i.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.right=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.left=!0))):i._dx<r._dx&&(s=i.x-r.width-r.x,-s>f&&!a||i.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(i.touching.none=!1,i.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.left=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.right=!0))),i.overlapX=s,r.overlapX=s,s};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=function(i,r,a,n){var s=0,f=i.deltaAbsY()+r.deltaAbsY()+n;return i._dy===0&&r._dy===0?(i.embedded=!0,r.embedded=!0):i._dy>r._dy?(s=i.bottom-r.y,s>f&&!a||i.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(i.touching.none=!1,i.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.down=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.up=!0))):i._dy<r._dy&&(s=i.y-r.bottom,-s>f&&!a||i.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(i.touching.none=!1,i.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===e.STATIC_BODY&&!a&&(i.blocked.none=!1,i.blocked.up=!0),i.physicsType===e.STATIC_BODY&&!a&&(r.blocked.none=!1,r.blocked.down=!0))),i.overlapY=s,r.overlapY=s,s};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(l,x){var t={};l.exports=t,function(){t.create=function(e,u){var i=e.bodyA,r=e.bodyB,a={id:t.id(i,r),bodyA:i,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:u,timeUpdated:u,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(a,e,u),a},t.update=function(e,u,i){if(e.collision=u,u.collided){var r=u.supports,a=e.activeContacts,n=u.parentA,s=u.parentB;e.inverseMass=n.inverseMass+s.inverseMass,e.friction=Math.min(n.friction,s.friction),e.frictionStatic=Math.max(n.frictionStatic,s.frictionStatic),e.restitution=Math.max(n.restitution,s.restitution),e.slop=Math.max(n.slop,s.slop);for(var f=0;f<r.length;f++)a[f]=r[f].contact;var o=r.length;o<a.length&&(a.length=o),e.separation=u.depth,t.setActive(e,!0,i)}else e.isActive===!0&&t.setActive(e,!1,i)},t.setActive=function(e,u,i){u?(e.isActive=!0,e.timeUpdated=i):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,u){return e.id<u.id?"A"+e.id+"B"+u.id:"A"+u.id+"B"+e.id}}()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=function(i,r,a){var n=e(i,r,!0,a),s=e(i,r-1,!0,a),f=e(i,r+1,!0,a),o=e(i-1,r,!0,a),h=e(i+1,r,!0,a),d=n&&n.collides;return d&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),s&&s.collides&&(d&&(n.faceTop=!1),s.faceBottom=!d),f&&f.collides&&(d&&(n.faceBottom=!1),f.faceTop=!d),o&&o.collides&&(d&&(n.faceLeft=!1),o.faceRight=!d),h&&h.collides&&(d&&(n.faceRight=!1),h.faceLeft=!d),n&&!n.collides&&n.resetFaces(),n};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i.baseTileWidth,a=i.tilemapLayer,n=0;return a&&(u||(u=a.scene.cameras.main),n=a.x+u.scrollX*(1-a.scrollFactorX),r*=a.scaleX),n+e*r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;return a&&(u||(u=a.scene.cameras.main),n=a.y+u.scrollY*(1-a.scrollFactorY),r*=a.scaleY),n+e*r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u===void 0&&(u=!0);var a=r.baseTileWidth,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.x+i.scrollX*(1-n.scrollFactorX)),a*=n.scaleX),u?Math.floor(e/a):e/a};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u===void 0&&(u=!0);var a=r.baseTileHeight,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY),u?Math.floor(e/a):e/a};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),u=t(119),i=t(252),r=t(72),a=function(n,s,f,o,h){if(o===void 0&&(o=!0),!u(s,f,h))return null;var d=h.data[f][s],v=d&&d.collides;if(n instanceof e)h.data[f][s]===null&&(h.data[f][s]=new e(h,n.index,s,f,h.tileWidth,h.tileHeight)),h.data[f][s].copy(n);else{var c=n;h.data[f][s]===null?h.data[f][s]=new e(h,c,s,f,h.tileWidth,h.tileHeight):h.data[f][s].index=c}var p=h.data[f][s],g=h.collideIndexes.indexOf(p.index)!==-1;return r(p,g),o&&v!==p.collides&&i(s,f,h),p};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=function(i){return i=i.toLowerCase(),i==="isometric"?e.ISOMETRIC:i==="staggered"?e.STAGGERED:i==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(120),i=t(121),r=t(85),a=function(n,s,f,o,h){for(var d=new u({tileWidth:f,tileHeight:o}),v=new i({name:n,tileWidth:f,tileHeight:o,format:e.ARRAY_2D,layers:[d]}),c=[],p=s.length,g=0,T=0;T<s.length;T++){c[T]=[];for(var E=s[T],S=0;S<E.length;S++){var C=parseInt(E[S],10);isNaN(C)||C===-1?c[T][S]=h?null:new r(d,-1,S,T,f,o):c[T][S]=new r(d,C,S,T,f,o)}g===0&&(g=E.length)}return v.width=d.width=g,v.height=d.height=p,v.widthInPixels=d.widthInPixels=g*f,v.heightInPixels=d.heightInPixels=p*o,d.data=c,v};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),u=t(261),i=function(n){return{x:n.x,y:n.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(n,s,f){s===void 0&&(s=0),f===void 0&&(f=0);var o=e(n,r);if(o.x+=s,o.y+=f,n.gid){var h=u(n.gid);o.gid=h.gid,o.flippedHorizontal=h.flippedHorizontal,o.flippedVertical=h.flippedVertical,o.flippedAntiDiagonal=h.flippedAntiDiagonal}else n.polyline?o.polyline=n.polyline.map(i):n.polygon?o.polygon=n.polygon.map(i):n.ellipse?o.ellipse=n.ellipse:n.text?o.text=n.text:n.point?o.point=!0:o.rectangle=!0;return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,u=536870912,i=function(r){var a=Boolean(r&t),n=Boolean(r&e),s=Boolean(r&u);r=r&~(t|e|u);var f=0,o=!1;return a&&n&&s?(f=Math.PI/2,o=!0):a&&n&&!s?(f=Math.PI,o=!1):a&&!n&&s?(f=Math.PI/2,o=!1):a&&!n&&!s?(f=0,o=!0):!a&&n&&s?(f=3*Math.PI/2,o=!1):!a&&n&&!s?(f=Math.PI,o=!0):!a&&!n&&s?(f=3*Math.PI/2,o=!0):!a&&!n&&!s&&(f=0,o=!1),{gid:r,flippedHorizontal:a,flippedVertical:n,flippedAntiDiagonal:s,rotation:f,flipped:o}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(121),i=t(564),r=t(580),a=function(n,s,f,o,h,d,v,c){f===void 0&&(f=32),o===void 0&&(o=32),h===void 0&&(h=10),d===void 0&&(d=10),c===void 0&&(c=!1);var p=null;if(Array.isArray(v)){var g=s!==void 0?s:"map";p=i(g,e.ARRAY_2D,v,f,o,c)}else if(s!==void 0){var T=n.cache.tilemap.get(s);T?p=i(s,T.format,T.data,f,o,c):console.warn("No map data found for key "+s)}return p===null&&(p=new u({tileWidth:f,tileHeight:o,width:h,height:d})),new r(n,p)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(i){var r=e(i,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a){return!!a.getActive&&typeof a.getActive=="function"}function e(a){return!!a.getStart&&typeof a.getStart=="function"}function u(a){return!!a.getEnd&&typeof a.getEnd=="function"}function i(a){return e(a)||u(a)||t(a)}var r=function(a,n){var s,f=function(C,P,A){return A},o=function(C,P,A){return A},h=null,d=typeof n;if(d==="number")f=function(){return n};else if(d==="string"){var v=n[0],c=parseFloat(n.substr(2));switch(v){case"+":f=function(C,P,A){return A+c};break;case"-":f=function(C,P,A){return A-c};break;case"*":f=function(C,P,A){return A*c};break;case"/":f=function(C,P,A){return A/c};break;default:f=function(){return parseFloat(n)}}}else if(d==="function")f=n;else if(d==="object")if(i(n))t(n)&&(h=n.getActive),u(n)&&(f=n.getEnd),e(n)&&(o=n.getStart);else if(n.hasOwnProperty("value"))s=r(a,n.value);else{var p=n.hasOwnProperty("to"),g=n.hasOwnProperty("from"),T=n.hasOwnProperty("start");if(p&&(g||T)){if(s=r(a,n.to),T){var E=r(a,n.start);s.getActive=E.getEnd}if(g){var S=r(a,n.from);s.getStart=S.getEnd}}}return s||(s={getActive:h,getEnd:f,getStart:o}),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(267),r=t(16),a=t(5),n=t(100),s=t(14),f=new e({Extends:u,initialize:function(h,d,v){u.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=d,this.totalData=d.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=n.PENDING_ADD,this._pausedState=n.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(o){return o===void 0&&(o=0),this.data[o].current},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===n.ACTIVE},isPaused:function(){return this.state===n.PAUSED},hasTarget:function(o){return this.targets.indexOf(o)!==-1},updateTo:function(o,h,d){d===void 0&&(d=!1);for(var v=0;v<this.totalData;v++){var c=this.data[v];c.key===o&&(c.end=h,d&&(c.start=c.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===n.ACTIVE?this.seek(0):this.state===n.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===n.PENDING_ADD?this:this.play()},calcDuration:function(){for(var o=0,h=s.MAX_SAFE_INTEGER,d=this.data,v=0;v<this.totalData;v++){var c=d[v];c.t1=c.duration+c.hold,c.yoyo&&(c.t1+=c.duration),c.t2=c.t1+c.repeatDelay,c.totalDuration=c.delay+c.t1,c.repeat===-1?c.totalDuration+=c.t2*999999999999:c.repeat>0&&(c.totalDuration+=c.t2*c.repeat),c.totalDuration>o&&(o=c.totalDuration),c.delay<h&&(h=c.delay)}this.duration=Math.max(o,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=h},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=n.PENDING_ADD,this._pausedState=n.INIT,!1;for(var o=this.data,h=this.totalTargets,d=0;d<this.totalData;d++){var v=o[d],c=v.target,p=v.gen,g=v.key,T=v.index;v.delay=p.delay(c,g,0,T,h,this),v.duration=Math.max(p.duration(c,g,0,T,h,this),.001),v.hold=p.hold(c,g,0,T,h,this),v.repeat=p.repeat(c,g,0,T,h,this),v.repeatDelay=p.repeatDelay(c,g,0,T,h,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=n.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(i.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):(this.state=n.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=n.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===n.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED,this)},play:function(o){o===void 0&&(o=!1);var h=this.state;return h===n.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=n.ACTIVE,this):h===n.ACTIVE||h===n.PENDING_ADD&&this._pausedState===n.PENDING_ADD?this:!this.parentIsTimeline&&(h===n.PENDING_REMOVE||h===n.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(o),this.calculatedOffset===0?this.state=n.ACTIVE:(this.countdown=this.calculatedOffset,this.state=n.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(o),this.state=n.ACTIVE,this.makeActive()),this)},resetTweenData:function(o){for(var h=this.data,d=this.totalData,v=this.totalTargets,c=0;c<d;c++){var p=h[c],g=p.target,T=p.key,E=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,o?(p.start=p.getStartValue(g,T,p.start,E,v,this),p.end=p.getEndValue(g,T,p.end,E,v,this),p.current=p.start,p.state=n.PLAYING_FORWARD):p.state=n.PENDING_RENDER,p.delay>0&&(p.elapsed=p.delay,p.state=n.DELAY),p.getActiveValue&&(g[T]=p.getActiveValue(p.target,p.key,p.start))}},resume:function(){return this.state===n.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(o,h){h===void 0&&(h=16.6),this.state===n.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var d=this.data,v=this.totalTargets,c=0;c<this.totalData;c++){var p=d[c],g=p.target,T=p.gen,E=p.key,S=p.index;p.progress=0,p.elapsed=0,p.repeatCounter=p.repeat===-1?999999999999:p.repeat,p.delay=T.delay(g,E,0,S,v,this),p.duration=Math.max(T.duration(g,E,0,S,v,this),.001),p.hold=T.hold(g,E,0,S,v,this),p.repeat=T.repeat(g,E,0,S,v,this),p.repeatDelay=T.repeatDelay(g,E,0,S,v,this),p.current=p.start,p.state=n.PLAYING_FORWARD,this.updateTweenData(this,p,0,S,v),p.delay>0&&(p.elapsed=p.delay,p.state=n.DELAY)}this.calcDuration();var C=!1;this.state===n.PAUSED&&(C=!0,this.state=n.ACTIVE),this.isSeeking=!0;do this.update(0,h);while(this.totalProgress<o);return this.isSeeking=!1,C&&(this.state=n.PAUSED),this},setCallback:function(o,h,d,v){return this.callbacks[o]={func:h,scope:v,params:d},this},complete:function(o){return o===void 0&&(o=0),o?(this.state=n.COMPLETE_DELAY,this.countdown=o):(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(o){return this.state===n.ACTIVE&&o!==void 0&&this.seek(o),this.state!==n.REMOVED&&((this.state===n.PAUSED||this.state===n.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(i.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=n.PENDING_REMOVE),this},update:function(o,h){if(this.state===n.PAUSED)return!1;switch(this.useFrames&&(h=1*this.parent.timeScale),h*=this.timeScale,this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(i.TWEEN_START,this.callbacks.onStart)));for(var d=!1,v=0;v<this.totalData;v++){var c=this.data[v];this.updateTweenData(this,c,h)&&(d=!0)}d||this.nextState();break;case n.LOOP_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.ACTIVE,this.dispatchTweenEvent(i.TWEEN_LOOP,this.callbacks.onLoop));break;case n.OFFSET_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.ACTIVE);break;case n.COMPLETE_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=n.PENDING_REMOVE,this.dispatchTweenEvent(i.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===n.PENDING_REMOVE},dispatchTweenDataEvent:function(o,h,d){this.isSeeking||(this.emit(o,this,d.key,d.target,d.current,d.previous),h&&(h.params[1]=d.target,h.func.apply(h.scope,h.params)))},dispatchTweenEvent:function(o,h){this.isSeeking||(this.emit(o,this,this.targets),h&&(h.params[1]=this.targets,h.func.apply(h.scope,h.params)))},setStateFromEnd:function(o,h,d){return h.yoyo?(h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),this.dispatchTweenDataEvent(i.TWEEN_YOYO,o.callbacks.onYoyo,h),h.start=h.getStartValue(h.target,h.key,h.start,h.index,o.totalTargets,o),n.PLAYING_BACKWARD):h.repeatCounter>0?(h.repeatCounter--,h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.start=h.getStartValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.end=h.getEndValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.repeatDelay>0?(h.elapsed=h.repeatDelay-d,h.current=h.start,h.target[h.key]=h.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h),n.PLAYING_FORWARD)):n.COMPLETE},setStateFromStart:function(o,h,d){return h.repeatCounter>0?(h.repeatCounter--,h.elapsed=d,h.progress=d/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.end=h.getEndValue(h.target,h.key,h.start,h.index,o.totalTargets,o),h.repeatDelay>0?(h.elapsed=h.repeatDelay-d,h.current=h.start,h.target[h.key]=h.current,n.REPEAT_DELAY):(this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h),n.PLAYING_FORWARD)):n.COMPLETE},updateTweenData:function(o,h,d){var v=h.target;switch(h.state){case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:if(!v){h.state=n.COMPLETE;break}var c=h.elapsed,p=h.duration,g=0;c+=d,c>p&&(g=c-p,c=p);var T=h.state===n.PLAYING_FORWARD,E=c/p;if(h.elapsed=c,h.progress=E,h.previous=h.current,E===1)T?(h.current=h.end,v[h.key]=h.end,h.hold>0?(h.elapsed=h.hold-g,h.state=n.HOLD_DELAY):h.state=this.setStateFromEnd(o,h,g)):(h.current=h.start,v[h.key]=h.start,h.state=this.setStateFromStart(o,h,g));else{var S=T?h.ease(E):h.ease(1-E);h.current=h.start+(h.end-h.start)*S,v[h.key]=h.current}this.dispatchTweenDataEvent(i.TWEEN_UPDATE,o.callbacks.onUpdate,h);break;case n.DELAY:h.elapsed-=d,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=n.PENDING_RENDER);break;case n.REPEAT_DELAY:h.elapsed-=d,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=n.PLAYING_FORWARD,this.dispatchTweenDataEvent(i.TWEEN_REPEAT,o.callbacks.onRepeat,h));break;case n.HOLD_DELAY:h.elapsed-=d,h.elapsed<=0&&(h.state=this.setStateFromEnd(o,h,Math.abs(h.elapsed)));break;case n.PENDING_RENDER:v?(h.start=h.getStartValue(v,h.key,v[h.key],h.index,o.totalTargets,o),h.end=h.getEndValue(v,h.key,h.start,h.index,o.totalTargets,o),h.current=h.start,v[h.key]=h.start,h.state=n.PLAYING_FORWARD):h.state=n.COMPLETE;break}return h.state!==n.COMPLETE}});f.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],a.register("tween",function(o){return this.scene.sys.tweens.add(o)}),r.register("tween",function(o){return this.scene.sys.tweens.create(o)}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n,s,f,o,h,d,v,c,p,g){return{target:e,index:u,key:i,getActiveValue:n,getEndValue:r,getStartValue:a,ease:s,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:g,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:f,duration:o,hold:d,repeat:v,repeatDelay:c},state:0}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(i){return e(i,-Math.PI,Math.PI)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(i){return e(i,-180,180)};l.exports=u},function(l,x,t){var e={};l.exports=e;var u=t(83),i=t(32);(function(){e.fromVertices=function(r){for(var a={},n=0;n<r.length;n++){var s=(n+1)%r.length,f=u.normalise({x:r[s].y-r[n].y,y:r[n].x-r[s].x}),o=f.y===0?1/0:f.x/f.y;o=o.toFixed(3).toString(),a[o]=f}return i.values(a)},e.rotate=function(r,a){if(a!==0)for(var n=Math.cos(a),s=Math.sin(a),f=0;f<r.length;f++){var o=r[f],h;h=o.x*n-o.y*s,o.y=o.x*s+o.y*n,o.x=h}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(l,x,t){var e={};l.exports=e;var u=t(274),i=t(250),r=t(84);(function(){e.collisions=function(a,n){for(var s=[],f=n.pairs.table,o=n.metrics,h=0;h<a.length;h++){var d=a[h][0],v=a[h][1];if(!((d.isStatic||d.isSleeping)&&(v.isStatic||v.isSleeping))&&e.canCollide(d.collisionFilter,v.collisionFilter)&&(o.midphaseTests+=1,r.overlaps(d.bounds,v.bounds)))for(var c=d.parts.length>1?1:0;c<d.parts.length;c++)for(var p=d.parts[c],g=v.parts.length>1?1:0;g<v.parts.length;g++){var T=v.parts[g];if(p===d&&T===v||r.overlaps(p.bounds,T.bounds)){var E=i.id(p,T),S=f[E],C;S&&S.isActive?C=S.collision:C=null;var P=u.collides(p,T,C);o.narrowphaseTests+=1,P.reused&&(o.narrowReuseCount+=1),P.collided&&(s.push(P),o.narrowDetections+=1)}}}return s},e.canCollide=function(a,n){return a.group===n.group&&a.group!==0?a.group>0:(a.mask&n.category)!==0&&(n.mask&a.category)!==0}})()},function(l,x,t){var e={};l.exports=e;var u=t(64),i=t(83);(function(){e.collides=function(r,a,n){var s,f,o,h,d=!1;if(n){var v=r.parent,c=a.parent,p=v.speed*v.speed+v.angularSpeed*v.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed;d=n&&n.collided&&p<.2,h=n}else h={collided:!1,bodyA:r,bodyB:a};if(n&&d){var g=h.axisBody,T=g===r?a:r,E=[g.axes[n.axisNumber]];if(o=e._overlapAxes(g.vertices,T.vertices,E),h.reused=!0,o.overlap<=0)return h.collided=!1,h}else{if(s=e._overlapAxes(r.vertices,a.vertices,r.axes),s.overlap<=0||(f=e._overlapAxes(a.vertices,r.vertices,a.axes),f.overlap<=0))return h.collided=!1,h;s.overlap<f.overlap?(o=s,h.axisBody=r):(o=f,h.axisBody=a),h.axisNumber=o.axisNumber}h.bodyA=r.id<a.id?r:a,h.bodyB=r.id<a.id?a:r,h.collided=!0,h.depth=o.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,r=h.bodyA,a=h.bodyB,i.dot(o.axis,i.sub(a.position,r.position))<0?h.normal={x:o.axis.x,y:o.axis.y}:h.normal={x:-o.axis.x,y:-o.axis.y},h.tangent=i.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var S=e._findSupports(r,a,h.normal),C=[];if(u.contains(r.vertices,S[0])&&C.push(S[0]),u.contains(r.vertices,S[1])&&C.push(S[1]),C.length<2){var P=e._findSupports(a,r,i.neg(h.normal));u.contains(a.vertices,P[0])&&C.push(P[0]),C.length<2&&u.contains(a.vertices,P[1])&&C.push(P[1])}return C.length<1&&(C=[S[0]]),h.supports=C,h},e._overlapAxes=function(r,a,n){for(var s=i._temp[0],f=i._temp[1],o={overlap:Number.MAX_VALUE},h,d,v=0;v<n.length;v++){if(d=n[v],e._projectToAxis(s,r,d),e._projectToAxis(f,a,d),h=Math.min(s.max-f.min,f.max-s.min),h<=0)return o.overlap=h,o;h<o.overlap&&(o.overlap=h,o.axis=d,o.axisNumber=v)}return o},e._projectToAxis=function(r,a,n){for(var s=i.dot(a[0],n),f=s,o=1;o<a.length;o+=1){var h=i.dot(a[o],n);h>f?f=h:h<s&&(s=h)}r.min=s,r.max=f},e._findSupports=function(r,a,n){for(var s=Number.MAX_VALUE,f=i._temp[0],o=a.vertices,h=r.position,d,v,c,p,g=0;g<o.length;g++)v=o[g],f.x=v.x-h.x,f.y=v.y-h.y,d=-i.dot(n,f),d<s&&(s=d,c=v);var T=c.index-1>=0?c.index-1:o.length-1;v=o[T],f.x=v.x-h.x,f.y=v.y-h.y,s=-i.dot(n,f),p=v;var E=(c.index+1)%o.length;return v=o[E],f.x=v.x-h.x,f.y=v.y-h.y,d=-i.dot(n,f),d<s&&(p=v),[c,p]}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=[];u[e.BOTTOM_CENTER]=t(277),u[e.BOTTOM_LEFT]=t(278),u[e.BOTTOM_RIGHT]=t(279),u[e.LEFT_BOTTOM]=t(280),u[e.LEFT_CENTER]=t(281),u[e.LEFT_TOP]=t(282),u[e.RIGHT_BOTTOM]=t(283),u[e.RIGHT_CENTER]=t(284),u[e.RIGHT_TOP]=t(285),u[e.TOP_CENTER]=t(286),u[e.TOP_LEFT]=t(287),u[e.TOP_RIGHT]=t(288);var i=function(r,a,n,s,f){return u[n](r,a,s,f)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(87),i=t(88),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,u(s)+f),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),i=t(53),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,u(s)-f),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),i=t(54),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,u(s)+f),r(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),i=t(55),r=t(54),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)-f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(43),i=t(90),r=t(54),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)-f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),i=t(54),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,e(s)-f),r(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),i=t(55),r=t(53),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)+f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(44),i=t(90),r=t(53),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)+f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),i=t(53),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,e(s)+f),r(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),u=t(45),i=t(55),r=t(88),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,e(s)+f),i(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),i=t(55),r=t(53),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,e(s)-f),i(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),i=t(55),r=t(54),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,e(s)+f),i(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=[];u[e.BOTTOM_CENTER]=t(290),u[e.BOTTOM_LEFT]=t(291),u[e.BOTTOM_RIGHT]=t(292),u[e.CENTER]=t(293),u[e.LEFT_CENTER]=t(295),u[e.RIGHT_CENTER]=t(296),u[e.TOP_CENTER]=t(297),u[e.TOP_LEFT]=t(298),u[e.TOP_RIGHT]=t(299),u[e.LEFT_BOTTOM]=u[e.BOTTOM_LEFT],u[e.LEFT_TOP]=u[e.TOP_LEFT],u[e.RIGHT_BOTTOM]=u[e.BOTTOM_RIGHT],u[e.RIGHT_TOP]=u[e.TOP_RIGHT];var i=function(r,a,n,s,f){return u[n](r,a,s,f)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(87),i=t(55),r=t(88),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)+f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),i=t(55),r=t(53),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)-f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),i=t(55),r=t(54),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)+f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),u=t(87),i=t(89),r=function(a,n,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),e(a,u(n)+s,i(n)+f),a};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),u=t(90),i=function(r,a,n){return e(r,a),u(r,n)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(43),i=t(90),r=t(53),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)-f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(44),i=t(90),r=t(54),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),r(n,u(s)+f),i(n,e(s)+o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),u=t(45),i=t(88),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,e(s)+f),r(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),i=t(53),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,e(s)-f),r(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),i=t(54),r=t(52),a=function(n,s,f,o){return f===void 0&&(f=0),o===void 0&&(o=0),i(n,e(s)+f),r(n,u(s)-o),n};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),u=t(98),i=t(14),r=t(4),a=function(n,s,f){f===void 0&&(f=new r);var o=u(s,0,i.PI2);return e(n,o,f)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),u=t(169),i=t(98),r=t(14),a=function(n,s,f,o){o===void 0&&(o=[]),!s&&f>0&&(s=e(n)/f);for(var h=0;h<s;h++){var d=i(h/s,0,r.PI2);o.push(u(n,d))}return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=2,i={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,a===0?this.renderFlags&=~u:this.renderFlags|=u}}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(i){typeof i=="string"&&(i=e[i]),i|=0,i>=-1&&(this._blendMode=i)}},setBlendMode:function(i){return this.blendMode=i,this}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),u=t(130),i=function(r,a,n,s){s===void 0&&(s=[]),!a&&n>0&&(a=u(r)/n);for(var f=0;f<a;f++){var o=f/a;s.push(e(r,o))}return s};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){return a===void 0&&(a=new e),a.x=i.x1+(i.x2-i.x1)*r,a.y=i.y1+(i.y2-i.y1)*r,a};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=Math.cos(r),n=Math.sin(r),s=e.x-u,f=e.y-i;return e.x=s*a-f*n+u,e.y=s*n+f*a+i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),u=t(311),i={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r){return r===void 0&&(this.texture||this.shader)&&(r=this),new e(this.scene,r)},createGeometryMask:function(r){return r===void 0&&this.type==="Graphics"&&(r=this),new u(this.scene,r)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(22),i=t(91),r=new e({initialize:function(n,s){var f=n.sys.renderer;this.renderer=f,this.bitmapMask=s,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),n.sys.game.events.on(u.CONTEXT_RESTORED,this.createMask,this),f&&f.on(i.RESIZE,this.createMask,this)},createMask:function(){var a=this.renderer;if(!(!a||!a.gl)){this.mainTexture&&this.clearMask();var n=a.width,s=a.height,f=(n&n-1)===0&&(s&s-1)===0,o=a.gl,h=f?o.REPEAT:o.CLAMP_TO_EDGE,d=o.LINEAR;this.mainTexture=a.createTexture2D(0,d,d,h,h,o.RGBA,null,n,s),this.maskTexture=a.createTexture2D(0,d,d,h,h,o.RGBA,null,n,s),this.mainFramebuffer=a.createFramebuffer(n,s,this.mainTexture,!0),this.maskFramebuffer=a.createFramebuffer(n,s,this.maskTexture,!0)}},clearMask:function(){var a=this.renderer;!a||!a.gl||!this.mainTexture||(a.deleteTexture(this.mainTexture),a.deleteTexture(this.maskTexture),a.deleteFramebuffer(this.mainFramebuffer),a.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,n,s){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,s)},postRenderWebGL:function(a,n){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(i.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(i){return this.geometryMask=i,this},setInvertAlpha:function(i){return i===void 0&&(i=!0),this.invertAlpha=i,this},preRenderWebGL:function(i,r,a){var n=i.gl;i.flush(),i.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),i.maskCount=0),i.currentCameraMask.mask!==this&&(i.currentMask.mask=this),i.maskStack.push({mask:this,camera:a}),this.applyStencil(i,a,!0),i.maskCount++},applyStencil:function(i,r,a){var n=i.gl,s=this.geometryMask,f=i.maskCount;n.colorMask(!1,!1,!1,!1),a?(n.stencilFunc(n.EQUAL,f,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,f+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),s.renderWebGL(i,s,r),i.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),a?this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f+1,255):n.stencilFunc(n.EQUAL,f+1,255):this.invertAlpha?n.stencilFunc(n.NOTEQUAL,f,255):n.stencilFunc(n.EQUAL,f,255)},postRenderWebGL:function(i){var r=i.gl;i.maskStack.pop(),i.maskCount--,i.flush();var a=i.currentMask;if(i.maskStack.length===0)a.mask=null,r.disable(r.STENCIL_TEST);else{var n=i.maskStack[i.maskStack.length-1];n.mask.applyStencil(i,n.camera,!1),i.currentCameraMask.mask!==n.mask?(a.mask=n.mask,a.camera=n.camera):a.mask=null}},preRenderCanvas:function(i,r,a){var n=this.geometryMask;i.currentContext.save(),n.renderCanvas(i,n,a,null,null,!0),i.currentContext.clip()},postRenderCanvas:function(i){i.currentContext.restore()},destroy:function(){this.geometryMask=null}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(25),i=t(177),r=t(269),a=t(270),n=t(3),s=4,f={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(o){this._scaleX=o,this._scaleY=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(o){this._scaleX=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleY:{get:function(){return this._scaleY},set:function(o){this._scaleY=o,o===0?this.renderFlags&=~s:this.renderFlags|=s}},angle:{get:function(){return a(this._rotation*e.RAD_TO_DEG)},set:function(o){this.rotation=a(o)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(o){this._rotation=r(o)}},setPosition:function(o,h,d,v){return o===void 0&&(o=0),h===void 0&&(h=o),d===void 0&&(d=0),v===void 0&&(v=0),this.x=o,this.y=h,this.z=d,this.w=v,this},copyPosition:function(o){return o.x!==void 0&&(this.x=o.x),o.y!==void 0&&(this.y=o.y),o.z!==void 0&&(this.z=o.z),o.w!==void 0&&(this.w=o.w),this},setRandomPosition:function(o,h,d,v){return o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=o+Math.random()*d,this.y=h+Math.random()*v,this},setRotation:function(o){return o===void 0&&(o=0),this.rotation=o,this},setAngle:function(o){return o===void 0&&(o=0),this.angle=o,this},setScale:function(o,h){return o===void 0&&(o=1),h===void 0&&(h=o),this.scaleX=o,this.scaleY=h,this},setX:function(o){return o===void 0&&(o=0),this.x=o,this},setY:function(o){return o===void 0&&(o=0),this.y=o,this},setZ:function(o){return o===void 0&&(o=0),this.z=o,this},setW:function(o){return o===void 0&&(o=0),this.w=o,this},getLocalTransformMatrix:function(o){return o===void 0&&(o=new u),o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(o,h){o===void 0&&(o=new u),h===void 0&&(h=new u);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(o);for(o.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)h.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),h.multiply(o,o),d=d.parentContainer;return o},getLocalPoint:function(o,h,d,v){d||(d=new n),v||(v=this.scene.sys.cameras.main);var c=v.scrollX,p=v.scrollY,g=o+c*this.scrollFactorX-c,T=h+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,T,d):i(g,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getParentRotation:function(){for(var o=0,h=this.parentContainer;h;)o+=h.rotation,h=h.parentContainer;return o}};l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(u){return this.visible=u,this}};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),u=t(4),i=function(r,a,n,s){if(s===void 0&&(s=[]),!a&&!n)return s;a?n=Math.round(e(r)/a):a=e(r)/n;for(var f=r.x,o=r.y,h=0,d=0;d<n;d++)switch(s.push(new u(f,o)),h){case 0:f+=a,f>=r.right&&(h=1,o+=f-r.right,f=r.right);break;case 1:o+=a,o>=r.bottom&&(h=2,f-=o-r.bottom,o=r.bottom);break;case 2:f-=a,f<=r.left&&(h=3,o-=r.left-f,f=r.left);break;case 3:o-=a,o<=r.top&&(h=0,o=r.top);break}return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){u===void 0&&(u=1),i===void 0&&(i=[]);var r=Math.round(e.x1),a=Math.round(e.y1),n=Math.round(e.x2),s=Math.round(e.y2),f=Math.abs(n-r),o=Math.abs(s-a),h=r<n?1:-1,d=a<s?1:-1,v=f-o;i.push({x:r,y:a});for(var c=1;!(r===n&&a===s);){var p=v<<1;p>-o&&(v-=o,r+=h),p<f&&(v+=f,a+=d),c%u===0&&i.push({x:r,y:a}),c++}return i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u.length){if(u.length===1)return u[0]}else return NaN;var r=1,a,n;if(i){if(e<u[0][i])return u[0];for(;u[r][i]<e;)r++}else for(;u[r]<e;)r++;return r>u.length&&(r=u.length),i?(a=u[r-1][i],n=u[r][i],n-e<=e-a?u[r]:u[r-1]):(a=u[r-1],n=u[r],n-e<=e-a?n:a)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s,f){f===void 0&&(f=!1),this.textureKey=r,this.textureFrame=a,this.index=n,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=/\D/g;return e.sort(function(i,r){return parseInt(i.replace(u,""),10)-parseInt(r.replace(u,""),10)}),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),u=t(0),i=t(102),r=t(9),a=t(132),n=t(22),s=t(2),f=t(6),o=t(186),h=t(322),d=new u({Extends:r,initialize:function(c){r.call(this),this.game=c,this.textureManager=null,this.globalTimeScale=1,this.anims=new i,this.mixes=new i,this.paused=!1,this.name="AnimationManager",c.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(v,c,p){var g=this.anims,T=this.mixes,E=typeof v=="string"?v:v.key,S=typeof c=="string"?c:c.key;if(g.has(E)&&g.has(S)){var C=T.get(E);C||(C={}),C[S]=p,T.set(E,C)}return this},removeMix:function(v,c){var p=this.mixes,g=typeof v=="string"?v:v.key,T=p.get(g);if(T)if(c){var E=typeof c=="string"?c:c.key;T.hasOwnProperty(E)&&delete T[E]}else c||p.delete(g);return this},getMix:function(v,c){var p=this.mixes,g=typeof v=="string"?v:v.key,T=typeof c=="string"?c:c.key,E=p.get(g);return E&&E.hasOwnProperty(T)?E[T]:0},add:function(v,c){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(c.key=v,this.anims.set(v,c),this.emit(a.ADD_ANIMATION,v,c),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,c){var p=[],g=this.game.cache.json.get(v);if(!g)return p;var T=this,E=f(g,"meta",null),S=f(g,"frames",null);if(E&&S){var C=f(E,"frameTags",[]);C.forEach(function(P){var A=[],R=s(P,"name",null),M=s(P,"from",0),L=s(P,"to",0),F=s(P,"direction","forward");if(R&&(!c||c&&c.indexOf(R)>-1)){for(var I=[],B=Number.MAX_SAFE_INTEGER,b=M;b<=L;b++){var W=b.toString(),$=S[W];if($){var Z=s($,"duration",Number.MAX_SAFE_INTEGER);Z<B&&(B=Z),I.push({frame:W,duration:Z})}}I.forEach(function(G){A.push({key:v,frame:G.frame,duration:B-G.duration})});var D=B*A.length;F==="reverse"&&(A=A.reverse());var O={key:R,frames:A,duration:D,yoyo:F==="pingpong"},N=T.create(O);N&&p.push(N)}})}return p},create:function(v){var c=v.key,p=!1;return c&&(p=this.get(c),p||(p=new e(this,c,v),this.anims.set(c,p),this.emit(a.ADD_ANIMATION,c,p))),p},fromJSON:function(v,c){c===void 0&&(c=!1),c&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var p=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var g=0;g<v.anims.length;g++)p.push(this.create(v.anims[g]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&p.push(this.create(v));return p},generateFrameNames:function(v,c){var p=f(c,"prefix",""),g=f(c,"start",0),T=f(c,"end",0),E=f(c,"suffix",""),S=f(c,"zeroPad",0),C=f(c,"outputArray",[]),P=f(c,"frames",!1),A=this.textureManager.get(v);if(!A)return C;var R;if(c)for(P||(P=h(g,T)),R=0;R<P.length;R++){var M=p+o(P[R],S,"0",1)+E;A.has(M)?C.push({key:v,frame:M}):console.warn("generateFrameNames: Frame missing: "+M+" from texture: "+v)}else for(P=A.getFrameNames(),R=0;R<P.length;R++)C.push({key:v,frame:P[R]});return C},generateFrameNumbers:function(v,c){var p=f(c,"start",0),g=f(c,"end",-1),T=f(c,"first",!1),E=f(c,"outputArray",[]),S=f(c,"frames",!1),C=this.textureManager.get(v);if(!C)return E;T&&C.has(T)&&E.push({key:v,frame:T}),S||(g===-1&&(g=C.frameTotal-2),S=h(p,g));for(var P=0;P<S.length;P++)C.has(S[P])?E.push({key:v,frame:S[P]}):console.warn("generateFrameNumbers: Frame "+P+" missing from texture: "+v);return E},get:function(v){return this.anims.get(v)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(v,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++)c[p].anims.play(v);return this},staggerPlay:function(v,c,p,g){p===void 0&&(p=0),g===void 0&&(g=!0),Array.isArray(c)||(c=[c]);var T=c.length;g||T--;for(var E=0;E<c.length;E++){var S=p<0?Math.abs(p)*(T-E):p*E;c[E].anims.playAfterDelay(v,S)}return this},remove:function(v){var c=this.get(v);return c&&(this.emit(a.REMOVE_ANIMATION,v,c),this.anims.delete(v),this.removeMix(v)),c},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(v){var c={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?c.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(p,g){c.anims.push(g.toJSON())}),c},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});l.exports=d},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=[],n,s=!1;if((i||r)&&(s=!0,i||(i=""),r||(r="")),u<e)for(n=e;n>=u;n--)s?a.push(i+n.toString()+r):a.push(n);else for(n=e;n<=u;n++)s?a.push(i+n.toString()+r):a.push(n);return a};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(102),i=t(9),r=t(324),a=new e({initialize:function(){this.entries=new u,this.events=new i},add:function(n,s){return this.entries.set(n,s),this.events.emit(r.ADD,this,n,s),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var s=this.get(n);return s&&(this.entries.delete(n),this.events.emit(r.REMOVE,this,n,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ADD:t(736),REMOVE:t(737)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),u=t(0),i=t(22),r=new u({initialize:function(n){this.game=n,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(i.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new e),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<a.length;n++)this[a[n]].destroy(),this[a[n]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),u=t(190),i=t(18),r=t(0),a=t(11),n=t(333),s=t(37),f=t(135),o=t(10),h=t(3),d=new r({Extends:e,Mixins:[a.Flip,a.Tint,a.Pipeline],initialize:function(c,p,g,T){e.call(this,c,p,g,T),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(v,c){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=c):this.deadzone=new o(0,0,v,c),this._follow){var p=this.width/2,g=this.height/2,T=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(T,E),this.scrollX=T-p,this.scrollY=E-g}u(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,c,p,g,T,E){return this.fadeEffect.start(!1,v,c,p,g,!0,T,E)},fadeOut:function(v,c,p,g,T,E){return this.fadeEffect.start(!0,v,c,p,g,!0,T,E)},fadeFrom:function(v,c,p,g,T,E,S){return this.fadeEffect.start(!1,v,c,p,g,T,E,S)},fade:function(v,c,p,g,T,E,S){return this.fadeEffect.start(!0,v,c,p,g,T,E,S)},flash:function(v,c,p,g,T,E,S){return this.flashEffect.start(v,c,p,g,T,E,S)},shake:function(v,c,p,g,T){return this.shakeEffect.start(v,c,p,g,T)},pan:function(v,c,p,g,T,E,S){return this.panEffect.start(v,c,p,g,T,E,S)},rotateTo:function(v,c,p,g,T,E,S){return this.rotateToEffect.start(v,c,p,g,T,E,S)},zoomTo:function(v,c,p,g,T,E){return this.zoomEffect.start(v,c,p,g,T,E)},preRender:function(){this.renderList.length=0;var v=this.width,c=this.height,p=v*.5,g=c*.5,T=this.zoom,E=this.matrix,S=v*this.originX,C=c*this.originY,P=this._follow,A=this.deadzone,R=this.scrollX,M=this.scrollY;A&&u(A,this.midPoint.x,this.midPoint.y);var L=!1;if(P&&!this.panEffect.isRunning){var F=P.x-this.followOffset.x,I=P.y-this.followOffset.y;A?(F<A.x?R=f(R,R-(A.x-F),this.lerp.x):F>A.right&&(R=f(R,R+(F-A.right),this.lerp.x)),I<A.y?M=f(M,M-(A.y-I),this.lerp.y):I>A.bottom&&(M=f(M,M+(I-A.bottom),this.lerp.y))):(R=f(R,F-S,this.lerp.x),M=f(M,I-C,this.lerp.y)),L=!0}this.useBounds&&(R=this.clampX(R),M=this.clampY(M)),this.roundPixels&&(S=Math.round(S),C=Math.round(C),R=Math.round(R),M=Math.round(M)),this.scrollX=R,this.scrollY=M;var B=R+p,b=M+g;this.midPoint.set(B,b);var W=v/T,$=c/T,Z=B-W/2,D=b-$/2;this.roundPixels&&(Z=Math.round(Z),D=Math.round(D)),this.worldView.setTo(Z,D,W,$),E.applyITRS(this.x+S,this.y+C,this.rotation,T,T),E.translate(-S,-C),this.shakeEffect.preRender(),L&&this.emit(s.FOLLOW_UPDATE,this,P)},setLerp:function(v,c){return v===void 0&&(v=1),c===void 0&&(c=v),this.lerp.set(v,c),this},setFollowOffset:function(v,c){return v===void 0&&(v=0),c===void 0&&(c=0),this.followOffset.set(v,c),this},startFollow:function(v,c,p,g,T,E){c===void 0&&(c=!1),p===void 0&&(p=1),g===void 0&&(g=p),T===void 0&&(T=0),E===void 0&&(E=T),this._follow=v,this.roundPixels=c,p=i(p,0,1),g=i(g,0,1),this.lerp.set(p,g),this.followOffset.set(T,E);var S=this.width/2,C=this.height/2,P=v.x-T,A=v.y-E;return this.midPoint.set(P,A),this.scrollX=P-S,this.scrollY=A-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,c){this.visible&&(this.rotateToEffect.update(v,c),this.panEffect.update(v,c),this.zoomEffect.update(v,c),this.shakeEffect.update(v,c),this.flashEffect.update(v,c),this.fadeEffect.update(v,c))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(i){var r=new e;i=i.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,h,d,v){return h+h+d+d+v+v});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);if(a){var n=parseInt(a[1],16),s=parseInt(a[2],16),f=parseInt(a[3],16);r.setTo(n,s,f)}return r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return r<<24|e<<16|u<<8|i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){r===void 0&&(r={h:0,s:0,v:0}),e/=255,u/=255,i/=255;var a=Math.min(e,u,i),n=Math.max(e,u,i),s=n-a,f=0,o=n===0?0:s/n,h=n;return n!==a&&(n===e?f=(u-i)/s+(u<i?6:0):n===u?f=(i-e)/s+2:n===i&&(f=(e-u)/s+4),f/=6),r.hasOwnProperty("_h")?(r._h=f,r._s=o,r._v=h):(r.h=f,r.s=o,r.v=h),r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(i){return new e(i.r,i.g,i.b,i.a)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(i){var r=new e,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(i.toLowerCase());if(a){var n=parseInt(a[1],10),s=parseInt(a[2],10),f=parseInt(a[3],10),o=a[4]!==void 0?parseFloat(a[4]):1;r.setTo(n,s,f,o*255)}return r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(764),Out:t(765),InOut:t(766)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(767),Out:t(768),InOut:t(769)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(770),Out:t(771),InOut:t(772)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(773),Out:t(774),InOut:t(775)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(776),Out:t(777),InOut:t(778)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(779),Out:t(780),InOut:t(781)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(782)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(783),Out:t(784),InOut:t(785)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(786),Out:t(787),InOut:t(788)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(789),Out:t(790),InOut:t(791)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={In:t(792),Out:t(793),InOut:t(794)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=t(795)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(33),i=t(347),r=t(2),a=t(6),n=t(7),s=t(193),f=t(1),o=t(197),h=t(187),d=new e({initialize:function(c){c===void 0&&(c={});var p=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff";this.width=a(c,"width",1024),this.height=a(c,"height",768),this.zoom=a(c,"zoom",1),this.parent=a(c,"parent",void 0),this.scaleMode=a(c,"scaleMode",0),this.expandParent=a(c,"expandParent",!0),this.autoRound=a(c,"autoRound",!1),this.autoCenter=a(c,"autoCenter",0),this.resizeInterval=a(c,"resizeInterval",500),this.fullscreenTarget=a(c,"fullscreenTarget",null),this.minWidth=a(c,"minWidth",0),this.maxWidth=a(c,"maxWidth",0),this.minHeight=a(c,"minHeight",0),this.maxHeight=a(c,"maxHeight",0);var T=a(c,"scale",null);T&&(this.width=a(T,"width",this.width),this.height=a(T,"height",this.height),this.zoom=a(T,"zoom",this.zoom),this.parent=a(T,"parent",this.parent),this.scaleMode=a(T,"mode",this.scaleMode),this.expandParent=a(T,"expandParent",this.expandParent),this.autoRound=a(T,"autoRound",this.autoRound),this.autoCenter=a(T,"autoCenter",this.autoCenter),this.resizeInterval=a(T,"resizeInterval",this.resizeInterval),this.fullscreenTarget=a(T,"fullscreenTarget",this.fullscreenTarget),this.minWidth=a(T,"min.width",this.minWidth),this.maxWidth=a(T,"max.width",this.maxWidth),this.minHeight=a(T,"min.height",this.minHeight),this.maxHeight=a(T,"max.height",this.maxHeight)),this.renderType=a(c,"type",u.AUTO),this.canvas=a(c,"canvas",null),this.context=a(c,"context",null),this.canvasStyle=a(c,"canvasStyle",null),this.customEnvironment=a(c,"customEnvironment",!1),this.sceneConfig=a(c,"scene",null),this.seed=a(c,"seed",[(Date.now()*Math.random()).toString()]),s.RND=new s.RandomDataGenerator(this.seed),this.gameTitle=a(c,"title",""),this.gameURL=a(c,"url","https://phaser.io"),this.gameVersion=a(c,"version",""),this.autoFocus=a(c,"autoFocus",!0),this.domCreateContainer=a(c,"dom.createContainer",!1),this.domBehindCanvas=a(c,"dom.behindCanvas",!1),this.domPointerEvents=a(c,"dom.pointerEvents","none"),this.inputKeyboard=a(c,"input.keyboard",!0),this.inputKeyboardEventTarget=a(c,"input.keyboard.target",window),this.inputKeyboardCapture=a(c,"input.keyboard.capture",[]),this.inputMouse=a(c,"input.mouse",!0),this.inputMouseEventTarget=a(c,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(c,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(c,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(c,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(c,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(c,"input.touch",i.input.touch),this.inputTouchEventTarget=a(c,"input.touch.target",null),this.inputTouchCapture=a(c,"input.touch.capture",!0),this.inputActivePointers=a(c,"input.activePointers",1),this.inputSmoothFactor=a(c,"input.smoothFactor",0),this.inputWindowEvents=a(c,"input.windowEvents",!0),this.inputGamepad=a(c,"input.gamepad",!1),this.inputGamepadEventTarget=a(c,"input.gamepad.target",window),this.disableContextMenu=a(c,"disableContextMenu",!1),this.audio=a(c,"audio",{}),this.hideBanner=a(c,"banner",null)===!1,this.hidePhaser=a(c,"banner.hidePhaser",!1),this.bannerTextColor=a(c,"banner.text",g),this.bannerBackgroundColor=a(c,"banner.background",p),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(c,"fps",null);var E=a(c,"render",c);this.pipeline=a(E,"pipeline",null),this.antialias=a(E,"antialias",!0),this.antialiasGL=a(E,"antialiasGL",!0),this.mipmapFilter=a(E,"mipmapFilter","LINEAR"),this.desynchronized=a(E,"desynchronized",!1),this.roundPixels=a(E,"roundPixels",!1),this.pixelArt=a(E,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(E,"transparent",!1),this.clearBeforeRender=a(E,"clearBeforeRender",!0),this.preserveDrawingBuffer=a(E,"preserveDrawingBuffer",!1),this.premultipliedAlpha=a(E,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=a(E,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(E,"powerPreference","default"),this.batchSize=a(E,"batchSize",4096),this.maxTextures=a(E,"maxTextures",-1),this.maxLights=a(E,"maxLights",10);var S=a(c,"backgroundColor",0);this.backgroundColor=h(S),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=a(c,"callbacks.preBoot",f),this.postBoot=a(c,"callbacks.postBoot",f),this.physics=a(c,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(c,"loader.baseURL",""),this.loaderPath=a(c,"loader.path","");var C=i.os.android?6:32;this.loaderMaxParallelDownloads=a(c,"loader.maxParallelDownloads",C),this.loaderCrossOrigin=a(c,"loader.crossOrigin",void 0),this.loaderResponseType=a(c,"loader.responseType",""),this.loaderAsync=a(c,"loader.async",!0),this.loaderUser=a(c,"loader.user",""),this.loaderPassword=a(c,"loader.password",""),this.loaderTimeout=a(c,"loader.timeout",0),this.loaderWithCredentials=a(c,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=a(c,"plugins",null),A=o.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:n(P)&&(this.installGlobalPlugins=r(P,"global",[]),this.installScenePlugins=r(P,"scene",[]),Array.isArray(P.default)?A=P.default:Array.isArray(P.defaultMerge)&&(A=A.concat(P.defaultMerge)))),this.defaultPlugins=A;var R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(c,"images.default",R+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(c,"images.missing",R+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(c,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=u.WEBGL:window.FORCE_CANVAS&&(this.renderType=u.CANVAS))}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u={supportInverseAlpha:!1,supportNewBlendModes:!1};function i(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var o=new Image;o.onload=function(){var h=e.create(o,6,1),d=h.getContext("2d");if(d.globalCompositeOperation="multiply",d.drawImage(f,0,0),d.drawImage(o,2,0),!d.getImageData(2,0,1,1))return!1;var v=d.getImageData(2,0,1,1).data;e.remove(o),u.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},o.src=n+"/wCKxvRF"+s},f.src=n+"AP804Oa6"+s,!1}function r(){var n=e.create(this,2,1),s=n.getContext("2d");s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var f=s.getImageData(0,0,1,1);if(f===null)return!1;s.putImageData(f,1,0);var o=s.getImageData(1,0,1,1);return o.data[0]===f.data[0]&&o.data[1]===f.data[1]&&o.data[2]===f.data[2]&&o.data[3]===f.data[3]}function a(){return typeof importScripts!="function"&&document!==void 0&&(u.supportNewBlendModes=i(),u.supportInverseAlpha=r()),u}l.exports=a()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return Math.atan2(r-u,i-e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.x-u.x,r=e.y-u.y;return Math.sqrt(i*i+r*r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=e-i,n=u-r;return a*a+n*n};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return i===void 0&&(i=1e-4),e>u-i};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return i===void 0&&(i=1e-4),e<u+i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),u=function(i,r){return e(i)/e(r)/e(i-r)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,n){var s=1-a;return s*s*s*n}function e(a,n){var s=1-a;return 3*s*s*a*n}function u(a,n){return 3*(1-a)*a*a*n}function i(a,n){return a*a*a*n}var r=function(a,n,s,f,o){return t(a,n)+e(a,s)+u(a,f)+i(a,o)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(r,a){var n=1-r;return n*n*a}function e(r,a){return 2*(1-r)*r*a}function u(r,a){return r*r*a}var i=function(r,a,n,s){return t(r,a)+e(r,n)+u(r,s)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),u=function(i,r,a){return r+(a-r)*e(i,0,1)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.x,r=e.y;return e.x=i*Math.cos(u)-r*Math.sin(u),e.y=i*Math.sin(u)+r*Math.cos(u),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new u(this)},set:function(i){return this.copy(i)},copy:function(i){var r=this.val,a=i.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},fromMat4:function(i){var r=i.val,a=this.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[4],a[4]=r[5],a[5]=r[6],a[6]=r[8],a[7]=r[9],a[8]=r[10],this},fromArray:function(i){var r=this.val;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this},identity:function(){var i=this.val;return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=1,i[5]=0,i[6]=0,i[7]=0,i[8]=1,this},transpose:function(){var i=this.val,r=i[1],a=i[2],n=i[5];return i[1]=i[3],i[2]=i[6],i[3]=r,i[5]=i[7],i[6]=a,i[7]=n,this},invert:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],f=i[4],o=i[5],h=i[6],d=i[7],v=i[8],c=v*f-o*d,p=-v*s+o*h,g=d*s-f*h,T=r*c+a*p+n*g;return T?(T=1/T,i[0]=c*T,i[1]=(-v*a+n*d)*T,i[2]=(o*a-n*f)*T,i[3]=p*T,i[4]=(v*r-n*h)*T,i[5]=(-o*r+n*s)*T,i[6]=g*T,i[7]=(-d*r+a*h)*T,i[8]=(f*r-a*s)*T,this):null},adjoint:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],f=i[4],o=i[5],h=i[6],d=i[7],v=i[8];return i[0]=f*v-o*d,i[1]=n*d-a*v,i[2]=a*o-n*f,i[3]=o*h-s*v,i[4]=r*v-n*h,i[5]=n*s-r*o,i[6]=s*d-f*h,i[7]=a*h-r*d,i[8]=r*f-a*s,this},determinant:function(){var i=this.val,r=i[0],a=i[1],n=i[2],s=i[3],f=i[4],o=i[5],h=i[6],d=i[7],v=i[8];return r*(v*f-o*d)+a*(-v*s+o*h)+n*(d*s-f*h)},multiply:function(i){var r=this.val,a=r[0],n=r[1],s=r[2],f=r[3],o=r[4],h=r[5],d=r[6],v=r[7],c=r[8],p=i.val,g=p[0],T=p[1],E=p[2],S=p[3],C=p[4],P=p[5],A=p[6],R=p[7],M=p[8];return r[0]=g*a+T*f+E*d,r[1]=g*n+T*o+E*v,r[2]=g*s+T*h+E*c,r[3]=S*a+C*f+P*d,r[4]=S*n+C*o+P*v,r[5]=S*s+C*h+P*c,r[6]=A*a+R*f+M*d,r[7]=A*n+R*o+M*v,r[8]=A*s+R*h+M*c,this},translate:function(i){var r=this.val,a=i.x,n=i.y;return r[6]=a*r[0]+n*r[3]+r[6],r[7]=a*r[1]+n*r[4]+r[7],r[8]=a*r[2]+n*r[5]+r[8],this},rotate:function(i){var r=this.val,a=r[0],n=r[1],s=r[2],f=r[3],o=r[4],h=r[5],d=Math.sin(i),v=Math.cos(i);return r[0]=v*a+d*f,r[1]=v*n+d*o,r[2]=v*s+d*h,r[3]=v*f-d*a,r[4]=v*o-d*n,r[5]=v*h-d*s,this},scale:function(i){var r=this.val,a=i.x,n=i.y;return r[0]=a*r[0],r[1]=a*r[1],r[2]=a*r[2],r[3]=n*r[3],r[4]=n*r[4],r[5]=n*r[5],this},fromQuat:function(i){var r=i.x,a=i.y,n=i.z,s=i.w,f=r+r,o=a+a,h=n+n,d=r*f,v=r*o,c=r*h,p=a*o,g=a*h,T=n*h,E=s*f,S=s*o,C=s*h,P=this.val;return P[0]=1-(p+T),P[3]=v+C,P[6]=c-S,P[1]=v-C,P[4]=1-(d+T),P[7]=g+E,P[2]=c+S,P[5]=g-E,P[8]=1-(d+p),this},normalFromMat4:function(i){var r=i.val,a=this.val,n=r[0],s=r[1],f=r[2],o=r[3],h=r[4],d=r[5],v=r[6],c=r[7],p=r[8],g=r[9],T=r[10],E=r[11],S=r[12],C=r[13],P=r[14],A=r[15],R=n*d-s*h,M=n*v-f*h,L=n*c-o*h,F=s*v-f*d,I=s*c-o*d,B=f*c-o*v,b=p*C-g*S,W=p*P-T*S,$=p*A-E*S,Z=g*P-T*C,D=g*A-E*C,O=T*A-E*P,N=R*O-M*D+L*Z+F*$-I*W+B*b;return N?(N=1/N,a[0]=(d*O-v*D+c*Z)*N,a[1]=(v*$-h*O-c*W)*N,a[2]=(h*D-d*$+c*b)*N,a[3]=(f*D-s*O-o*Z)*N,a[4]=(n*O-f*$+o*W)*N,a[5]=(s*$-n*D-o*b)*N,a[6]=(C*B-P*I+A*F)*N,a[7]=(P*L-S*B-A*M)*N,a[8]=(S*I-C*L+A*R)*N,this):null}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(364),i=t(1),r=t(39),a=1e-6,n=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),f=new r(1,0,0),o=new r(0,1,0),h=new r,d=new u,v=new e({initialize:function(p,g,T,E){this.onChangeCallback=i,this.set(p,g,T,E)},x:{get:function(){return this._x},set:function(c){this._x=c,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(c){this._y=c,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(c){this._z=c,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(c){this._w=c,this.onChangeCallback(this)}},copy:function(c){return this.set(c)},set:function(c,p,g,T,E){return E===void 0&&(E=!0),typeof c=="object"?(this._x=c.x||0,this._y=c.y||0,this._z=c.z||0,this._w=c.w||0):(this._x=c||0,this._y=p||0,this._z=g||0,this._w=T||0),E&&this.onChangeCallback(this),this},add:function(c){return this._x+=c.x,this._y+=c.y,this._z+=c.z,this._w+=c.w,this.onChangeCallback(this),this},subtract:function(c){return this._x-=c.x,this._y-=c.y,this._z-=c.z,this._w-=c.w,this.onChangeCallback(this),this},scale:function(c){return this._x*=c,this._y*=c,this._z*=c,this._w*=c,this.onChangeCallback(this),this},length:function(){var c=this.x,p=this.y,g=this.z,T=this.w;return Math.sqrt(c*c+p*p+g*g+T*T)},lengthSq:function(){var c=this.x,p=this.y,g=this.z,T=this.w;return c*c+p*p+g*g+T*T},normalize:function(){var c=this.x,p=this.y,g=this.z,T=this.w,E=c*c+p*p+g*g+T*T;return E>0&&(E=1/Math.sqrt(E),this._x=c*E,this._y=p*E,this._z=g*E,this._w=T*E),this.onChangeCallback(this),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,p){p===void 0&&(p=0);var g=this.x,T=this.y,E=this.z,S=this.w;return this.set(g+p*(c.x-g),T+p*(c.y-T),E+p*(c.z-E),S+p*(c.w-S))},rotationTo:function(c,p){var g=c.x*p.x+c.y*p.y+c.z*p.z;return g<-.999999?(h.copy(f).cross(c).length()<a&&h.copy(o).cross(c),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(c).cross(p),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(c,p,g){var T=d.val;return T[0]=p.x,T[3]=p.y,T[6]=p.z,T[1]=g.x,T[4]=g.y,T[7]=g.z,T[2]=-c.x,T[5]=-c.y,T[8]=-c.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(c,p){p=p*.5;var g=Math.sin(p);return this.set(g*c.x,g*c.y,g*c.z,Math.cos(p))},multiply:function(c){var p=this.x,g=this.y,T=this.z,E=this.w,S=c.x,C=c.y,P=c.z,A=c.w;return this.set(p*A+E*S+g*P-T*C,g*A+E*C+T*S-p*P,T*A+E*P+p*C-g*S,E*A-p*S-g*C-T*P)},slerp:function(c,p){var g=this.x,T=this.y,E=this.z,S=this.w,C=c.x,P=c.y,A=c.z,R=c.w,M=g*C+T*P+E*A+S*R;M<0&&(M=-M,C=-C,P=-P,A=-A,R=-R);var L=1-p,F=p;if(1-M>a){var I=Math.acos(M),B=Math.sin(I);L=Math.sin((1-p)*I)/B,F=Math.sin(p*I)/B}return this.set(L*g+F*C,L*T+F*P,L*E+F*A,L*S+F*R)},invert:function(){var c=this.x,p=this.y,g=this.z,T=this.w,E=c*c+p*p+g*g+T*T,S=E?1/E:0;return this.set(-c*S,-p*S,-g*S,T*S)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(c){c*=.5;var p=this.x,g=this.y,T=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(p*C+E*S,g*C+T*S,T*C-g*S,E*C-p*S)},rotateY:function(c){c*=.5;var p=this.x,g=this.y,T=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(p*C-T*S,g*C+E*S,T*C+p*S,E*C-g*S)},rotateZ:function(c){c*=.5;var p=this.x,g=this.y,T=this.z,E=this.w,S=Math.sin(c),C=Math.cos(c);return this.set(p*C+g*S,g*C-p*S,T*C+E*S,E*C-T*S)},calculateW:function(){var c=this.x,p=this.y,g=this.z;return this.w=-Math.sqrt(1-c*c-p*p-g*g),this},setFromEuler:function(c,p){var g=c.x/2,T=c.y/2,E=c.z/2,S=Math.cos(g),C=Math.cos(T),P=Math.cos(E),A=Math.sin(g),R=Math.sin(T),M=Math.sin(E);switch(c.order){case"XYZ":{this.set(A*C*P+S*R*M,S*R*P-A*C*M,S*C*M+A*R*P,S*C*P-A*R*M,p);break}case"YXZ":{this.set(A*C*P+S*R*M,S*R*P-A*C*M,S*C*M-A*R*P,S*C*P+A*R*M,p);break}case"ZXY":{this.set(A*C*P-S*R*M,S*R*P+A*C*M,S*C*M+A*R*P,S*C*P-A*R*M,p);break}case"ZYX":{this.set(A*C*P-S*R*M,S*R*P+A*C*M,S*C*M-A*R*P,S*C*P+A*R*M,p);break}case"YZX":{this.set(A*C*P+S*R*M,S*R*P+A*C*M,S*C*M-A*R*P,S*C*P-A*R*M,p);break}case"XZY":{this.set(A*C*P-S*R*M,S*R*P-A*C*M,S*C*M+A*R*P,S*C*P+A*R*M,p);break}}return this},setFromRotationMatrix:function(c){var p=c.val,g=p[0],T=p[4],E=p[8],S=p[1],C=p[5],P=p[9],A=p[2],R=p[6],M=p[10],L=g+C+M,F;return L>0?(F=.5/Math.sqrt(L+1),this.set((R-P)*F,(E-A)*F,(S-T)*F,.25/F)):g>C&&g>M?(F=2*Math.sqrt(1+g-C-M),this.set(.25*F,(T+S)/F,(E+A)/F,(R-P)/F)):C>M?(F=2*Math.sqrt(1+C-g-M),this.set((T+S)/F,.25*F,(P+R)/F,(E-A)/F)):(F=2*Math.sqrt(1+M-g-C),this.set((E+A)/F,(P+R)/F,.25*F,(S-T)/F)),this},fromMat3:function(c){var p=c.val,g=p[0]+p[4]+p[8],T;if(g>0)T=Math.sqrt(g+1),this.w=.5*T,T=.5/T,this._x=(p[7]-p[5])*T,this._y=(p[2]-p[6])*T,this._z=(p[3]-p[1])*T;else{var E=0;p[4]>p[0]&&(E=1),p[8]>p[E*3+E]&&(E=2);var S=n[E],C=n[S];T=Math.sqrt(p[E*3+E]-p[S*3+S]-p[C*3+C]+1),s[E]=.5*T,T=.5/T,s[S]=(p[S*3+E]+p[E*3+S])*T,s[C]=(p[C*3+E]+p[E*3+C])*T,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(p[C*3+S]-p[S*3+C])*T}return this.onChangeCallback(this),this}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),u=t(31),i=t(33),r=t(191),a=function(n){var s=n.config;if((s.customEnvironment||s.canvas)&&s.renderType===i.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==i.HEADLESS)if(s.renderType===i.CANVAS||s.renderType!==i.CANVAS&&!r.webGL)if(r.canvas)s.renderType=i.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else s.renderType=i.WEBGL;s.antialias||u.disableSmoothing();var f=n.scale.baseSize,o=f.width,h=f.height;if(s.canvas?(n.canvas=s.canvas,n.canvas.width=o,n.canvas.height=h):n.canvas=u.create(n,o,h,s.renderType),s.canvasStyle&&(n.canvas.style=s.canvasStyle),s.antialias||e.setCrisp(n.canvas),s.renderType!==i.HEADLESS){var d,v;d=t(368),v=t(371),s.renderType===i.WEBGL?n.renderer=new v(n):(n.renderer=new d(n),n.context=n.renderer.gameContext)}};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(i){e.style["image-rendering"]=i}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),u=t(369),i=t(0),r=t(33),a=t(9),n=t(91),s=t(370),f=t(104),o=t(106),h=t(25),d=new i({Extends:a,initialize:function(c){a.call(this);var p=c.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=c,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=c.canvas;var g={alpha:c.config.transparent,desynchronized:c.config.desynchronized};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=c.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(o.READY,this.boot,this)},boot:function(){var v=this.game,c=v.scale.baseSize;this.width=c.width,this.height=c.height,this.isBooted=!0,v.scale.on(f.RESIZE,this.onResize,this),this.resize(c.width,c.height)},onResize:function(v,c){(c.width!==this.width||c.height!==this.height)&&this.resize(c.width,c.height)},resize:function(v,c){this.width=v,this.height=c,this.emit(n.RESIZE,v,c)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,c=this.config,p=this.width,g=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),c.clearBeforeRender&&(v.clearRect(0,0,p,g),c.transparent||(v.fillStyle=c.backgroundColor.rgba,v.fillRect(0,0,p,g))),v.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(v,c,p){var g=c.length;this.emit(n.RENDER,v,p);var T=p.x,E=p.y,S=p.width,C=p.height,P=p.renderToTexture?p.context:v.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(T,E,S,C),P.clip()),this.currentContext=P;var A=p.mask;A&&A.preRenderCanvas(this,null,p._maskCamera),p.transparent||(P.fillStyle=p.backgroundColor.rgba,P.fillRect(T,E,S,C)),P.globalAlpha=p.alpha,P.globalCompositeOperation="source-over",this.drawCount+=g,p.renderToTexture&&p.emit(e.PRE_RENDER,p),p.matrix.copyToContext(P);for(var R=0;R<g;R++){var M=c[R];M.mask&&M.mask.preRenderCanvas(this,M,p),M.renderCanvas(this,M,p),M.mask&&M.mask.postRenderCanvas(this,M,p)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,p.flashEffect.postRenderCanvas(P),p.fadeEffect.postRenderCanvas(P),p.dirty=!1,A&&A.postRenderCanvas(this),P.restore(),p.renderToTexture&&(p.emit(e.POST_RENDER,p),p.renderToGame&&v.sys.context.drawImage(p.canvas,T,E))},postRender:function(){var v=this.gameContext;v.restore(),this.emit(n.POST_RENDER);var c=this.snapshotState;c.callback&&(u(this.gameCanvas,c),c.callback=null)},snapshotCanvas:function(v,c,p,g,T,E,S,C,P){p===void 0&&(p=!1),this.snapshotArea(g,T,E,S,c,C,P);var A=this.snapshotState;return A.getPixel=p,u(this.canvas,A),A.callback=null,this},snapshot:function(v,c,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,c,p)},snapshotArea:function(v,c,p,g,T,E,S){var C=this.snapshotState;return C.callback=T,C.type=E,C.encoder=S,C.getPixel=!1,C.x=v,C.y=c,C.width=Math.min(p,this.gameCanvas.width),C.height=Math.min(g,this.gameCanvas.height),this},snapshotPixel:function(v,c,p){return this.snapshotArea(v,c,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(v,c,p,g){var T=p.alpha*v.alpha;if(T!==0){var E=this.currentContext,S=this._tempMatrix1,C=this._tempMatrix2,P=c.canvasData,A=P.x,R=P.y,M=c.cutWidth,L=c.cutHeight,F=c.customPivot,I=c.source.resolution,B=v.displayOriginX,b=v.displayOriginY,W=-B+c.x,$=-b+c.y;if(v.isCropped){var Z=v._crop;(Z.flipX!==v.flipX||Z.flipY!==v.flipY)&&c.updateCropUVs(Z,v.flipX,v.flipY),M=Z.cw,L=Z.ch,A=Z.cx,R=Z.cy,W=-B+Z.x,$=-b+Z.y,v.flipX&&(W>=0?W=-(W+M):W<0&&(W=Math.abs(W)-M)),v.flipY&&($>=0?$=-($+L):$<0&&($=Math.abs($)-L))}var D=1,O=1;v.flipX&&(F||(W+=-c.realWidth+B*2),D=-1),v.flipY&&(F||($+=-c.realHeight+b*2),O=-1),C.applyITRS(v.x,v.y,v.rotation,v.scaleX*D,v.scaleY*O),S.copyFrom(p.matrix),g?(S.multiplyWithOffset(g,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),C.e=v.x,C.f=v.y):(C.e-=p.scrollX*v.scrollFactorX,C.f-=p.scrollY*v.scrollFactorY),S.multiply(C),E.save(),S.setToContext(E),E.globalCompositeOperation=this.blendModes[v.blendMode],E.globalAlpha=T,E.imageSmoothingEnabled=!(!this.antialias||c.source.scaleMode),v.mask&&v.mask.preRenderCanvas(this,v,p),E.drawImage(c.source.image,A,R,M,L,W,$,M/I,L/I),v.mask&&v.mask.postRenderCanvas(this,v,p),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(38),i=t(2),r=function(a,n){var s=i(n,"callback"),f=i(n,"type","image/png"),o=i(n,"encoder",.92),h=Math.abs(Math.round(i(n,"x",0))),d=Math.abs(Math.round(i(n,"y",0))),v=i(n,"width",a.width),c=i(n,"height",a.height),p=i(n,"getPixel",!1);if(p){var g=a.getContext("2d"),T=g.getImageData(h,d,1,1),E=T.data;s.call(null,new u(E[0],E[1],E[2],E[3]/255))}else if(h!==0||d!==0||v!==a.width||c!==a.height){var S=e.createWebGL(this,v,c),C=S.getContext("2d");C.drawImage(a,h,d,v,c,0,0,v,c);var P=new Image;P.onerror=function(){s.call(null),e.remove(S)},P.onload=function(){s.call(null,P),e.remove(S)},P.src=S.toDataURL(f,o)}else{var A=new Image;A.onerror=function(){s.call(null)},A.onload=function(){s.call(null,A)},A.src=a.toDataURL(f,o)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(348),i=function(){var r=[],a=u.supportNewBlendModes,n="source-over";return r[e.NORMAL]=n,r[e.ADD]="lighter",r[e.MULTIPLY]=a?"multiply":n,r[e.SCREEN]=a?"screen":n,r[e.OVERLAY]=a?"overlay":n,r[e.DARKEN]=a?"darken":n,r[e.LIGHTEN]=a?"lighten":n,r[e.COLOR_DODGE]=a?"color-dodge":n,r[e.COLOR_BURN]=a?"color-burn":n,r[e.HARD_LIGHT]=a?"hard-light":n,r[e.SOFT_LIGHT]=a?"soft-light":n,r[e.DIFFERENCE]=a?"difference":n,r[e.EXCLUSION]=a?"exclusion":n,r[e.HUE]=a?"hue":n,r[e.SATURATION]=a?"saturation":n,r[e.COLOR]=a?"color":n,r[e.LUMINOSITY]=a?"luminosity":n,r[e.ERASE]="destination-out",r[e.SOURCE_IN]="source-in",r[e.SOURCE_OUT]="source-out",r[e.SOURCE_ATOP]="source-atop",r[e.DESTINATION_OVER]="destination-over",r[e.DESTINATION_IN]="destination-in",r[e.DESTINATION_OUT]="destination-out",r[e.DESTINATION_ATOP]="destination-atop",r[e.LIGHTER]="lighter",r[e.COPY]="copy",r[e.XOR]="xor",r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(37),i=t(0),r=t(33),a=t(9),n=t(91),s=t(22),f=t(138),o=t(69),h=t(1),d=t(372),v=t(141),c=t(104),p=t(106),g=t(12),T=t(383),E=new i({Extends:a,initialize:function(C){a.call(this);var P=C.config,A={alpha:P.transparent,desynchronized:P.desynchronized,depth:!1,antialias:P.antialiasGL,premultipliedAlpha:P.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:P.failIfMajorPerformanceCaveat,powerPreference:P.powerPreference,preserveDrawingBuffer:P.preserveDrawingBuffer};this.config={clearBeforeRender:P.clearBeforeRender,antialias:P.antialias,backgroundColor:P.backgroundColor,contextCreation:A,roundPixels:P.roundPixels,maxTextures:P.maxTextures,maxTextureSize:P.maxTextureSize,batchSize:P.batchSize,maxLights:P.maxLights,mipmapFilter:P.mipmapFilter},this.game=C,this.type=r.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=C.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(S){var C,P=this.game,A=this.canvas,R=S.backgroundColor;if(P.config.context?C=P.config.context:C=A.getContext("webgl",S.contextCreation)||A.getContext("experimental-webgl",S.contextCreation),!C||C.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=C;var M=this;this.contextLostHandler=function(N){M.contextLost=!0,M.game.events.emit(s.CONTEXT_LOST,M),N.preventDefault()},this.contextRestoredHandler=function(){M.contextLost=!1,M.init(M.config),M.game.events.emit(s.CONTEXT_RESTORED,M)},A.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),P.context=C;for(var L=0;L<=27;L++)this.blendModes.push({func:[C.ONE,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_ADD});this.blendModes[1].func=[C.ONE,C.DST_ALPHA],this.blendModes[2].func=[C.DST_COLOR,C.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[C.ONE,C.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[C.ZERO,C.ONE_MINUS_SRC_ALPHA],equation:C.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=C.BYTE,this.glFormats[1]=C.SHORT,this.glFormats[2]=C.UNSIGNED_BYTE,this.glFormats[3]=C.UNSIGNED_SHORT,this.glFormats[4]=C.FLOAT,this.glFuncMap={mat2:{func:C.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:C.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:C.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:C.uniform1f,length:1},"1fv":{func:C.uniform1fv,length:1},"1i":{func:C.uniform1i,length:1},"1iv":{func:C.uniform1iv,length:1},"2f":{func:C.uniform2f,length:2},"2fv":{func:C.uniform2fv,length:1},"2i":{func:C.uniform2i,length:2},"2iv":{func:C.uniform2iv,length:1},"3f":{func:C.uniform3f,length:3},"3fv":{func:C.uniform3fv,length:1},"3i":{func:C.uniform3i,length:3},"3iv":{func:C.uniform3iv,length:1},"4f":{func:C.uniform4f,length:4},"4fv":{func:C.uniform4fv,length:1},"4i":{func:C.uniform4i,length:4},"4iv":{func:C.uniform4iv,length:1}};var F=C.getSupportedExtensions();(!S.maxTextures||S.maxTextures===-1)&&(S.maxTextures=C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS)),S.maxTextureSize||(S.maxTextureSize=C.getParameter(C.MAX_TEXTURE_SIZE));var I="WEBGL_compressed_texture_",B="WEBKIT_"+I;this.compression.ETC1=C.getExtension(I+"etc1")||C.getExtension(B+"etc1"),this.compression.PVRTC=C.getExtension(I+"pvrtc")||C.getExtension(B+"pvrtc"),this.compression.S3TC=C.getExtension(I+"s3tc")||C.getExtension(B+"s3tc"),this.supportedExtensions=F;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=F.indexOf(b)>-1?C.getExtension(b):null;var W="OES_vertex_array_object";this.vaoExtension=F.indexOf(W)>-1?C.getExtension(W):null,C.disable(C.DEPTH_TEST),C.disable(C.CULL_FACE),C.enable(C.BLEND),C.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),this.mipmapFilter=C[S.mipmapFilter],this.maxTextures=g.checkShaderMax(C,S.maxTextures),this.textureIndexes=[];var $=this.tempTextures;if(Array.isArray($))for(var Z=0;L<this.maxTextures;Z++)C.deleteTexture($[Z]);else $=new Array(this.maxTextures);for(var D=0;D<this.maxTextures;D++){var O=C.createTexture();C.activeTexture(C.TEXTURE0+D),C.bindTexture(C.TEXTURE_2D,O),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,1,1,0,C.RGBA,C.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),$[D]=O,this.textureIndexes.push(D)}return this.tempTextures=$,this.currentActiveTexture=1,this.startActiveTexture++,C.activeTexture(C.TEXTURE1),this.pipelines=new d(this),this.setBlendMode(r.BlendModes.NORMAL),this.projectionMatrix=new o().identity(),P.textures.once(p.READY,this.boot,this),this},boot:function(){var S=this.game,C=this.pipelines,P=S.scale.baseSize;this.width=P.width,this.height=P.height,this.isBooted=!0,this.renderTarget=new v(this,this.width,this.height,1,0,!0,!0),C.boot(S.config.pipeline),this.blankTexture=S.textures.getFrame("__DEFAULT"),this.whiteTexture=S.textures.getFrame("__WHITE");var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,null),A.enable(A.SCISSOR_TEST),S.scale.on(c.RESIZE,this.onResize,this),this.resize(P.width,P.height)},onResize:function(S,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},beginCapture:function(S,C){S===void 0&&(S=this.width),C===void 0&&(C=this.height),this.renderTarget.bind(!0,S,C),this.setProjectionMatrix(S,C),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(S,C){var P=this.gl;return this.width=S,this.height=C,this.setProjectionMatrix(S,C),P.viewport(0,0,S,C),this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-C,S,C),this.defaultScissor[2]=S,this.defaultScissor[3]=C,this.emit(n.RESIZE,S,C),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(S,C){return(S!==this.projectionWidth||C!==this.projectionHeight)&&(this.projectionWidth=S,this.projectionHeight=C,this.projectionMatrix.ortho(0,S,C,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(S){return this.supportedExtensions?this.supportedExtensions.indexOf(S):!1},getExtension:function(S){return this.hasExtension(S)?(S in this.extensions||(this.extensions[S]=this.gl.getExtension(S)),this.extensions[S]):null},flush:function(){this.pipelines.flush()},pushScissor:function(S,C,P,A,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.scissorStack,L=[S,C,P,A];return M.push(L),this.setScissor(S,C,P,A,R),this.currentScissor=L,L},setScissor:function(S,C,P,A,R){R===void 0&&(R=this.drawingBufferHeight);var M=this.gl,L=this.currentScissor,F=P>0&&A>0;if(L&&F){var I=L[0],B=L[1],b=L[2],W=L[3];F=I!==S||B!==C||b!==P||W!==A}F&&(this.flush(),M.scissor(S,R-C-A,P,A))},resetScissor:function(){var S=this.gl;S.enable(S.SCISSOR_TEST);var C=this.currentScissor;if(C){var P=C[0],A=C[1],R=C[2],M=C[3];R>0&&M>0&&S.scissor(P,this.drawingBufferHeight-A-M,R,M)}},popScissor:function(){var S=this.scissorStack;S.pop();var C=S[S.length-1];C&&this.setScissor(C[0],C[1],C[2],C[3]),this.currentScissor=C},hasActiveStencilMask:function(){var S=this.currentMask.mask,C=this.currentCameraMask.mask;return S&&S.isStencil||C&&C.isStencil},resetViewport:function(){var S=this.gl;S.viewport(0,0,this.width,this.height),this.drawingBufferHeight=S.drawingBufferHeight},setBlendMode:function(S,C){C===void 0&&(C=!1);var P=this.gl,A=this.blendModes[S];return C||S!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==S?(this.flush(),P.enable(P.BLEND),P.blendEquation(A.equation),A.func.length>2?P.blendFuncSeparate(A.func[0],A.func[1],A.func[2],A.func[3]):P.blendFunc(A.func[0],A.func[1]),this.currentBlendMode=S,!0):!1},addBlendMode:function(S,C){var P=this.blendModes.push({func:S,equation:C});return P-1},updateBlendMode:function(S,C,P){return this.blendModes[S]&&(this.blendModes[S].func=C,P&&(this.blendModes[S].equation=P)),this},removeBlendMode:function(S){return S>17&&this.blendModes[S]&&this.blendModes.splice(S,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S.glTexture,!0),0;var C=this.gl,P=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(S.glIndex=P,C.activeTexture(C.TEXTURE0+P),C.bindTexture(C.TEXTURE_2D,S.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,S.glIndex},isNewNormalMap:function(S,C){return this.textureZero!==S||this.normalTexture!==C},setTextureZero:function(S,C){if(this.textureZero!==S){C&&this.flush();var P=this.gl;P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,S),this.textureZero=S}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(S){if(this.normalTexture!==S){var C=this.gl;C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S),this.normalTexture=S,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var S=this.gl,C=this.tempTextures,P=0;P<C.length;P++)S.activeTexture(S.TEXTURE0+P),S.bindTexture(S.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(S){if(S===void 0&&(S=!1),!this.isTextureClean){this.flush();var C=this.gl,P=this.tempTextures;if(S){for(var A=0;A<P.length;A++)C.activeTexture(C.TEXTURE0+A),C.bindTexture(C.TEXTURE_2D,P[A]);C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,P[1]),this.isTextureClean=!0}else C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,P[0]),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,P[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(S){if(this.pipelines.forceZero())return this.setTextureZero(S,!0),0;var C=this.gl,P=this.currentActiveTexture;return S.glIndexCounter<this.startActiveTexture&&(S.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(S.glIndex=P,C.activeTexture(C.TEXTURE0+P),C.bindTexture(C.TEXTURE_2D,S),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,S.glIndexCounter=this.startActiveTexture,S.glIndex=1,C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,S),this.currentActiveTexture=2)),this.isTextureClean=!1,S.glIndex},pushFramebuffer:function(S,C,P,A){return S===this.currentFramebuffer?this:(this.fboStack.push(S),this.setFramebuffer(S,C,P,A))},setFramebuffer:function(S,C,P,A){if(C===void 0&&(C=!1),P===void 0&&(P=!1),A===void 0&&(A=!0),S===this.currentFramebuffer)return this;var R=this.gl,M=this.width,L=this.height;return S&&S.renderTexture&&A?(M=S.renderTexture.width,L=S.renderTexture.height):this.flush(),R.bindFramebuffer(R.FRAMEBUFFER,S),A&&R.viewport(0,0,M,L),C&&(S?(this.drawingBufferHeight=L,this.pushScissor(0,0,M,L)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=S,P&&this.resetTextures(),this},popFramebuffer:function(S,C,P){S===void 0&&(S=!1),C===void 0&&(C=!1),P===void 0&&(P=!0);var A=this.fboStack;A.pop();var R=A[A.length-1];return R||(R=null),this.setFramebuffer(R,S,C,P),R},setProgram:function(S){return S!==this.currentProgram?(this.flush(),this.gl.useProgram(S),this.currentProgram=S,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(S,C,P,A){var R=this.gl,M=R.NEAREST,L=R.NEAREST,F=R.CLAMP_TO_EDGE,I=null;C=S?S.width:C,P=S?S.height:P;var B=f(C,P);return B&&(F=R.REPEAT),A===r.ScaleModes.LINEAR&&this.config.antialias&&(M=B?this.mipmapFilter:R.LINEAR,L=R.LINEAR),!S&&typeof C=="number"&&typeof P=="number"?I=this.createTexture2D(0,M,L,F,F,R.RGBA,null,C,P):I=this.createTexture2D(0,M,L,F,F,R.RGBA,S),I},createTexture2D:function(S,C,P,A,R,M,L,F,I,B,b,W){B=B??!0,b===void 0&&(b=!1),W===void 0&&(W=!1);var $=this.gl,Z=$.createTexture();$.activeTexture($.TEXTURE0);var D=$.getParameter($.TEXTURE_BINDING_2D);return $.bindTexture($.TEXTURE_2D,Z),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,C),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,P),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,R),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,A),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,W),L==null?$.texImage2D($.TEXTURE_2D,S,M,F,I,0,M,$.UNSIGNED_BYTE,null):(b||(F=L.width,I=L.height),$.texImage2D($.TEXTURE_2D,S,M,M,$.UNSIGNED_BYTE,L)),f(F,I)&&$.generateMipmap($.TEXTURE_2D),D&&$.bindTexture($.TEXTURE_2D,D),Z.isAlphaPremultiplied=B,Z.isRenderTexture=!1,Z.width=F,Z.height=I,Z.glIndex=0,Z.glIndexCounter=-1,Z},createFramebuffer:function(S,C,P,A){var R=this.gl,M=R.createFramebuffer(),L=0;if(this.setFramebuffer(M),A){var F=R.createRenderbuffer();R.bindRenderbuffer(R.RENDERBUFFER,F),R.renderbufferStorage(R.RENDERBUFFER,R.DEPTH_STENCIL,S,C),R.framebufferRenderbuffer(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.RENDERBUFFER,F)}if(P.isRenderTexture=!0,P.isAlphaPremultiplied=!1,R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,P,0),L=R.checkFramebufferStatus(R.FRAMEBUFFER),L!==R.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+I[L])}return M.renderTexture=P,this.setFramebuffer(null),this.resetTextures(),M},createProgram:function(S,C){var P=this.gl,A=P.createProgram(),R=P.createShader(P.VERTEX_SHADER),M=P.createShader(P.FRAGMENT_SHADER);if(P.shaderSource(R,S),P.shaderSource(M,C),P.compileShader(R),P.compileShader(M),!P.getShaderParameter(R,P.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+P.getShaderInfoLog(R));if(!P.getShaderParameter(M,P.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+P.getShaderInfoLog(M));if(P.attachShader(A,R),P.attachShader(A,M),P.linkProgram(A),!P.getProgramParameter(A,P.LINK_STATUS))throw new Error(`Link Program failed:
`+P.getProgramInfoLog(A));return P.useProgram(A),A},createVertexBuffer:function(S,C){var P=this.gl,A=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,A),P.bufferData(P.ARRAY_BUFFER,S,C),P.bindBuffer(P.ARRAY_BUFFER,null),A},createIndexBuffer:function(S,C){var P=this.gl,A=P.createBuffer();return P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,A),P.bufferData(P.ELEMENT_ARRAY_BUFFER,S,C),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,null),A},deleteTexture:function(S,C){return C&&this.resetTextures(!0),S&&this.gl.deleteTexture(S),this},deleteFramebuffer:function(S){return S&&(this.gl.deleteFramebuffer(S),e(this.fboStack,S),this.currentFramebuffer===S&&(this.currentFramebuffer=null)),this},deleteProgram:function(S){return S&&this.gl.deleteProgram(S),this},deleteBuffer:function(S){return this.gl.deleteBuffer(S),this},preRenderCamera:function(S){var C=S.x,P=S.y,A=S.width,R=S.height,M=S.backgroundColor;if(S.emit(u.PRE_RENDER,S),this.pipelines.preBatchCamera(S),this.pushScissor(C,P,A,R),S.mask&&(this.currentCameraMask.mask=S.mask,this.currentCameraMask.camera=S._maskCamera,S.mask.preRenderWebGL(this,S,S._maskCamera)),M.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(C,P,A,R,g.getTintFromFloats(M.blueGL,M.greenGL,M.redGL,1),M.alphaGL)}},getCurrentStencilMask:function(){var S=null,C=this.maskStack,P=this.currentCameraMask;return C.length>0?S=C[C.length-1]:P.mask&&P.mask.isStencil&&(S=P),S},postRenderCamera:function(S){var C=S.flashEffect,P=S.fadeEffect;if(C.isRunning||P.isRunning||P.isComplete){var A=this.pipelines.setMulti();C.postRenderWebGL(A,g.getTintFromFloats),P.postRenderWebGL(A,g.getTintFromFloats)}S.dirty=!1,this.popScissor(),S.mask&&(this.currentCameraMask.mask=null,S.mask.postRenderWebGL(this,S._maskCamera)),this.pipelines.postBatchCamera(S),S.emit(u.POST_RENDER,S)},preRender:function(){if(!this.contextLost){var S=this.gl;if(S.bindFramebuffer(S.FRAMEBUFFER,null),this.config.clearBeforeRender){var C=this.config.backgroundColor;S.clearColor(C.redGL,C.greenGL,C.blueGL,C.alphaGL),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT|S.STENCIL_BUFFER_BIT)}S.enable(S.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&S.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(n.PRE_RENDER)}},render:function(S,C,P){if(!this.contextLost){var A=C.length;if(this.emit(n.RENDER,S,P),this.preRenderCamera(P),A===0){this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(P);return}this.currentType="";for(var R=this.currentMask,M=0;M<A;M++){this.finalType=M===A-1;var L=C[M],F=L.mask;R=this.currentMask,R.mask&&R.mask!==F&&R.mask.postRenderWebGL(this,R.camera),F&&R.mask!==F&&F.preRenderWebGL(this,L,P),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var I=L.type;I!==this.currentType&&(this.newType=!0,this.currentType=I),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=C[M+1].type===this.currentType,L.renderWebGL(this,L,P),this.newType=!1}R=this.currentMask,R.mask&&R.mask.postRenderWebGL(this,R.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var S=this.snapshotState;S.callback&&(T(this.canvas,S),S.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(S,C,P){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,S,C,P)},snapshotArea:function(S,C,P,A,R,M,L){var F=this.snapshotState;return F.callback=R,F.type=M,F.encoder=L,F.getPixel=!1,F.x=S,F.y=C,F.width=Math.min(P,this.gl.drawingBufferWidth),F.height=Math.min(A,this.gl.drawingBufferHeight),this},snapshotPixel:function(S,C,P){return this.snapshotArea(S,C,1,1,P),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(S,C,P,A,R,M,L,F,I,B,b){R===void 0&&(R=!1),M===void 0&&(M=0),L===void 0&&(L=0),F===void 0&&(F=C),I===void 0&&(I=P);var W=this.currentFramebuffer;this.snapshotArea(M,L,F,I,A,B,b);var $=this.snapshotState;return $.getPixel=R,$.isFramebuffer=!0,$.bufferWidth=C,$.bufferHeight=P,this.setFramebuffer(S),T(this.canvas,$),this.setFramebuffer(W),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(S,C,P,A){return P===void 0&&(P=!1),A===void 0&&(A=!1),C?this.updateCanvasTexture(S,C,A):this.createCanvasTexture(S,P,A)},createCanvasTexture:function(S,C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);var A=this.gl,R=A.NEAREST,M=A.NEAREST,L=S.width,F=S.height,I=A.CLAMP_TO_EDGE,B=f(L,F);return!C&&B&&(I=A.REPEAT),this.config.antialias&&(R=B?this.mipmapFilter:A.LINEAR,M=A.LINEAR),this.createTexture2D(0,R,M,I,I,A.RGBA,S,L,F,!0,!1,P)},updateCanvasTexture:function(S,C,P){P===void 0&&(P=!1);var A=this.gl,R=S.width,M=S.height;if(R>0&&M>0){A.activeTexture(A.TEXTURE0);var L=A.getParameter(A.TEXTURE_BINDING_2D);A.bindTexture(A.TEXTURE_2D,C),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,P),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,S),C.width=R,C.height=M,L&&A.bindTexture(A.TEXTURE_2D,L)}return C},createVideoTexture:function(S,C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);var A=this.gl,R=A.NEAREST,M=A.NEAREST,L=S.videoWidth,F=S.videoHeight,I=A.CLAMP_TO_EDGE,B=f(L,F);return!C&&B&&(I=A.REPEAT),this.config.antialias&&(R=B?this.mipmapFilter:A.LINEAR,M=A.LINEAR),this.createTexture2D(0,R,M,I,I,A.RGBA,S,L,F,!0,!0,P)},updateVideoTexture:function(S,C,P){P===void 0&&(P=!1);var A=this.gl,R=S.videoWidth,M=S.videoHeight;if(R>0&&M>0){A.activeTexture(A.TEXTURE0);var L=A.getParameter(A.TEXTURE_BINDING_2D);A.bindTexture(A.TEXTURE_2D,C),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,P),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,S),C.width=R,C.height=M,L&&A.bindTexture(A.TEXTURE_2D,L)}return C},setTextureFilter:function(S,C){var P=this.gl,A=[P.LINEAR,P.NEAREST][C];P.activeTexture(P.TEXTURE0);var R=P.getParameter(P.TEXTURE_BINDING_2D);return P.bindTexture(P.TEXTURE_2D,S),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,A),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,A),R&&P.bindTexture(P.TEXTURE_2D,R),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var S=this.gl,C=this.tempTextures,P=0;P<C.length;P++)S.deleteTexture(C[P]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});l.exports=E},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(92),i=t(102),r=t(373),a=t(376),n=t(377),s=t(108),f=t(378),o=t(379),h=t(380),d=t(381),v=new e({initialize:function(p){this.game=p.game,this.renderer=p,this.classes=new i([[u.UTILITY_PIPELINE,d],[u.MULTI_PIPELINE,s],[u.BITMAPMASK_PIPELINE,r],[u.SINGLE_PIPELINE,h],[u.ROPE_PIPELINE,o],[u.LIGHT_PIPELINE,n],[u.POINTLIGHT_PIPELINE,f],[u.GRAPHICS_PIPELINE,a]]),this.postPipelineClasses=new i,this.pipelines=new i,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(c){var p,g,T=this,E=this.game;if(this.classes.each(function(C,P){p=T.add(C,new P({game:E})),C===u.UTILITY_PIPELINE&&(T.UTILITY_PIPELINE=p,T.fullFrame1=p.fullFrame1,T.fullFrame2=p.fullFrame2,T.halfFrame1=p.halfFrame1,T.halfFrame2=p.halfFrame2)}),this.MULTI_PIPELINE=this.get(u.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(u.BITMAPMASK_PIPELINE),c)for(g in c){var S=c[g];p=new S(E),p.isPostFX?this.postPipelineClasses.set(g,S):this.has(g)||(this.classes.set(g,S),this.add(g,p))}},add:function(c,p){if(p.isPostFX){console.warn(c+" is a Post Pipeline. Use `addPostPipeline` instead");return}var g=this.pipelines,T=this.renderer;return g.has(c)?console.warn("Pipeline exists: "+c):(p.name=c,p.manager=this,g.set(c,p)),p.hasBooted||p.boot(),T.width!==0&&T.height!==0&&p.resize(T.width,T.height),p},addPostPipeline:function(c,p){this.postPipelineClasses.has(c)||this.postPipelineClasses.set(c,p)},flush:function(){this.current&&this.current.flush()},has:function(c){var p=this.pipelines;return typeof c=="string"?p.has(c):!!p.contains(c)},get:function(c){var p=this.pipelines;if(typeof c=="string")return p.get(c);if(p.contains(c))return c},getPostPipeline:function(c,p){var g=this.postPipelineClasses,T;if(typeof c=="string"?T=g.get(c):typeof c=="function"?g.contains(c)&&(T=c):typeof c=="object"&&(T=g.get(c.name)),T){var E=new T(this.game);return p&&(E.gameObject=p),E}},remove:function(c,p,g){p===void 0&&(p=!0),g===void 0&&(g=!0),this.pipelines.delete(c),p&&this.classes.delete(c),g&&this.postPipelineClasses.delete(c)},set:function(c,p,g){if(!c.isPostFX)return this.isCurrent(c,g)||(this.flush(),this.current&&this.current.unbind(),this.current=c,c.bind(g)),c.updateProjectionMatrix(),c.onBind(p),c},preBatch:function(c){if(c.hasPostPipeline){this.flush();for(var p=c.postPipelines,g=p.length-1;g>=0;g--){var T=p[g];T.active&&T.preBatch(c)}}},postBatch:function(c){if(c.hasPostPipeline){this.flush();for(var p=c.postPipelines,g=0;g<p.length;g++){var T=p[g];T.active&&T.postBatch(c)}}},preBatchCamera:function(c){if(c.hasPostPipeline){this.flush();for(var p=c.postPipelines,g=p.length-1;g>=0;g--){var T=p[g];T.active&&T.preBatch(c)}}},postBatchCamera:function(c){if(c.hasPostPipeline){this.flush();for(var p=c.postPipelines,g=0;g<p.length;g++){var T=p[g];T.active&&T.postBatch(c)}}},isCurrent:function(c,p){var g=this.renderer,T=this.current;return T&&!p&&(p=T.currentShader),!(T!==c||p.program!==g.currentProgram)},copyFrame:function(c,p,g,T,E){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(c,p,g,T,E),this},copyToGame:function(c){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(c),this},drawFrame:function(c,p,g,T){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(c,p,g,T),this},blendFrames:function(c,p,g,T,E){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(c,p,g,T,E),this},blendFramesAdditive:function(c,p,g,T,E){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(c,p,g,T,E),this},clearFrame:function(c,p){return this.UTILITY_PIPELINE.clearFrame(c,p),this},blitFrame:function(c,p,g,T,E,S){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(c,p,g,T,E,S),this},copyFrameRect:function(c,p,g,T,E,S,C,P){return this.UTILITY_PIPELINE.copyFrameRect(c,p,g,T,E,S,C,P),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(c){return this.UTILITY_PIPELINE.bind(c)},rebind:function(c){c===void 0&&this.previous&&(c=this.previous);var p=this.renderer,g=p.gl;g.disable(g.DEPTH_TEST),g.disable(g.CULL_FACE),p.hasActiveStencilMask()?g.clear(g.DEPTH_BUFFER_BIT):(g.disable(g.STENCIL_TEST),g.clear(g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)),g.viewport(0,0,p.width,p.height),p.currentProgram=null,p.setBlendMode(0,!0);var T=this.pipelines.entries;for(var E in T)T[E].glReset=!0;c&&(this.current=c,c.rebind()),p.resetTextures()},clear:function(){var c=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,c.currentProgram=null,c.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(866),r=t(867),a=t(107),n=t(58),s=new e({Extends:n,initialize:function(o){o.fragShader=u(o,"fragShader",i),o.vertShader=u(o,"vertShader",r),o.batchSize=u(o,"batchSize",1),o.vertices=u(o,"vertices",[-1,1,-1,-7,7,1]),o.attributes=u(o,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),n.call(this,o)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,o){n.prototype.resize.call(this,f,o),this.set2f("uResolution",f,o)},beginMask:function(f,o,h){var d=this.gl;if(f.bitmapMask&&d){var v=this.renderer;v.flush(),v.pushFramebuffer(f.mainFramebuffer),d.disable(d.STENCIL_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),v.currentCameraMask.mask!==f&&(v.currentMask.mask=f,v.currentMask.camera=h)}},endMask:function(f,o){var h=this.gl,d=this.renderer,v=f.bitmapMask;if(v&&h){d.flush(),d.pushFramebuffer(f.maskFramebuffer),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),d.setBlendMode(0,!0),v.renderWebGL(d,v,o),d.flush(),d.popFramebuffer(),d.popFramebuffer();var c=d.getCurrentStencilMask();c?(h.enable(h.STENCIL_TEST),c.mask.applyStencil(d,c.camera,!0)):d.currentMask.mask=null,d.pipelines.set(this),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,f.maskTexture),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,f.mainTexture),this.set1i("uInvertMaskAlpha",f.invertAlpha),h.drawArrays(this.topology,0,3),d.resetTextures()}}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(107),r=new e({initialize:function(n,s,f,o,h){this.pipeline=n,this.name=s,this.renderer=n.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(f,o),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(h),this.createUniforms()},createAttributes:function(a){var n=0,s=0,f=[];this.vertexComponentCount=0;for(var o=0;o<a.length;o++){var h=a[o],d=h.name,v=u(h,"size",1),c=u(h,"type",i.FLOAT),p=c.enum,g=c.size,T=!!h.normalized;f.push({name:d,size:v,type:p,normalized:T,offset:s,enabled:!1,location:-1}),g===4?n+=v:n++,s+=v*g}this.vertexSize=s,this.vertexComponentCount=n,this.attributes=f},bind:function(a,n){return a===void 0&&(a=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var n=this.gl,s=this.vertexSize,f=this.attributes,o=this.program,h=0;h<f.length;h++){var d=f[h],v=d.size,c=d.type,p=d.offset,g=d.enabled,T=d.location,E=!!d.normalized;if(a){var S=n.getAttribLocation(o,d.name);S>=0?(n.enableVertexAttribArray(S),n.vertexAttribPointer(S,v,c,E,s,p),d.enabled=!0,d.location=S):S!==-1&&n.disableVertexAttribArray(S)}else g?n.vertexAttribPointer(T,v,c,E,s,p):!g&&T>-1&&(n.disableVertexAttribArray(T),d.location=-1)}return this},createUniforms:function(){var a=this.gl,n=this.program,s=this.uniforms,f,o,h,d=a.getProgramParameter(n,a.ACTIVE_UNIFORMS);for(f=0;f<d;f++){var v=a.getActiveUniform(n,f);if(v){o=v.name,h=a.getUniformLocation(n,o),h!==null&&(s[o]={name:o,location:h,value1:null,value2:null,value3:null,value4:null});var c=o.indexOf("[");c>0&&(o=o.substr(0,c),s.hasOwnProperty(o)||(h=a.getUniformLocation(n,o),h!==null&&(s[o]={name:o,location:h,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var n=this.uniforms[a];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(a,n,s,f){var o=this.uniforms[n];return o?((f||o.value1!==s)&&(o.value1=s,this.renderer.setProgram(this.program),a.call(this.gl,o.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(a,n,s,f,o){var h=this.uniforms[n];return h?((o||h.value1!==s||h.value2!==f)&&(h.value1=s,h.value2=f,this.renderer.setProgram(this.program),a.call(this.gl,h.location,s,f),this.pipeline.currentShader=this),this):this},setUniform3:function(a,n,s,f,o,h){var d=this.uniforms[n];return d?((h||d.value1!==s||d.value2!==f||d.value3!==o)&&(d.value1=s,d.value2=f,d.value3=o,this.renderer.setProgram(this.program),a.call(this.gl,d.location,s,f,o),this.pipeline.currentShader=this),this):this},setUniform4:function(a,n,s,f,o,h,d){var v=this.uniforms[n];return v?((d||v.value1!==s||v.value2!==f||v.value3!==o||v.value4!==h)&&(v.value1=s,v.value2=f,v.value3=o,v.value4=h,this.renderer.setProgram(this.program),a.call(this.gl,v.location,s,f,o,h),this.pipeline.currentShader=this),this):this},set1f:function(a,n){return this.setUniform1(this.gl.uniform1f,a,n)},set2f:function(a,n,s){return this.setUniform2(this.gl.uniform2f,a,n,s)},set3f:function(a,n,s,f){return this.setUniform3(this.gl.uniform3f,a,n,s,f)},set4f:function(a,n,s,f,o){return this.setUniform4(this.gl.uniform4f,a,n,s,f,o)},set1fv:function(a,n){return this.setUniform1(this.gl.uniform1fv,a,n,!0)},set2fv:function(a,n){return this.setUniform1(this.gl.uniform2fv,a,n,!0)},set3fv:function(a,n){return this.setUniform1(this.gl.uniform3fv,a,n,!0)},set4fv:function(a,n){return this.setUniform1(this.gl.uniform4fv,a,n,!0)},set1iv:function(a,n){return this.setUniform1(this.gl.uniform1iv,a,n,!0)},set2iv:function(a,n){return this.setUniform1(this.gl.uniform2iv,a,n,!0)},set3iv:function(a,n){return this.setUniform1(this.gl.uniform3iv,a,n,!0)},set4iv:function(a,n){return this.setUniform1(this.gl.uniform4iv,a,n,!0)},set1i:function(a,n){return this.setUniform1(this.gl.uniform1i,a,n)},set2i:function(a,n,s){return this.setUniform2(this.gl.uniform2i,a,n,s)},set3i:function(a,n,s,f){return this.setUniform3(this.gl.uniform3i,a,n,s,f)},set4i:function(a,n,s,f,o){return this.setUniform4(this.gl.uniform4i,a,n,s,f,o)},setMatrix2fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix2fv,a,n,s,!0)},setMatrix3fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix3fv,a,n,s,!0)},setMatrix4fv:function(a,n,s){return this.setUniform2(this.gl.uniformMatrix4fv,a,n,s,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),i=t(2),r=t(875),a=t(876),n=t(25),s=t(107),f=t(58),o=new e({Extends:f,initialize:function(d){d.fragShader=i(d,"fragShader",r),d.vertShader=i(d,"vertShader",a),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),f.call(this,d),this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(h,d,v,c,p,g){this.renderer.pipelines.set(this);var T=this.calcMatrix;g&&g.multiply(p,T);var E=h+v,S=d+c,C=T.getX(h,d),P=T.getY(h,d),A=T.getX(h,S),R=T.getY(h,S),M=T.getX(E,S),L=T.getY(E,S),F=T.getX(E,d),I=T.getY(E,d),B=this.fillTint;this.batchQuad(C,P,A,R,M,L,F,I,B.TL,B.TR,B.BL,B.BR)},batchFillTriangle:function(h,d,v,c,p,g,T,E){this.renderer.pipelines.set(this);var S=this.calcMatrix;E&&E.multiply(T,S);var C=S.getX(h,d),P=S.getY(h,d),A=S.getX(v,c),R=S.getY(v,c),M=S.getX(p,g),L=S.getY(p,g),F=this.fillTint;this.batchTri(C,P,A,R,M,L,F.TL,F.TR,F.BL)},batchStrokeTriangle:function(h,d,v,c,p,g,T,E,S){var C=this.tempTriangle;C[0].x=h,C[0].y=d,C[0].width=T,C[1].x=v,C[1].y=c,C[1].width=T,C[2].x=p,C[2].y=g,C[2].width=T,C[3].x=h,C[3].y=d,C[3].width=T,this.batchStrokePath(C,T,!1,E,S)},batchFillPath:function(h,d,v){this.renderer.pipelines.set(this);var c=this.calcMatrix;v&&v.multiply(d,c);for(var p=h.length,g=this.polygonCache,T,E,S=this.fillTint.TL,C=this.fillTint.TR,P=this.fillTint.BL,A=0;A<p;++A)E=h[A],g.push(E.x,E.y);T=u(g),p=T.length;for(var R=0;R<p;R+=3){var M=T[R+0]*2,L=T[R+1]*2,F=T[R+2]*2,I=g[M+0],B=g[M+1],b=g[L+0],W=g[L+1],$=g[F+0],Z=g[F+1],D=c.getX(I,B),O=c.getY(I,B),N=c.getX(b,W),G=c.getY(b,W),Y=c.getX($,Z),V=c.getY($,Z);this.batchTri(D,O,N,G,Y,V,S,C,P)}g.length=0},batchStrokePath:function(h,d,v,c,p){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=h.length-1,T=0;T<g;T++){var E=h[T],S=h[T+1];this.batchLine(E.x,E.y,S.x,S.y,E.width/2,S.width/2,d,T,!v&&T===g-1,c,p)}},batchLine:function(h,d,v,c,p,g,T,E,S,C,P){this.renderer.pipelines.set(this);var A=this.calcMatrix;P&&P.multiply(C,A);var R=v-h,M=c-d,L=Math.sqrt(R*R+M*M),F=p*(c-d)/L,I=p*(h-v)/L,B=g*(c-d)/L,b=g*(h-v)/L,W=v-B,$=c-b,Z=h-F,D=d-I,O=v+B,N=c+b,G=h+F,Y=d+I,V=A.getX(W,$),z=A.getY(W,$),H=A.getX(Z,D),j=A.getY(Z,D),q=A.getX(O,N),et=A.getY(O,N),ot=A.getX(G,Y),K=A.getY(G,Y),Q=this.strokeTint,tt=Q.TL,nt=Q.TR,ft=Q.BL,mt=Q.BR;if(this.batchQuad(ot,K,H,j,V,z,q,et,tt,nt,ft,mt),!(T<=2)){var pt=this.prevQuad,at=this.firstQuad;E>0&&pt[4]?this.batchQuad(ot,K,H,j,pt[0],pt[1],pt[2],pt[3],tt,nt,ft,mt):(at[0]=ot,at[1]=K,at[2]=H,at[3]=j,at[4]=1),S&&at[4]?this.batchQuad(V,z,q,et,at[0],at[1],at[2],at[3],tt,nt,ft,mt):(pt[0]=V,pt[1]=z,pt[2]=q,pt[3]=et,pt[4]=1)}},batchVert:function(h,d,v){var c=this.vertexViewF32,p=this.vertexViewU32,g=this.vertexCount*this.currentShader.vertexComponentCount-1;c[++g]=h,c[++g]=d,p[++g]=v,this.vertexCount++},batchQuad:function(h,d,v,c,p,g,T,E,S,C,P,A){var R=!1;return this.shouldFlush(6)&&(this.flush(),R=!0),this.batchVert(h,d,S),this.batchVert(v,c,P),this.batchVert(p,g,A),this.batchVert(h,d,S),this.batchVert(p,g,A),this.batchVert(T,E,C),R},batchTri:function(h,d,v,c,p,g,T,E,S){var C=!1;return this.shouldFlush(3)&&(this.flush(),C=!0),this.batchVert(h,d,T),this.batchVert(v,c,E),this.batchVert(p,g,S),C},destroy:function(){return f.prototype.destroy.call(this),this.polygonCache=null,this}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(877),r=t(108),a=t(3),n=t(58),s=10,f=new a,o=new e({Extends:r,initialize:function(d){s=d.game.renderer.config.maxLights;for(var v=u(d,"fragShader",i),c=[],p=1;p<=s;p++)c.push({name:"lights"+p,fragShader:v.replace("%LIGHT_COUNT%",p.toString())});d.shaders=c,r.call(this,d),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){n.prototype.boot.call(this);var h=this.gl,d=h.createTexture();h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,d),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:d};for(var v=0;v<this.shaders.length;v++)this["lightShader"+(v+1)]=this.shaders[v]},onRender:function(h,d){var v=h.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var c=v.getLights(d),p=c.length;if(p!==0){this.lightsActive=!0,this.setShader(this["lightShader"+p],!0);var g,T=this.renderer,E=T.height,S=d.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",d.x,d.y,d.rotation,d.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),g=0;g<p;g++){var C=c[g].light,P=C.color,A="uLights["+g+"].";S.transformPoint(C.x,C.y,f),this.set2f(A+"position",f.x-d.scrollX*C.scrollFactorX*d.zoom,E-(f.y-d.scrollY*C.scrollFactorY*d.zoom)),this.set3f(A+"color",P.r,P.g,P.b),this.set1f(A+"intensity",C.intensity),this.set1f(A+"radius",C.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var d=this.inverseRotationMatrix;if(h){var v=-h,c=Math.cos(v),p=Math.sin(v);d[1]=p,d[3]=-p,d[0]=d[4]=c}else d[0]=d[4]=1,d[1]=d[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,d),this.currentNormalMapRotation=h}},setTexture2D:function(h,d){var v=this.renderer;h===void 0&&(h=v.tempTextures[0]);var c=this.getNormalMap(d);v.isNewNormalMap(h,c)&&(this.flush(),v.setTextureZero(h),v.setNormalMap(c));var p=d?d.rotation:0;return this.setNormalMapRotation(p),this.currentUnit=0,0},setGameObject:function(h,d){d===void 0&&(d=h.frame);var v=this.renderer,c=d.glTexture,p=this.getNormalMap(h);return v.isNewNormalMap()&&(this.flush(),v.setTextureZero(c),v.setNormalMap(p)),this.setNormalMapRotation(h.rotation),this.currentUnit=0,0},getNormalMap:function(h){var d;return h?h.displayTexture?d=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?d=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?d=h.tileset[0].image.dataSource[0]:d=h.tileset.image.dataSource[0]):d=this.defaultNormalMap,d||(d=this.defaultNormalMap),d.glTexture},batchSprite:function(h,d,v){this.lightsActive&&r.prototype.batchSprite.call(this,h,d,v)},batchTexture:function(h,d,v,c,p,g,T,E,S,C,P,A,R,M,L,F,I,B,b,W,$,Z,D,O,N,G,Y,V,z,H,j,q){this.lightsActive&&r.prototype.batchTexture.call(this,h,d,v,c,p,g,T,E,S,C,P,A,R,M,L,F,I,B,b,W,$,Z,D,O,N,G,Y,V,z,H,j,q)},batchTextureFrame:function(h,d,v,c,p,g,T){this.lightsActive&&r.prototype.batchTextureFrame.call(this,h,d,v,c,p,g,T)}});o.LIGHT_COUNT=s,l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(880),r=t(881),a=t(58),n=new e({Extends:a,initialize:function(f){f.vertShader=u(f,"vertShader",r),f.fragShader=u(f,"fragShader",i),f.attributes=u(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,f)},onRender:function(s,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(s,f,o,h,d,v,c,p,g,T,E,S){var C=s.color,P=s.intensity,A=s.radius,R=s.attenuation,M=C.r*P,L=C.g*P,F=C.b*P,I=f.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(o,h,E,S,A,R,M,L,F,I),this.batchLightVert(d,v,E,S,A,R,M,L,F,I),this.batchLightVert(c,p,E,S,A,R,M,L,F,I),this.batchLightVert(o,h,E,S,A,R,M,L,F,I),this.batchLightVert(c,p,E,S,A,R,M,L,F,I),this.batchLightVert(g,T,E,S,A,R,M,L,F,I)},batchLightVert:function(s,f,o,h,d,v,c,p,g,T){var E=this.vertexViewF32,S=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++S]=s,E[++S]=f,E[++S]=o,E[++S]=h,E[++S]=d,E[++S]=v,E[++S]=c,E[++S]=p,E[++S]=g,E[++S]=T,this.vertexCount++}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(108),r=new e({Extends:i,initialize:function(n){n.topology=5,n.batchSize=u(n,"batchSize",256),i.call(this,n)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=t(108),r=t(882),a=t(883),n=t(58),s=new e({Extends:i,initialize:function(o){o.fragShader=u(o,"fragShader",r),o.vertShader=u(o,"vertShader",a),o.forceZero=!0,i.call(this,o)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0)}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),u=t(35),i=t(0),r=t(198),a=t(885),n=t(886),s=t(2),f=t(887),o=t(382),h=t(58),d=new i({Extends:h,initialize:function(c){c.renderTarget=s(c,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),c.vertShader=s(c,"vertShader",o),c.shaders=s(c,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:a}]),c.attributes=s(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),c.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.batchSize=1,h.call(this,c),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var v=this.shaders,c=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=c[0],this.fullFrame2=c[1],this.halfFrame1=c[2],this.halfFrame2=c[3]},copyFrame:function(v,c,p,g,T){p===void 0&&(p=1),g===void 0&&(g=!0),T===void 0&&(T=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,v.texture),c?(E.viewport(0,0,c.width,c.height),E.bindFramebuffer(E.FRAMEBUFFER,c.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,c.texture,0)):E.viewport(0,0,v.width,v.height),g&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(v,c,p,g,T,E){p===void 0&&(p=1),g===void 0&&(g=!0),T===void 0&&(T=!0),E===void 0&&(E=!1);var S=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),v.height>c.height)S.viewport(0,0,v.width,v.height),this.setTargetUVs(v,c);else{var C=c.height-v.height;S.viewport(0,C,v.width,v.height)}if(S.bindFramebuffer(S.FRAMEBUFFER,c.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,c.texture,0),g&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),E){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),E&&this.renderer.setBlendMode(P),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,c,p,g,T,E,S,C){S===void 0&&(S=!0),C===void 0&&(C=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture,0),S&&(C?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,c.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,p,g,T,E),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(v){var c=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,v.texture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(v,c,p,g){p===void 0&&(p=!0),g===void 0&&(g=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,v.texture),c?(T.viewport(0,0,c.width,c.height),T.bindFramebuffer(T.FRAMEBUFFER,c.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,c.texture,0)):T.viewport(0,0,v.width,v.height),p?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(v,c,p,g,T,E){g===void 0&&(g=1),T===void 0&&(T=!0),E===void 0&&(E=this.linearShader);var S=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture),S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,c.texture),p?(S.bindFramebuffer(S.FRAMEBUFFER,p.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,p.texture,0),S.viewport(0,0,p.width,p.height)):S.viewport(0,0,v.width,v.height),T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFramesAdditive:function(v,c,p,g,T){this.blendFrames(v,c,p,g,T,this.addShader)},clearFrame:function(v,c){c===void 0&&(c=!0);var p=this.gl;p.viewport(0,0,v.width,v.height),p.bindFramebuffer(p.FRAMEBUFFER,v.framebuffer),c?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,g)},setUVs:function(v,c,p,g,T,E,S,C){var P=this.vertexViewF32;P[2]=v,P[3]=c,P[6]=p,P[7]=g,P[10]=T,P[11]=E,P[14]=v,P[15]=c,P[18]=T,P[19]=E,P[22]=S,P[23]=C},setTargetUVs:function(v,c){var p=c.height/v.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});l.exports=d},function(l,x){l.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(38),i=t(2),r=function(a,n){var s=a.getContext("experimental-webgl"),f=i(n,"callback"),o=i(n,"type","image/png"),h=i(n,"encoder",.92),d=i(n,"x",0),v=i(n,"y",0),c=i(n,"getPixel",!1),p=i(n,"isFramebuffer",!1),g=p?i(n,"bufferWidth",1):s.drawingBufferWidth,T=p?i(n,"bufferHeight",1):s.drawingBufferHeight;if(c){var E=new Uint8Array(4),S=p?v:T-v;s.readPixels(d,S,1,1,s.RGBA,s.UNSIGNED_BYTE,E),f.call(null,new u(E[0],E[1],E[2],E[3]/255))}else{var C=i(n,"width",g),P=i(n,"height",T),A=C*P*4,R=new Uint8Array(A);s.readPixels(d,T-v-P,C,P,s.RGBA,s.UNSIGNED_BYTE,R);for(var M=e.createWebGL(this,C,P),L=M.getContext("2d"),F=L.getImageData(0,0,C,P),I=F.data,B=0;B<P;B++)for(var b=0;b<C;b++){var W=((P-B-1)*C+b)*4,$=(B*C+b)*4;I[$+0]=R[W+0],I[$+1]=R[W+1],I[$+2]=R[W+2],I[$+3]=R[W+3]}L.putImageData(F,0,0);var Z=new Image;Z.onerror=function(){f.call(null),e.remove(M)},Z.onload=function(){f.call(null,Z),e.remove(M)},Z.src=M.toDataURL(o,h)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=function(i){var r=i.config;if(!r.hideBanner){var a="WebGL";r.renderType===e.CANVAS?a="Canvas":r.renderType===e.HEADLESS&&(a="Headless");var n=r.audio,s=i.device.audio,f;if(s.webAudio&&!n.disableWebAudio?f="Web Audio":n.noAudio||!s.webAudio&&!s.audioData?f="No Audio":f="HTML5 Audio",i.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var o="",h=[o];if(Array.isArray(r.bannerBackgroundColor)){var d;r.bannerBackgroundColor.forEach(function(c){o=o.concat("%c "),h.push("background: "+c),d=c}),h[h.length-1]="color: "+r.bannerTextColor+"; background: "+d}else o=o.concat("%c "),h.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);h.push("background: transparent"),r.gameTitle&&(o=o.concat(r.gameTitle),r.gameVersion&&(o=o.concat(" v"+r.gameVersion)),r.hidePhaser||(o=o.concat(" / ")));var v="";r.hidePhaser||(o=o.concat("Phaser v"+e.VERSION+v+" ("+a+" | "+f+")")),o=o.concat(" %c "+r.gameURL),h[0]=o,console.log.apply(console,h)}}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),i=t(1),r=t(386),a=new e({initialize:function(s,f){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=u(f,"min",5),this.targetFps=u(f,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=i,this.forceSetTimeOut=u(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=u(f,"deltaHistory",10),this.panicMax=u(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=u(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var n=window.performance.now();this.now=n;var s=n-this.lastTime;s<0&&(s=0),this.rawDelta=s;var f=this.deltaIndex,o=this.deltaHistory,h=this.deltaSmoothingMax,d=s,v=s;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,d=Math.min(d,this._target)),d>this._min&&(d=o[f],d=Math.min(d,this._min)),o[f]=d,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),v=0;for(var c=0;c<h;c++)v+=o[c];v/=h}this.delta=v,this.time+=this.rawDelta,n>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0),this.framesThisSecond++;var p=v/this._target;this.callback(n,v,p),this.lastTime=n,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){this.running||(n&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=i,this.raf=null,this.game=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1),i=new e({initialize:function(){this.isRunning=!1,this.callback=u,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var a=this;this.step=function n(){var s=window.performance.now();a.lastTime=a.tick,a.tick=s,a.callback(s),a.timeOutID=window.requestAnimationFrame(n)},this.stepTimeout=function n(){var s=Date.now(),f=Math.min(Math.max(a.target*2+a.tick-s,0),a.target);a.lastTime=a.tick,a.tick=s,a.callback(s),a.timeOutID=window.setTimeout(n,f)}},start:function(r,a,n){this.isRunning||(this.callback=r,this.isSetTimeOut=a,this.target=n,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=u}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),u=function(i){var r,a=i.events;if(document.hidden!==void 0)r="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},r=f+"visibilitychange")})}var s=function(f){document.hidden||f.type==="pause"?a.emit(e.HIDDEN):a.emit(e.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){a.emit(e.BLUR)},window.onfocus=function(){a.emit(e.FOCUS)},window.focus&&i.config.autoFocus&&window.focus()};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),u=t(31),i=t(6),r=function(a){var n=i(a,"data",[]),s=i(a,"canvas",null),f=i(a,"palette",e),o=i(a,"pixelWidth",1),h=i(a,"pixelHeight",o),d=i(a,"resizeCanvas",!0),v=i(a,"clearCanvas",!0),c=i(a,"preRender",null),p=i(a,"postRender",null),g=Math.floor(Math.abs(n[0].length*o)),T=Math.floor(Math.abs(n.length*h));s||(s=u.create2D(this,g,T),d=!1,v=!1),d&&(s.width=g,s.height=T);var E=s.getContext("2d");v&&E.clearRect(0,0,g,T),c&&c(s,E);for(var S=0;S<n.length;S++)for(var C=n[S],P=0;P<C.length;P++){var A=C[P];A!=="."&&A!==" "&&(E.fillStyle=f[A],E.fillRect(P*o,S*h,o,h))}return p&&p(s,E),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(358),i=t(94),r=t(3),a=new e({Extends:i,initialize:function(s,f,o,h){i.call(this,"CubicBezierCurve"),Array.isArray(s)&&(h=new r(s[6],s[7]),o=new r(s[4],s[5]),f=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=f,this.p2=o,this.p3=h},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new r);var f=this.p0,o=this.p1,h=this.p2,d=this.p3;return s.set(u(n,f.x,o.x,h.x,d.x),u(n,f.y,o.y,h.y,d.y))},draw:function(n,s){s===void 0&&(s=32);var f=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var o=1;o<f.length;o++)n.lineTo(f[o].x,f[o].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(n){var s=n.points,f=new r(s[0],s[1]),o=new r(s[2],s[3]),h=new r(s[4],s[5]),d=new r(s[6],s[7]);return new a(f,o,h,d)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),i=t(36),r=t(6),a=t(196),n=t(3),s=new e({Extends:u,initialize:function(o,h,d,v,c,p,g,T){if(typeof o=="object"){var E=o;o=r(E,"x",0),h=r(E,"y",0),d=r(E,"xRadius",0),v=r(E,"yRadius",d),c=r(E,"startAngle",0),p=r(E,"endAngle",360),g=r(E,"clockwise",!1),T=r(E,"rotation",0)}else v===void 0&&(v=d),c===void 0&&(c=0),p===void 0&&(p=360),g===void 0&&(g=!1),T===void 0&&(T=0);u.call(this,"EllipseCurve"),this.p0=new n(o,h),this._xRadius=d,this._yRadius=v,this._startAngle=i(c),this._endAngle=i(p),this._clockwise=g,this._rotation=i(T)},getStartPoint:function(f){return f===void 0&&(f=new n),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,o){o===void 0&&(o=new n);for(var h=Math.PI*2,d=this._endAngle-this._startAngle,v=Math.abs(d)<Number.EPSILON;d<0;)d+=h;for(;d>h;)d-=h;d<Number.EPSILON&&(v?d=0:d=h),this._clockwise&&!v&&(d===h?d=-h:d=d-h);var c=this._startAngle+f*d,p=this.p0.x+this._xRadius*Math.cos(c),g=this.p0.y+this._yRadius*Math.sin(c);if(this._rotation!==0){var T=Math.cos(this._rotation),E=Math.sin(this._rotation),S=p-this.p0.x,C=g-this.p0.y;p=S*T-C*E+this.p0.x,g=S*E+C*T+this.p0.y}return o.set(p,g)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return a(this._startAngle)},set:function(f){this._startAngle=i(f)}},endAngle:{get:function(){return a(this._endAngle)},set:function(f){this._endAngle=i(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return a(this._rotation)},set:function(f){this._rotation=i(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});s.fromJSON=function(f){return new s(f)},l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),i=t(199),r=t(10),a=t(3),n=new e({Extends:u,initialize:function(f,o){u.call(this,"LineCurve"),Array.isArray(f)&&(o=new a(f[2],f[3]),f=new a(f[0],f[1])),this.p0=f,this.p1=o,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),i([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new a),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,f){return f===void 0&&(f=new a),s===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),f)},getPointAt:function(s,f){return this.getPoint(s,f)},getTangent:function(s,f){return f===void 0&&(f=new a),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(s,f,o){var h;if(f){var d=this.getLengths(o),v=d[d.length-1],c=Math.min(f,v);h=c/v}else h=s;return h},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(s){var f=s.points,o=new a(f[0],f[1]),h=new a(f[2],f[3]);return new n(o,h)},l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),i=new e({initialize:function(a,n){this.active=!1,this.p0=new u(a,n)},getPoint:function(r,a){return a===void 0&&(a=new u),a.copy(this.p0)},getPointAt:function(r,a){return this.getPoint(r,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),i=t(359),r=t(3),a=new e({Extends:u,initialize:function(s,f,o){u.call(this,"QuadraticBezier"),Array.isArray(s)&&(o=new r(s[4],s[5]),f=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=f,this.p2=o},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,s){s===void 0&&(s=new r);var f=this.p0,o=this.p1,h=this.p2;return s.set(i(n,f.x,o.x,h.x),i(n,f.y,o.y,h.y))},draw:function(n,s){s===void 0&&(s=32);var f=this.getPoints(s);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var o=1;o<f.length;o++)n.lineTo(f[o].x,f[o].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(n){var s=n.points,f=new r(s[0],s[1]),o=new r(s[2],s[3]),h=new r(s[4],s[5]);return new a(f,o,h)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),u=t(0),i=t(94),r=t(3),a=new u({Extends:i,initialize:function(s){s===void 0&&(s=[]),i.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(n){for(var s=0;s<n.length;s++){var f=new r;typeof n[s]=="number"?(f.x=n[s],f.y=n[s+1],s++):Array.isArray(n[s])?(f.x=n[s][0],f.y=n[s][1]):(f.x=n[s].x,f.y=n[s].y),this.points.push(f)}return this},addPoint:function(n,s){var f=new r(n,s);return this.points.push(f),f},getStartPoint:function(n){return n===void 0&&(n=new r),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,s){s===void 0&&(s=new r);var f=this.points,o=(f.length-1)*n,h=Math.floor(o),d=o-h,v=f[h===0?h:h-1],c=f[h],p=f[h>f.length-2?f.length-1:h+1],g=f[h>f.length-3?f.length-1:h+2];return s.set(e(d,v.x,c.x,p.x,g.x),e(d,v.y,c.y,p.y,g.y))},toJSON:function(){for(var n=[],s=0;s<this.points.length;s++)n.push(this.points[s].x),n.push(this.points[s].y);return{type:this.type,points:n}}});a.fromJSON=function(n){return new a(n.points)},l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=a,this.vertexSrc=n,this.uniforms=s}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return i<0&&(i+=1),i>1&&(i-=1),i<.16666666666666666?e+(u-e)*6*i:i<.5?u:i<.6666666666666666?e+(u-e)*(.6666666666666666-i)*6:e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u=function(i){if(document.readyState==="complete"||document.readyState==="interactive"){i();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),i()};document.body?e.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),i={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),i.w=u===90?r.offsetHeight:window.innerWidth,i.h=u===90?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,Math.abs(window.orientation)!==90?i.h:i.w};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),u=function(i,r){var a=window.screen,n=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return r>i?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u="";try{if(window.DOMParser){var i=new DOMParser;u=i.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(203),i=t(9),r=t(51),a=t(22),n=t(410),s=t(411),f=t(412),o=t(413),h=t(25),d=t(177),v=new e({initialize:function(p,g){this.game=p,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new i,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new n(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new o(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var T=0;T<=this.pointersTotal;T++){var E=new f(this,T);E.smoothFactor=g.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(r.MANAGER_BOOT),this.game.events.on(a.PRE_RENDER,this.preRender,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(c){this.isOver=!0,this.events.emit(r.GAME_OVER,c)},setCanvasOut:function(c){this.isOver=!1,this.events.emit(r.GAME_OUT,c)},preRender:function(){var c=this.game.loop.now,p=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=c,this.events.emit(r.MANAGER_UPDATE);for(var T=0;T<g.length;T++){var E=g[T];if(E.sys.input&&E.sys.input.updatePoll(c,p)&&this.globalTopOnly)return}},setDefaultCursor:function(c){this.defaultCursor=c,this.canvas.style.cursor!==c&&(this.canvas.style.cursor=c)},setCursor:function(c){c.cursor&&(this.canvas.style.cursor=c.cursor)},resetCursor:function(c){c.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(c){c===void 0&&(c=1);var p=[];this.pointersTotal+c>10&&(c=10-this.pointersTotal);for(var g=0;g<c;g++){var T=this.pointers.length,E=new f(this,T);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,p.push(E)}return p},updateInputPlugins:function(c,p){var g=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var T=0;T<g.length;T++){var E=g[T];if(E.sys.input){var S=E.sys.input.update(c,p);if(S&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(c){for(var p=this.pointers,g=[],T=0;T<c.changedTouches.length;T++)for(var E=c.changedTouches[T],S=1;S<this.pointersTotal;S++){var C=p[S];if(!C.active){C.touchstart(E,c),this.activePointer=C,g.push(C);break}}this.updateInputPlugins(u.TOUCH_START,g)},onTouchMove:function(c){for(var p=this.pointers,g=[],T=0;T<c.changedTouches.length;T++)for(var E=c.changedTouches[T],S=1;S<this.pointersTotal;S++){var C=p[S];if(C.active&&C.identifier===E.identifier){C.touchmove(E,c),this.activePointer=C,g.push(C);break}}this.updateInputPlugins(u.TOUCH_MOVE,g)},onTouchEnd:function(c){for(var p=this.pointers,g=[],T=0;T<c.changedTouches.length;T++)for(var E=c.changedTouches[T],S=1;S<this.pointersTotal;S++){var C=p[S];if(C.active&&C.identifier===E.identifier){C.touchend(E,c),g.push(C);break}}this.updateInputPlugins(u.TOUCH_END,g)},onTouchCancel:function(c){for(var p=this.pointers,g=[],T=0;T<c.changedTouches.length;T++)for(var E=c.changedTouches[T],S=1;S<this.pointersTotal;S++){var C=p[S];if(C.active&&C.identifier===E.identifier){C.touchcancel(E,c),g.push(C);break}}this.updateInputPlugins(u.TOUCH_CANCEL,g)},onMouseDown:function(c){var p=this.mousePointer;p.down(c),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(u.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(c){var p=this.mousePointer;p.move(c),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(u.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(c){var p=this.mousePointer;p.up(c),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(u.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(c){var p=this.mousePointer;p.wheel(c),this.activePointer=p,this.updateInputPlugins(u.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(c){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(r.POINTERLOCK_CHANGE,c,p)},inputCandidate:function(c,p){var g=c.input;if(!g||!g.enabled||!g.alwaysEnabled&&!c.willRender(p))return!1;var T=!0,E=c.parentContainer;if(E)do{if(!E.willRender(p)){T=!1;break}E=E.parentContainer}while(E);return T},hitTest:function(c,p,g,T){T===void 0&&(T=this._tempHitTest);var E=this._tempPoint,S=g.scrollX,C=g.scrollY;T.length=0;var P=c.x,A=c.y;g.getWorldPoint(P,A,E),c.worldX=E.x,c.worldY=E.y;for(var R={x:0,y:0},M=this._tempMatrix,L=this._tempMatrix2,F=0;F<p.length;F++){var I=p[F];if(this.inputCandidate(I,g)){var B=E.x+S*I.scrollFactorX-S,b=E.y+C*I.scrollFactorY-C;I.parentContainer?(I.getWorldTransformMatrix(M,L),M.applyInverse(B,b,R)):d(B,b,I.x,I.y,I.rotation,I.scaleX,I.scaleY,R),this.pointWithinHitArea(I,R.x,R.y)&&T.push(I)}}return T},pointWithinHitArea:function(c,p,g){p+=c.displayOriginX,g+=c.displayOriginY;var T=c.input;return T&&T.hitAreaCallback(T.hitArea,p,g,c)?(T.localX=p,T.localY=g,!0):!1},pointWithinInteractiveObject:function(c,p,g){return c.hitArea?(p+=c.gameObject.displayOriginX,g+=c.gameObject.displayOriginY,c.localX=p,c.localY=g,c.hitAreaCallback(c.hitArea,p,g,c)):!1},transformPointer:function(c,p,g,T){var E=c.position,S=c.prevPosition;S.x=E.x,S.y=E.y;var C=this.scaleManager.transformX(p),P=this.scaleManager.transformY(g),A=c.smoothFactor;!T||A===0?(E.x=C,E.y=P):(E.x=C*A+S.x*(1-A),E.y=P*A+S.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var c=0;c<this.pointers.length;c++)this.pointers[c].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(0),i=t(22),r=t(51),a=t(143),n=t(1),s=new u({initialize:function(o){this.manager=o,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,o.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(i.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(h),f.manager.events.emit(r.MANAGER_PROCESS);var d=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;f.preventDefault&&!d&&f.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(h),f.manager.events.emit(r.MANAGER_PROCESS);var d=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;f.preventDefault&&!d&&f.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var o=this.target;o&&(o.addEventListener("keydown",this.onKeyDown,!1),o.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var o=this.captures,h=0;h<f.length;h++){var d=f[h];typeof d=="string"&&(d=a[d.trim().toUpperCase()]),o.indexOf(d)===-1&&o.push(d)}this.preventDefault=o.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var o=this.captures,h=0;h<f.length;h++){var d=f[h];typeof d=="string"&&(d=a[d.toUpperCase()]),e(o,d)}this.preventDefault=o.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(i.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(191),i=t(51),r=t(1),a=new e({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(u.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){u.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var s=this,f=this.manager,o=f.canvas,h=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseMove(v),s.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){h&&window.focus(),!v.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseDown(v),s.preventDefaultDown&&v.target===o&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&v.target!==o&&f.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseUp(v),s.preventDefaultUp&&v.target===o&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&v.target!==o&&f.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&f.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&f.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&s.enabled&&f&&f.enabled&&f.onMouseWheel(v),s.preventDefaultWheel&&v.target===o&&v.preventDefault()};var d={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,d),n.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,d),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}u.pointerLock&&(this.pointerLockChange=function(v){var c=s.target;s.locked=document.pointerLockElement===c||document.mozPointerLockElement===c||document.webkitPointerLockElement===c,f.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),u.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),u=t(0),i=t(50),r=t(124),a=t(360),n=t(3),s=t(105),f=new u({initialize:function(h,d){this.manager=h,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(o){var h=o.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(o,h){return o.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var o=this.position.x,h=this.position.y,d=this.midPoint.x,v=this.midPoint.y;if(!(o===d&&h===v)){var c=a(this.motionFactor,d,o),p=a(this.motionFactor,v,h);r(c,o,.1)&&(c=o),r(p,h,.1)&&(p=h),this.midPoint.set(c,p);var g=o-c,T=h-p;this.velocity.set(g,T),this.angle=e(c,p,o,h),this.distance=Math.sqrt(g*g+T*T)}},up:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=o.timeStamp,this.wasTouch=!1)},down:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.button=o.button,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),o.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&o.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=o.timeStamp),this.wasTouch=!1},move:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.locked&&(this.movementX=o.movementX||o.mozMovementX||o.webkitMovementX||0,this.movementY=o.movementY||o.mozMovementY||o.webkitMovementY||0),this.moveTime=o.timeStamp,this.wasTouch=!1},wheel:function(o){"buttons"in o&&(this.buttons=o.buttons),this.event=o,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.deltaX=o.deltaX,this.deltaY=o.deltaY,this.deltaZ=o.deltaZ,this.wasTouch=!1},touchstart:function(o,h){o.pointerId&&(this.pointerId=o.pointerId),this.identifier=o.identifier,this.target=o.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(o,h){this.event=h,this.manager.transformPointer(this,o.pageX,o.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(o,h){this.buttons=0,this.event=h,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(o,h){this.buttons=0,this.event=h,this.upElement=o.target,this.manager.transformPointer(this,o.pageX,o.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?i(this.downX,this.downY,this.x,this.y):i(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(o,h){o===void 0&&(o=10),h===void 0&&(h=[]);for(var d=this.prevPosition.x,v=this.prevPosition.y,c=this.position.x,p=this.position.y,g=0;g<o;g++){var T=1/o*g;h[g]={x:a(T,d,c),y:a(T,v,p)}}return h},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},time:{get:function(){return this.event?this.event.timeStamp:0}}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(51),i=t(1),r=new e({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=i,this.onTouchStartWindow=i,this.onTouchMove=i,this.onTouchEnd=i,this.onTouchEndWindow=i,this.onTouchCancel=i,this.onTouchCancelWindow=i,this.onTouchOver=i,this.onTouchOut=i,n.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this,n=this.manager.canvas,s=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(d){s&&window.focus(),!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchStart(d),a.capture&&d.cancelable&&d.target===n&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&d.target!==n&&a.manager.onTouchStart(d)},this.onTouchMove=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchMove(d),a.capture&&d.cancelable&&d.preventDefault())},this.onTouchEnd=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchEnd(d),a.capture&&d.cancelable&&d.target===n&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&d.target!==n&&a.manager.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&(a.manager.onTouchCancel(d),a.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.onTouchCancel(d)},this.onTouchOver=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOver(d)},this.onTouchOut=function(d){!d.defaultPrevented&&a.enabled&&a.manager&&a.manager.enabled&&a.manager.setCanvasOut(d)};var f=this.target;if(f){var o={passive:!0},h={passive:!1};f.addEventListener("touchstart",this.onTouchStart,this.capture?h:o),f.addEventListener("touchmove",this.onTouchMove,this.capture?h:o),f.addEventListener("touchend",this.onTouchEnd,this.capture?h:o),f.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:o),f.addEventListener("touchover",this.onTouchOver,this.capture?h:o),f.addEventListener("touchout",this.onTouchOut,this.capture?h:o),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),a.removeEventListener("touchover",this.onTouchOver),a.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(22),i=t(9),r=t(8),a=t(16),n=t(5),s=t(2),f=t(24),o=t(93),h=new e({Extends:i,initialize:function(v){i.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(u.BOOT,this.boot,this)},boot:function(){var d,v,c,p,g,T,E,S=this.game.config,C=S.installGlobalPlugins;for(C=C.concat(this._pendingGlobal),d=0;d<C.length;d++)v=C[d],c=s(v,"key",null),p=s(v,"plugin",null),g=s(v,"start",!1),T=s(v,"mapping",null),E=s(v,"data",null),c&&(p?this.install(c,p,g,T,E):console.warn("Missing `plugin` for key: "+c));for(C=S.installScenePlugins,C=C.concat(this._pendingScene),d=0;d<C.length;d++)v=C[d],c=s(v,"key",null),p=s(v,"plugin",null),T=s(v,"mapping",null),c&&(p?this.installScenePlugin(c,p,T):console.warn("Missing `plugin` for key: "+c));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(u.DESTROY,this.destroy,this)},addToScene:function(d,v,c){var p,g,T,E=this.game,S=d.scene,C=d.settings.map,P=d.settings.isBooted;for(p=0;p<v.length;p++)g=v[p],E[g]?(d[g]=E[g],C.hasOwnProperty(g)&&(S[C[g]]=d[g])):g==="game"&&C.hasOwnProperty(g)&&(S[C[g]]=E);for(var A=0;A<c.length;A++)for(T=c[A],p=0;p<T.length;p++)if(g=T[p],!!f.hasCore(g)){var R=f.getCore(g),M=R.mapping,L=new R.plugin(S,this,M);d[M]=L,R.custom?S[M]=L:C.hasOwnProperty(M)&&(S[C[M]]=L),P&&L.boot()}for(T=this.plugins,p=0;p<T.length;p++){var F=T[p];F.mapping&&(S[F.mapping]=F.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,v,c,p,g){if(g===void 0&&(g=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(!f.hasCore(d))f.register(d,v,c,!0),this.scenePlugins.push(d);else if(!g&&f.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(p){var T=new v(p,this,d);p.sys[d]=T,c&&c!==""&&(p[c]=T),T.boot()}},install:function(d,v,c,p,g){if(c===void 0&&(c=!1),p===void 0&&(p=null),g===void 0&&(g=null),typeof v!="function")return console.warn("Invalid Plugin: "+d),null;if(f.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(p!==null&&(c=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:v,start:c,mapping:p,data:g});else if(f.registerCustom(d,v,p,g),c)return this.start(d);return null},getIndex:function(d){for(var v=this.plugins,c=0;c<v.length;c++){var p=v[c];if(p.key===d)return c}return-1},getEntry:function(d){var v=this.getIndex(d);if(v!==-1)return this.plugins[v]},isActive:function(d){var v=this.getEntry(d);return v&&v.active},start:function(d,v){v===void 0&&(v=d);var c=this.getEntry(v);return c&&!c.active?(c.active=!0,c.plugin.start()):c||(c=this.createEntry(d,v)),c?c.plugin:null},createEntry:function(d,v){var c=f.getCustom(d);if(c){var p=new c.plugin(this);c={key:v,plugin:p,active:!0,mapping:c.mapping,data:c.data},this.plugins.push(c),p.init(c.data),p.start()}return c},stop:function(d){var v=this.getEntry(d);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(d,v){v===void 0&&(v=!0);var c=this.getEntry(d);if(c)return c.plugin;var p=this.getClass(d);return p&&v?(c=this.createEntry(d,d),c?c.plugin:null):p||null},getClass:function(d){return f.getCustomClass(d)},removeGlobalPlugin:function(d){var v=this.getEntry(d);v&&o(this.plugins,v),f.removeCustom(d)},removeScenePlugin:function(d){o(this.scenePlugins,d),f.remove(d)},registerGameObject:function(d,v,c){return v&&n.register(d,v),c&&a.register(d,c),this},removeGameObject:function(d,v,c){return v===void 0&&(v=!0),c===void 0&&(c=!0),v&&n.remove(d),c&&a.remove(d),this},registerFileType:function(d,v,c){r.register(d,v),c&&c.sys.load&&(c.sys.load[d]=v)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),u=t(0),i=t(9),r=t(104),a=t(22),n=t(401),s=t(407),f=t(402),o=t(1),h=t(10),d=t(416),v=t(76),c=t(3),p=new u({Extends:i,initialize:function(T){i.call(this),this.game=T,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new c(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:o,windowResize:o,fullScreenChange:o,fullScreenError:o}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(a.PRE_STEP,this.step,this),g.events.once(a.READY,this.refresh,this),g.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var T=g.width,E=g.height,S=g.scaleMode,C=g.zoom,P=g.autoRound;if(typeof T=="string"){var A=this.parentSize.width;A===0&&(A=window.innerWidth);var R=parseInt(T,10)/100;T=Math.floor(A*R)}if(typeof E=="string"){var M=this.parentSize.height;M===0&&(M=window.innerHeight);var L=parseInt(E,10)/100;E=Math.floor(M*L)}this.scaleMode=S,this.autoRound=P,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,P&&(T=Math.floor(T),E=Math.floor(E)),this.gameSize.setSize(T,E),C===e.ZOOM.MAX_ZOOM&&(C=this.getMaxZoom()),this.zoom=C,C!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,E),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*C,g.minHeight*C),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*C,g.maxHeight*C),this.displaySize.setSize(T,E),this.orientation=f(T,E)},getParent:function(g){var T=g.parent;if(T!==null){if(this.parent=s(T),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==e.SCALE_MODE.NONE){var E=this.parent.getBoundingClientRect();(this.parentIsWindow||E.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",E=this.parent.getBoundingClientRect(),!this.parentIsWindow&&E.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=n(!0));var E=T.width,S=T.height;return g.width!==E||g.height!==S?(g.setSize(E,S),!0):!1},lockOrientation:function(g){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,g):!1},setParentSize:function(g,T){return this.parentSize.setSize(g,T),this.refresh()},setGameSize:function(g,T){var E=this.autoRound;E&&(g=Math.floor(g),T=Math.floor(T));var S=this.width,C=this.height;return this.gameSize.resize(g,T),this.baseSize.resize(g,T),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(S,C)},resize:function(g,T){var E=this.zoom,S=this.autoRound;S&&(g=Math.floor(g),T=Math.floor(T));var C=this.width,P=this.height;this.gameSize.resize(g,T),this.baseSize.resize(g,T),S&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*E,T*E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var A=this.canvas.style,R=g*E,M=T*E;return S&&(R=Math.floor(R),M=Math.floor(M)),(R!==g||M!==T)&&(A.width=R+"px",A.height=M+"px"),this.refresh(C,P)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(g,T){g===void 0&&(g=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var E=this.game.domContainer;if(E){this.baseSize.setCSS(E);var S=this.canvas.style,C=E.style;C.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",C.marginLeft=S.marginLeft,C.marginTop=S.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=f(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(r.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,T=this.gameSize.width,E=this.gameSize.height,S,C,P=this.zoom,A=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(T*P,E*P),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),this._resetZoom&&(g.width=S+"px",g.height=C+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),this.canvas.width=S,this.canvas.height=C):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),S=this.displaySize.width,C=this.displaySize.height,A&&(S=Math.floor(S),C=Math.floor(C)),g.width=S+"px",g.height=C+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=v(this.parentSize.width,this.gameSize.width,0,!0),T=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,T),1)},updateCenter:function(){var g=this.autoCenter;if(g!==e.CENTER.NO_CENTER){var T=this.canvas,E=T.style,S=T.getBoundingClientRect(),C=S.width,P=S.height,A=Math.floor((this.parentSize.width-C)/2),R=Math.floor((this.parentSize.height-P)/2);g===e.CENTER.CENTER_HORIZONTALLY?R=0:g===e.CENTER.CENTER_VERTICALLY&&(A=0),E.marginLeft=A+"px",E.marginTop=R+"px"}},updateBounds:function(){var g=this.canvasBounds,T=this.canvas.getBoundingClientRect();g.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=T.width,g.height=T.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var E=this.getFullscreenTarget();T.keyboard?E[T.request](Element.ALLOW_KEYBOARD_INPUT):E[T.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var T=g.parentNode;T.insertBefore(this.canvas,g),T.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,T=this.listeners;if(T.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0},T.windowResize=function(){g.updateBounds(),g.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(S){return g.onFullScreenChange(S)},T.fullScreenError=function(S){return g.onFullScreenError(S)};var E=["webkit","moz",""];E.forEach(function(S){document.addEventListener(S+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(S+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(g,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.listeners;window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(E){document.removeEventListener(E+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(E+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(76),r=t(3),a=new u({initialize:function(s,f,o,h){s===void 0&&(s=0),f===void 0&&(f=s),o===void 0&&(o=0),h===void 0&&(h=null),this._width=s,this._height=f,this._parent=h,this.aspectMode=o,this.aspectRatio=f===0?1:s/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,s){return n===void 0&&(n=0),s===void 0&&(s=n),this.snapTo.set(n,s),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,s){return n===void 0&&(n=0),s===void 0&&(s=n),this.minWidth=e(n,0,this.maxWidth),this.minHeight=e(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,s){return n===void 0&&(n=Number.MAX_VALUE),s===void 0&&(s=n),this.maxWidth=e(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,s){switch(n===void 0&&(n=0),s===void 0&&(s=n),this.aspectMode){case a.NONE:this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(i(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(i(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(n,s,!0);break;case a.ENVELOP:this.constrain(n,s,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,s){return this._width=this.getNewWidth(i(n,this.snapTo.x)),this._height=this.getNewHeight(i(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,s){return s===void 0&&(s=!0),n=e(n,this.minWidth,this.maxWidth),s&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,s){return s===void 0&&(s=!0),n=e(n,this.minHeight,this.maxHeight),s&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,s,f){n===void 0&&(n=0),s===void 0&&(s=n),f===void 0&&(f=!0),n=this.getNewWidth(n),s=this.getNewHeight(s);var o=this.snapTo,h=s===0?1:n/s;return f&&this.aspectRatio>h||!f&&this.aspectRatio<h?(n=i(n,o.x),s=n/this.aspectRatio,o.y>0&&(s=i(s,o.y),n=s*this.aspectRatio)):(f&&this.aspectRatio<h||!f&&this.aspectRatio>h)&&(s=i(s,o.y),n=s*this.aspectRatio,o.x>0&&(n=i(n,o.x),s=n*(1/this.aspectRatio))),this._width=n,this._height=s,this},fitTo:function(n,s){return this.constrain(n,s,!0)},envelop:function(n,s){return this.constrain(n,s,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(144),i=t(20),r=t(22),a=t(6),n=t(95),s=t(1),f=t(418),o=t(204),h=new e({initialize:function(v,c){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++)this._pending.push({key:"default",scene:c[p],autoStart:p===0,data:{}})}v.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var d,v,c,p;for(d=0;d<this._pending.length;d++){v=this._pending[d],c=v.key,p=v.scene;var g;p instanceof f?g=this.createSceneFromInstance(c,p):typeof p=="object"?g=this.createSceneFromObject(c,p):typeof p=="function"&&(g=this.createSceneFromFunction(c,p)),c=g.sys.settings.key,this.keys[c]=g,this.scenes.push(g),this._data[c]&&(g.sys.settings.data=this._data[c].data,this._data[c].autoStart&&(v.autoStart=!0)),(v.autoStart||g.sys.settings.active)&&this._start.push(c)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)v=this._start[d],this.start(v);this._start.length=0}},processQueue:function(){var d=this._pending.length,v=this._queue.length;if(!(d===0&&v===0)){var c,p;if(d){for(c=0;c<d;c++)p=this._pending[c],this.add(p.key,p.scene,p.autoStart,p.data);for(c=0;c<this._start.length;c++)p=this._start[c],this.start(p);this._start.length=0,this._pending.length=0;return}for(c=0;c<this._queue.length;c++)p=this._queue[c],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(d,v,c,p){if(c===void 0&&(c=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:v,autoStart:c,data:p}),this.isBooted||(this._data[d]={data:p}),null;d=this.getKey(d,v);var g;return v instanceof f?g=this.createSceneFromInstance(d,v):typeof v=="object"?(v.key=d,g=this.createSceneFromObject(d,v)):typeof v=="function"&&(g=this.createSceneFromFunction(d,v)),g.sys.settings.data=p,d=g.sys.settings.key,this.keys[d]=g,this.scenes.push(g),(c||g.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),g},remove:function(d){if(this.isProcessing)this._queue.push({op:"remove",keyA:d,keyB:null});else{var v=this.getScene(d);if(!v||v.sys.isTransitioning())return this;var c=this.scenes.indexOf(v),p=v.sys.settings.key;c>-1&&(delete this.keys[p],this.scenes.splice(c,1),this._start.indexOf(p)>-1&&(c=this._start.indexOf(p),this._start.splice(c,1)),v.sys.destroy())}return this},bootScene:function(d){var v=d.sys,c=v.settings;v.sceneUpdate=s,d.init&&(d.init.call(d,c.data),c.status=u.INIT,c.isTransition&&v.events.emit(i.TRANSITION_INIT,c.transitionFrom,c.transitionDuration));var p;v.load&&(p=v.load,p.reset()),p&&d.preload?(d.preload.call(d),p.list.size===0?this.create(d):(c.status=u.LOADING,p.once(n.COMPLETE,this.loadComplete,this),p.start())):this.create(d)},loadComplete:function(d){this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,v){this.processQueue(),this.isProcessing=!0;for(var c=this.scenes.length-1;c>=0;c--){var p=this.scenes[c].sys;p.settings.status>u.START&&p.settings.status<=u.RUNNING&&p.step(d,v)}},render:function(d){for(var v=0;v<this.scenes.length;v++){var c=this.scenes[v].sys;c.settings.visible&&c.settings.status>=u.LOADING&&c.settings.status<u.SLEEPING&&c.render(d)}this.isProcessing=!1},create:function(d){var v=d.sys,c=v.settings;d.create&&(c.status=u.CREATING,d.create.call(d,c.data),c.status===u.DESTROYED)||(c.isTransition&&v.events.emit(i.TRANSITION_START,c.transitionFrom,c.transitionDuration),d.update&&(v.sceneUpdate=d.update),c.status=u.RUNNING,v.events.emit(i.CREATE,d))},createSceneFromFunction:function(d,v){var c=new v;if(c instanceof f){var p=c.sys.settings.key;if(p!==""&&(d=p),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return this.createSceneFromInstance(d,c)}else return c.sys=new o(c),c.sys.settings.key=d,c.sys.init(this.game),c},createSceneFromInstance:function(d,v){var c=v.sys.settings.key;return c===""&&(v.sys.settings.key=d),v.sys.init(this.game),v},createSceneFromObject:function(d,v){var c=new f(v),p=c.sys.settings.key;p!==""?d=p:c.sys.settings.key=d,c.sys.init(this.game);for(var g=["init","preload","create","update","render"],T=0;T<g.length;T++){var E=a(v,g[T],null);E&&(c[g[T]]=E)}if(v.hasOwnProperty("extend")){for(var S in v.extend)if(v.extend.hasOwnProperty(S)){var C=v.extend[S];S==="data"&&c.hasOwnProperty("data")&&typeof C=="object"?c.data.merge(C):S!=="sys"&&(c[S]=C)}}return c},getKey:function(d,v){if(d||(d="default"),typeof v=="function")return d;if(v instanceof f?d=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(d=v.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return d},getScenes:function(d,v){d===void 0&&(d=!0),v===void 0&&(v=!1);for(var c=[],p=this.scenes,g=0;g<p.length;g++){var T=p[g];T&&(!d||d&&T.sys.isActive())&&c.push(T)}return v?c.reverse():c},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var v=0;v<this.scenes.length;v++)if(d===this.scenes[v])return d;return null},isActive:function(d){var v=this.getScene(d);return v?v.sys.isActive():null},isPaused:function(d){var v=this.getScene(d);return v?v.sys.isPaused():null},isVisible:function(d){var v=this.getScene(d);return v?v.sys.isVisible():null},isSleeping:function(d){var v=this.getScene(d);return v?v.sys.isSleeping():null},pause:function(d,v){var c=this.getScene(d);return c&&c.sys.pause(v),this},resume:function(d,v){var c=this.getScene(d);return c&&c.sys.resume(v),this},sleep:function(d,v){var c=this.getScene(d);return c&&!c.sys.isTransitioning()&&c.sys.sleep(v),this},wake:function(d,v){var c=this.getScene(d);return c&&c.sys.wake(v),this},run:function(d,v){var c=this.getScene(d);if(!c){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===d){this.queueOp("start",d,v);break}return this}c.sys.isSleeping()?c.sys.wake(v):c.sys.isPaused()?c.sys.resume(v):this.start(d,v)},start:function(d,v){if(!this.isBooted)return this._data[d]={autoStart:!0,data:v},this;var c=this.getScene(d);if(c){var p=c.sys;if(p.isActive()||p.isPaused())p.shutdown(),p.sceneUpdate=s,p.start(v);else{p.sceneUpdate=s,p.start(v);var g;if(p.load&&(g=p.load),g&&p.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:p.settings.pack})))return p.settings.status=u.LOADING,g.once(n.COMPLETE,this.payloadComplete,this),g.start(),this}this.bootScene(c)}return this},stop:function(d,v){var c=this.getScene(d);return c&&!c.sys.isTransitioning()&&c.sys.shutdown(v),this},switch:function(d,v){var c=this.getScene(d),p=this.getScene(v);return c&&p&&c!==p&&(this.sleep(d),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var v=this.getScene(d);return this.scenes.indexOf(v)},bringToTop:function(d){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v!==-1&&v<this.scenes.length){var c=this.getScene(d);this.scenes.splice(v,1),this.scenes.push(c)}}return this},sendToBack:function(d){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v!==-1&&v>0){var c=this.getScene(d);this.scenes.splice(v,1),this.scenes.unshift(c)}}return this},moveDown:function(d){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v>0){var c=v-1,p=this.getScene(d),g=this.getAt(c);this.scenes[v]=g,this.scenes[c]=p}}return this},moveUp:function(d){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:d,keyB:null});else{var v=this.getIndex(d);if(v<this.scenes.length-1){var c=v+1,p=this.getScene(d),g=this.getAt(c);this.scenes[v]=g,this.scenes[c]=p}}return this},moveAbove:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:d,keyB:v});else{var c=this.getIndex(d),p=this.getIndex(v);if(c!==-1&&p!==-1){var g=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(c+1,0,g)}}return this},moveBelow:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:d,keyB:v});else{var c=this.getIndex(d),p=this.getIndex(v);if(c!==-1&&p!==-1){var g=this.getAt(p);this.scenes.splice(p,1),c===0?this.scenes.unshift(g):this.scenes.splice(c,0,g)}}return this},queueOp:function(d,v,c){return this._queue.push({op:d,keyA:v,keyB:c}),this},swapPosition:function(d,v){if(d===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:d,keyB:v});else{var c=this.getIndex(d),p=this.getIndex(v);if(c!==p&&c!==-1&&p!==-1){var g=this.getAt(c);this.scenes[c]=this.scenes[p],this.scenes[p]=g}}return this},dump:function(){for(var d=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],c=0;c<this.scenes.length;c++){var p=this.scenes[c].sys,g=p.settings.visible&&(p.settings.status===u.RUNNING||p.settings.status===u.PAUSED)?"[*] ":"[-] ";g+=p.settings.key+" ("+v[p.settings.status]+")",d.push(g)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.destroy()}this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(204),i=new e({initialize:function(a){this.sys=new u(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(205),i=function(r){var a=r.game.config.defaultPhysicsSystem,n=e(r.settings,"physics",!1);if(!(!a&&!n)){var s=[];if(a&&s.push(u(a+"Physics")),n)for(var f in n)f=u(f.concat("Physics")),s.indexOf(f)===-1&&s.push(f);return s}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(i){var r=i.plugins.getDefaultScenePlugins(),a=e(i.settings,"plugins",!1);return Array.isArray(a)?a:r||[]};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),u=t(6),i=t(127),r=t(978),a={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:e.PENDING,key:u(n,"key",""),active:u(n,"active",!1),visible:u(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:u(n,"pack",!1),cameras:u(n,"cameras",null),map:u(n,"map",i(r,u(n,"mapAdd",{}))),physics:u(n,"physics",{}),loader:u(n,"loader",{}),plugins:u(n,"plugins",!1),input:u(n,"input",{})}}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(423),i=t(0),r=t(38),a=t(33),n=t(9),s=t(106),f=t(22),o=t(388),h=t(6),d=t(425),v=t(206),c=new i({Extends:n,initialize:function(g){n.call(this),this.game=g,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,g.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(s.LOAD,this.updatePending,this),this.on(s.ERROR,this.updatePending,this);var p=this.game.config;this.addBase64("__DEFAULT",p.defaultImage),this.addBase64("__MISSING",p.missingImage),this.addBase64("__WHITE",p.whiteImage),this.game.events.once(f.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(s.LOAD),this.off(s.ERROR),this.emit(s.READY))},checkKey:function(p){return this.exists(p)?(console.error("Texture key already in use: "+p),!1):!0},remove:function(p){if(typeof p=="string")if(this.exists(p))p=this.get(p);else return console.warn("No texture found matching key: "+p),this;return this.list.hasOwnProperty(p.key)&&(p.destroy(),this.emit(s.REMOVE,p.key)),this},removeKey:function(p){return this.list.hasOwnProperty(p)&&delete this.list[p],this},addBase64:function(p,g){if(this.checkKey(p)){var T=this,E=new Image;E.onerror=function(){T.emit(s.ERROR,p)},E.onload=function(){var S=T.create(p,E);d.Image(S,0),T.emit(s.ADD,p,S),T.emit(s.LOAD,p,S)},E.src=g}return this},getBase64:function(p,g,T,E){T===void 0&&(T="image/png"),E===void 0&&(E=.92);var S="",C=this.getFrame(p,g);if(C&&(C.source.isRenderTexture||C.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(C){var P=C.canvasData,A=e.create2D(this,P.width,P.height),R=A.getContext("2d");R.drawImage(C.source.image,P.x,P.y,P.width,P.height,0,0,P.width,P.height),S=A.toDataURL(T,E),e.remove(A)}return S},addImage:function(p,g,T){var E=null;return this.checkKey(p)&&(E=this.create(p,g),d.Image(E,0),T&&E.setDataSource(T),this.emit(s.ADD,p,E)),E},addGLTexture:function(p,g,T,E){var S=null;return this.checkKey(p)&&(T===void 0&&(T=g.width),E===void 0&&(E=g.height),S=this.create(p,g,T,E),S.add("__BASE",0,0,0,T,E),this.emit(s.ADD,p,S)),S},addRenderTexture:function(p,g){var T=null;return this.checkKey(p)&&(T=this.create(p,g),T.add("__BASE",0,0,0,g.width,g.height),this.emit(s.ADD,p,T)),T},generate:function(p,g){if(this.checkKey(p)){var T=e.create(this,1,1);return g.canvas=T,o(g),this.addCanvas(p,T)}else return null},createCanvas:function(p,g,T){if(g===void 0&&(g=256),T===void 0&&(T=256),this.checkKey(p)){var E=e.create(this,g,T,a.CANVAS,!0);return this.addCanvas(p,E)}return null},addCanvas:function(p,g,T){T===void 0&&(T=!1);var E=null;return T?E=new u(this,p,g,g.width,g.height):this.checkKey(p)&&(E=new u(this,p,g,g.width,g.height),this.list[p]=E,this.emit(s.ADD,p,E)),E},addAtlas:function(p,g,T,E){return Array.isArray(T.textures)||Array.isArray(T.frames)?this.addAtlasJSONArray(p,g,T,E):this.addAtlasJSONHash(p,g,T,E)},addAtlasJSONArray:function(p,g,T,E){var S=null;if(this.checkKey(p)){if(S=this.create(p,g),Array.isArray(T))for(var C=T.length===1,P=0;P<S.source.length;P++){var A=C?T[0]:T[P];d.JSONArray(S,P,A)}else d.JSONArray(S,0,T);E&&S.setDataSource(E),this.emit(s.ADD,p,S)}return S},addAtlasJSONHash:function(p,g,T,E){var S=null;if(this.checkKey(p)){if(S=this.create(p,g),Array.isArray(T))for(var C=0;C<T.length;C++)d.JSONHash(S,C,T[C]);else d.JSONHash(S,0,T);E&&S.setDataSource(E),this.emit(s.ADD,p,S)}return S},addAtlasXML:function(p,g,T,E){var S=null;return this.checkKey(p)&&(S=this.create(p,g),d.AtlasXML(S,0,T),E&&S.setDataSource(E),this.emit(s.ADD,p,S)),S},addUnityAtlas:function(p,g,T,E){var S=null;return this.checkKey(p)&&(S=this.create(p,g),d.UnityYAML(S,0,T),E&&S.setDataSource(E),this.emit(s.ADD,p,S)),S},addSpriteSheet:function(p,g,T){var E=null;if(this.checkKey(p)){E=this.create(p,g);var S=E.source[0].width,C=E.source[0].height;d.SpriteSheet(E,0,0,0,S,C,T),this.emit(s.ADD,p,E)}return E},addSpriteSheetFromAtlas:function(p,g){if(!this.checkKey(p))return null;var T=h(g,"atlas",null),E=h(g,"frame",null);if(!(!T||!E)){var S=this.get(T),C=S.get(E);if(C){var P=this.create(p,C.source.image);return C.trimmed?d.SpriteSheetFromAtlas(P,C,g):d.SpriteSheet(P,0,C.cutX,C.cutY,C.cutWidth,C.cutHeight,g),this.emit(s.ADD,p,P),P}}},create:function(p,g,T,E){var S=null;return this.checkKey(p)&&(S=new v(this,p,g,T,E),this.list[p]=S),S},exists:function(p){return this.list.hasOwnProperty(p)},get:function(p){return p===void 0&&(p="__DEFAULT"),this.list[p]?this.list[p]:p instanceof v?p:this.list.__MISSING},cloneFrame:function(p,g){if(this.list[p])return this.list[p].get(g).clone()},getFrame:function(p,g){if(this.list[p])return this.list[p].get(g)},getTextureKeys:function(){var p=[];for(var g in this.list)g!=="__DEFAULT"&&g!=="__MISSING"&&p.push(g);return p},getPixel:function(p,g,T,E){var S=this.getFrame(T,E);if(S){p-=S.x,g-=S.y;var C=S.data.cut;if(p+=C.x,g+=C.y,p>=C.x&&p<C.r&&g>=C.y&&g<C.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(S.source.image,p,g,1,1,0,0,1,1);var A=P.getImageData(0,0,1,1);return new r(A.data[0],A.data[1],A.data[2],A.data[3])}}return null},getPixelAlpha:function(p,g,T,E){var S=this.getFrame(T,E);if(S){p-=S.x,g-=S.y;var C=S.data.cut;if(p+=C.x,g+=C.y,p>=C.x&&p<C.r&&g>=C.y&&g<C.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(S.source.image,p,g,1,1,0,0,1,1);var A=P.getImageData(0,0,1,1);return A.data[3]}}return null},setTexture:function(p,g,T){return this.list[g]&&(p.texture=this.list[g],p.frame=p.texture.get(T)),p},renameTexture:function(p,g){var T=this.get(p);return T&&p!==g?(T.key=g,this.list[g]=T,delete this.list[p],!0):!1},each:function(p,g){for(var T=[null],E=1;E<arguments.length;E++)T.push(arguments[E]);for(var S in this.list)T[0]=this.list[S],p.apply(g,T)},destroy:function(){for(var p in this.list)this.list[p].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});l.exports=c},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),i=t(38),r=t(33),a=t(138),n=t(206),s=new e({Extends:n,initialize:function(o,h,d,v,c){n.call(this,o,h,d,v,c),this.add("__BASE",0,0,0,v,c),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=c,this.imageData=this.context.getImageData(0,0,v,c),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(f,o,h){return this.context.drawImage(h,f,o),this.update()},drawFrame:function(f,o,h,d){h===void 0&&(h=0),d===void 0&&(d=0);var v=this.manager.getFrame(f,o);if(v){var c=v.canvasData,p=v.cutWidth,g=v.cutHeight,T=v.source.resolution;return this.context.drawImage(v.source.image,c.x,c.y,p,g,h,d,p/T,g/T),this.update()}else return this},setPixel:function(f,o,h,d,v,c){c===void 0&&(c=255),f=Math.abs(Math.floor(f)),o=Math.abs(Math.floor(o));var p=this.getIndex(f,o);if(p>-1){var g=this.context.getImageData(f,o,1,1);g.data[0]=h,g.data[1]=d,g.data[2]=v,g.data[3]=c,this.context.putImageData(g,f,o)}return this},putData:function(f,o,h,d,v,c,p){return d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=f.width),p===void 0&&(p=f.height),this.context.putImageData(f,o,h,d,v,c,p),this},getData:function(f,o,h,d){f=u(Math.floor(f),0,this.width-1),o=u(Math.floor(o),0,this.height-1),h=u(h,1,this.width-f),d=u(d,1,this.height-o);var v=this.context.getImageData(f,o,h,d);return v},getPixel:function(f,o,h){h||(h=new i);var d=this.getIndex(f,o);if(d>-1){var v=this.data,c=v[d+0],p=v[d+1],g=v[d+2],T=v[d+3];h.setTo(c,p,g,T)}return h},getPixels:function(f,o,h,d){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=this.width),d===void 0&&(d=h),f=Math.abs(Math.round(f)),o=Math.abs(Math.round(o));for(var v=u(f,0,this.width),c=u(f+h,0,this.width),p=u(o,0,this.height),g=u(o+d,0,this.height),T=new i,E=[],S=p;S<g;S++){for(var C=[],P=v;P<c;P++)T=this.getPixel(P,S,T),C.push({x:P,y:S,color:T.color,alpha:T.alphaGL});E.push(C)}return E},getIndex:function(f,o){return f=Math.abs(Math.round(f)),o=Math.abs(Math.round(o)),f<this.width&&o<this.height?(f+o*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,o,h,d){return f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=this.width),d===void 0&&(d=this.height),this.context.clearRect(f,o,h,d),this.update()},setSize:function(f,o){return o===void 0&&(o=f),(f!==this.width||o!==this.height)&&(this.canvas.width=f,this.canvas.height=o,this._source.width=f,this._source.height=o,this._source.isPowerOf2=a(f,o),this.frames.__BASE.setSize(f,o,0,0),this.width=f,this.height=o,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(0),i=t(138),r=t(168),a=new u({initialize:function(s,f,o,h,d){d===void 0&&(d=!1);var v=s.manager.game;this.renderer=v.renderer,this.texture=s,this.source=f,this.image=f,this.compressionAlgorithm=null,this.resolution=1,this.width=o||f.naturalWidth||f.videoWidth||f.width||0,this.height=h||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=i(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=d,this.init(v)},init:function(n){var s=this.renderer;s&&(s.gl?this.isCanvas?this.glTexture=s.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=s.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=s.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=s.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer.gl;n&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):n&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),u=t(430),i=t(432),r={create:function(a){var n=a.config.audio,s=a.device.audio;return n.noAudio||!s.webAudio&&!s.audioData?new u(a):s.webAudio&&!n.disableWebAudio?new i(a):new e(a)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),u=t(0),i=t(70),r=t(429),a=new u({Extends:e,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,s)},add:function(n,s){var f=new r(this,n,s);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(h,d){for(var v=0;v<d.length;v++)if(d[v].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var s=!1,f=function(){s=!0},o=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",o);var h=[];if(n.game.cache.audio.entries.each(function(v,c){for(var p=0;p<c.length;p++){var g=c[p];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var d=h[h.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,h.forEach(function(v){v.dataset.locked="false"}),n.unlocked=!0},h.forEach(function(v){v.load()})}};this.once(i.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",o,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,s,f){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:s,value:f}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(i.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(i.GLOBAL_VOLUME,this,n)}}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s))for(var f=n;f<s;f++){var o=i[f];if(!r||r&&a===void 0&&o.hasOwnProperty(r)||r&&a!==void 0&&o[r]===a)return o}return null};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),i=t(70),r=t(18),a=new u({Extends:e,initialize:function(s,f,o){if(o===void 0&&(o={}),this.tags=s.game.cache.audio.get(f),!this.tags)throw new Error('There is no audio asset with key "'+f+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,s,f,o)},play:function(n,s){return this.manager.isLocked(this,"play",[n,s])||!e.prototype.play.call(this,n,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(i.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(i.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,s=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var s=this.tags[n];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&f.push(h)},this),f.sort(function(h,d){return h.loop===d.loop?d.seek/d.duration-h.seek/h.duration:h.loop?1:-1});var o=f[0];return this.audio=o.audio,o.reset(),o.audio=null,o.startTime=0,o.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,f=s+this.duration,o=this.audio.currentTime;if(this.currentConfig.loop)o>=f-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,o-f),o=this.audio.currentTime):o<s&&(this.audio.currentTime+=s,o=this.audio.currentTime),o<this.previousTime&&this.emit(i.LOOPED,this);else if(o>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(i.COMPLETE,this);return}this.previousTime=o}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(i.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(i.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,i.RATE,n)&&(this.calculateRate(),this.emit(i.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,i.DETUNE,n)&&(this.calculateRate(),this.emit(i.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(i.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(i.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(i.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),u=t(0),i=t(9),r=t(431),a=t(1),n=new u({Extends:i,initialize:function(f){i.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,f){var o=new r(this,s,f);return this.sounds.push(o),o},addAudioSprite:function(s,f){var o=this.add(s,f);return o.spritemap={},o},play:function(s,f){return!1},playAudioSprite:function(s,f,o){return!1},remove:function(s){return e.prototype.remove.call(this,s)},removeByKey:function(s){return e.prototype.removeByKey.call(this,s)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(s,f){e.prototype.forEachActiveSound.call(this,s,f)},destroy:function(){e.prototype.destroy.call(this)}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),i=t(9),r=t(17),a=function(){return!1},n=function(){return null},s=function(){return this},f=new u({Extends:i,initialize:function(h,d,v){v===void 0&&(v={}),i.call(this),this.manager=h,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:n,play:a,pause:a,resume:a,stop:a,destroy:function(){e.prototype.destroy.call(this)},setMute:s,setVolume:s,setRate:s,setDetune:s,setSeek:s,setLoop:s,setPan:s});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),u=t(145),i=t(0),r=t(70),a=t(22),n=t(434),s=new i({Extends:u,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),u.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(a.BOOT,this.unlock,this)},createAudioContext:function(f){var o=f.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,o){var h=new n(this,f,o);return this.sounds.push(h),h},decodeAudio:function(f,o){var h;Array.isArray(f)?h=f:h=[{key:f,data:o}];for(var d=this.game.cache.audio,v=h.length,c=0;c<h.length;c++){var p=h[c],g=p.key,T=p.data;typeof T=="string"&&(T=e(T));var E=function(C,P){d.add(C,P),this.emit(r.DECODED,C),v--,v===0&&this.emit(r.DECODED_ALL)}.bind(this,g),S=function(C,P){console.error("Error decoding audio: "+C+" - ",P?P.message:""),v--,v===0&&this.emit(r.DECODED_ALL)}.bind(this,g);this.context.decodeAudioData(T,E,S)}},unlock:function(){var f=this,o=document.body,h=function d(){if(f.context&&o){var v=o.removeEventListener;f.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d),f.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d)})}};o&&(o.addEventListener("touchstart",h,!1),o.addEventListener("touchend",h,!1),o.addEventListener("click",h,!1),o.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;(f.state==="suspended"||f.state==="interrupted")&&!this.locked&&f.resume()},update:function(f,o){u.prototype.update.call(this,f,o);var h=this.context;h&&h.state==="interrupted"&&h.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}u.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(r.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(r.GLOBAL_VOLUME,this,f)}}});l.exports=s},function(l,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<t.length;u++)e[t.charCodeAt(u)]=u;var i=function(r){r=r.substr(r.indexOf(",")+1);var a=r.length,n=a*.75,s=0,f,o,h,d;r[a-1]==="="&&(n--,r[a-2]==="="&&n--);for(var v=new ArrayBuffer(n),c=new Uint8Array(v),p=0;p<a;p+=4)f=e[r.charCodeAt(p)],o=e[r.charCodeAt(p+1)],h=e[r.charCodeAt(p+2)],d=e[r.charCodeAt(p+3)],c[s++]=f<<2|o>>4,c[s++]=(o&15)<<4|h>>2,c[s++]=(h&3)<<6|d&63;return v};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),i=t(70),r=new u({Extends:e,initialize:function(n,s,f){if(f===void 0&&(f={}),this.audioBuffer=n.game.cache.audio.get(s),!this.audioBuffer)throw new Error('Audio key "'+s+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=n.context.createGain(),this.volumeNode=n.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),n.context.createStereoPanner?(this.pannerNode=n.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(n.destination)):this.volumeNode.connect(n.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,n,s,f)},play:function(a,n){return e.prototype.play.call(this,a,n)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(i.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(i.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(i.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(i.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,n=this.currentConfig.delay,s=this.manager.context.currentTime+n,f=(this.currentMarker?this.currentMarker.start:0)+a,o=this.duration-a;this.playTime=s-a,this.startTime=s,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,s),Math.max(0,f),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),n=this.currentMarker?this.currentMarker.start:0,s=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,n),Math.max(0,s))},createBufferSource:function(){var a=this,n=this.manager.context.createBufferSource();return n.buffer=this.audioBuffer,n.connect(this.muteNode),n.onended=function(s){s.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},n},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(i.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(i.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,n=0;n<this.rateUpdates.length;n++){var s=0;n<this.rateUpdates.length-1?s=this.rateUpdates[n+1].time:s=this.manager.context.currentTime-this.playTime,a+=(s-this.rateUpdates[n].time)*this.rateUpdates[n].rate}return a},getLoopTime:function(){for(var a=0,n=0;n<this.rateUpdates.length-1;n++)a+=(this.rateUpdates[n+1].time-this.rateUpdates[n].time)*this.rateUpdates[n].rate;var s=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+s.time+(this.duration-a)/s.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(i.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(i.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(i.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(i.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(i.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(i.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(i.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=e.length,i=e[0].length,r=new Array(i),a=0;a<i;a++){r[a]=new Array(u);for(var n=u-1;n>-1;n--)r[a][n]=e[n][a]}return r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i,r,a){var n=i[r];i[r]=i[a],i[a]=n}function e(i,r){return i<r?-1:i>r?1:0}var u=function(i,r,a,n,s){for(a===void 0&&(a=0),n===void 0&&(n=i.length-1),s===void 0&&(s=e);n>a;){if(n-a>600){var f=n-a+1,o=r-a+1,h=Math.log(f),d=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*d*(f-d)/f)*(o-f/2<0?-1:1),c=Math.max(a,Math.floor(r-o*d/f+v)),p=Math.min(n,Math.floor(r+(f-o)*d/f+v));u(i,r,c,p,s)}var g=i[r],T=a,E=n;for(t(i,a,r),s(i[n],g)>0&&t(i,a,n);T<E;){for(t(i,T,E),T++,E--;s(i[T],g)<0;)T++;for(;s(i[E],g)>0;)E--}s(i[a],g)===0?t(i,a,E):(E++,t(i,E,n)),E<=r&&(a=E+1),r<=E&&(n=E-1)}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=t(131),i=function(a,n,s){for(var f=[],o=0;o<a.length;o++)for(var h=0;h<n.length;h++)for(var d=0;d<s;d++)f.push({a:a[o],b:n[h]});return f},r=function(a,n,s){var f=e(s,"max",0),o=e(s,"qty",1),h=e(s,"random",!1),d=e(s,"randomB",!1),v=e(s,"repeat",0),c=e(s,"yoyo",!1),p=[];if(d&&u(n),v===-1)if(f===0)v=0;else{var g=a.length*n.length*o;c&&(g*=2),v=Math.ceil(f/g)}for(var T=0;T<=v;T++){var E=i(a,n,o);h&&u(E),p=p.concat(E),c&&(E.reverse(),p=p.concat(E))}return f&&p.splice(f),p};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),u=function(i,r){var a=e(r,"anims",null);if(a===null)return i;if(typeof a=="string")i.anims.play(a);else if(typeof a=="object"){var n=i.anims,s=e(a,"key",void 0);if(s){var f=e(a,"startFrame",void 0),o=e(a,"delay",0),h=e(a,"repeat",0),d=e(a,"repeatDelay",0),v=e(a,"yoyo",!1),c=e(a,"play",!1),p=e(a,"delayedPlay",0),g={key:s,delay:o,repeat:h,repeatDelay:d,yoyo:v,startFrame:f};c?n.play(g):p>0?n.playAfterDelay(g,p):n.load(g)}}return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(109),i=new e({initialize:function(a,n,s,f,o){this.parent=a,this.x=n,this.y=s,this.frame=f,this.data={},this.tint=16777215,this._visible=o,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof u&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,a,n){return this.x=r,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(r,a){return this.x=r,this.y=a,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,a){return this.flipX=r,this.flipY=a,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r,a){a===void 0&&(a=new e);var n=Math.min(i.x,r.x),s=Math.min(i.y,r.y),f=Math.max(i.right,r.right)-n,o=Math.max(i.bottom,r.bottom)-s;return a.setTo(n,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(1055),r=t(15),a=t(7),n=t(202),s=t(20),f=t(140),o=new e({Extends:r,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Origin,u.ScrollFactor,u.Transform,u.Visible,i],initialize:function(d,v,c,p,g,T){r.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,c),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),g,T):this.createElement(p,g,T):p&&this.setElement(p,g,T),d.sys.events.on(s.SLEEP,this.handleSceneEvent,this),d.sys.events.on(s.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(h){var d=this.node,v=d.style;d&&(v.display=h.settings.visible?"block":"none")},setSkew:function(h,d){return h===void 0&&(h=0),d===void 0&&(d=h),this.skewX=h,this.skewY=d,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var d=0;d<h.length;d++)this.node.addEventListener(h[d],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var d=0;d<h.length;d++)this.node.removeEventListener(h[d],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,d,v){return this.setElement(document.createElement(h),d,v)},setElement:function(h,d,v){this.removeElement();var c;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),c=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(c=h),!c)return this;if(this.node=c,d&&a(d))for(var p in d)c.style[p]=d[p];else typeof d=="string"&&(c.style=d);return c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),v&&(c.innerText=v),this.updateSize()},createFromCache:function(h,d){var v=this.cache.get(h);return v&&this.createFromHTML(v,d),this},createFromHTML:function(h,d){d===void 0&&(d="div"),this.removeElement();var v=document.createElement(d);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var h=this.node,d=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=d.width||0,this.displayHeight=d.height||0,this},getChildByProperty:function(h,d){if(this.node){for(var v=this.node.querySelectorAll("*"),c=0;c<v.length;c++)if(v[c][h]===d)return v[c]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preUpdate:function(){var h=this.parentContainer,d=this.node;d&&h&&!h.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this)}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),u=t(15),i=t(25),r=new i,a=new i,n=new i,s=function(f,o,h,d){if(o.node){var v=o.node.style,c=o.scene.sys.settings;if(!v||!c.visible||u.RENDER_MASK!==o.renderFlags||o.cameraFilter!==0&&o.cameraFilter&h.id||o.parentContainer&&!o.parentContainer.willRender()){v.display="none";return}var p=o.parentContainer,g=h.alpha*o.alpha;p&&(g*=p.alpha);var T=r,E=a,S=n,C=0,P=0,A="0%",R="0%";d?(C=o.width*o.scaleX*o.originX,P=o.height*o.scaleY*o.originY,E.applyITRS(o.x-C,o.y-P,o.rotation,o.scaleX,o.scaleY),T.copyFrom(h.matrix),T.multiplyWithOffset(d,-h.scrollX*o.scrollFactorX,-h.scrollY*o.scrollFactorY),E.e=o.x-C,E.f=o.y-P,T.multiply(E,S)):(C=o.width*o.originX,P=o.height*o.originY,E.applyITRS(o.x-C,o.y-P,o.rotation,o.scaleX,o.scaleY),T.copyFrom(h.matrix),A=100*o.originX+"%",R=100*o.originY+"%",E.e-=h.scrollX*o.scrollFactorX,E.f-=h.scrollY*o.scrollFactorY,T.multiply(E,S)),o.transformOnly||(v.display="block",v.opacity=g,v.zIndex=o._depth,v.pointerEvents=o.pointerEvents,v.mixBlendMode=e[o._blendMode]),v.transform=S.getCSSMatrix()+" skew("+o.skewX+"rad, "+o.skewY+"rad) rotate3d("+o.rotate3d.x+","+o.rotate3d.y+","+o.rotate3d.z+","+o.rotate3d.w+o.rotate3dAngle+")",v.transformOrigin=A+" "+R}};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(1060),a=new e({Extends:i,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.Origin,u.ScrollFactor,u.Size,u.Texture,u.Tint,u.Transform,u.Visible,r],initialize:function(s){i.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),u=t(98),i=t(14),r=t(4),a=function(n,s,f){f===void 0&&(f=new r);var o=u(s,0,i.PI2);return e(n,o,f)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),u=t(218),i=t(98),r=t(14),a=function(n,s,f,o){o===void 0&&(o=[]),!s&&f>0&&(s=e(n)/f);for(var h=0;h<s;h++){var d=i(h/s,0,r.PI2);o.push(u(n,d))}return o};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.width/2,i=e.height/2,r=Math.pow(u-i,2)/Math.pow(u+i,2);return Math.PI*(u+i)*(1+3*r/(10+Math.sqrt(4-3*r)))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),u=t(30),i=function(r,a,n,s,f,o){var h=a.commandBuffer,d=h.length,v=f||r.currentContext;if(!(d===0||!u(r,v,a,n,s))){n.addToRenderList(a);var c=1,p=1,g=0,T=0,E=1,S=0,C=0,P=0;v.beginPath();for(var A=0;A<d;++A){var R=h[A];switch(R){case e.ARC:v.arc(h[A+1],h[A+2],h[A+3],h[A+4],h[A+5],h[A+6]),A+=7;break;case e.LINE_STYLE:E=h[A+1],g=h[A+2],c=h[A+3],S=(g&16711680)>>>16,C=(g&65280)>>>8,P=g&255,v.strokeStyle="rgba("+S+","+C+","+P+","+c+")",v.lineWidth=E,A+=3;break;case e.FILL_STYLE:T=h[A+1],p=h[A+2],S=(T&16711680)>>>16,C=(T&65280)>>>8,P=T&255,v.fillStyle="rgba("+S+","+C+","+P+","+p+")",A+=2;break;case e.BEGIN_PATH:v.beginPath();break;case e.CLOSE_PATH:v.closePath();break;case e.FILL_PATH:o||v.fill();break;case e.STROKE_PATH:o||v.stroke();break;case e.FILL_RECT:o?v.rect(h[A+1],h[A+2],h[A+3],h[A+4]):v.fillRect(h[A+1],h[A+2],h[A+3],h[A+4]),A+=4;break;case e.FILL_TRIANGLE:v.beginPath(),v.moveTo(h[A+1],h[A+2]),v.lineTo(h[A+3],h[A+4]),v.lineTo(h[A+5],h[A+6]),v.closePath(),o||v.fill(),A+=6;break;case e.STROKE_TRIANGLE:v.beginPath(),v.moveTo(h[A+1],h[A+2]),v.lineTo(h[A+3],h[A+4]),v.lineTo(h[A+5],h[A+6]),v.closePath(),o||v.stroke(),A+=6;break;case e.LINE_TO:v.lineTo(h[A+1],h[A+2]),A+=2;break;case e.MOVE_TO:v.moveTo(h[A+1],h[A+2]),A+=2;break;case e.LINE_FX_TO:v.lineTo(h[A+1],h[A+2]),A+=5;break;case e.MOVE_FX_TO:v.moveTo(h[A+1],h[A+2]),A+=5;break;case e.SAVE:v.save();break;case e.RESTORE:v.restore();break;case e.TRANSLATE:v.translate(h[A+1],h[A+2]),A+=2;break;case e.SCALE:v.scale(h[A+1],h[A+2]),A+=2;break;case e.ROTATE:v.rotate(h[A+1]),A+=1;break;case e.GRADIENT_FILL_STYLE:A+=5;break;case e.GRADIENT_LINE_STYLE:A+=6;break}}v.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(137),i=t(80),r=t(2),a=t(68),n=new e({initialize:function(f,o,h,d){d===void 0&&(d=!1),this.propertyKey=o,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=d,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(f)},loadConfig:function(s,f){s===void 0&&(s={}),f&&(this.propertyKey=f),this.propertyValue=r(s,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(s){return this.propertyValue=s,this.setMethods()},setMethods:function(){var s=this.propertyValue,f=typeof s;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,f==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(s))this.onEmit=this.randomStaticValueEmit;else if(f==="function")this.emitOnly?this.onEmit=s:this.onUpdate=s;else if(f==="object"&&this.hasBoth(s,"start","end")){this.start=s.start,this.end=s.end;var o=this.has(s,"random");if(o&&(this.onEmit=this.randomRangedValueEmit),this.has(s,"steps"))this.steps=s.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var h=this.has(s,"ease")?s.ease:"Linear";this.ease=i(h,s.easeParams),o||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(f==="object"&&this.hasBoth(s,"min","max"))this.start=s.min,this.end=s.max,this.onEmit=this.randomRangedValueEmit;else if(f==="object"&&this.has(s,"random")){var d=s.random;Array.isArray(d)&&(this.start=d[0],this.end=d[1]),this.onEmit=this.randomRangedValueEmit}else f==="object"&&this.hasEither(s,"onEmit","onUpdate")&&(this.has(s,"onEmit")&&(this.onEmit=s.onEmit),this.has(s,"onUpdate")&&(this.onUpdate=s.onUpdate));return this},has:function(s,f){return s.hasOwnProperty(f)},hasBoth:function(s,f,o){return s.hasOwnProperty(f)&&s.hasOwnProperty(o)},hasEither:function(s,f,o){return s.hasOwnProperty(f)||s.hasOwnProperty(o)},defaultEmit:function(s,f,o){return o},defaultUpdate:function(s,f,o,h){return h},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var s=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[s]},randomRangedValueEmit:function(s,f){var o=u(this.start,this.end);return s&&s.data[f]&&(s.data[f].min=o),o},steppedEmit:function(){var s=this.counter,f=this.counter+(this.end-this.start)/this.steps;return this.counter=a(f,this.start,this.end),s},easedValueEmit:function(s,f){if(s&&s.data[f]){var o=s.data[f];o.min=this.start,o.max=this.end}return this.start},easeValueUpdate:function(s,f,o){var h=s.data[f];return(h.max-h.min)*this.ease(o)+h.min}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=new e({initialize:function(a,n,s,f,o){if(typeof a=="object"){var h=a;a=u(h,"x",0),n=u(h,"y",0),s=u(h,"power",0),f=u(h,"epsilon",100),o=u(h,"gravity",50)}else a===void 0&&(a=0),n===void 0&&(n=0),s===void 0&&(s=0),f===void 0&&(f=100),o===void 0&&(o=50);this.x=a,this.y=n,this.active=!0,this._gravity=o,this._power=0,this._epsilon=0,this.power=s,this.epsilon=f},update:function(r,a){var n=this.x-r.x,s=this.y-r.y,f=n*n+s*s;if(f!==0){var o=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var h=this._power*a/(f*o)*100;r.velocityX+=n*h,r.velocityY+=s*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var a=this.power;this._gravity=r,this.power=a}}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),i=t(50),r=new e({initialize:function(n){this.emitter=n,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(a,n){var s=this.emitter;this.frame=s.getFrame(),s.emitZone&&s.emitZone.getPoint(this),a===void 0?this.x+=s.x.onEmit(this,"x"):this.x+=a,n===void 0?this.y+=s.y.onEmit(this,"y"):this.y+=n,this.life=s.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var f=s.speedX.onEmit(this,"speedX"),o=s.speedY?s.speedY.onEmit(this,"speedY"):f;if(s.radial){var h=u(s.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(f),this.velocityY=Math.sin(h)*Math.abs(o)}else if(s.moveTo){var d=s.moveToX.onEmit(this,"moveToX"),v=s.moveToY?s.moveToY.onEmit(this,"moveToY"):d,c=Math.atan2(v-this.y,d-this.x),p=i(this.x,this.y,d,v)/(this.life/1e3);this.velocityX=Math.cos(c)*p,this.velocityY=Math.sin(c)*p}else this.velocityX=f,this.velocityY=o;s.acceleration&&(this.accelerationX=s.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=s.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=s.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=s.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=s.delay.onEmit(this,"delay"),this.scaleX=s.scaleX.onEmit(this,"scaleX"),this.scaleY=s.scaleY?s.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=s.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),this.bounce=s.bounce.onEmit(this,"bounce"),this.alpha=s.alpha.onEmit(this,"alpha"),this.tint=s.tint.onEmit(this,"tint")},computeVelocity:function(a,n,s,f){var o=this.velocityX,h=this.velocityY,d=this.accelerationX,v=this.accelerationY,c=this.maxVelocityX,p=this.maxVelocityY;o+=a.gravityX*s,h+=a.gravityY*s,d&&(o+=d*s),v&&(h+=v*s),o>c?o=c:o<-c&&(o=-c),h>p?h=p:h<-p&&(h=-p),this.velocityX=o,this.velocityY=h;for(var g=0;g<f.length;g++)f[g].update(this,n,s)},checkBounds:function(a){var n=a.bounds,s=-this.bounce;this.x<n.x&&a.collideLeft?(this.x=n.x,this.velocityX*=s):this.x>n.right&&a.collideRight&&(this.x=n.right,this.velocityX*=s),this.y<n.y&&a.collideTop?(this.y=n.y,this.velocityY*=s):this.y>n.bottom&&a.collideBottom&&(this.y=n.bottom,this.velocityY*=s)},update:function(a,n,s){if(this.delayCurrent>0)return this.delayCurrent-=a,!1;var f=this.emitter,o=1-this.lifeCurrent/this.life;return this.lifeT=o,this.computeVelocity(f,a,n,s),this.x+=this.velocityX*n,this.y+=this.velocityY*n,f.bounds&&this.checkBounds(f),f.deathZone&&f.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=f.scaleX.onUpdate(this,"scaleX",o,this.scaleX),f.scaleY?this.scaleY=f.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=u(this.angle),this.alpha=f.alpha.onUpdate(this,"alpha",o,this.alpha),this.tint=f.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0)}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(0),i=t(11),r=t(453),a=t(454),n=t(449),s=t(2),f=t(210),o=t(455),h=t(126),d=t(451),v=t(456),c=t(10),p=t(79),g=t(3),T=t(68),E=new u({Mixins:[i.BlendMode,i.Mask,i.ScrollFactor,i.Visible],initialize:function(C,P){this.manager=C,this.texture=C.texture,this.frames=[C.defaultFrame],this.defaultFrame=C.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new n(P,"x",0,!0),this.y=new n(P,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new n(P,"accelerationX",0,!0),this.accelerationY=new n(P,"accelerationY",0,!0),this.maxVelocityX=new n(P,"maxVelocityX",1e4,!0),this.maxVelocityY=new n(P,"maxVelocityY",1e4,!0),this.speedX=new n(P,"speedX",0,!0),this.speedY=new n(P,"speedY",0,!0),this.moveTo=!1,this.moveToX=new n(P,"moveToX",0,!0),this.moveToY=new n(P,"moveToY",0,!0),this.bounce=new n(P,"bounce",0,!0),this.scaleX=new n(P,"scaleX",1),this.scaleY=new n(P,"scaleY",1),this.tint=new n(P,"tint",16777215),this.alpha=new n(P,"alpha",1),this.lifespan=new n(P,"lifespan",1e3,!0),this.angle=new n(P,"angle",{min:0,max:360},!0),this.rotate=new n(P,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new n(P,"quantity",1,!0),this.delay=new n(P,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new g,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,P&&this.fromJSON(P)},fromJSON:function(S){if(!S)return this;var C=0,P="";for(C=0;C<this.configFastMap.length;C++)P=this.configFastMap[C],h(S,P)&&(this[P]=s(S,P));for(C=0;C<this.configOpMap.length;C++)P=this.configOpMap[C],h(S,P)&&this[P].loadConfig(S);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,h(S,"speed")&&(this.speedX.loadConfig(S,"speed"),this.speedY=null),(o(S,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),h(S,"scale")&&(this.scaleX.loadConfig(S,"scale"),this.scaleY=null),h(S,"callbackScope")){var A=s(S,"callbackScope",null);this.emitCallbackScope=A,this.deathCallbackScope=A}return h(S,"emitZone")&&this.setEmitZone(S.emitZone),h(S,"deathZone")&&this.setDeathZone(S.deathZone),h(S,"bounds")&&this.setBounds(S.bounds),h(S,"followOffset")&&this.followOffset.setFromObject(s(S,"followOffset",0)),h(S,"frame")&&this.setFrame(S.frame),h(S,"reserve")&&this.reserve(S.reserve),this},toJSON:function(S){S===void 0&&(S={});var C=0,P="";for(C=0;C<this.configFastMap.length;C++)P=this.configFastMap[C],S[P]=this[P];for(C=0;C<this.configOpMap.length;C++)P=this.configOpMap[C],this[P]&&(S[P]=this[P].toJSON());return this.speedY||(delete S.speedX,S.speed=this.speedX.toJSON()),this.scaleY||(delete S.scaleX,S.scale=this.scaleX.toJSON()),S},startFollow:function(S,C,P,A){return C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=!1),this.follow=S,this.followOffset.set(C,P),this.trackVisible=A,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return f(this.frames);var S=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=T(this.currentFrame+1,0,this._frameLength)),S},setFrame:function(S,C,P){C===void 0&&(C=!0),P===void 0&&(P=1),this.randomFrame=C,this.frameQuantity=P,this.currentFrame=0,this._frameCounter=0;var A=typeof S;if(Array.isArray(S)||A==="string"||A==="number")this.manager.setEmitterFrames(S,this);else if(A==="object"){var R=S;S=s(R,"frames",null),S&&this.manager.setEmitterFrames(S,this);var M=s(R,"cycle",!1);this.randomFrame=!M,this.frameQuantity=s(R,"quantity",P)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(S){return S===void 0&&(S=!0),this.radial=S,this},setPosition:function(S,C){return this.x.onChange(S),this.y.onChange(C),this},setBounds:function(S,C,P,A){if(typeof S=="object"){var R=S;S=R.x,C=R.y,P=h(R,"w")?R.w:R.width,A=h(R,"h")?R.h:R.height}return this.bounds?this.bounds.setTo(S,C,P,A):this.bounds=new c(S,C,P,A),this},setSpeedX:function(S){return this.speedX.onChange(S),this.radial=!1,this},setSpeedY:function(S){return this.speedY&&(this.speedY.onChange(S),this.radial=!1),this},setSpeed:function(S){return this.speedX.onChange(S),this.speedY=null,this.radial=!0,this},setScaleX:function(S){return this.scaleX.onChange(S),this},setScaleY:function(S){return this.scaleY.onChange(S),this},setScale:function(S){return this.scaleX.onChange(S),this.scaleY=null,this},setGravityX:function(S){return this.gravityX=S,this},setGravityY:function(S){return this.gravityY=S,this},setGravity:function(S,C){return this.gravityX=S,this.gravityY=C,this},setAlpha:function(S){return this.alpha.onChange(S),this},setTint:function(S){return this.tint.onChange(S),this},setEmitterAngle:function(S){return this.angle.onChange(S),this},setAngle:function(S){return this.angle.onChange(S),this},setLifespan:function(S){return this.lifespan.onChange(S),this},setQuantity:function(S){return this.quantity.onChange(S),this},setFrequency:function(S,C){return this.frequency=S,this._counter=0,C&&this.quantity.onChange(C),this},setEmitZone:function(S){if(S===void 0)this.emitZone=null;else{var C=s(S,"type","random"),P=s(S,"source",null);switch(C){case"random":this.emitZone=new v(P);break;case"edge":var A=s(S,"quantity",1),R=s(S,"stepRate",0),M=s(S,"yoyo",!1),L=s(S,"seamless",!0);this.emitZone=new a(P,A,R,M,L);break}}return this},setDeathZone:function(S){if(S===void 0)this.deathZone=null;else{var C=s(S,"type","onEnter"),P=s(S,"source",null);if(P&&typeof P.contains=="function"){var A=C==="onEnter";this.deathZone=new r(P,A)}}return this},reserve:function(S){for(var C=this.dead,P=0;P<S;P++)C.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(S,C){return S===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof S=="function"&&(this.emitCallback=S,C&&(this.emitCallbackScope=C)),this},onParticleDeath:function(S,C){return S===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof S=="function"&&(this.deathCallback=S,C&&(this.deathCallbackScope=C)),this},killAll:function(){for(var S=this.dead,C=this.alive;C.length>0;)S.push(C.pop());return this},forEachAlive:function(S,C){for(var P=this.alive,A=P.length,R=0;R<A;++R)S.call(C,P[R],this);return this},forEachDead:function(S,C){for(var P=this.dead,A=P.length,R=0;R<A;++R)S.call(C,P[R],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return p(this.alive,this.depthSortCallback),this},flow:function(S,C){return C===void 0&&(C=1),this.frequency=S,this.quantity.onChange(C),this.start()},explode:function(S,C,P){return this.frequency=-1,this.emitParticle(S,C,P)},emitParticleAt:function(S,C,P){return this.emitParticle(P,S,C)},emitParticle:function(S,C,P){if(!this.atLimit()){S===void 0&&(S=this.quantity.onEmit());for(var A=this.dead,R=this.follow?this.follow.x+this.followOffset.x:C,M=this.follow?this.follow.y+this.followOffset.y:P,L=0;L<S;L++){var F=A.pop();if(F||(F=new this.particleClass(this)),F.fire(R,M),this.particleBringToTop?this.alive.push(F):this.alive.unshift(F),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,F,this),this.atLimit())break}return F}},preUpdate:function(S,C){C*=this.timeScale;var P=C/1e3;this.trackVisible&&(this.visible=this.follow.visible);var A=this.manager.getProcessors(),R=this.alive,M=this.dead,L=0,F=[],I=R.length;for(L=0;L<I;L++){var B=R[L];B.update(C,P,A)&&F.push({index:L,particle:B})}if(I=F.length,I>0){var b=this.deathCallback,W=this.deathCallbackScope;for(L=I-1;L>=0;L--){var $=F[L];R.splice($.index,1),M.push($.particle),b&&b.call(W,$.particle),$.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=C,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(S,C){return S.y-C.y}});l.exports=E},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a){this.source=r,this.killOnEnter=a},willKill:function(i){var r=this.source.contains(i.x,i.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s,f){s===void 0&&(s=!1),f===void 0&&(f=!0),this.source=r,this.points=[],this.quantity=a,this.stepRate=n,this.yoyo=s,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var i=this.points[0],r=this.points[this.points.length-1];i.x===r.x&&i.y===r.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(i){return this.source=i,this.updateSource()},getPoint:function(i){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(i.x=r.x,i.y=r.y)}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var i=0;i<u.length;i++)if(e.hasOwnProperty(u[i]))return!0;return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),i=new e({initialize:function(a){this.source=a,this._tempVec=new u},getPoint:function(r){var a=this._tempVec;this.source.getRandomPoint(a),r.x=a.x,r.y=a.y}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(73),r=new e({Extends:i,Mixins:[u.PathFollower],initialize:function(n,s,f,o,h,d){i.call(this,n,f,o,h,d),this.path=s},preUpdate:function(a,n){this.anims.update(a,n),this.pathUpdate(a)}});l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=e.canvas,a=e.context,n=e.style,s=[],f=0,o=i.length;n.maxLines>0&&n.maxLines<i.length&&(o=n.maxLines),n.syncFont(r,a);for(var h=0;h<o;h++){var d=n.strokeThickness;d+=a.measureText(i[h]).width,n.wordWrap&&(d-=a.measureText(" ").width),s[h]=Math.ceil(d),f=Math.max(f,s[h])}var v=u.fontSize+n.strokeThickness,c=v*o,p=e.lineSpacing;return o>1&&(c+=p*(o-1)),{width:f,height:c,lines:o,lineWidths:s,lineSpacing:p,lineHeight:v}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(13),i=t(6),r=t(460),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new e({initialize:function(f,o){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(o,!1,!0);var h=i(o,"metrics",!1);h?this.metrics={ascent:i(h,"ascent",0),descent:i(h,"descent",0),fontSize:i(h,"fontSize",0)}:this.metrics=r(this)},setStyle:function(s,f,o){f===void 0&&(f=!0),o===void 0&&(o=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var h in a){var d=o?a[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=i(s,a[h][0],d):this[h]=u(s,a[h][0],d)}var v=i(s,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var c=i(s,"fill",null);return c!==null&&(this.color=c),f?this.update(!0):this.parent},syncFont:function(s,f){f.font=this._font},syncStyle:function(s,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(s,f){f?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,f){f===void 0&&(f=!0);var o=s,h="",d="";if(typeof s!="string")o=i(s,"fontFamily","Courier"),h=i(s,"fontSize","16px"),d=i(s,"fontStyle","");else{var v=s.split(" "),c=0;d=v.length>2?v[c++]:"",h=v[c++]||"16px",o=v[c++]||"Courier"}return(o!==this.fontFamily||h!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=o,this.fontSize=h,this.fontStyle=d,f&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,f){return this.fixedWidth=s,this.fixedHeight=f,s&&(this.parent.width=s),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,f){return f===void 0&&(f=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==f)&&(this.stroke=s,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(s,f,o,h,d,v){return s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o="#000"),h===void 0&&(h=0),d===void 0&&(d=!1),v===void 0&&(v=!0),this.shadowOffsetX=s,this.shadowOffsetY=f,this.shadowColor=o,this.shadowBlur=h,this.shadowStroke=d,this.shadowFill=v,this.update(!1)},setShadowOffset:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this.shadowOffsetX=s,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,f){return f===void 0&&(f=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(s,f){return f===void 0&&(f=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var f in a)s[f]=this[f];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=function(i){var r=e.create(this),a=r.getContext("2d");i.syncFont(r,a);var n=a.measureText(i.testString);if("actualBoundingBoxAscent"in n){var s=n.actualBoundingBoxAscent,f=n.actualBoundingBoxDescent;return e.remove(r),{ascent:s,descent:f,fontSize:s+f}}var o=Math.ceil(n.width*i.baselineX),h=o,d=2*h;h=h*i.baselineY|0,r.width=o,r.height=d,a.fillStyle="#f00",a.fillRect(0,0,o,d),a.font=i._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(i.testString,0,h);var v={ascent:0,descent:0,fontSize:0},c=a.getImageData(0,0,o,d);if(!c)return v.ascent=h,v.descent=h+6,v.fontSize=v.ascent+v.descent,e.remove(r),v;var p=c.data,g=p.length,T=o*4,E,S,C=0,P=!1;for(E=0;E<h;E++){for(S=0;S<T;S+=4)if(p[C+S]!==255){P=!0;break}if(!P)C+=T;else break}for(v.ascent=h-E,C=g-T,P=!1,E=d;E>h;E--){for(S=0;S<T;S+=4)if(p[C+S]!==255){P=!0;break}if(!P)C-=T;else break}return v.descent=E-h,v.fontSize=v.ascent+v.descent,e.remove(r),v};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),u=t(0),i=t(36),r=t(59),a=t(65),n=t(14),s=t(34),f=new u({Extends:s,Mixins:[e],initialize:function(h,d,v,c,p,g,T,E,S){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=128),p===void 0&&(p=0),g===void 0&&(g=360),T===void 0&&(T=!1),s.call(this,h,"Arc",new a(0,0,c)),this._startAngle=p,this._endAngle=g,this._anticlockwise=T,this._iterations=.01,this.setPosition(d,v);var C=this.geom.radius*2;this.setSize(C,C),E!==void 0&&this.setFillStyle(E,S),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(o){this._iterations=o,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(o){this.geom.radius=o;var h=o*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(o){this._startAngle=o,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(o){this._endAngle=o,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(o){this._anticlockwise=o,this.updateData()}},setRadius:function(o){return this.radius=o,this},setIterations:function(o){return o===void 0&&(o=.01),this.iterations=o,this},setStartAngle:function(o,h){return this._startAngle=o,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(o,h){return this._endAngle=o,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var o=this._iterations,h=o,d=this.geom.radius,v=i(this._startAngle),c=i(this._endAngle),p=this._anticlockwise,g=d,T=d;c-=v,p?c<-n.PI2?c=-n.PI2:c>0&&(c=-n.PI2+c%n.PI2):c>n.PI2?c=n.PI2:c<0&&(c=n.PI2+c%n.PI2);for(var E=[g+Math.cos(v)*d,T+Math.sin(v)*d],S;h<1;)S=c*h+v,E.push(g+Math.cos(S)*d,T+Math.sin(S)*d),h+=o;return S=c+v,E.push(g+Math.cos(S)*d,T+Math.sin(S)*d),E.push(g+Math.cos(v)*d,T+Math.sin(v)*d),this.pathIndexes=r(E),this.pathData=E,this}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1100),i=t(59),r=t(10),a=t(34),n=new e({Extends:a,Mixins:[u],initialize:function(f,o,h,d,v,c){o===void 0&&(o=0),h===void 0&&(h=0),a.call(this,f,"Curve",d),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(o,h),v!==void 0&&this.setFillStyle(v,c),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,f=this._smoothness;this.geom.getBounds(s,f),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var o=[],h=this.geom.getPoints(f),d=0;d<h.length;d++)o.push(h[d].x,h[d].y);return o.push(h[0].x,h[0].y),this.pathIndexes=i(o),this.pathData=o,this}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),i=t(1103),r=t(111),a=t(34),n=new e({Extends:a,Mixins:[i],initialize:function(f,o,h,d,v,c,p){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=128),v===void 0&&(v=128),a.call(this,f,"Ellipse",new r(d/2,v/2,d,v)),this._smoothness=64,this.setPosition(o,h),this.width=d,this.height=v,c!==void 0&&this.setFillStyle(c,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,f){return this.width=s,this.height=f,this.geom.setPosition(s/2,f/2),this.geom.setSize(s,f),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],f=this.geom.getPoints(this._smoothness),o=0;o<f.length;o++)s.push(f[o].x,f[o].y);return s.push(f[0].x,f[0].y),this.pathIndexes=u(s),this.pathData=s,this}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),i=t(1106),r=new e({Extends:u,Mixins:[i],initialize:function(n,s,f,o,h,d,v,c,p,g,T){s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o=128),h===void 0&&(h=128),d===void 0&&(d=32),v===void 0&&(v=32),u.call(this,n,"Grid",null),this.cellWidth=d,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,f),this.setSize(o,h),this.setFillStyle(c,p),g!==void 0&&this.setOutlineStyle(g,T),this.updateDisplayOrigin()},setFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=n,this.showOutline=!0),this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),u=t(0),i=t(34),r=new u({Extends:i,Mixins:[e],initialize:function(n,s,f,o,h,d,v,c){s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o=48),h===void 0&&(h=32),d===void 0&&(d=15658734),v===void 0&&(v=10066329),c===void 0&&(c=13421772),i.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,f),this.setSize(o,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,n,s){return a===void 0&&(a=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),this.showTop=a,this.showLeft=n,this.showRight=s,this},setFillStyle:function(a,n,s){return this.fillTop=a,this.fillLeft=n,this.fillRight=s,this.isFilled=!0,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1112),i=t(34),r=new e({Extends:i,Mixins:[u],initialize:function(n,s,f,o,h,d,v,c,p){s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o=48),h===void 0&&(h=32),d===void 0&&(d=!1),v===void 0&&(v=15658734),c===void 0&&(c=10066329),p===void 0&&(p=13421772),i.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=c,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(s,f),this.setSize(o,h),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,n,s){return a===void 0&&(a=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),this.showTop=a,this.showLeft=n,this.showRight=s,this},setFillStyle:function(a,n,s){return this.fillTop=a,this.fillLeft=n,this.fillRight=s,this.isFilled=!0,this}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),i=t(47),r=t(1115),a=new e({Extends:u,Mixins:[r],initialize:function(s,f,o,h,d,v,c,p,g){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=0),v===void 0&&(v=128),c===void 0&&(c=0),u.call(this,s,"Line",new i(h,d,v,c));var T=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,o),this.setSize(T,E),p!==void 0&&this.setStrokeStyle(1,p,g),this.updateDisplayOrigin()},setLineWidth:function(n,s){return s===void 0&&(s=n),this._startWidth=n,this._endWidth=s,this.lineWidth=n,this},setTo:function(n,s,f,o){return this.geom.setTo(n,s,f,o),this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),u=t(0),i=t(59),r=t(469),a=t(227),n=t(34),s=t(472),f=new u({Extends:n,Mixins:[e],initialize:function(h,d,v,c,p,g){d===void 0&&(d=0),v===void 0&&(v=0),n.call(this,h,"Polygon",new a(c));var T=r(this.geom);this.setPosition(d,v),this.setSize(T.width,T.height),p!==void 0&&this.setFillStyle(p,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(o){o===void 0&&(o=1);for(var h=0;h<o;h++)s(this.geom);return this.updateData()},updateData:function(){for(var o=[],h=this.geom.points,d=0;d<h.length;d++)o.push(h[d].x,h[d].y);return o.push(h[0].x,h[0].y),this.pathIndexes=i(o),this.pathData=o,this}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r){r===void 0&&(r=new e);for(var a=1/0,n=1/0,s=-a,f=-n,o,h=0;h<i.points.length;h++)o=i.points[h],a=Math.min(a,o.x),n=Math.min(n,o.y),s=Math.max(s,o.x),f=Math.max(f,o.y);return r.x=a,r.y=n,r.width=s-a,r.height=f-n,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(47),i=t(471),r=function(a,n,s,f){f===void 0&&(f=[]);var o=a.points,h=i(a);!n&&s>0&&(n=h/s);for(var d=0;d<n;d++)for(var v=h*(d/n),c=0,p=0;p<o.length;p++){var g=o[p],T=o[(p+1)%o.length],E=new u(g.x,g.y,T.x,T.y),S=e(E);if(v<c||v>c+S){c+=S;continue}var C=E.getPoint((v-c)/S);f.push(C);break}return f};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(47),i=function(r){for(var a=r.points,n=0,s=0;s<a.length;s++){var f=a[s],o=a[(s+1)%a.length],h=new u(f.x,f.y,o.x,o.y);n+=e(h)}return n};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(u,i){return u[0]=i[0],u[1]=i[1],u},e=function(u){var i,r=[],a=u.points;for(i=0;i<a.length;i++)r.push([a[i].x,a[i].y]);var n=[];for(r.length>0&&n.push(t([0,0],r[0])),i=0;i<r.length-1;i++){var s=r[i],f=r[i+1],o=s[0],h=s[1],d=f[0],v=f[1];n.push([.85*o+.15*d,.85*h+.15*v]),n.push([.15*o+.85*d,.15*h+.85*v])}return r.length>1&&n.push(t([0,0],r[r.length-1])),u.setTo(n)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(10),i=t(34),r=t(1121),a=new e({Extends:i,Mixins:[r],initialize:function(s,f,o,h,d,v,c){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=128),d===void 0&&(d=128),i.call(this,s,"Rectangle",new u(0,0,h,d)),this.setPosition(f,o),this.setSize(h,d),v!==void 0&&this.setFillStyle(v,c),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,s){return this.width=n,this.height=s,this.geom.setSize(n,s),this.updateData(),this},updateData:function(){var n=[],s=this.geom,f=this._tempLine;return s.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),s.getLineB(f),n.push(f.x2,f.y2),s.getLineC(f),n.push(f.x2,f.y2),s.getLineD(f),n.push(f.x2,f.y2),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),u=t(0),i=t(59),r=t(34),a=new u({Extends:r,Mixins:[e],initialize:function(s,f,o,h,d,v,c,p){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=5),d===void 0&&(d=32),v===void 0&&(v=64),r.call(this,s,"Star",null),this._points=h,this._innerRadius=d,this._outerRadius=v,this.setPosition(f,o),this.setSize(v*2,v*2),c!==void 0&&this.setFillStyle(c,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],s=this._points,f=this._innerRadius,o=this._outerRadius,h=Math.PI/2*3,d=Math.PI/s,v=o,c=o;n.push(v,c+-o);for(var p=0;p<s;p++)n.push(v+Math.cos(h)*o,c+Math.sin(h)*o),h+=d,n.push(v+Math.cos(h)*f,c+Math.sin(h)*f),h+=d;return n.push(v,c+-o),this.pathIndexes=i(n),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),i=t(82),r=t(1127),a=new e({Extends:u,Mixins:[r],initialize:function(s,f,o,h,d,v,c,p,g,T,E){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=128),v===void 0&&(v=64),c===void 0&&(c=0),p===void 0&&(p=128),g===void 0&&(g=128),u.call(this,s,"Triangle",new i(h,d,v,c,p,g));var S=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(f,o),this.setSize(S,C),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,s,f,o,h,d){return this.geom.setTo(n,s,f,o,h,d),this.updateData()},updateData:function(){var n=[],s=this.geom,f=this._tempLine;return s.getLineA(f),n.push(f.x1,f.y1,f.x2,f.y2),s.getLineB(f),n.push(f.x2,f.y2),s.getLineC(f),n.push(f.x2,f.y2),this.pathData=n,this}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(67),i=function(r,a,n){n===void 0&&(n=new e);var s=r.getLineA(),f=r.getLineB(),o=r.getLineC();if(a<=0||a>=1)return n.x=s.x1,n.y=s.y1,n;var h=u(s),d=u(f),v=u(o),c=h+d+v,p=c*a,g=0;return p<h?(g=p/h,n.x=s.x1+(s.x2-s.x1)*g,n.y=s.y1+(s.y2-s.y1)*g):p>h+d?(p-=h+d,g=p/v,n.x=o.x1+(o.x2-o.x1)*g,n.y=o.y1+(o.y2-o.y1)*g):(p-=h,g=p/d,n.x=f.x1+(f.x2-f.x1)*g,n.y=f.y1+(f.y2-f.y1)*g),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(4),i=function(r,a,n,s){s===void 0&&(s=[]);var f=r.getLineA(),o=r.getLineB(),h=r.getLineC(),d=e(f),v=e(o),c=e(h),p=d+v+c;!a&&n>0&&(a=p/n);for(var g=0;g<a;g++){var T=p*(g/a),E=0,S=new u;T<d?(E=T/d,S.x=f.x1+(f.x2-f.x1)*E,S.y=f.y1+(f.y2-f.y1)*E):T>d+v?(T-=d+v,E=T/c,S.x=h.x1+(h.x2-h.x1)*E,S.y=h.y1+(h.y2-h.y1)*E):(T-=d,E=T/v,S.x=o.x1+(o.x2-o.x1)*E,S.y=o.y1+(o.y2-o.y1)*E),s.push(S)}return s};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=i,!0;if(u.indexOf(".")!==-1){for(var r=u.split("."),a=e,n=e,s=0;s<r.length;s++)if(a.hasOwnProperty(r[s]))n=a,a=a[r[s]];else return!1;return n[r[r.length-1]]=i,!0}return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(117),i=function(r,a,n,s,f,o,h){if(s===void 0&&(s=!1),o===void 0&&(o=16777215),h===void 0&&(h=1),r.length!==a.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},v,c,p,g,T,E,S,C,P,A,R,M=s?3:2,L=Array.isArray(o),F=Array.isArray(h);if(Array.isArray(n)&&n.length>0)for(v=0;v<n.length;v++){var I=n[v],B=n[v]*2,b=n[v]*M;c=r[b],p=r[b+1],g=s?r[b+2]:0,T=a[B],E=a[B+1],S=L?o[I]:o,C=F?h[I]:h,P=0,A=0,R=0,f&&(P=f[b],A=f[b+1],R=s?f[b+2]:0),d.vertices.push(new u(c,p,g,T,E,S,C,P,A,R))}else{var W=0,$=0;for(v=0;v<r.length;v+=M)c=r[v],p=r[v+1],g=s?r[v+2]:0,T=a[W],E=a[W+1],S=L?o[$]:o,C=F?h[$]:h,P=0,A=0,R=0,f&&(P=f[v],A=f[v+1],R=s?f[v+2]:0),d.vertices.push(new u(c,p,g,T,E,S,C,P,A,R)),W+=2,$++}for(v=0;v<d.vertices.length;v+=3){var Z=d.vertices[v],D=d.vertices[v+1],O=d.vertices[v+2];d.faces.push(new e(Z,D,O))}return d};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(69),i=t(39),r=t(117),a=new i,n=new i,s=new u,f=function(o,h,d,v,c,p,g,T,E,S){d===void 0&&(d=1),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),g===void 0&&(g=0),T===void 0&&(T=0),E===void 0&&(E=0),S===void 0&&(S=!0);var C={faces:[],verts:[]},P=o.materials;a.set(v,c,p),n.set(g,T,E),s.fromRotationXYTranslation(n,a,S);for(var A=0;A<o.models.length;A++)for(var R=o.models[A],M=R.vertices,L=R.textureCoords,F=R.faces,I=0;I<F.length;I++){var B=F[I],b=B.vertices[0],W=B.vertices[1],$=B.vertices[2],Z=M[b.vertexIndex],D=M[W.vertexIndex],O=M[$.vertexIndex],N=b.textureCoordsIndex,G=W.textureCoordsIndex,Y=$.textureCoordsIndex,V=N===-1?{u:0,v:1}:L[N],z=G===-1?{u:0,v:0}:L[G],H=Y===-1?{u:1,v:1}:L[Y],j=16777215;B.material!==""&&P[B.material]&&(j=P[B.material]);var q=new r(Z.x*d,Z.y*d,Z.z*d,V.u,V.v,j).transformMat4(s),et=new r(D.x*d,D.y*d,D.z*d,z.u,z.v,j).transformMat4(s),ot=new r(O.x*d,O.y*d,O.z*d,H.u,H.v,j).transformMat4(s);C.verts.push(q,et,ot),C.faces.push(new e(q,et,ot))}return h&&(h.faces=h.faces.concat(C.faces),h.vertices=h.vertices.concat(C.verts)),C};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=t(0),i=t(11),r=t(200),a=t(12),n=new u({Extends:e,Mixins:[i.ScrollFactor,i.Visible],initialize:function(f,o,h,d,v,c,p){e.call(this,f,o,h),this.color=new r(d,v,c),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(s){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var f=a.getFloatsFromUintRGB(s);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});n.RENDER_MASK=15,l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),u=t(0),i=t(50),r=t(481),a=t(150),n=t(200),s=t(74),f=t(79),o=t(12),h=new u({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,v,c,p,g,T){return this.systems.displayList.add(new a(this.scene,d,v,c,p,g,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var v=this.lights,c=d.worldView,p=[],g=0;g<v.length;g++){var T=v[g];T.willRender(d)&&e(T,c)&&p.push({light:T,distance:i(T.x,T.y,c.centerX,c.centerY)})}return p.length>this.maxLights&&(f(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(d,v){return d.distance>=v.distance},setAmbientColor:function(d){var v=o.getFloatsFromUintRGB(d);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,v,c,p,g){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=128),p===void 0&&(p=16777215),g===void 0&&(g=1);var T=o.getFloatsFromUintRGB(p),E=new r(d,v,c,T[0],T[1],T[2],g);return this.lights.push(E),E},removeLight:function(d){var v=this.lights.indexOf(d);return v>=0&&s(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),u=t(17),i={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=function(i,r,a){var n=i.x1,s=i.y1,f=i.x2,o=i.y2,h=r.x1,d=r.y1,v=r.x2,c=r.y2,p=f-n,g=o-s,T=v-h,E=c-d,S=E*p-T*g;if(p===0||S===0)return!1;var C=(p*(d-s)+g*(n-h))/(T*g-E*p),P=(h+T*C-n)/p;return P<0||C<0||C>1?null:(a===void 0&&(a=new e),a.set(n+p*P,s+g*P,P))};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(485),i=t(47),r=new i,a=new e,n=function(s,f,o){o===void 0&&(o=new e);var h=!1;o.set(),a.set();for(var d=f[0],v=1;v<f.length;v++){var c=f[v];r.setTo(d.x,d.y,c.x,c.y),d=c,u(s,r,a)&&(!h||a.z<o.z)&&(o.copy(a),h=!0)}return h?o:null};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(140),i=t(486),r=new e,a=function(n,s,f){f===void 0&&(f=new u),Array.isArray(s)||(s=[s]);var o=!1;f.set(),r.set();for(var h=0;h<s.length;h++)i(n,s[h].points,r)&&(!o||r.z<f.z)&&(f.set(r.x,r.y,r.z,h),o=!0);return o?f:null};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.x1,r=e.y1,a=e.x2,n=e.y2,s=u.x,f=u.y,o=u.right,h=u.bottom,d=0;if(i>=s&&i<=o&&r>=f&&r<=h||a>=s&&a<=o&&n>=f&&n<=h)return!0;if(i<s&&a>=s){if(d=r+(n-r)*(s-i)/(a-i),d>f&&d<=h)return!0}else if(i>o&&a<=o&&(d=r+(n-r)*(o-i)/(a-i),d>=f&&d<=h))return!0;if(r<f&&n>=f){if(d=i+(a-i)*(f-r)/(n-r),d>=s&&d<=o)return!0}else if(r>h&&n<=h&&(d=i+(a-i)*(h-r)/(n-r),d>=s&&d<=o))return!0;return!1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),u=t(57),i=t(235),r=t(490),a=function(n,s){if(s.left>n.right||s.right<n.left||s.top>n.bottom||s.bottom<n.top)return!1;var f=s.getLineA(),o=s.getLineB(),h=s.getLineC();if(u(n,f.x1,f.y1)||u(n,f.x2,f.y2)||u(n,o.x1,o.y1)||u(n,o.x2,o.y2)||u(n,h.x1,h.y1)||u(n,h.x2,h.y2))return!0;var d=n.getLineA(),v=n.getLineB(),c=n.getLineC(),p=n.getLineD();if(e(f,d)||e(f,v)||e(f,c)||e(f,p)||e(o,d)||e(o,v)||e(o,c)||e(o,p)||e(h,d)||e(h,v)||e(h,c)||e(h,p))return!0;var g=r(n),T=i(s,g,!0);return T.length>0};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),u=t(115),i=function(r,a){return r.left>a.right||r.right<a.left||r.top>a.bottom||r.bottom<a.top?!1:!!(u(r,a.x,a.y)||e(r.getLineA(),a)||e(r.getLineB(),a)||e(r.getLineC(),a))};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(493),i=t(96),r=function(a,n,s){if(s===void 0&&(s=[]),u(a,n))for(var f=a.getLineA(),o=a.getLineB(),h=a.getLineC(),d=[new e,new e,new e],v=[i(f,n,d[0]),i(o,n,d[1]),i(h,n,d[2])],c=0;c<3;c++)v[c]&&s.push(d[c]);return s};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),u=function(i,r){return!!(i.contains(r.x1,r.y1)||i.contains(r.x2,r.y2)||e(i.getLineA(),r)||e(i.getLineB(),r)||e(i.getLineC(),r))};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),u=t(495),i=t(96),r=function(a,n){if(a.left>n.right||a.right<n.left||a.top>n.bottom||a.bottom<n.top)return!1;var s=a.getLineA(),f=a.getLineB(),o=a.getLineC(),h=n.getLineA(),d=n.getLineB(),v=n.getLineC();if(i(s,h)||i(s,d)||i(s,v)||i(f,h)||i(f,d)||i(f,v)||i(o,h)||i(o,d)||i(o,v))return!0;var c=u(a),p=e(n,c,!0);return p.length>0||(c=u(n),p=e(a,c,!0),p.length>0)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){i===void 0&&(i=1);var r=u.x1,a=u.y1,n=u.x2,s=u.y2,f=e.x,o=e.y,h=(n-r)*(n-r)+(s-a)*(s-a);if(h===0)return!1;var d=((f-r)*(n-r)+(o-a)*(s-a))/h;if(d<0)return Math.sqrt((r-f)*(r-f)+(a-o)*(a-o))<=i;if(d>=0&&d<=1){var v=((a-o)*(n-r)-(r-f)*(s-a))/h;return Math.abs(v)*Math.sqrt(h)<=i}else return Math.sqrt((n-f)*(n-f)+(s-o)*(s-o))<=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(68),i=t(97),r=function(a){var n=i(a)-e.TAU;return u(n,-Math.PI,Math.PI)};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",u="",i="";function r(g){var T=g.indexOf("#");return T>-1?g.substring(0,T):g}function a(g){return g.models.length===0&&g.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",g.models[g.models.length-1]}function n(g,T){var E=g.length>=2?g[1]:e;T.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function s(g){g.length===2&&(u=g[1])}function f(g,T){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;a(T).vertices.push({x:S,y:C,z:P})}function o(g,T){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;isNaN(S)&&(S=0),isNaN(C)&&(C=0),isNaN(P)&&(P=0),t&&(C=1-C),a(T).textureCoords.push({u:S,v:C,w:P})}function h(g,T){var E=g.length,S=E>=2?parseFloat(g[1]):0,C=E>=3?parseFloat(g[2]):0,P=E>=4?parseFloat(g[3]):0;a(T).vertexNormals.push({x:S,y:C,z:P})}function d(g,T){var E=g.length-1;if(!(E<3)){for(var S={group:u,material:i,vertices:[]},C=0;C<E;C++){var P=g[C+1],A=P.split("/"),R=A.length;if(!(R<1||R>3)){var M=0,L=0,F=0;M=parseInt(A[0],10),R>1&&A[1]!==""&&(L=parseInt(A[1],10)),R>2&&(F=parseInt(A[2],10)),M!==0&&(M<0&&(M=a(T).vertices.length+1+M),L-=1,M-=1,F-=1,S.vertices.push({textureCoordsIndex:L,vertexIndex:M,vertexNormalIndex:F}))}}a(T).faces.push(S)}}function v(g,T){g.length>=2&&T.materialLibraries.push(g[1])}function c(g){g.length>=2&&(i=g[1])}var p=function(g,T){T===void 0&&(T=!0),t=T;var E={materials:{},materialLibraries:[],models:[]};u="",i="";for(var S=g.split(`
`),C=0;C<S.length;C++){var P=r(S[C]),A=P.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":n(A,E);break;case"g":s(A);break;case"v":f(A,E);break;case"vt":o(A,E);break;case"vn":h(A,E);break;case"f":d(A,E);break;case"mtllib":v(A,E);break;case"usemtl":c(A);break}}return E};l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),u=function(i){for(var r={},a=i.split(`
`),n="",s=0;s<a.length;s++){var f=a[s].trim();if(!(f.indexOf("#")===0||f==="")){var o=f.replace(/\s\s+/g," ").trim().split(" ");switch(o[0].toLowerCase()){case"newmtl":{n=o[1];break}case"kd":{var h=Math.floor(o[1]*255),d=o.length>=2?Math.floor(o[2]*255):h,v=o.length>=3?Math.floor(o[3]*255):h;r[n]=e(h,d,v);break}}}}return r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.x=(i.x1+i.x2+i.x3)/3,r.y=(i.y1+i.y2+i.y3)/3,r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x1+=u,e.y1+=i,e.x2+=u,e.y2+=i,e.x3+=u,e.y3+=i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function u(r,a,n,s){var f=r-n,o=a-s,h=f*f+o*o;return Math.sqrt(h)}var i=function(r,a){a===void 0&&(a=new e);var n=r.x1,s=r.y1,f=r.x2,o=r.y2,h=r.x3,d=r.y3,v=u(h,d,f,o),c=u(n,s,h,d),p=u(f,o,n,s),g=v+c+p;return a.x=(n*v+f*c+h*p)/g,a.y=(s*v+o*c+d*p)/g,a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return function(i,r,a,n){var s=e.getPixelAlpha(r,a,n.texture.key,n.frame.name);return s&&s>=u}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a){this.pad=r,this.events=r.events,this.index=a,this.value=0,this.threshold=.1},update:function(i){this.value=i},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(239),i=new e({initialize:function(a,n){this.pad=a,this.events=a.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var a=this.pad,n=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(u.BUTTON_DOWN,a,this,r),this.pad.emit(u.GAMEPAD_BUTTON_DOWN,n,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(u.BUTTON_UP,a,this,r),this.pad.emit(u.GAMEPAD_BUTTON_UP,n,r,this))},destroy:function(){this.pad=null,this.events=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),u=t(510),i=t(0),r=t(9),a=t(3),n=new i({Extends:r,initialize:function(f,o){r.call(this),this.manager=f,this.pad=o,this.id=o.id,this.index=o.index;for(var h=[],d=0;d<o.buttons.length;d++)h.push(new u(this,d));this.buttons=h;var v=[];for(d=0;d<o.axes.length;d++)v.push(new e(this,d));this.axes=v,this.vibration=o.vibrationActuator;var c={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:c,this._LCRight=h[15]?h[15]:c,this._LCTop=h[12]?h[12]:c,this._LCBottom=h[13]?h[13]:c,this._RCLeft=h[2]?h[2]:c,this._RCRight=h[1]?h[1]:c,this._RCTop=h[3]?h[3]:c,this._RCBottom=h[0]?h[0]:c,this._FBLeftTop=h[4]?h[4]:c,this._FBLeftBottom=h[6]?h[6]:c,this._FBRightTop=h[5]?h[5]:c,this._FBRightBottom=h[7]?h[7]:c;var p={value:0};this._HAxisLeft=v[0]?v[0]:p,this._VAxisLeft=v[1]?v[1]:p,this._HAxisRight=v[2]?v[2]:p,this._VAxisRight=v[3]?v[3]:p,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var f,o=this.buttons,h=s.buttons,d=o.length;for(f=0;f<d;f++)o[f].update(h[f].value);var v=this.axes,c=s.axes;for(d=v.length,f=0;f<d;f++)v[f].update(c[f]);d>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),d>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(154),r=new e({Extends:u,initialize:function(n,s){u.call(this),this.plugin=n,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(i.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(i.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(i.UP,this,a))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(154),i=t(2),r=t(514),a=t(516),n=new e({initialize:function(f,o,h){if(h===void 0&&(h={}),o.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var d=0;d<o.length;d++){var v=o[d];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=i(h,"resetOnWrongKey",!0),this.maxKeyDelay=i(h,"maxKeyDelay",0),this.resetOnMatch=i(h,"resetOnMatch",!1),this.deleteOnMatch=i(h,"deleteOnMatch",!1);var c=this,p=function(g){if(!(c.matched||!c.enabled)){var T=r(g,c);T&&(c.manager.emit(u.COMBO_MATCH,c,g),c.resetOnMatch?a(c):c.deleteOnMatch&&c.destroy())}};this.onKeyDown=p,this.manager.on(u.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(u.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),u=function(i,r){if(r.matched)return!0;var a=!1,n=!1;if(i.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;i.timeStamp<=s&&(n=!0,a=e(i,r))}else n=!0,a=e(i,r);return!n&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),a&&(r.timeLastMatched=i.timeStamp,r.matched=!0,r.timeMatched=i.timeStamp),a};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),u=function(i,r){var a=e(r,i.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",i.src,a.async,a.user,a.password),n.responseType=i.xhrSettings.responseType,n.timeout=a.timeout,a.headers)for(var s in a.headers)n.setRequestHeader(s,a.headers[s]);return a.header&&a.headerValue&&n.setRequestHeader(a.header,a.headerValue),a.requestedWith&&n.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&n.overrideMimeType(a.overrideMimeType),a.withCredentials&&(n.withCredentials=!0),n.onload=i.onLoad.bind(i,n),n.onerror=i.onError.bind(i,n),n.onprogress=i.onProgress.bind(i),n.send(),n};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(519),s=t(7),f=new e({Extends:i,initialize:function(h,d,v,c,p){if(s(d)){var g=d;d=a(g,"key"),c=a(g,"xhrSettings"),p=a(g,"context",p)}var T={type:"audio",cache:h.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:d,url:v.url,xhrSettings:c,config:{context:p}};i.call(this,h,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var o=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){o.data=h,o.onProcessComplete()},function(h){console.error("Error decoding audio: "+o.key+" - ",h?h.message:null),o.onProcessError()}),this.config.context=null}});f.create=function(o,h,d,v,c){var p=o.systems.game,g=p.config.audio,T=p.device.audio;s(h)&&(d=a(h,"url",[]),v=a(h,"config",{}));var E=f.getAudioURL(p,d);return E?T.webAudio&&!g.disableWebAudio?new f(o,h,E,c,p.sound.context):new n(o,h,E,v):null},f.getAudioURL=function(o,h){Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=a(h[d],"url",h[d]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var c=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(c=a(h[d],"type",c?c[1]:"").toLowerCase(),o.device.audio[c])return{url:v,type:c}}return null},r.register("audio",function(o,h,d,v){var c=this.systems.game,p=c.config.audio,g=c.device.audio;if(p.noAudio||!g.webAudio&&!g.audioData)return this;var T;if(Array.isArray(o))for(var E=0;E<o.length;E++)T=f.create(this,o[E]),T&&this.addFile(T);else T=f.create(this,o,h,d,v),T&&this.addFile(T);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(95),i=t(23),r=t(2),a=t(155),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){if(n(h)){var c=h;h=r(c,"key"),v=r(c,"config",v)}var p={type:"audio",cache:o.cacheManager.audio,extension:d.type,key:h,url:d.url,config:v};i.call(this,o,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var o=this.data[f];o.oncanplaythrough=null,o.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var o=f.target;o.oncanplaythrough=null,o.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(u.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var o=0;o<f;o++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+o).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(o=0;o<this.data.length;o++)h=this.data[o],h.src=a(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="js";if(n(h)){var p=h;h=a(p,"key"),d=a(p,"url"),v=a(p,"xhrSettings"),c=a(p,"extension",c)}var g={type:"script",cache:!1,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),u=t(157),i=t(0),r=t(62),a=t(524),n=t(525),s=new i({initialize:function(o){this.world=o,this.scene=o.scene,this.sys=o.scene.sys},collider:function(f,o,h,d,v){return this.world.addCollider(f,o,h,d,v)},overlap:function(f,o,h,d,v){return this.world.addOverlap(f,o,h,d,v)},existing:function(f,o){var h=o?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(f,h),f},staticImage:function(f,o,h,d){var v=new e(this.scene,f,o,h,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},image:function(f,o,h,d){var v=new e(this.scene,f,o,h,d);return this.sys.displayList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticSprite:function(f,o,h,d){var v=new u(this.scene,f,o,h,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.STATIC_BODY),v},sprite:function(f,o,h,d){var v=new u(this.scene,f,o,h,d);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,r.DYNAMIC_BODY),v},staticGroup:function(f,o){return this.sys.updateList.add(new n(this.world,this.world.scene,f,o))},group:function(f,o){return this.sys.updateList.add(new a(this.world,this.world.scene,f,o))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(243),i=t(125),r=new e({Extends:i,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(n,s,f,o,h){i.call(this,n,s,f,o,h),this.body=null}});l.exports=r},function(l,x,t){var e=t(244),u=t(65),i=t(231),r=t(151),a=function(n,s,f,o,h,d){var v=e(n,s-o,f-o,2*o,2*o,h,d);if(v.length===0)return v;for(var c=new u(s,f,o),p=new u,g=[],T=0;T<v.length;T++){var E=v[T];E.isCircle?(p.setTo(E.center.x,E.center.y,E.halfWidth),i(c,p)&&g.push(E)):r(c,E)&&g.push(E)}return g};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),u=t(0),i=t(62),r=t(2),a=t(113),n=t(7),s=new u({Extends:a,initialize:function(o,h,d,v){if(!d&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(n(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&n(d[0])){v=d[0];var c=this;d.forEach(function(p){p.internalCreateCallback=c.createCallbackHandler,p.internalRemoveCallback=c.removeCallbackHandler}),d=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=o,v.classType=r(v,"classType",e),this.physicsType=i.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(v,"collideWorldBounds",!1),setBoundsRectangle:r(v,"customBoundsRectangle",null),setAccelerationX:r(v,"accelerationX",0),setAccelerationY:r(v,"accelerationY",0),setAllowDrag:r(v,"allowDrag",!0),setAllowGravity:r(v,"allowGravity",!0),setAllowRotation:r(v,"allowRotation",!0),setBounceX:r(v,"bounceX",0),setBounceY:r(v,"bounceY",0),setDragX:r(v,"dragX",0),setDragY:r(v,"dragY",0),setEnable:r(v,"enable",!0),setGravityX:r(v,"gravityX",0),setGravityY:r(v,"gravityY",0),setFrictionX:r(v,"frictionX",0),setFrictionY:r(v,"frictionY",0),setMaxVelocityX:r(v,"maxVelocityX",1e4),setMaxVelocityY:r(v,"maxVelocityY",1e4),setVelocityX:r(v,"velocityX",0),setVelocityY:r(v,"velocityY",0),setAngularVelocity:r(v,"angularVelocity",0),setAngularAcceleration:r(v,"angularAcceleration",0),setAngularDrag:r(v,"angularDrag",0),setMass:r(v,"mass",1),setImmovable:r(v,"immovable",!1)},a.call(this,h,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,i.DYNAMIC_BODY);var o=f.body;for(var h in this.defaults)o[h](this.defaults[h])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,o,h){h===void 0&&(h=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(f+v*h,o+v*h);return this},setVelocityX:function(f,o){o===void 0&&(o=0);for(var h=this.getChildren(),d=0;d<h.length;d++)h[d].body.velocity.x=f+d*o;return this},setVelocityY:function(f,o){o===void 0&&(o=0);for(var h=this.getChildren(),d=0;d<h.length;d++)h[d].body.velocity.y=f+d*o;return this}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),u=t(0),i=t(62),r=t(2),a=t(113),n=t(7),s=new u({Extends:a,initialize:function(o,h,d,v){!d&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:n(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=r(v,"classType",e)):Array.isArray(d)&&n(d[0])?(v=d,d=null,v.forEach(function(c){c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=r(c,"classType",e)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=o,this.physicsType=i.STATIC_BODY,a.call(this,h,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,i.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,o=0;o<f.length;o++)f[o].body.reset();return this}});l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),u=t(527),i=t(18),r=t(0),a=t(528),n=t(62),s=t(50),f=t(9),o=t(245),h=t(124),d=t(354),v=t(355),c=t(246),p=t(247),g=t(529),T=t(6),E=t(14),S=t(211),C=t(530),P=t(10),A=t(531),R=t(532),M=t(537),L=t(538),F=t(149),I=t(539),B=t(248),b=t(25),W=t(3),$=t(68),Z=new r({Extends:f,initialize:function(O,N){f.call(this),this.scene=O,this.bodies=new F,this.staticBodies=new F,this.pendingDestroy=new F,this.colliders=new S,this.gravity=new W(T(N,"gravity.x",0),T(N,"gravity.y",0)),this.bounds=new P(T(N,"x",0),T(N,"y",0),T(N,"width",O.sys.scale.width),T(N,"height",O.sys.scale.height)),this.checkCollision={up:T(N,"checkCollision.up",!0),down:T(N,"checkCollision.down",!0),left:T(N,"checkCollision.left",!0),right:T(N,"checkCollision.right",!0)},this.fps=T(N,"fps",60),this.fixedStep=T(N,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(N,"timeScale",1),this.OVERLAP_BIAS=T(N,"overlapBias",4),this.TILE_BIAS=T(N,"tileBias",16),this.forceX=T(N,"forceX",!1),this.isPaused=T(N,"isPaused",!1),this._total=0,this.drawDebug=T(N,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(N,"debugShowBody",!0),debugShowStaticBody:T(N,"debugShowStaticBody",!0),debugShowVelocity:T(N,"debugShowVelocity",!0),bodyDebugColor:T(N,"debugBodyColor",16711935),staticBodyDebugColor:T(N,"debugStaticBodyColor",255),velocityDebugColor:T(N,"debugVelocityColor",65280)},this.maxEntries=T(N,"maxEntries",16),this.useTree=T(N,"useTree",!0),this.tree=new A(this.maxEntries),this.staticTree=new A(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new b,this._tempMatrix2=new b,this.drawDebug&&this.createDebugGraphic()},enable:function(D,O){O===void 0&&(O=n.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var N=0;N<D.length;N++){var G=D[N];if(G.isParent)for(var Y=G.getChildren(),V=0;V<Y.length;V++){var z=Y[V];z.isParent?this.enable(z,O):this.enableBody(z,O)}else this.enableBody(G,O)}},enableBody:function(D,O){return O===void 0&&(O=n.DYNAMIC_BODY),D.body||(O===n.DYNAMIC_BODY?D.body=new u(this,D):O===n.STATIC_BODY&&(D.body=new I(this,D))),this.add(D.body),D},add:function(D){return D.physicsType===n.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===n.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var O=0;O<D.length;O++){var N=D[O];if(N.isParent)for(var G=N.getChildren(),Y=0;Y<G.length;Y++){var V=G[Y];V.isParent?this.disable(V):this.disableBody(V.body)}else this.disableBody(N.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===n.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,O,N,G,Y,V,z,H){return this.bounds.setTo(D,O,N,G),Y!==void 0&&this.setBoundsCollision(Y,V,z,H),this},setBoundsCollision:function(D,O,N,G){return D===void 0&&(D=!0),O===void 0&&(O=!0),N===void 0&&(N=!0),G===void 0&&(G=!0),this.checkCollision.left=D,this.checkCollision.right=O,this.checkCollision.up=N,this.checkCollision.down=G,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(D,O,N,G,Y){N===void 0&&(N=null),G===void 0&&(G=null),Y===void 0&&(Y=N);var V=new a(this,!1,D,O,N,G,Y);return this.colliders.add(V),V},addOverlap:function(D,O,N,G,Y){N===void 0&&(N=null),G===void 0&&(G=null),Y===void 0&&(Y=N);var V=new a(this,!0,D,O,N,G,Y);return this.colliders.add(V),V},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,O){if(!(this.isPaused||this.bodies.size===0)){var N,G=this._frameTime,Y=this._frameTimeMS*this.timeScale;this._elapsed+=O;var V,z=this.bodies.entries,H=this._elapsed>=Y;for(this.fixedStep||(G=O*.001,H=!0,this._elapsed=0),N=0;N<z.length;N++)V=z[N],V.enable&&V.preUpdate(H,G);if(H){this._elapsed-=Y,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(z));var j=this.colliders.update();for(N=0;N<j.length;N++){var q=j[N];q.active&&q.update()}this.emit(o.WORLD_STEP,G)}for(;this._elapsed>=Y;)this._elapsed-=Y,this.step(G)}},step:function(D){var O,N,G=this.bodies.entries,Y=G.length;for(O=0;O<Y;O++)N=G[O],N.enable&&N.update(D);this.useTree&&(this.tree.clear(),this.tree.load(G));var V=this.colliders.update();for(O=0;O<V.length;O++){var z=V[O];z.active&&z.update()}this.emit(o.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,O,N=this.bodies.entries,G=N.length,Y=this.bodies,V=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<G;D++)O=N[D],O.enable&&O.postUpdate();if(this.drawDebug){var z=this.debugGraphic;for(z.clear(),D=0;D<G;D++)O=N[D],O.willDrawDebug()&&O.drawDebug(z);for(N=V.entries,G=N.length,D=0;D<G;D++)O=N[D],O.willDrawDebug()&&O.drawDebug(z)}var H=this.pendingDestroy;if(H.size>0){var j=this.tree,q=this.staticTree;for(N=H.entries,G=N.length,D=0;D<G;D++)O=N[D],O.physicsType===n.DYNAMIC_BODY?(j.remove(O),Y.delete(O)):O.physicsType===n.STATIC_BODY&&(q.remove(O),V.delete(O)),O.world=void 0,O.gameObject=void 0;H.clear()}},updateMotion:function(D,O){D.allowRotation&&this.computeAngularVelocity(D,O),this.computeVelocity(D,O)},computeAngularVelocity:function(D,O){var N=D.angularVelocity,G=D.angularAcceleration,Y=D.angularDrag,V=D.maxAngular;G?N+=G*O:D.allowDrag&&Y&&(Y*=O,d(N-Y,0,.1)?N-=Y:v(N+Y,0,.1)?N+=Y:N=0),N=i(N,-V,V);var z=N-D.angularVelocity;D.angularVelocity+=z,D.rotation+=D.angularVelocity*O},computeVelocity:function(D,O){var N=D.velocity.x,G=D.acceleration.x,Y=D.drag.x,V=D.maxVelocity.x,z=D.velocity.y,H=D.acceleration.y,j=D.drag.y,q=D.maxVelocity.y,et=D.speed,ot=D.maxSpeed,K=D.allowDrag,Q=D.useDamping;D.allowGravity&&(N+=(this.gravity.x+D.gravity.x)*O,z+=(this.gravity.y+D.gravity.y)*O),G?N+=G*O:K&&Y&&(Q?(Y=Math.pow(Y,O),N*=Y,et=Math.sqrt(N*N+z*z),h(et,0,.001)&&(N=0)):(Y*=O,d(N-Y,0,.01)?N-=Y:v(N+Y,0,.01)?N+=Y:N=0)),H?z+=H*O:K&&j&&(Q?(j=Math.pow(j,O),z*=j,et=Math.sqrt(N*N+z*z),h(et,0,.001)&&(z=0)):(j*=O,d(z-j,0,.01)?z-=j:v(z+j,0,.01)?z+=j:z=0)),N=i(N,-V,V),z=i(z,-q,q),D.velocity.set(N,z),ot>-1&&et>ot&&(D.velocity.normalize().scale(ot),et=ot),D.speed=et},separate:function(D,O,N,G,Y,V){if(!V&&!D.enable||!O.enable||D.checkCollision.none||O.checkCollision.none||!this.intersects(D,O)||N&&N.call(G,D.gameObject,O.gameObject)===!1)return!1;if(D.isCircle&&O.isCircle)return this.separateCircle(D,O,Y);if(D.isCircle!==O.isCircle){var z=D.isCircle?O:D,H=D.isCircle?D:O,j={x:z.x,y:z.y,right:z.right,bottom:z.bottom},q=H.center;if((q.y<j.y||q.y>j.bottom)&&(q.x<j.x||q.x>j.right))return this.separateCircle(D,O,Y)}var et=!1,ot=!1;Y?(et=M(D,O,Y,this.OVERLAP_BIAS),ot=L(D,O,Y,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(et=M(D,O,Y,this.OVERLAP_BIAS),this.intersects(D,O)&&(ot=L(D,O,Y,this.OVERLAP_BIAS))):(ot=L(D,O,Y,this.OVERLAP_BIAS),this.intersects(D,O)&&(et=M(D,O,Y,this.OVERLAP_BIAS)));var K=et||ot;return K&&(Y?(D.onOverlap||O.onOverlap)&&this.emit(o.OVERLAP,D.gameObject,O.gameObject,D,O):(D.onCollide||O.onCollide)&&this.emit(o.COLLIDE,D.gameObject,O.gameObject,D,O)),K},separateCircle:function(D,O,N,G){c(D,O,!1,G),p(D,O,!1,G);var Y=0;if(D.isCircle!==O.isCircle){var V={x:O.isCircle?D.position.x:O.position.x,y:O.isCircle?D.position.y:O.position.y,right:O.isCircle?D.right:O.right,bottom:O.isCircle?D.bottom:O.bottom},z={x:D.isCircle?D.center.x:O.center.x,y:D.isCircle?D.center.y:O.center.y,radius:D.isCircle?D.halfWidth:O.halfWidth};z.y<V.y?z.x<V.x?Y=s(z.x,z.y,V.x,V.y)-z.radius:z.x>V.right&&(Y=s(z.x,z.y,V.right,V.y)-z.radius):z.y>V.bottom&&(z.x<V.x?Y=s(z.x,z.y,V.x,V.bottom)-z.radius:z.x>V.right&&(Y=s(z.x,z.y,V.right,V.bottom)-z.radius)),Y*=-1}else Y=D.halfWidth+O.halfWidth-s(D.center.x,D.center.y,O.center.x,O.center.y);if(D.overlapR=Y,O.overlapR=Y,N||Y===0||D.immovable&&O.immovable||D.customSeparateX||O.customSeparateX)return Y!==0&&(D.onOverlap||O.onOverlap)&&this.emit(o.OVERLAP,D.gameObject,O.gameObject,D,O),Y!==0;var H=D.center.x-O.center.x,j=D.center.y-O.center.y,q=Math.sqrt(Math.pow(H,2)+Math.pow(j,2)),et=(O.center.x-D.center.x)/q||0,ot=(O.center.y-D.center.y)/q||0,K=2*(D.velocity.x*et+D.velocity.y*ot-O.velocity.x*et-O.velocity.y*ot)/(D.mass+O.mass);(D.immovable||O.immovable)&&(K*=2),D.immovable||(D.velocity.x=D.velocity.x-K/D.mass*et,D.velocity.y=D.velocity.y-K/D.mass*ot),O.immovable||(O.velocity.x=O.velocity.x+K/O.mass*et,O.velocity.y=O.velocity.y+K/O.mass*ot),!D.immovable&&!O.immovable&&(Y/=2);var Q=e(D.center,O.center),tt=(Y+E.EPSILON)*Math.cos(Q),nt=(Y+E.EPSILON)*Math.sin(Q);return D.immovable||(D.x-=tt,D.y-=nt,D.updateCenter()),O.immovable||(O.x+=tt,O.y+=nt,O.updateCenter()),D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,O.velocity.x*=O.bounce.x,O.velocity.y*=O.bounce.y,(D.onCollide||O.onCollide)&&this.emit(o.COLLIDE,D.gameObject,O.gameObject,D,O),!0},intersects:function(D,O){return D===O?!1:!D.isCircle&&!O.isCircle?!(D.right<=O.position.x||D.bottom<=O.position.y||D.position.x>=O.right||D.position.y>=O.bottom):D.isCircle?O.isCircle?s(D.center.x,D.center.y,O.center.x,O.center.y)<=D.halfWidth+O.halfWidth:this.circleBodyIntersects(D,O):this.circleBodyIntersects(O,D)},circleBodyIntersects:function(D,O){var N=i(D.center.x,O.left,O.right),G=i(D.center.y,O.top,O.bottom),Y=(D.center.x-N)*(D.center.x-N),V=(D.center.y-G)*(D.center.y-G);return Y+V<=D.halfWidth*D.halfWidth},overlap:function(D,O,N,G,Y){return N===void 0&&(N=null),G===void 0&&(G=null),Y===void 0&&(Y=N),this.collideObjects(D,O,N,G,Y,!0)},collide:function(D,O,N,G,Y){return N===void 0&&(N=null),G===void 0&&(G=null),Y===void 0&&(Y=N),this.collideObjects(D,O,N,G,Y,!1)},collideObjects:function(D,O,N,G,Y,V){var z,H;D.isParent&&D.physicsType===void 0&&(D=D.children.entries),O&&O.isParent&&O.physicsType===void 0&&(O=O.children.entries);var j=Array.isArray(D),q=Array.isArray(O);if(this._total=0,!j&&!q)this.collideHandler(D,O,N,G,Y,V);else if(!j&&q)for(z=0;z<O.length;z++)this.collideHandler(D,O[z],N,G,Y,V);else if(j&&!q)if(O)for(z=0;z<D.length;z++)this.collideHandler(D[z],O,N,G,Y,V);else for(z=0;z<D.length;z++){var et=D[z];for(H=z+1;H<D.length;H++)z!==H&&this.collideHandler(et,D[H],N,G,Y,V)}else for(z=0;z<D.length;z++)for(H=0;H<O.length;H++)this.collideHandler(D[z],O[H],N,G,Y,V);return this._total>0},collideHandler:function(D,O,N,G,Y,V){if(O===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,N,G,Y,V);if(!D||!O)return!1;if(D.body){if(O.body)return this.collideSpriteVsSprite(D,O,N,G,Y,V);if(O.isParent)return this.collideSpriteVsGroup(D,O,N,G,Y,V);if(O.isTilemap)return this.collideSpriteVsTilemapLayer(D,O,N,G,Y,V)}else if(D.isParent){if(O.body)return this.collideSpriteVsGroup(O,D,N,G,Y,V);if(O.isParent)return this.collideGroupVsGroup(D,O,N,G,Y,V);if(O.isTilemap)return this.collideGroupVsTilemapLayer(D,O,N,G,Y,V)}else if(D.isTilemap){if(O.body)return this.collideSpriteVsTilemapLayer(O,D,N,G,Y,V);if(O.isParent)return this.collideGroupVsTilemapLayer(O,D,N,G,Y,V)}},collideSpriteVsSprite:function(D,O,N,G,Y,V){return!D.body||!O.body?!1:(this.separate(D.body,O.body,G,Y,V)&&(N&&N.call(Y,D,O),this._total++),!0)},collideSpriteVsGroup:function(D,O,N,G,Y,V){var z=D.body;if(!(O.length===0||!z||!z.enable||z.checkCollision.none)){var H,j,q;if(this.useTree||O.physicsType===n.STATIC_BODY){var et=this.treeMinMax;et.minX=z.left,et.minY=z.top,et.maxX=z.right,et.maxY=z.bottom;var ot=O.physicsType===n.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(j=ot.length,H=0;H<j;H++)q=ot[H],!(z===q||!q.enable||q.checkCollision.none||!O.contains(q.gameObject))&&this.separate(z,q,G,Y,V,!0)&&(N&&N.call(Y,z.gameObject,q.gameObject),this._total++)}else{var K=O.getChildren(),Q=O.children.entries.indexOf(D);for(j=K.length,H=0;H<j;H++)q=K[H].body,!(!q||H===Q||!q.enable)&&this.separate(z,q,G,Y,V)&&(N&&N.call(Y,z.gameObject,q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,O,N,G,Y,V){var z=D.getChildren();if(z.length===0)return!1;for(var H=!1,j=0;j<z.length;j++)z[j].body&&this.collideSpriteVsTilemapLayer(z[j],O,N,G,Y,V)&&(H=!0);return H},collideTiles:function(D,O,N,G,Y){return!D.body.enable||O.length===0?!1:this.collideSpriteVsTilesHandler(D,O,N,G,Y,!1,!1)},overlapTiles:function(D,O,N,G,Y){return!D.body.enable||O.length===0?!1:this.collideSpriteVsTilesHandler(D,O,N,G,Y,!0,!1)},collideSpriteVsTilemapLayer:function(D,O,N,G,Y,V){var z=D.body;if(!z.enable||z.checkCollision.none)return!1;var H=z.position.x,j=z.position.y,q=z.width,et=z.height,ot=O.layer;if(ot.tileWidth>ot.baseTileWidth){var K=(ot.tileWidth-ot.baseTileWidth)*O.scaleX;H-=K,q+=K}if(ot.tileHeight>ot.baseTileHeight){var Q=(ot.tileHeight-ot.baseTileHeight)*O.scaleY;et+=Q}var tt=g(H,j,q,et,null,O.scene.cameras.main,O.layer);return tt.length===0?!1:this.collideSpriteVsTilesHandler(D,tt,N,G,Y,V,!0)},collideSpriteVsTilesHandler:function(D,O,N,G,Y,V,z){for(var H=D.body,j,q={left:0,right:0,top:0,bottom:0},et,ot=!1,K=0;K<O.length;K++){j=O[K],et=j.tilemapLayer;var Q=et.tileToWorldXY(j.x,j.y);q.left=Q.x,q.top=Q.y,j.baseHeight!==j.height&&(q.top-=(j.height-j.baseHeight)*et.scaleY),q.right=q.left+j.width*et.scaleX,q.bottom=q.top+j.height*et.scaleY,B(q,H)&&(!G||G.call(Y,D,j))&&C(j,D)&&(V||R(K,H,j,q,et,this.TILE_BIAS,z))&&(this._total++,ot=!0,N&&N.call(Y,D,j),V&&H.onOverlap?this.emit(o.TILE_OVERLAP,D,j,H):H.onCollide&&this.emit(o.TILE_COLLIDE,D,j,H))}return ot},collideGroupVsGroup:function(D,O,N,G,Y,V){if(!(D.length===0||O.length===0))for(var z=D.getChildren(),H=0;H<z.length;H++)this.collideSpriteVsGroup(z[H],O,N,G,Y,V)},wrap:function(D,O){D.body?this.wrapObject(D,O):D.getChildren?this.wrapArray(D.getChildren(),O):Array.isArray(D)?this.wrapArray(D,O):this.wrapObject(D,O)},wrapArray:function(D,O){for(var N=0;N<D.length;N++)this.wrapObject(D[N],O)},wrapObject:function(D,O){O===void 0&&(O=0),D.x=$(D.x,this.bounds.left-O,this.bounds.right+O),D.y=$(D.y,this.bounds.top-O,this.bounds.bottom+O)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});l.exports=Z},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(62),i=t(245),r=t(196),a=t(10),n=t(57),s=t(3),f=new e({initialize:function(h,d){var v=d.displayWidth?d.displayWidth:64,c=d.displayHeight?d.displayHeight:64;this.world=h,this.gameObject=d,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=v,this.height=c,this.sourceWidth=v,this.sourceHeight=c,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(c/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=u.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=u.DYNAMIC_BODY,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a},updateBounds:function(){var o=this.gameObject,h=this.transform;if(o.parentContainer){var d=o.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);h.x=d.tx,h.y=d.ty,h.rotation=r(d.rotation),h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.displayOriginX=o.displayOriginX,h.displayOriginY=o.displayOriginY}else h.x=o.x,h.y=o.y,h.rotation=o.angle,h.scaleX=o.scaleX,h.scaleY=o.scaleY,h.displayOriginX=o.displayOriginX,h.displayOriginY=o.displayOriginY;var v=!1;if(this.syncBounds){var c=o.getBounds(this._bounds);this.width=c.width,this.height=c.height,v=!0}else{var p=Math.abs(h.scaleX),g=Math.abs(h.scaleY);(this._sx!==p||this._sy!==g)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*g,this._sx=p,this._sy=g,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var o=this.transform;this.position.x=o.x+o.scaleX*(this.offset.x-o.displayOriginX),this.position.y=o.y+o.scaleY*(this.offset.y-o.displayOriginY),this.updateCenter()},resetFlags:function(o){o===void 0&&(o=!1);var h=this.wasTouching,d=this.touching,v=this.blocked;o?(h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1):(h.none=d.none,h.up=d.up,h.down=d.down,h.left=d.left,h.right=d.right),d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(o,h){o&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),o&&this.update(h)},update:function(o){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,o);var h=this.velocity.x,d=this.velocity.y;this.newVelocity.set(h*o,d*o),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(d,h),this.speed=Math.sqrt(h*h+d*d),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(i.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var o=this.position.x-this.prevFrame.x,h=this.position.y-this.prevFrame.y;if(this.moves){var d=this.deltaMax.x,v=this.deltaMax.y;d!==0&&o!==0&&(o<0&&o<-d?o=-d:o>0&&o>d&&(o=d)),v!==0&&h!==0&&(h<0&&h<-v?h=-v:h>0&&h>v&&(h=v)),this.gameObject.x+=o,this.gameObject.y+=h}o<0?this.facing=u.FACING_LEFT:o>0&&(this.facing=u.FACING_RIGHT),h<0?this.facing=u.FACING_UP:h>0&&(this.facing=u.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=o,this._ty=h},setBoundsRectangle:function(o){return this.customBoundsRectangle=o||this.world.bounds,this},checkWorldBounds:function(){var o=this.position,h=this.customBoundsRectangle,d=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,c=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return o.x<h.x&&d.left?(o.x=h.x,this.velocity.x*=v,this.blocked.left=!0,p=!0):this.right>h.right&&d.right&&(o.x=h.right-this.width,this.velocity.x*=v,this.blocked.right=!0,p=!0),o.y<h.y&&d.up?(o.y=h.y,this.velocity.y*=c,this.blocked.up=!0,p=!0):this.bottom>h.bottom&&d.down&&(o.y=h.bottom-this.height,this.velocity.y*=c,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1,this.updateCenter()),p},setOffset:function(o,h){return h===void 0&&(h=o),this.offset.set(o,h),this},setSize:function(o,h,d){d===void 0&&(d=!0);var v=this.gameObject;if(!o&&v.frame&&(o=v.frame.realWidth),!h&&v.frame&&(h=v.frame.realHeight),this.sourceWidth=o,this.sourceHeight=h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&v.getCenter){var c=(v.width-o)/2,p=(v.height-h)/2;this.offset.set(c,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(o,h,d){return h===void 0&&(h=this.offset.x),d===void 0&&(d=this.offset.y),o>0?(this.isCircle=!0,this.radius=o,this.sourceWidth=o*2,this.sourceHeight=o*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,d),this.updateCenter()):this.isCircle=!1,this},reset:function(o,h){this.stop();var d=this.gameObject;d.setPosition(o,h),d.getTopLeft?d.getTopLeft(this.position):this.position.set(o,h),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=d.angle,this.preRotation=d.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(o){return o.x=this.x,o.y=this.y,o.right=this.right,o.bottom=this.bottom,o},hitTest:function(o,h){if(!this.isCircle)return n(this,o,h);if(this.radius>0&&o>=this.left&&o<=this.right&&h>=this.top&&h<=this.bottom){var d=(this.center.x-o)*(this.center.x-o),v=(this.center.y-h)*(this.center.y-h);return d+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(o){var h=this.position,d=h.x+this.halfWidth,v=h.y+this.halfHeight;this.debugShowBody&&(o.lineStyle(o.defaultStrokeWidth,this.debugBodyColor),this.isCircle?o.strokeCircle(d,v,this.width/2):(this.checkCollision.up&&o.lineBetween(h.x,h.y,h.x+this.width,h.y),this.checkCollision.right&&o.lineBetween(h.x+this.width,h.y,h.x+this.width,h.y+this.height),this.checkCollision.down&&o.lineBetween(h.x,h.y+this.height,h.x+this.width,h.y+this.height),this.checkCollision.left&&o.lineBetween(h.x,h.y,h.x,h.y+this.height))),this.debugShowVelocity&&(o.lineStyle(o.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),o.lineBetween(d,v,d+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(o,h,d,v){o===void 0&&(o=!0),this.collideWorldBounds=o;var c=h!==void 0,p=d!==void 0;return(c||p)&&(this.worldBounce||(this.worldBounce=new s),c&&(this.worldBounce.x=h),p&&(this.worldBounce.y=d)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(o,h){return this.velocity.set(o,h),o=this.velocity.x,h=this.velocity.y,this.speed=Math.sqrt(o*o+h*h),this},setVelocityX:function(o){this.velocity.x=o;var h=o,d=this.velocity.y;return this.speed=Math.sqrt(h*h+d*d),this},setVelocityY:function(o){this.velocity.y=o;var h=this.velocity.x,d=o;return this.speed=Math.sqrt(h*h+d*d),this},setMaxVelocity:function(o,h){return this.maxVelocity.set(o,h),this},setMaxVelocityX:function(o){return this.maxVelocity.x=o,this},setMaxVelocityY:function(o){return this.maxVelocity.y=o,this},setMaxSpeed:function(o){return this.maxSpeed=o,this},setBounce:function(o,h){return this.bounce.set(o,h),this},setBounceX:function(o){return this.bounce.x=o,this},setBounceY:function(o){return this.bounce.y=o,this},setAcceleration:function(o,h){return this.acceleration.set(o,h),this},setAccelerationX:function(o){return this.acceleration.x=o,this},setAccelerationY:function(o){return this.acceleration.y=o,this},setAllowDrag:function(o){return o===void 0&&(o=!0),this.allowDrag=o,this},setAllowGravity:function(o){return o===void 0&&(o=!0),this.allowGravity=o,this},setAllowRotation:function(o){return o===void 0&&(o=!0),this.allowRotation=o,this},setDrag:function(o,h){return this.drag.set(o,h),this},setDamping:function(o){return this.useDamping=o,this},setDragX:function(o){return this.drag.x=o,this},setDragY:function(o){return this.drag.y=o,this},setGravity:function(o,h){return this.gravity.set(o,h),this},setGravityX:function(o){return this.gravity.x=o,this},setGravityY:function(o){return this.gravity.y=o,this},setFriction:function(o,h){return this.friction.set(o,h),this},setFrictionX:function(o){return this.friction.x=o,this},setFrictionY:function(o){return this.friction.y=o,this},setAngularVelocity:function(o){return this.angularVelocity=o,this},setAngularAcceleration:function(o){return this.angularAcceleration=o,this},setAngularDrag:function(o){return this.angularDrag=o,this},setMass:function(o){return this.mass=o,this},setImmovable:function(o){return o===void 0&&(o=!0),this.immovable=o,this},setEnable:function(o){return o===void 0&&(o=!0),this.enable=o,this},processX:function(o,h,d,v){this.x+=o,this.updateCenter(),h!==null&&(this.velocity.x=h);var c=this.blocked;d&&(c.left=!0),v&&(c.right=!0)},processY:function(o,h,d,v){this.y+=o,this.updateCenter(),h!==null&&(this.velocity.y=h);var c=this.blocked;d&&(c.up=!0),v&&(c.down=!0)},x:{get:function(){return this.position.x},set:function(o){this.position.x=o}},y:{get:function(){return this.position.y},set:function(o){this.position.y=o}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s,f,o,h){this.world=r,this.name="",this.active=!0,this.overlapOnly=a,this.object1=n,this.object2=s,this.collideCallback=f,this.processCallback=o,this.callbackContext=h},setName:function(i){return this.name=i,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(3),i=new u,r=new u,a=function(n,s,f,o,h,d,v){var c=v.tilemapLayer.tilemap._convert.WorldToTileXY;c(n,s,!0,i,d,v);var p=i.x,g=i.y;c(n+f,s+o,!1,r,d,v);var T=Math.ceil(r.x),E=Math.ceil(r.y);return e(p,g,T-p,E-g,h,v)};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};l.exports=t},function(l,x,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function u(E){if(!(this instanceof u))return new u(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}u.prototype={all:function(){return this._all(this.data,[])},search:function(E){var S=this.data,C=[],P=this.toBBox;if(!p(E,S))return C;for(var A=[],R,M,L,F;S;){for(R=0,M=S.children.length;R<M;R++)L=S.children[R],F=S.leaf?P(L):L,p(E,F)&&(S.leaf?C.push(L):c(E,F)?this._all(L,C):A.push(L));S=A.pop()}return C},collides:function(E){var S=this.data,C=this.toBBox;if(!p(E,S))return!1;for(var P=[],A,R,M,L;S;){for(A=0,R=S.children.length;A<R;A++)if(M=S.children[A],L=S.leaf?C(M):M,p(E,L)){if(S.leaf||c(E,L))return!0;P.push(M)}S=P.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var S=0,C=E.length;S<C;S++)this.insert(E[S]);return this}var P=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var A=this.data;this.data=P,P=A}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(E,S){if(!E)return this;for(var C=this.data,P=this.toBBox(E),A=[],R=[],M,L,F,I;C||A.length;){if(C||(C=A.pop(),L=A[A.length-1],M=R.pop(),I=!0),C.leaf&&(F=i(E,C.children,S),F!==-1))return C.children.splice(F,1),A.push(C),this._condense(A),this;!I&&!C.leaf&&c(C,P)?(A.push(C),R.push(M),M=0,L=C,C=C.children[0]):L?(M++,C=L.children[M],I=!1):C=null}return this},toBBox:function(E){return E},compareMinX:s,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,S){for(var C=[];E;)E.leaf?S.push.apply(S,E.children):C.push.apply(C,E.children),E=C.pop();return S},_build:function(E,S,C,P){var A=C-S+1,R=this._maxEntries,M;if(A<=R)return M=g(E.slice(S,C+1)),r(M,this.toBBox),M;P||(P=Math.ceil(Math.log(A)/Math.log(R)),R=Math.ceil(A/Math.pow(R,P-1))),M=g([]),M.leaf=!1,M.height=P;var L=Math.ceil(A/R),F=L*Math.ceil(Math.sqrt(R)),I,B,b,W;for(T(E,S,C,F,this.compareMinX),I=S;I<=C;I+=F)for(b=Math.min(I+F-1,C),T(E,I,b,L,this.compareMinY),B=I;B<=b;B+=L)W=Math.min(B+L-1,b),M.children.push(this._build(E,B,W,P-1));return r(M,this.toBBox),M},_chooseSubtree:function(E,S,C,P){for(var A,R,M,L,F,I,B,b;P.push(S),!(S.leaf||P.length-1===C);){for(B=b=1/0,A=0,R=S.children.length;A<R;A++)M=S.children[A],F=o(M),I=d(E,M)-F,I<b?(b=I,B=F<B?F:B,L=M):I===b&&F<B&&(B=F,L=M);S=L||S.children[0]}return S},_insert:function(E,S,C){var P=this.toBBox,A=C?E:P(E),R=[],M=this._chooseSubtree(A,this.data,S,R);for(M.children.push(E),n(M,A);S>=0&&R[S].children.length>this._maxEntries;)this._split(R,S),S--;this._adjustParentBBoxes(A,R,S)},_split:function(E,S){var C=E[S],P=C.children.length,A=this._minEntries;this._chooseSplitAxis(C,A,P);var R=this._chooseSplitIndex(C,A,P),M=g(C.children.splice(R,C.children.length-R));M.height=C.height,M.leaf=C.leaf,r(C,this.toBBox),r(M,this.toBBox),S?E[S-1].children.push(M):this._splitRoot(C,M)},_splitRoot:function(E,S){this.data=g([E,S]),this.data.height=E.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(E,S,C){var P,A,R,M,L,F,I,B;for(F=I=1/0,P=S;P<=C-S;P++)A=a(E,0,P,this.toBBox),R=a(E,P,C,this.toBBox),M=v(A,R),L=o(A)+o(R),M<F?(F=M,B=P,I=L<I?L:I):M===F&&L<I&&(I=L,B=P);return B},_chooseSplitAxis:function(E,S,C){var P=E.leaf?this.compareMinX:s,A=E.leaf?this.compareMinY:f,R=this._allDistMargin(E,S,C,P),M=this._allDistMargin(E,S,C,A);R<M&&E.children.sort(P)},_allDistMargin:function(E,S,C,P){E.children.sort(P);var A=this.toBBox,R=a(E,0,S,A),M=a(E,C-S,C,A),L=h(R)+h(M),F,I;for(F=S;F<C-S;F++)I=E.children[F],n(R,E.leaf?A(I):I),L+=h(R);for(F=C-S-1;F>=S;F--)I=E.children[F],n(M,E.leaf?A(I):I),L+=h(M);return L},_adjustParentBBoxes:function(E,S,C){for(var P=C;P>=0;P--)n(S[P],E)},_condense:function(E){for(var S=E.length-1,C;S>=0;S--)E[S].children.length===0?S>0?(C=E[S-1].children,C.splice(C.indexOf(E[S]),1)):this.clear():r(E[S],this.toBBox)},compareMinX:function(E,S){return E.left-S.left},compareMinY:function(E,S){return E.top-S.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function i(E,S,C){if(!C)return S.indexOf(E);for(var P=0;P<S.length;P++)if(C(E,S[P]))return P;return-1}function r(E,S){a(E,0,E.children.length,S,E)}function a(E,S,C,P,A){A||(A=g(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var R=S,M;R<C;R++)M=E.children[R],n(A,E.leaf?P(M):M);return A}function n(E,S){return E.minX=Math.min(E.minX,S.minX),E.minY=Math.min(E.minY,S.minY),E.maxX=Math.max(E.maxX,S.maxX),E.maxY=Math.max(E.maxY,S.maxY),E}function s(E,S){return E.minX-S.minX}function f(E,S){return E.minY-S.minY}function o(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function h(E){return E.maxX-E.minX+(E.maxY-E.minY)}function d(E,S){return(Math.max(S.maxX,E.maxX)-Math.min(S.minX,E.minX))*(Math.max(S.maxY,E.maxY)-Math.min(S.minY,E.minY))}function v(E,S){var C=Math.max(E.minX,S.minX),P=Math.max(E.minY,S.minY),A=Math.min(E.maxX,S.maxX),R=Math.min(E.maxY,S.maxY);return Math.max(0,A-C)*Math.max(0,R-P)}function c(E,S){return E.minX<=S.minX&&E.minY<=S.minY&&S.maxX<=E.maxX&&S.maxY<=E.maxY}function p(E,S){return S.minX<=E.maxX&&S.minY<=E.maxY&&S.maxX>=E.minX&&S.maxY>=E.minY}function g(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(E,S,C,P,A){for(var R=[S,C],M;R.length;)C=R.pop(),S=R.pop(),!(C-S<=P)&&(M=S+Math.ceil((C-S)/P/2)*P,e(E,M,S,C,A),R.push(S,M,M,C))}l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),u=t(535),i=t(248),r=function(a,n,s,f,o,h,d){var v=f.left,c=f.top,p=f.right,g=f.bottom,T=s.faceLeft||s.faceRight,E=s.faceTop||s.faceBottom;if(d||(T=!0,E=!0),!T&&!E)return!1;var S=0,C=0,P=0,A=1;if(n.deltaAbsX()>n.deltaAbsY()?P=-1:n.deltaAbsX()<n.deltaAbsY()&&(A=-1),n.deltaX()!==0&&n.deltaY()!==0&&T&&E&&(P=Math.min(Math.abs(n.position.x-p),Math.abs(n.right-v)),A=Math.min(Math.abs(n.position.y-g),Math.abs(n.bottom-c))),P<A){if(T&&(S=e(n,s,v,p,h,d),S!==0&&!i(f,n)))return!0;E&&(C=u(n,s,c,g,h,d))}else{if(E&&(C=u(n,s,c,g,h,d),C!==0&&!i(f,n)))return!0;T&&(S=e(n,s,v,p,h,d))}return S!==0||C!==0};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),u=function(i,r,a,n,s,f){var o=0,h=r.faceLeft,d=r.faceRight,v=r.collideLeft,c=r.collideRight;return f||(h=!0,d=!0,v=!0,c=!0),i.deltaX()<0&&c&&i.checkCollision.left?d&&i.x<n&&(o=i.x-n,o<-s&&(o=0)):i.deltaX()>0&&v&&i.checkCollision.right&&h&&i.right>a&&(o=i.right-a,o>s&&(o=0)),o!==0&&(i.customSeparateX?i.overlapX=o:e(i,o)),o};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),u=function(i,r,a,n,s,f){var o=0,h=r.faceTop,d=r.faceBottom,v=r.collideUp,c=r.collideDown;return f||(h=!0,d=!0,v=!0,c=!0),i.deltaY()<0&&c&&i.checkCollision.up?d&&i.y<n&&(o=i.y-n,o<-s&&(o=0)):i.deltaY()>0&&v&&i.checkCollision.down&&h&&i.bottom>a&&(o=i.bottom-a,o>s&&(o=0)),o!==0&&(i.customSeparateY?i.overlapY=o:e(i,o)),o};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),u=t(1389),i=function(r,a,n,s){var f=e(r,a,n,s),o=r.immovable,h=a.immovable;if(n||f===0||o&&h||r.customSeparateX||a.customSeparateX)return f!==0||r.embedded&&a.embedded;var d=u.Set(r,a,f);return!o&&!h?d>0?!0:u.Check():(o?u.RunImmovableBody1(d):h&&u.RunImmovableBody2(d),!0)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),u=t(1390),i=function(r,a,n,s){var f=e(r,a,n,s),o=r.immovable,h=a.immovable;if(n||f===0||o&&h||r.customSeparateY||a.customSeparateY)return f!==0||r.embedded&&a.embedded;var d=u.Set(r,a,f);return!o&&!h?d>0?!0:u.Check():(o?u.RunImmovableBody1(d):h&&u.RunImmovableBody2(d),!0)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=t(0),i=t(62),r=t(57),a=t(3),n=new u({initialize:function(f,o){var h=o.displayWidth?o.displayWidth:64,d=o.displayHeight?o.displayHeight:64;this.world=f,this.gameObject=o,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(o.x-h*o.originX,o.y-d*o.originY),this.width=h,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=i.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(s,f){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,f){return f===void 0&&(f=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,f,o){o===void 0&&(o=!0);var h=this.gameObject;if(!s&&h.frame&&(s=h.frame.realWidth),!f&&h.frame&&(f=h.frame.realHeight),this.world.staticTree.remove(this),this.width=s,this.height=f,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(f/2),o&&h.getCenter){var d=h.displayWidth/2,v=h.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,f,o){return f===void 0&&(f=this.offset.x),o===void 0&&(o=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,o),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,f){var o=this.gameObject;s===void 0&&(s=o.x),f===void 0&&(f=o.y),this.world.staticTree.remove(this),o.setPosition(s,f),o.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,f){return this.isCircle?e(this,s,f):r(this,s,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var f=this.position,o=f.x+this.halfWidth,h=f.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(o,h,this.width/2):s.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});l.exports=n},function(l,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),u=new e({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=new e,i=function(r,a,n,s){var f=n.tilemapLayer,o=f.cullPaddingX,h=f.cullPaddingY,d=f.tilemap.tileToWorldXY(r,a,u,s,f);return d.x>s.worldView.x+f.scaleX*n.tileWidth*(-o-.5)&&d.x<s.worldView.right+f.scaleX*n.tileWidth*(o-.5)&&d.y>s.worldView.y+f.scaleY*n.tileHeight*(-h-1)&&d.y<s.worldView.bottom+f.scaleY*n.tileHeight*(h-.5)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o){for(var h=e(a,n,s,f,null,o),d=0;d<h.length;d++)h[d]&&h[d].index===i&&(h[d].index=r)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(139),i=t(76),r=new e,a=function(n,s){var f=n.tilemapLayer.tilemap,o=n.tilemapLayer,h=Math.floor(f.tileWidth*o.scaleX),d=Math.floor(f.tileHeight*o.scaleY),v=i(s.worldView.x-o.x,h,0,!0)-o.cullPaddingX,c=u(s.worldView.right-o.x,h,0,!0)+o.cullPaddingX,p=i(s.worldView.y-o.y,d,0,!0)-o.cullPaddingY,g=u(s.worldView.bottom-o.y,d,0,!0)+o.cullPaddingY;return r.setTo(v,p,c-v,g-p)};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),u=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var f=r.tilemapLayer,o=e(r,a);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(o.left=0,o.right=r.width,o.top=0,o.bottom=r.height),u(r,o,s,n),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),u=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var f=r.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var o=e(r,a);u(r,o,s,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),u=t(76),i=function(r,a){var n=r.tilemapLayer.tilemap,s=r.tilemapLayer,f=Math.floor(n.tileWidth*s.scaleX),o=Math.floor(n.tileHeight*s.scaleY),h=r.hexSideLength,d=(o-h)/2+h,v=u(a.worldView.x-s.x,f,0,!0)-s.cullPaddingX,c=e(a.worldView.right-s.x,f,0,!0)+s.cullPaddingX,p=u(a.worldView.y-s.y,d,0,!0)-s.cullPaddingY,g=e(a.worldView.bottom-s.y,d,0,!0)+s.cullPaddingY;return{left:v,right:c,top:p,bottom:g}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),u=function(i,r,a,n){a===void 0&&(a=[]),n===void 0&&(n=0),a.length=0;var s=i.tilemapLayer,f=i.data,o=i.width,h=i.height,d=0,v=o,c=0,p=h;if(!s.skipCull){var g,T,E;if(n===0){for(T=c;T<p;T++)for(g=d;f[T]&&g<v;g++)if(e(g,T,i,r)){if(E=f[T][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===1){for(T=c;T<p;T++)for(g=v;f[T]&&g>=d;g--)if(e(g,T,i,r)){if(E=f[T][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===2){for(T=p;T>=c;T--)for(g=d;f[T]&&g<v;g++)if(e(g,T,i,r)){if(E=f[T][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}else if(n===3){for(T=p;T>=c;T--)for(g=v;f[T]&&g>=d;g--)if(e(g,T,i,r)){if(E=f[T][g],!E||E.index===-1||!E.visible||E.alpha===0)continue;a.push(E)}}}return s.tilesDrawn=a.length,s.tilesTotal=o*h,a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),u=t(159),i=function(r,a,n,s){n===void 0&&(n=[]),s===void 0&&(s=0),n.length=0;var f=r.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var o=e(r,a);u(r,o,s,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),u=t(76),i=function(r,a){var n=r.tilemapLayer.tilemap,s=r.tilemapLayer,f=Math.floor(n.tileWidth*s.scaleX),o=Math.floor(n.tileHeight*s.scaleY),h=u(a.worldView.x-s.x,f,0,!0)-s.cullPaddingX,d=e(a.worldView.right-s.x,f,0,!0)+s.cullPaddingX,v=u(a.worldView.y-s.y,o/2,0,!0)-s.cullPaddingY,c=e(a.worldView.bottom-s.y,o/2,0,!0)+s.cullPaddingY;return{left:h,right:d,top:v,bottom:c}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s){a||(a=new e);var f=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=s.hexSideLength,p=(o-c)/2+c,g=d+i*f+r%2*(f/2),T=v+r*p;return a.set(g,T)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s){a||(a=new e);var f=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=d+(i-r)*(f/2),p=v+(i+r)*(o/2);return a.set(c,p)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s){a||(a=new e);var f=s.baseTileWidth,o=s.baseTileHeight,h=s.tilemapLayer,d=0,v=0;h&&(n||(n=h.scene.cameras.main),d=h.x+n.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+n.scrollY*(1-h.scrollFactorY),o*=h.scaleY);var c=d+i*f+r%2*(f/2),p=v+r*(o/2);return a.set(c,p)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),u=t(254),i=t(3),r=function(a,n,s,f,o){return s||(s=new i(0,0)),s.x=e(a,f,o),s.y=u(n,f,o),s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;a&&(u===void 0&&(u=a.scene.cameras.main),n=a.y+u.scrollY*(1-a.scrollFactorY),r*=a.scaleY);var s=a.tilemap.hexSideLength,f=(r-s)/2+s;return n+e*f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=i.baseTileHeight,a=i.tilemapLayer,n=0;return a&&(u===void 0&&(u=a.scene.cameras.main),n=a.y+u.scrollY*(1-a.scrollFactorY),r*=a.scaleY),n+e*(r/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s,f){n||(n=new e);var o=f.baseTileWidth,h=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=f.hexSideLength,c=(h-v)/2+v,p=a?Math.floor(r/c):r/c,g=a?Math.floor((i-p%2*.5*o)/o):(i-p%2*.5*o)/o;return n.set(g,p)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s,f){n||(n=new e);var o=f.baseTileWidth,h=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=a?Math.floor((i/(o/2)+r/(h/2))/2):(i/(o/2)+r/(h/2))/2,c=a?Math.floor((r/(h/2)-i/(o/2))/2):(r/(h/2)-i/(o/2))/2;return n.set(v,c)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s,f){n||(n=new e);var o=f.baseTileWidth,h=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),h*=d.scaleY,i=i-(d.x+s.scrollX*(1-d.scrollFactorX)),o*=d.scaleX);var v=a?Math.floor(r/(h/2)):r/(h/2),c=a?Math.floor((i+v%2*.5*o)/o):(i+v%2*.5*o)/o;return n.set(c,v)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),u=t(256),i=t(3),r=function(a,n,s,f,o,h){return s===void 0&&(s=!0),f||(f=new i(0,0)),f.x=e(a,s,o,h),f.y=u(n,s,o,h),f};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=r.baseTileHeight,n=r.tilemapLayer;n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY);var s=r.hexSideLength,f=(a-s)/2+s;return u?Math.floor(e/f):e/f};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=r.baseTileHeight,n=r.tilemapLayer;return n&&(i||(i=n.scene.cameras.main),e=e-(n.y+i.scrollY*(1-n.scrollFactorY)),a*=n.scaleY),u?Math.floor(e/(a/2)):e/(a/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),u=function(i,r,a){if(e(i,r,a)){var n=a.data[r][i];return n!==null&&n.index>-1}else return!1};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),u=t(119),i=t(252),r=function(a,n,s,f,o){if(s===void 0&&(s=!0),f===void 0&&(f=!0),!u(a,n,o))return null;var h=o.data[n][a];if(h)o.data[n][a]=s?null:new e(o,-1,a,n,o.tileWidth,o.tileHeight);else return null;return f&&h&&h.collides&&i(a,n,o),h};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(259),i=t(565),r=t(566),a=t(577),n=function(s,f,o,h,d,v){var c;switch(f){case e.ARRAY_2D:c=u(s,o,h,d,v);break;case e.CSV:c=i(s,o,h,d,v);break;case e.TILED_JSON:c=r(s,o,v);break;case e.WELTMEISTER:c=a(s,o,v);break;default:console.warn("Unrecognized tilemap data format: "+f),c=null}return c};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(259),i=function(r,a,n,s,f){var o=a.trim().split(`
`).map(function(d){return d.split(",")}),h=u(r,o,n,s,f);return h.format=e.CSV,h};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),u=t(568),i=t(29),r=t(40),a=t(258),n=t(121),s=t(569),f=t(570),o=t(573),h=t(575),d=function(v,c,p){var g=new n({width:c.width,height:c.height,name:v,tileWidth:c.tilewidth,tileHeight:c.tileheight,orientation:a(c.orientation),format:r.TILED_JSON,version:c.version,properties:c.properties,renderOrder:c.renderorder,infinite:c.infinite});g.orientation===i.HEXAGONAL&&(g.hexSideLength=c.hexsidelength),g.layers=o(c,p),g.images=s(c);var T=h(c);return g.tilesets=T.tilesets,g.imageCollections=T.imageCollections,g.objects=f(c),g.tiles=u(g),e(g),g};l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=function(i){for(var r,a,n,s,f,o=0;o<i.layers.length;o++){r=i.layers[o],s=null;for(var h=0;h<r.data.length;h++){f=r.data[h];for(var d=0;d<f.length;d++)a=f[d],!(a===null||a.index<0)&&(n=i.tiles[a.index][2],s=i.tilesets[n],a.width=s.tileWidth,a.height=s.tileHeight,s.tileProperties&&s.tileProperties[a.index-s.firstgid]&&(a.properties=e(a.properties,s.tileProperties[a.index-s.firstgid])))}}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=function(i){var r,a,n=[];for(r=0;r<i.imageCollections.length;r++)for(var s=i.imageCollections[r],f=s.images,o=0;o<f.length;o++){var h=f[o];a=new e(h.image,h.gid,s.imageWidth,s.imageHeight,0,0),a.updateTileData(s.imageWidth,s.imageHeight),i.tilesets.push(a)}for(r=0;r<i.tilesets.length;r++){a=i.tilesets[r];for(var d=a.tileMargin,v=a.tileMargin,c=0,p=0,g=0,T=a.firstgid;T<a.firstgid+a.total&&(n[T]=[d,v,r],d+=a.tileWidth+a.tileSpacing,c++,!(c===a.total||(p++,p===a.columns&&(d=a.tileMargin,v+=a.tileHeight+a.tileSpacing,p=0,g++,g===a.rows))));T++);}return n};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(161),i=function(r){for(var a=[],n=[],s=u(r);s.i<s.layers.length||n.length>0;){if(s.i>=s.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=n.pop();continue}var f=s.layers[s.i];if(s.i++,f.type!=="imagelayer"){if(f.type==="group"){var o=u(r,f,s);n.push(s),s=o}continue}var h=e(f,"offsetx",0)+e(f,"startx",0),d=e(f,"offsety",0)+e(f,"starty",0);a.push({name:s.name+f.name,image:f.image,x:s.x+h+f.x,y:s.y+d+f.y,alpha:s.opacity*f.opacity,visible:s.visible&&f.visible,properties:e(f,"properties",{})})}return a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(260),i=t(572),r=t(161),a=function(n){for(var s=[],f=[],o=r(n);o.i<o.layers.length||f.length>0;){if(o.i>=o.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=f.pop();continue}var h=o.layers[o.i];if(o.i++,h.opacity*=o.opacity,h.visible=o.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var d=r(n,h,o);f.push(o),o=d}continue}h.name=o.name+h.name;for(var v=o.x+e(h,"startx",0)+e(h,"offsetx",0),c=o.y+e(h,"starty",0)+e(h,"offsety",0),p=[],g=0;g<h.objects.length;g++){var T=u(h.objects[g],v,c);p.push(T)}var E=new i(h);E.objects=p,s.push(E)}return s};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),u=function(i,r){for(var a={},n=0;n<r.length;n++){var s=r[n];e(i,s)&&(a[s]=i[s])}return a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=new e({initialize:function(a){a===void 0&&(a={}),this.name=u(a,"name","object layer"),this.opacity=u(a,"opacity",1),this.properties=u(a,"properties",{}),this.propertyTypes=u(a,"propertytypes",{}),this.type=u(a,"type","objectgroup"),this.visible=u(a,"visible",!0),this.objects=u(a,"objects",[])}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),u=t(29),i=t(161),r=t(258),a=t(2),n=t(120),s=t(261),f=t(85),o=function(h,d){for(var v=a(h,"infinite",!1),c=[],p=[],g=i(h);g.i<g.layers.length||p.length>0;){if(g.i>=g.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=p.pop();continue}var T=g.layers[g.i];if(g.i++,T.type!=="tilelayer"){if(T.type==="group"){var E=i(h,T,g);p.push(g),g=E}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var S=0;S<T.chunks.length;S++)T.chunks[S].data=e(T.chunks[S].data);T.data&&(T.data=e(T.data)),delete T.encoding}var C,P,A,R,M=[],L=0;if(v){var F=a(T,"startx",0)+T.x,I=a(T,"starty",0)+T.y;C=new n({name:g.name+T.name,x:g.x+a(T,"offsetx",0)+F*h.tilewidth,y:g.y+a(T,"offsety",0)+I*h.tileheight,width:T.width,height:T.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*T.opacity,visible:g.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(h.orientation)}),C.orientation===u.HEXAGONAL&&(C.hexSideLength=h.hexsidelength);for(var B=0;B<T.height;B++){M.push([null]);for(var b=0;b<T.width;b++)M[B][b]=null}for(B=0,H=T.chunks.length;B<H;B++)for(var W=T.chunks[B],$=W.x-F,Z=W.y-I,D=0,O=0,N=W.data.length;O<N;O++){var G=L+$,Y=D+Z;P=s(W.data[O]),P.gid>0?(A=new f(C,P.gid,G,Y,h.tilewidth,h.tileheight),A.rotation=P.rotation,A.flipX=P.flipped,M[Y][G]=A):(R=d?null:new f(C,-1,G,Y,h.tilewidth,h.tileheight),M[Y][G]=R),L++,L===W.width&&(D++,L=0)}}else{C=new n({name:g.name+T.name,x:g.x+a(T,"offsetx",0)+T.x,y:g.y+a(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*T.opacity,visible:g.visible&&T.visible,properties:a(T,"properties",[]),orientation:r(h.orientation)}),C.orientation===u.HEXAGONAL&&(C.hexSideLength=h.hexsidelength);for(var V=[],z=0,H=T.data.length;z<H;z++)P=s(T.data[z]),P.gid>0?(A=new f(C,P.gid,L,M.length,h.tilewidth,h.tileheight),A.rotation=P.rotation,A.flipX=P.flipped,V.push(A)):(R=d?null:new f(C,-1,L,M.length,h.tilewidth,h.tileheight),V.push(R)),L++,L===T.width&&(M.push(V),L=0,V=[])}C.data=M,c.push(C)}return c};l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=window.atob(e),i=u.length,r=new Array(i/4),a=0;a<i;a+=4)r[a/4]=(u.charCodeAt(a)|u.charCodeAt(a+1)<<8|u.charCodeAt(a+2)<<16|u.charCodeAt(a+3)<<24)>>>0;return r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=t(576),i=t(260),r=t(1453),a=function(n){for(var s=[],f=[],o=null,h,d=0;d<n.tilesets.length;d++){var v=n.tilesets[d];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var c=new e(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing);if(n.version>1){var p=void 0,g=void 0;if(Array.isArray(v.tiles)){p=p||{},g=g||{};for(var T=0;T<v.tiles.length;T++){var E=v.tiles[T];if(E.properties){var S={};E.properties.forEach(function(B){S[B.name]=B.value}),g[E.id]=S}if(E.objectgroup&&((p[E.id]||(p[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var C=E.objectgroup.objects.map(function(B){return i(B)});p[E.id].objectgroup.objects=C}E.animation&&((p[E.id]||(p[E.id]={})).animation=E.animation),E.type&&((p[E.id]||(p[E.id]={})).type=E.type)}}Array.isArray(v.wangsets)&&(p=p||{},g=g||{},r(v.wangsets,p)),p&&(c.tileData=p,c.tileProperties=g)}else if(v.tileproperties&&(c.tileProperties=v.tileproperties),v.tiles){c.tileData=v.tiles;for(h in c.tileData){var P=c.tileData[h].objectgroup;if(P&&P.objects){var A=P.objects.map(function(B){return i(B)});c.tileData[h].objectgroup.objects=A}}}c.updateTileData(v.imagewidth,v.imageheight),s.push(c)}else{var R=new u(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),M=0;for(T=0;T<v.tiles.length;T++){E=v.tiles[T];var L=E.image,F=parseInt(E.id,10),I=v.firstgid+F;R.addImage(I,L),M=Math.max(F,M)}R.maxId=M,f.push(R)}o&&(o.lastgid=v.firstgid-1),o=v}return{tilesets:s,imageCollections:f}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r,a,n,s,f,o,h){(n===void 0||n<=0)&&(n=32),(s===void 0||s<=0)&&(s=32),f===void 0&&(f=0),o===void 0&&(o=0),this.name=r,this.firstgid=a|0,this.imageWidth=n|0,this.imageHeight=s|0,this.imageMargin=f|0,this.imageSpacing=o|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(i){return i>=this.firstgid&&i<this.firstgid+this.total},addImage:function(i,r){return this.images.push({gid:i,image:r}),this.total++,this}});l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(121),i=t(578),r=t(579),a=function(n,s,f){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var o=0,h=0,d=0;d<s.layer.length;d++)s.layer[d].width>o&&(o=s.layer[d].width),s.layer[d].height>h&&(h=s.layer[d].height);var v=new u({width:o,height:h,name:n,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:e.WELTMEISTER});return v.layers=i(s,f),v.tilesets=r(s),v};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),u=t(85),i=function(r,a){for(var n=[],s=0;s<r.layer.length;s++){for(var f=r.layer[s],o=new e({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),h=[],d=[],v=0;v<f.data.length;v++){for(var c=0;c<f.data[v].length;c++){var p=f.data[v][c]-1,g;p>-1?g=new u(o,p,c,v,f.tilesize,f.tilesize):g=a?null:new u(o,-1,c,v,f.tilesize,f.tilesize),h.push(g)}d.push(h),h=[]}o.data=d,n.push(o)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=function(i){for(var r=[],a=[],n=0;n<i.layer.length;n++){var s=i.layer[n],f=s.tilesetName;f!==""&&a.indexOf(f)===-1&&(a.push(f),r.push(new e(f,0,s.tilesize,s.tilesize,0,0)))}return r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),i=t(40),r=t(2),a=t(120),n=t(29),s=t(362),f=t(74),o=t(73),h=t(85),d=t(251),v=t(581),c=t(122),p=new e({initialize:function(T,E){this.scene=T,this.tileWidth=E.tileWidth,this.tileHeight=E.tileHeight,this.width=E.width,this.height=E.height,this.orientation=E.orientation,this.renderOrder=E.renderOrder,this.format=E.format,this.version=E.version,this.properties=E.properties,this.widthInPixels=E.widthInPixels,this.heightInPixels=E.heightInPixels,this.imageCollections=E.imageCollections,this.images=E.images,this.layers=E.layers,this.tilesets=E.tilesets,this.objects=E.objects,this.currentLayerIndex=0,this.hexSideLength=E.hexSideLength;var S=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(S),WorldToTileX:d.GetWorldToTileXFunction(S),WorldToTileY:d.GetWorldToTileYFunction(S),TileToWorldXY:d.GetTileToWorldXYFunction(S),TileToWorldX:d.GetTileToWorldXFunction(S),TileToWorldY:d.GetTileToWorldYFunction(S)}},createBlankDynamicLayer:function(g,T,E,S,C,P,A,R){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(g,T,E,S,C,P,A,R)},createDynamicLayer:function(g,T,E,S){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(g,T,E,S)},createStaticLayer:function(g,T,E,S){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(g,T,E,S)},setRenderOrder:function(g){var T=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=T[g]),T.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,T,E,S,C,P,A){if(g===void 0)return null;if(T==null&&(T=g),!this.scene.sys.textures.exists(T))return console.warn("Invalid Tileset Image: "+T),null;var R=this.scene.sys.textures.get(T),M=this.getTilesetIndex(g);if(M===null&&this.format===i.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var L=this.tilesets[M];return L?(L.setTileSize(E,S),L.setSpacing(C,P),L.setImage(R),L):(E===void 0&&(E=this.tileWidth),S===void 0&&(S=this.tileHeight),C===void 0&&(C=0),P===void 0&&(P=0),A===void 0&&(A=0),L=new c(g,A,E,S,C,P),L.setImage(R),this.tilesets.push(L),L)},copy:function(g,T,E,S,C,P,A,R){return R=this.getLayer(R),R!==null?(d.Copy(g,T,E,S,C,P,A,R),this):null},createBlankLayer:function(g,T,E,S,C,P,A,R){E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),A===void 0&&(A=this.tileWidth),R===void 0&&(R=this.tileHeight);var M=this.getLayerIndex(g);if(M!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var L=new a({name:g,tileWidth:A,tileHeight:R,width:C,height:P,orientation:this.orientation}),F,I=0;I<P;I++){F=[];for(var B=0;B<C;B++)F.push(new h(L,-1,B,I,A,R,this.tileWidth,this.tileHeight));L.data.push(F)}this.layers.push(L),this.currentLayerIndex=this.layers.length-1;var b=new v(this.scene,this,this.currentLayerIndex,T,E,S);return b.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(b),b},createLayer:function(g,T,E,S){var C=this.getLayerIndex(g);if(C===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var P=this.layers[C];if(P.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=C,E===void 0&&(E=P.x),S===void 0&&(S=P.y);var A=new v(this.scene,this,C,T,E,S);return A.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(A),A},createFromObjects:function(g,T){var E=[],S=this.getObjectLayer(g);if(!S)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),E;Array.isArray(T)||(T=[T]);for(var C=S.objects,P=0;P<T.length;P++){for(var A=T[P],R=r(A,"id",null),M=r(A,"gid",null),L=r(A,"name",null),F,I=[],B=0;B<C.length;B++)F=C[B],(R===null&&M===null&&L===null||R!==null&&F.id===R||M!==null&&F.gid===M||L!==null&&F.name===L)&&I.push(F);for(var b=r(A,"classType",o),W=r(A,"scene",this.scene),$=r(A,"container",null),Z=r(A,"key",null),D=r(A,"frame",null),O=0;O<I.length;O++){F=I[O];var N=new b(W);N.setName(F.name),N.setPosition(F.x,F.y),N.setTexture(Z,D),F.width&&(N.displayWidth=F.width),F.height&&(N.displayHeight=F.height);var G={x:N.originX*F.width,y:(N.originY-1)*F.height};if(F.rotation){var Y=u(F.rotation);s(G,Y),N.rotation=Y}if(N.x+=G.x,N.y+=G.y,(F.flippedHorizontal!==void 0||F.flippedVertical!==void 0)&&N.setFlip(F.flippedHorizontal,F.flippedVertical),F.visible||(N.visible=!1),Array.isArray(F.properties))F.properties.forEach(function(z){var H=z.name;N[H]!==void 0?N[H]=z.value:N.setData(H,z.value)});else for(var V in F.properties)N[V]!==void 0?N[V]=F.properties[V]:N.setData(V,F.properties[V]);$?$.add(N):W.add.existing(N),E.push(N)}}return E},createFromTiles:function(g,T,E,S,C,P){return P=this.getLayer(P),P===null?null:d.CreateFromTiles(g,T,E,S,C,P)},fill:function(g,T,E,S,C,P,A){return P===void 0&&(P=!0),A=this.getLayer(A),A===null?null:(d.Fill(g,T,E,S,C,P,A),this)},filterObjects:function(g,T,E){if(typeof g=="string"){var S=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+S),null}return g.objects.filter(T,E)},filterTiles:function(g,T,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:d.FilterTiles(g,T,E,S,C,P,A,R)},findByIndex:function(g,T,E,S){return S=this.getLayer(S),S===null?null:d.FindByIndex(g,T,E,S)},findObject:function(g,T,E){if(typeof g=="string"){var S=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+S),null}return g.objects.find(T,E)||null},findTile:function(g,T,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:d.FindTile(g,T,E,S,C,P,A,R)},forEachTile:function(g,T,E,S,C,P,A,R){return R=this.getLayer(R),R===null?null:(d.ForEachTile(g,T,E,S,C,P,A,R),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,T){for(var E=0;E<g.length;E++)if(g[E].name===T)return E;return null},getLayer:function(g){var T=this.getLayerIndex(g);return T!==null?this.layers[T]:null},getObjectLayer:function(g){var T=this.getIndex(this.objects,g);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof v?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,T,E,S){return S=this.getLayer(S),S===null?null:d.GetTileAt(g,T,E,S)},getTileAtWorldXY:function(g,T,E,S,C){return C=this.getLayer(C),C===null?null:d.GetTileAtWorldXY(g,T,E,S,C)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,T,E,S,C,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithin(g,T,E,S,C,P)},getTilesWithinShape:function(g,T,E,S){return S=this.getLayer(S),S===null?null:d.GetTilesWithinShape(g,T,E,S)},getTilesWithinWorldXY:function(g,T,E,S,C,P,A){return A=this.getLayer(A),A===null?null:d.GetTilesWithinWorldXY(g,T,E,S,C,P,A)},getTileset:function(g){var T=this.getIndex(this.tilesets,g);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,T,E){return E=this.getLayer(E),E===null?null:d.HasTileAt(g,T,E)},hasTileAtWorldXY:function(g,T,E,S){return S=this.getLayer(S),S===null?null:d.HasTileAtWorldXY(g,T,E,S)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,T,E,S,C){return S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:d.PutTileAt(g,T,E,S,C)},putTileAtWorldXY:function(g,T,E,S,C,P){return S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:d.PutTileAtWorldXY(g,T,E,S,C,P)},putTilesAt:function(g,T,E,S,C){return S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.PutTilesAt(g,T,E,S,C),this)},randomize:function(g,T,E,S,C,P){return P=this.getLayer(P),P===null?null:(d.Randomize(g,T,E,S,C,P),this)},calculateFacesAt:function(g,T,E){return E=this.getLayer(E),E===null?null:(d.CalculateFacesAt(g,T,E),this)},calculateFacesWithin:function(g,T,E,S,C){return C=this.getLayer(C),C===null?null:(d.CalculateFacesWithin(g,T,E,S,C),this)},removeLayer:function(g){var T=this.getLayerIndex(g);if(T!==null){f(this.layers,T);for(var E=T;E<this.layers.length;E++)this.layers[E].tilemapLayer&&this.layers[E].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var T=this.getLayerIndex(g);return T!==null?(g=this.layers[T],g.destroy(),f(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,T=0;T<g.length;T++)g[T].tilemapLayer&&g[T].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,T,E){T===void 0&&(T=-1),E===void 0&&(E=!0);var S=[];Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++){var P=g[C];S.push(this.removeTileAt(P.x,P.y,!0,E,P.tilemapLayer)),T>-1&&this.putTileAt(T,P.x,P.y,E,P.tilemapLayer)}return S},removeTileAt:function(g,T,E,S,C){return E===void 0&&(E=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:d.RemoveTileAt(g,T,E,S,C)},removeTileAtWorldXY:function(g,T,E,S,C,P){return E===void 0&&(E=!0),S===void 0&&(S=!0),P=this.getLayer(P),P===null?null:d.RemoveTileAtWorldXY(g,T,E,S,C,P)},renderDebug:function(g,T,E){return E=this.getLayer(E),E===null?null:(this.orientation===n.ORTHOGONAL&&d.RenderDebug(g,T,E),this)},renderDebugFull:function(g,T){for(var E=this.layers,S=0;S<E.length;S++)d.RenderDebug(g,T,E[S]);return this},replaceByIndex:function(g,T,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.ReplaceByIndex(g,T,E,S,C,P,A),this)},setCollision:function(g,T,E,S,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C===void 0&&(C=!0),S=this.getLayer(S),S===null?null:(d.SetCollision(g,T,E,S,C),this)},setCollisionBetween:function(g,T,E,S,C){return E===void 0&&(E=!0),S===void 0&&(S=!0),C=this.getLayer(C),C===null?null:(d.SetCollisionBetween(g,T,E,S,C),this)},setCollisionByProperty:function(g,T,E,S){return T===void 0&&(T=!0),E===void 0&&(E=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionByProperty(g,T,E,S),this)},setCollisionByExclusion:function(g,T,E,S){return T===void 0&&(T=!0),E===void 0&&(E=!0),S=this.getLayer(S),S===null?null:(d.SetCollisionByExclusion(g,T,E,S),this)},setCollisionFromCollisionGroup:function(g,T,E){return g===void 0&&(g=!0),T===void 0&&(T=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionFromCollisionGroup(g,T,E),this)},setTileIndexCallback:function(g,T,E,S){return S=this.getLayer(S),S===null?null:(d.SetTileIndexCallback(g,T,E,S),this)},setTileLocationCallback:function(g,T,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.SetTileLocationCallback(g,T,E,S,C,P,A),this)},setLayer:function(g){var T=this.getLayerIndex(g);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(g,T){this.tileWidth=g,this.tileHeight=T,this.widthInPixels=this.width*g,this.heightInPixels=this.height*T;for(var E=0;E<this.layers.length;E++){this.layers[E].baseTileWidth=g,this.layers[E].baseTileHeight=T;for(var S=this.layers[E].data,C=this.layers[E].width,P=this.layers[E].height,A=0;A<P;A++)for(var R=0;R<C;R++){var M=S[A][R];M!==null&&M.setSize(void 0,void 0,g,T)}}return this},setLayerTileSize:function(g,T,E){if(E=this.getLayer(E),E===null)return this;E.tileWidth=g,E.tileHeight=T;for(var S=E.data,C=E.width,P=E.height,A=0;A<P;A++)for(var R=0;R<C;R++){var M=S[A][R];M!==null&&M.setSize(g,T)}return this},shuffle:function(g,T,E,S,C){return C=this.getLayer(C),C===null?null:(d.Shuffle(g,T,E,S,C),this)},swapByIndex:function(g,T,E,S,C,P,A){return A=this.getLayer(A),A===null?null:(d.SwapByIndex(g,T,E,S,C,P,A),this)},tileToWorldX:function(g,T,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldX(g,T,E)},tileToWorldY:function(g,T,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldY(g,T,E)},tileToWorldXY:function(g,T,E,S,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldXY(g,T,E,S,C)},weightedRandomize:function(g,T,E,S,C,P){return P=this.getLayer(P),P===null?null:(d.WeightedRandomize(T,E,S,C,g,P),this)},worldToTileX:function(g,T,E,S){return S=this.getLayer(S),S===null?null:this._convert.WorldToTileX(g,T,E,S)},worldToTileY:function(g,T,E,S){return S=this.getLayer(S),S===null?null:this._convert.WorldToTileY(g,T,E,S)},worldToTileXY:function(g,T,E,S,C,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileXY(g,T,E,S,C,P)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),i=t(15),r=t(251),a=t(1456),n=new e({Extends:i,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Depth,u.Flip,u.GetBounds,u.Origin,u.Pipeline,u.Transform,u.Visible,u.ScrollFactor,a],initialize:function(f,o,h,d,v,c){i.call(this,f,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=h,this.layer=o.layers[h],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=r.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(d),this.setAlpha(this.layer.alpha),this.setPosition(v,c),this.setOrigin(),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(s){var f=[],o=[],h=this.tilemap;Array.isArray(s)||(s=[s]);for(var d=0;d<s.length;d++){var v=s[d];if(typeof v=="string"&&(v=h.getTileset(v)),v){o.push(v);for(var c=v.firstgid,p=0;p<v.total;p++)f[c+p]=v}}this.gidMap=f,this.tileset=o},setRenderOrder:function(s){var f=["right-down","left-down","right-up","left-up"];return typeof s=="string"&&(s=f.indexOf(s)),s>=0&&s<4&&(this._renderOrder=s),this},calculateFacesAt:function(s,f){return r.CalculateFacesAt(s,f,this.layer),this},calculateFacesWithin:function(s,f,o,h){return r.CalculateFacesWithin(s,f,o,h,this.layer),this},createFromTiles:function(s,f,o,h,d){return r.CreateFromTiles(s,f,o,h,d,this.layer)},cull:function(s){return this.cullCallback(this.layer,s,this.culledTiles,this._renderOrder)},copy:function(s,f,o,h,d,v,c){return r.Copy(s,f,o,h,d,v,c,this.layer),this},fill:function(s,f,o,h,d,v){return r.Fill(s,f,o,h,d,v,this.layer),this},filterTiles:function(s,f,o,h,d,v,c){return r.FilterTiles(s,f,o,h,d,v,c,this.layer)},findByIndex:function(s,f,o){return r.FindByIndex(s,f,o,this.layer)},findTile:function(s,f,o,h,d,v,c){return r.FindTile(s,f,o,h,d,v,c,this.layer)},forEachTile:function(s,f,o,h,d,v,c){return r.ForEachTile(s,f,o,h,d,v,c,this.layer),this},getTileAt:function(s,f,o){return r.GetTileAt(s,f,o,this.layer)},getTileAtWorldXY:function(s,f,o,h){return r.GetTileAtWorldXY(s,f,o,h,this.layer)},getTilesWithin:function(s,f,o,h,d){return r.GetTilesWithin(s,f,o,h,d,this.layer)},getTilesWithinShape:function(s,f,o){return r.GetTilesWithinShape(s,f,o,this.layer)},getTilesWithinWorldXY:function(s,f,o,h,d,v){return r.GetTilesWithinWorldXY(s,f,o,h,d,v,this.layer)},hasTileAt:function(s,f){return r.HasTileAt(s,f,this.layer)},hasTileAtWorldXY:function(s,f,o){return r.HasTileAtWorldXY(s,f,o,this.layer)},putTileAt:function(s,f,o,h){return r.PutTileAt(s,f,o,h,this.layer)},putTileAtWorldXY:function(s,f,o,h,d){return r.PutTileAtWorldXY(s,f,o,h,d,this.layer)},putTilesAt:function(s,f,o,h){return r.PutTilesAt(s,f,o,h,this.layer),this},randomize:function(s,f,o,h,d){return r.Randomize(s,f,o,h,d,this.layer),this},removeTileAt:function(s,f,o,h){return r.RemoveTileAt(s,f,o,h,this.layer)},removeTileAtWorldXY:function(s,f,o,h,d){return r.RemoveTileAtWorldXY(s,f,o,h,d,this.layer)},renderDebug:function(s,f){return r.RenderDebug(s,f,this.layer),this},replaceByIndex:function(s,f,o,h,d,v){return r.ReplaceByIndex(s,f,o,h,d,v,this.layer),this},setSkipCull:function(s){return s===void 0&&(s=!0),this.skipCull=s,this},setCullPadding:function(s,f){return s===void 0&&(s=1),f===void 0&&(f=1),this.cullPaddingX=s,this.cullPaddingY=f,this},setCollision:function(s,f,o,h){return r.SetCollision(s,f,o,this.layer,h),this},setCollisionBetween:function(s,f,o,h){return r.SetCollisionBetween(s,f,o,h,this.layer),this},setCollisionByProperty:function(s,f,o){return r.SetCollisionByProperty(s,f,o,this.layer),this},setCollisionByExclusion:function(s,f,o){return r.SetCollisionByExclusion(s,f,o,this.layer),this},setCollisionFromCollisionGroup:function(s,f){return r.SetCollisionFromCollisionGroup(s,f,this.layer),this},setTileIndexCallback:function(s,f,o){return r.SetTileIndexCallback(s,f,o,this.layer),this},setTileLocationCallback:function(s,f,o,h,d,v){return r.SetTileLocationCallback(s,f,o,h,d,v,this.layer),this},shuffle:function(s,f,o,h){return r.Shuffle(s,f,o,h,this.layer),this},swapByIndex:function(s,f,o,h,d,v){return r.SwapByIndex(s,f,o,h,d,v,this.layer),this},tileToWorldX:function(s,f){return this.tilemap.tileToWorldX(s,f,this)},tileToWorldY:function(s,f){return this.tilemap.tileToWorldY(s,f,this)},tileToWorldXY:function(s,f,o,h){return this.tilemap.tileToWorldXY(s,f,o,h,this)},weightedRandomize:function(s,f,o,h,d){return r.WeightedRandomize(f,o,h,d,s,this.layer),this},worldToTileX:function(s,f,o){return this.tilemap.worldToTileX(s,f,o,this)},worldToTileY:function(s,f,o){return this.tilemap.worldToTileY(s,f,o,this)},worldToTileXY:function(s,f,o,h,d){return this.tilemap.worldToTileXY(s,f,o,h,d,this)},destroy:function(s){s===void 0&&(s=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),s&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],i.prototype.destroy.call(this))}});l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),i=new e({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(r){return this.delay=u(r,"delay",0),this.repeat=u(r,"repeat",0),this.loop=u(r,"loop",!1),this.callback=u(r,"callback",void 0),this.callbackScope=u(r,"callbackScope",this.callback),this.args=u(r,"args",[]),this.timeScale=u(r,"timeScale",1),this.startAt=u(r,"startAt",0),this.paused=u(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),u=function(i){var r,a=[];if(i.hasOwnProperty("props"))for(r in i.props)r.substr(0,1)!=="_"&&a.push({key:r,value:i.props[r]});else for(r in i)e.indexOf(r)===-1&&r.substr(0,1)!=="_"&&a.push({key:r,value:i[r]});return a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(i){var r=e(i,"tweens",null);return r===null?[]:(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r]),r)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),u=t(13),i=t(99),r=t(80),a=t(162),n=t(6),s=t(264),f=t(266),o=t(268),h=function(d,v,c){c===void 0&&(c=e);var p=n(v,"from",0),g=n(v,"to",1),T=[{value:p}],E=a(v,"delay",c.delay),S=a(v,"duration",c.duration),C=n(v,"easeParams",c.easeParams),P=r(n(v,"ease",c.ease),C),A=a(v,"hold",c.hold),R=a(v,"repeat",c.repeat),M=a(v,"repeatDelay",c.repeatDelay),L=i(v,"yoyo",c.yoyo),F=[],I=s("value",g),B=o(T[0],0,"value",I.getEnd,I.getStart,I.getActive,P,E,S,L,A,R,M,!1,!1);B.start=p,B.current=p,B.to=g,F.push(B);var b=new f(d,F,T);b.offset=u(v,"offset",null),b.completeDelay=u(v,"completeDelay",0),b.loop=Math.round(u(v,"loop",0)),b.loopDelay=Math.round(u(v,"loopDelay",0)),b.paused=i(v,"paused",!1),b.useFrames=i(v,"useFrames",!1);for(var W=n(v,"callbackScope",b),$=[b,null],Z=f.TYPES,D=0;D<Z.length;D++){var O=Z[D],N=n(v,O,!1);if(N){var G=n(v,O+"Scope",W),Y=n(v,O+"Params",[]);b.setCallback(O,N,$.concat(Y),G)}}return b};l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),u=t(6),i=t(14),r=function(a,n){n===void 0&&(n={});var s,f=u(n,"start",0),o=u(n,"ease",null),h=u(n,"grid",null),d=u(n,"from",0),v=d==="first",c=d==="center",p=d==="last",g=typeof d=="number",T=Array.isArray(a),E=parseFloat(T?a[0]:a),S=T?parseFloat(a[1]):0,C=Math.max(E,S);if(T&&(f+=E),h){var P=h[0],A=h[1],R=0,M=0,L=0,F=0,I=[];p?(R=P-1,M=A-1):g?(R=d%P,M=Math.floor(d/P)):c&&(R=(P-1)/2,M=(A-1)/2);for(var B=i.MIN_SAFE_INTEGER,b=0;b<A;b++){I[b]=[];for(var W=0;W<P;W++){L=R-W,F=M-b;var $=Math.sqrt(L*L+F*F);$>B&&(B=$),I[b][W]=$}}}var Z=o?e(o):null;return h?s=function(D,O,N,G){var Y=0,V=G%P,z=Math.floor(G/P);V>=0&&V<P&&z>=0&&z<A&&(Y=I[z][V]);var H;if(T){var j=S-E;Z?H=Y/B*j*Z(Y/B):H=Y/B*j}else Z?H=Y*E*Z(Y/B):H=Y*E;return H+f}:s=function(D,O,N,G,Y){Y--;var V;v?V=G:c?V=Math.abs(Y/2-G):p?V=Y-G:g&&(V=Math.abs(d-G));var z;if(T){var H;c?H=(S-E)/Y*(V*2):H=(S-E)/Y*V,Z?z=H*Z(V/Y):z=H}else Z?z=Y*C*Z(V/Y):z=V*E;return z+f},s};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=t(265),i=t(13),r=t(99),a=t(80),n=t(162),s=t(263),f=t(584),o=t(6),h=t(588),d=t(163),v=function(c,p){var g=new h(c);g.completeDelay=i(p,"completeDelay",0),g.loop=Math.round(i(p,"loop",0)),g.loopDelay=Math.round(i(p,"loopDelay",0)),g.paused=r(p,"paused",!1),g.useFrames=r(p,"useFrames",!1);var T=o(p,"callbackScope",g),E=[g],S=o(p,"onStart",!1);if(S){var C=o(p,"onStartScope",T),P=o(p,"onStartParams",[]);g.setCallback("onStart",S,E.concat(P),C)}var A=o(p,"onUpdate",!1);if(A){var R=o(p,"onUpdateScope",T),M=o(p,"onUpdateParams",[]);g.setCallback("onUpdate",A,E.concat(M),R)}var L=o(p,"onLoop",!1);if(L){var F=o(p,"onLoopScope",T),I=o(p,"onLoopParams",[]);g.setCallback("onLoop",L,E.concat(I),F)}var B=o(p,"onYoyo",!1);if(B){var b=o(p,"onYoyoScope",T),W=o(p,"onYoyoParams",[]);g.setCallback("onYoyo",B,E.concat(null,W),b)}var $=o(p,"onComplete",!1);if($){var Z=o(p,"onCompleteScope",T),D=o(p,"onCompleteParams",[]);g.setCallback("onComplete",$,E.concat(D),Z)}var O=f(p);if(O.length===0)return g.paused=!0,g;var N=e(u);N.targets=s(p);var G=i(p,"totalDuration",0);G>0?N.duration=Math.floor(G/O.length):N.duration=n(p,"duration",N.duration),N.delay=n(p,"delay",N.delay),N.easeParams=o(p,"easeParams",N.easeParams),N.ease=a(o(p,"ease",N.ease),N.easeParams),N.hold=n(p,"hold",N.hold),N.repeat=n(p,"repeat",N.repeat),N.repeatDelay=n(p,"repeatDelay",N.repeatDelay),N.yoyo=r(p,"yoyo",N.yoyo),N.flipX=r(p,"flipX",N.flipX),N.flipY=r(p,"flipY",N.flipY);for(var Y=0;Y<O.length;Y++)g.queue(d(g,O[Y],N));return g};l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(267),r=t(163),a=t(100),n=new e({Extends:u,initialize:function(f){u.call(this),this.manager=f,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING_ADD,this._pausedState=a.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(s,f){this.emit(s,this),f&&f.func.apply(f.scope,f.params)},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===a.ACTIVE},add:function(s){return this.queue(r(this,s))},queue:function(s){return this.isPlaying()||(s.parent=this,s.parentIsTimeline=!0,this.data.push(s),this.totalData=this.data.length),this},hasOffset:function(s){return s.offset!==null},isOffsetAbsolute:function(s){return typeof s=="number"},isOffsetRelative:function(s){var f=typeof s;if(f==="string"){var o=s[0];if(o==="-"||o==="+")return!0}return!1},getRelativeOffset:function(s,f){var o=s[0],h=parseFloat(s.substr(2)),d=f;switch(o){case"+":d+=h;break;case"-":d-=h;break}return Math.max(0,d)},calcDuration:function(){for(var s=0,f=0,o=0,h=0;h<this.totalData;h++){var d=this.data[h];d.init(),this.hasOffset(d)?this.isOffsetAbsolute(d.offset)?(d.calculatedOffset=d.offset,d.offset===0&&(o=0)):this.isOffsetRelative(d.offset)&&(d.calculatedOffset=this.getRelativeOffset(d.offset,s)):d.calculatedOffset=o,s=d.totalDuration+d.calculatedOffset,f+=d.totalDuration,o+=d.totalDuration}this.duration=f,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=a.PAUSED,!1):!0},resetTweens:function(s){for(var f=0;f<this.totalData;f++){var o=this.data[f];o.play(s)}},setCallback:function(s,f,o,h){return n.TYPES.indexOf(s)!==-1&&(this.callbacks[s]={func:f,scope:h,params:o}),this},makeActive:function(s){return this.manager.makeActive(s)},play:function(){if(this.state!==a.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=a.ACTIVE;this.dispatchTimelineEvent(i.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=a.LOOP_DELAY):(this.state=a.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=a.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(s,f){if(this.state!==a.PAUSED){switch(this.useFrames&&(f=1*this.manager.timeScale),f*=this.timeScale,this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case a.ACTIVE:for(var o=this.totalData,h=0;h<this.totalData;h++){var d=this.data[h];d.update(s,f)&&o--}this.dispatchTimelineEvent(i.TIMELINE_UPDATE,this.callbacks.onUpdate),o===0&&this.nextState();break;case a.LOOP_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=a.ACTIVE,this.dispatchTimelineEvent(i.TIMELINE_LOOP,this.callbacks.onLoop));break;case a.COMPLETE_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=a.PENDING_REMOVE,this.dispatchTimelineEvent(i.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===a.PENDING_REMOVE}},stop:function(){this.state=a.PENDING_REMOVE},pause:function(){if(this.state!==a.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=a.PAUSED,this.emit(i.TIMELINE_PAUSE,this),this},resume:function(){return this.state===a.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(i.TIMELINE_RESUME,this)),this},hasTarget:function(s){for(var f=0;f<this.data.length;f++)if(this.data[f].hasTarget(s))return!0;return!1},destroy:function(){for(var s=0;s<this.data.length;s++)this.data[s].stop()}});n.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],l.exports=n},function(l,x,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),i=t(32),r=t(2),a=t(64),n={parseBody:function(s,f,o,h){h===void 0&&(h={});for(var d=r(o,"fixtures",[]),v=[],c=0;c<d.length;c++)for(var p=this.parseFixture(d[c]),g=0;g<p.length;g++)v.push(p[g]);var T=i.clone(o,!0);i.extend(T,h,!0),delete T.fixtures,delete T.type;var E=u.create(T);return u.setParts(E,v),u.setPosition(E,{x:s,y:f}),E},parseFixture:function(s){var f=i.extend({},!1,s);delete f.circle,delete f.vertices;var o;if(s.circle){var h=r(s.circle,"x"),d=r(s.circle,"y"),v=r(s.circle,"radius");o=[e.circle(h,d,v,f)]}else s.vertices&&(o=this.parseVertices(s.vertices,f));return o},parseVertices:function(s,f){f===void 0&&(f={});for(var o=[],h=0;h<s.length;h++)a.clockwiseSort(s[h]),o.push(u.create(i.extend({position:a.centre(s[h]),vertices:s[h]},f)));return e.flagCoincidentParts(o)}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),i={parseBody:function(r,a,n,s){s===void 0&&(s={});var f,o=n.vertices;if(o.length===1)s.vertices=o[0],f=u.create(s),e.flagCoincidentParts(f.parts);else{for(var h=[],d=0;d<o.length;d++){var v=u.create({vertices:o[d]});h.push(v)}e.flagCoincidentParts(h),s.parts=h,f=u.create(s)}return f.label=n.label,u.setPosition(f,{x:r,y:a}),f}};l.exports=i},function(l,x,t){var e={};l.exports=e;var u=t(118),i=t(128),r=t(32),a=t(41),n=t(86);(function(){e.stack=function(s,f,o,h,d,v,c){for(var p=u.create({label:"Stack"}),g=s,T=f,E,S=0,C=0;C<h;C++){for(var P=0,A=0;A<o;A++){var R=c(g,T,A,C,E,S);if(R){var M=R.bounds.max.y-R.bounds.min.y,L=R.bounds.max.x-R.bounds.min.x;M>P&&(P=M),a.translate(R,{x:L*.5,y:M*.5}),g=R.bounds.max.x+d,u.addBody(p,R),E=R,S+=1}else g+=d}T+=P+v,g=s}return p},e.chain=function(s,f,o,h,d,v){for(var c=s.bodies,p=1;p<c.length;p++){var g=c[p-1],T=c[p],E=g.bounds.max.y-g.bounds.min.y,S=g.bounds.max.x-g.bounds.min.x,C=T.bounds.max.y-T.bounds.min.y,P=T.bounds.max.x-T.bounds.min.x,A={bodyA:g,pointA:{x:S*f,y:E*o},bodyB:T,pointB:{x:P*h,y:C*d}},R=r.extend(A,v);u.addConstraint(s,i.create(R))}return s.label+=" Chain",s},e.mesh=function(s,f,o,h,d){var v=s.bodies,c,p,g,T,E;for(c=0;c<o;c++){for(p=1;p<f;p++)g=v[p-1+c*f],T=v[p+c*f],u.addConstraint(s,i.create(r.extend({bodyA:g,bodyB:T},d)));if(c>0)for(p=0;p<f;p++)g=v[p+(c-1)*f],T=v[p+c*f],u.addConstraint(s,i.create(r.extend({bodyA:g,bodyB:T},d))),h&&p>0&&(E=v[p-1+(c-1)*f],u.addConstraint(s,i.create(r.extend({bodyA:E,bodyB:T},d)))),h&&p<f-1&&(E=v[p+1+(c-1)*f],u.addConstraint(s,i.create(r.extend({bodyA:E,bodyB:T},d))))}return s.label+=" Mesh",s},e.pyramid=function(s,f,o,h,d,v,c){return e.stack(s,f,o,h,d,v,function(p,g,T,E,S,C){var P=Math.min(h,Math.ceil(o/2)),A=S?S.bounds.max.x-S.bounds.min.x:0;if(!(E>P)){E=P-E;var R=E,M=o-1-E;if(!(T<R||T>M)){C===1&&a.translate(S,{x:(T+(o%2===1?1:-1))*A,y:0});var L=S?T*A:0;return c(s+L+T*d,g,T,E,S,C)}}})},e.newtonsCradle=function(s,f,o,h,d){for(var v=u.create({label:"Newtons Cradle"}),c=0;c<o;c++){var p=1.9,g=n.circle(s+c*(h*p),f+d,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=i.create({pointA:{x:s+c*(h*p),y:f},bodyB:g});u.addBody(v,g),u.addConstraint(v,T)}return v},e.car=function(s,f,o,h,d){var v=a.nextGroup(!0),c=20,p=-o*.5+c,g=o*.5-c,T=0,E=u.create({label:"Car"}),S=n.rectangle(s,f,o,h,{collisionFilter:{group:v},chamfer:{radius:h*.5},density:2e-4}),C=n.circle(s+p,f+T,d,{collisionFilter:{group:v},friction:.8}),P=n.circle(s+g,f+T,d,{collisionFilter:{group:v},friction:.8}),A=i.create({bodyB:S,pointB:{x:p,y:T},bodyA:C,stiffness:1,length:0}),R=i.create({bodyB:S,pointB:{x:g,y:T},bodyA:P,stiffness:1,length:0});return u.addBody(E,S),u.addBody(E,C),u.addBody(E,P),u.addConstraint(E,A),u.addConstraint(E,R),E},e.softBody=function(s,f,o,h,d,v,c,p,g,T){g=r.extend({inertia:1/0},g),T=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var E=e.stack(s,f,o,h,d,v,function(S,C){return n.circle(S,C,p,g)});return e.mesh(E,o,h,c,T),E.label="Soft Body",E}})()},function(l,x,t){var e={};l.exports=e,t(84);var u=t(32);(function(){e.pathToVertices=function(i,r){typeof window<"u"&&!("SVGPathSeg"in window)&&u.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,n,s,f,o,h,d,v,c,p,g=[],T,E,S=0,C=0,P=0;r=r||15;var A=function(M,L,F){var I=F%2===1&&F>1;if(!c||M!=c.x||L!=c.y){c&&I?(T=c.x,E=c.y):(T=0,E=0);var B={x:T+M,y:E+L};(I||!c)&&(c=B),g.push(B),C=T+M,P=E+L}},R=function(M){var L=M.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":C=M.x,P=M.y;break;case"H":C=M.x;break;case"V":P=M.y;break}A(C,P,M.pathSegType)}};for(e._svgPathToAbsolute(i),s=i.getTotalLength(),h=[],a=0;a<i.pathSegList.numberOfItems;a+=1)h.push(i.pathSegList.getItem(a));for(d=h.concat();S<s;){if(p=i.getPathSegAtLength(S),o=h[p],o!=v){for(;d.length&&d[0]!=o;)R(d.shift());v=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=i.getPointAtLength(S),A(f.x,f.y,0);break}S+=r}for(a=0,n=d.length;a<n;++a)R(d[a]);return g},e._svgPathToAbsolute=function(i){for(var r,a,n,s,f,o,h=i.pathSegList,d=0,v=0,c=h.numberOfItems,p=0;p<c;++p){var g=h.getItem(p),T=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in g&&(d=g.x),"y"in g&&(v=g.y);else switch("x1"in g&&(n=d+g.x1),"x2"in g&&(f=d+g.x2),"y1"in g&&(s=v+g.y1),"y2"in g&&(o=v+g.y2),"x"in g&&(d+=g.x),"y"in g&&(v+=g.y),T){case"m":h.replaceItem(i.createSVGPathSegMovetoAbs(d,v),p);break;case"l":h.replaceItem(i.createSVGPathSegLinetoAbs(d,v),p);break;case"h":h.replaceItem(i.createSVGPathSegLinetoHorizontalAbs(d),p);break;case"v":h.replaceItem(i.createSVGPathSegLinetoVerticalAbs(v),p);break;case"c":h.replaceItem(i.createSVGPathSegCurvetoCubicAbs(d,v,n,s,f,o),p);break;case"s":h.replaceItem(i.createSVGPathSegCurvetoCubicSmoothAbs(d,v,f,o),p);break;case"q":h.replaceItem(i.createSVGPathSegCurvetoQuadraticAbs(d,v,n,s),p);break;case"t":h.replaceItem(i.createSVGPathSegCurvetoQuadraticSmoothAbs(d,v),p);break;case"a":h.replaceItem(i.createSVGPathSegArcAbs(d,v,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),p);break;case"z":case"Z":d=r,v=a;break}(T=="M"||T=="m")&&(r=d,a=v)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),i=t(0),r=t(249),a=t(9),n=t(2),s=t(126),f=t(64),o=new i({Extends:a,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,v,c){a.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var p=n(c,"body",null),g=n(c,"addToWorld",!0);if(p)this.setBody(p,g);else{var T=v.getCollisionGroup(),E=n(T,"objects",[]);E.length>0?this.setFromTileCollision(c):this.setFromTileRectangle(c)}},setFromTileRectangle:function(h){h===void 0&&(h={}),s(h,"isStatic")||(h.isStatic=!0),s(h,"addToWorld")||(h.addToWorld=!0);var d=this.tile.getBounds(),v=d.x+d.width/2,c=d.y+d.height/2,p=e.rectangle(v,c,d.width,d.height,h);return this.setBody(p,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),s(h,"isStatic")||(h.isStatic=!0),s(h,"addToWorld")||(h.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,c=this.tile.getLeft(),p=this.tile.getTop(),g=this.tile.getCollisionGroup(),T=n(g,"objects",[]),E=[],S=0;S<T.length;S++){var C=T[S],P=c+C.x*d,A=p+C.y*v,R=C.width*d,M=C.height*v,L=null;if(C.rectangle)L=e.rectangle(P+R/2,A+M/2,R,M,h);else if(C.ellipse)L=e.circle(P+R/2,A+M/2,R/2,h);else if(C.polygon||C.polyline){var F=C.polygon?C.polygon:C.polyline,I=F.map(function(W){return{x:W.x*d,y:W.y*v}}),B=f.create(I),b=f.centre(B);P+=b.x,A+=b.y,L=e.fromVertices(P,A,B,h)}L&&E.push(L)}return E.length===1?this.setBody(E[0],h.addToWorld):E.length>1&&(h.parts=E,this.setBody(u.create(h),h.addToWorld)),this},setBody:function(h,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,l.exports=e},function(l,x,t){var e={};l.exports=e;var u=t(32);(function(){e._registry={},e.register=function(i){if(e.isPlugin(i)||u.warn("Plugin.register:",e.toString(i),"does not implement all required fields."),i.name in e._registry){var r=e._registry[i.name],a=e.versionParse(i.version).number,n=e.versionParse(r.version).number;a>n?(u.warn("Plugin.register:",e.toString(r),"was upgraded to",e.toString(i)),e._registry[i.name]=i):a<n?u.warn("Plugin.register:",e.toString(r),"can not be downgraded to",e.toString(i)):i!==r&&u.warn("Plugin.register:",e.toString(i),"is already registered to different plugin object")}else e._registry[i.name]=i;return i},e.resolve=function(i){return e._registry[e.dependencyParse(i).name]},e.toString=function(i){return typeof i=="string"?i:(i.name||"anonymous")+"@"+(i.version||i.range||"0.0.0")},e.isPlugin=function(i){return i&&i.name&&i.version&&i.install},e.isUsed=function(i,r){return i.used.indexOf(r)>-1},e.isFor=function(i,r){var a=i.for&&e.dependencyParse(i.for);return!i.for||r.name===a.name&&e.versionSatisfies(r.version,a.range)},e.use=function(i,r){if(i.uses=(i.uses||[]).concat(r||[]),i.uses.length===0){u.warn("Plugin.use:",e.toString(i),"does not specify any dependencies to install.");return}for(var a=e.dependencies(i),n=u.topologicalSort(a),s=[],f=0;f<n.length;f+=1)if(n[f]!==i.name){var o=e.resolve(n[f]);if(!o){s.push(" "+n[f]);continue}e.isUsed(i,o.name)||(e.isFor(o,i)||(u.warn("Plugin.use:",e.toString(o),"is for",o.for,"but installed on",e.toString(i)+"."),o._warned=!0),o.install?o.install(i):(u.warn("Plugin.use:",e.toString(o),"does not specify an install function."),o._warned=!0),o._warned?(s.push(" "+e.toString(o)),delete o._warned):s.push(" "+e.toString(o)),i.used.push(o.name))}s.length>0&&!o.silent&&u.info(s.join("  "))},e.dependencies=function(i,r){var a=e.dependencyParse(i),n=a.name;if(r=r||{},!(n in r)){i=e.resolve(i)||i,r[n]=u.map(i.uses||[],function(f){e.isPlugin(f)&&e.register(f);var o=e.dependencyParse(f),h=e.resolve(f);return h&&!e.versionSatisfies(h.version,o.range)?(u.warn("Plugin.dependencies:",e.toString(h),"does not satisfy",e.toString(o),"used by",e.toString(a)+"."),h._warned=!0,i._warned=!0):h||(u.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(a),"could not be resolved."),i._warned=!0),o.name});for(var s=0;s<r[n].length;s+=1)e.dependencies(r[n][s],r);return r}},e.dependencyParse=function(i){if(u.isString(i)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return r.test(i)||u.warn("Plugin.dependencyParse:",i,"is not a valid dependency string."),{name:i.split("@")[0],range:i.split("@")[1]||"*"}}return{name:i.name,range:i.range||i.version}},e.versionParse=function(i){var r=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;r.test(i)||u.warn("Plugin.versionParse:",i,"is not a valid version or range.");var a=i.split("-");i=a[0];var n=isNaN(Number(i[0])),s=n?i.substr(1):i,f=u.map(s.split("."),function(o){return Number(o)});return{isRange:n,version:s,range:i,operator:n?i[0]:"",parts:f,prerelease:a[1],number:f[0]*1e8+f[1]*1e4+f[2]}},e.versionSatisfies=function(i,r){r=r||"*";var a=e.versionParse(r),n=a.parts,s=e.versionParse(i),f=s.parts;if(a.isRange){if(a.operator==="*"||i==="*")return!0;if(a.operator==="~")return f[0]===n[0]&&f[1]===n[1]&&f[2]>=n[2];if(a.operator==="^")return n[0]>0?f[0]===n[0]&&s.number>=a.number:n[1]>0?f[1]===n[1]&&f[2]>=n[2]:f[2]===n[2]}return i===r||i==="*"}})()},function(l,x,t){var e={};l.exports=e;var u=t(118);t(128);var i=t(32);(function(){e.create=function(r){var a=u.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return i.extend(a,n,r)}})()},function(l,x,t){var e={};l.exports=e;var u=t(250),i=t(273),r=t(32);(function(){e.create=function(a){var n={controller:e,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(n,a)},e.update=function(a,n,s,f){var o,h,d,v=s.world,c=a.buckets,p,g,T=!1,E=s.metrics;for(E.broadphaseTests=0,o=0;o<n.length;o++){var S=n[o];if(!(S.isSleeping&&!f)&&!(S.bounds.max.x<v.bounds.min.x||S.bounds.min.x>v.bounds.max.x||S.bounds.max.y<v.bounds.min.y||S.bounds.min.y>v.bounds.max.y)){var C=e._getRegion(a,S);if(!S.region||C.id!==S.region.id||f){E.broadphaseTests+=1,(!S.region||f)&&(S.region=C);var P=e._regionUnion(C,S.region);for(h=P.startCol;h<=P.endCol;h++)for(d=P.startRow;d<=P.endRow;d++){g=e._getBucketId(h,d),p=c[g];var A=h>=C.startCol&&h<=C.endCol&&d>=C.startRow&&d<=C.endRow,R=h>=S.region.startCol&&h<=S.region.endCol&&d>=S.region.startRow&&d<=S.region.endRow;!A&&R&&R&&p&&e._bucketRemoveBody(a,p,S),(S.region===C||A&&!R||f)&&(p||(p=e._createBucket(c,g)),e._bucketAddBody(a,p,S))}S.region=C,T=!0}}}T&&(a.pairsList=e._createActivePairsList(a))},e.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]},e._regionUnion=function(a,n){var s=Math.min(a.startCol,n.startCol),f=Math.max(a.endCol,n.endCol),o=Math.min(a.startRow,n.startRow),h=Math.max(a.endRow,n.endRow);return e._createRegion(s,f,o,h)},e._getRegion=function(a,n){var s=n.bounds,f=Math.floor(s.min.x/a.bucketWidth),o=Math.floor(s.max.x/a.bucketWidth),h=Math.floor(s.min.y/a.bucketHeight),d=Math.floor(s.max.y/a.bucketHeight);return e._createRegion(f,o,h,d)},e._createRegion=function(a,n,s,f){return{id:a+","+n+","+s+","+f,startCol:a,endCol:n,startRow:s,endRow:f}},e._getBucketId=function(a,n){return"C"+a+"R"+n},e._createBucket=function(a,n){var s=a[n]=[];return s},e._bucketAddBody=function(a,n,s){for(var f=0;f<n.length;f++){var o=n[f];if(!(s.id===o.id||s.isStatic&&o.isStatic)){var h=u.id(s,o),d=a.pairs[h];d?d[2]+=1:a.pairs[h]=[s,o,1]}}n.push(s)},e._bucketRemoveBody=function(a,n,s){n.splice(n.indexOf(s),1);for(var f=0;f<n.length;f++){var o=n[f],h=u.id(s,o),d=a.pairs[h];d&&(d[2]-=1)}},e._createActivePairsList=function(a){var n,s,f=[];n=r.keys(a.pairs);for(var o=0;o<n.length;o++)s=a.pairs[n[o]],s[2]>0?f.push(s):delete a.pairs[n[o]];return f}})()},function(l,x,t){var e={};l.exports=e;var u=t(250),i=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(r){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},e.update=function(r,a,n){var s=r.list,f=r.table,o=r.collisionStart,h=r.collisionEnd,d=r.collisionActive,v,c,p,g;for(o.length=0,h.length=0,d.length=0,g=0;g<s.length;g++)s[g].confirmedActive=!1;for(g=0;g<a.length;g++)v=a[g],v.collided&&(c=u.id(v.bodyA,v.bodyB),p=f[c],p?(p.isActive?d.push(p):o.push(p),u.update(p,v,n),p.confirmedActive=!0):(p=u.create(v,n),f[c]=p,o.push(p),s.push(p)));for(g=0;g<s.length;g++)p=s[g],p.isActive&&!p.confirmedActive&&(u.setActive(p,!1,n),h.push(p))},e.removeOld=function(r,a){var n=r.list,s=r.table,f=[],o,h,d,v;for(v=0;v<n.length;v++){if(o=n[v],h=o.collision,h.bodyA.isSleeping||h.bodyB.isSleeping){o.timeUpdated=a;continue}a-o.timeUpdated>e._pairMaxIdleLife&&f.push(v)}for(v=0;v<f.length;v++)d=f[v]-v,o=n[d],delete s[o.id],n.splice(d,1)},e.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},function(l,x,t){var e={};l.exports=e;var u=t(64),i=t(83),r=t(32),a=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var s,f,o;for(s=0;s<n.length;s++)f=n[s],f.isActive&&(o=f.activeContacts.length,f.collision.parentA.totalContacts+=o,f.collision.parentB.totalContacts+=o)},e.solvePosition=function(n,s,f){var o,h,d,v,c,p,g,T,E,S,C,P,A,R,M,L,F=f*e._positionDampen;for(o=0;o<s.length;o++){var I=s[o];I.previousPositionImpulse.x=I.positionImpulse.x,I.previousPositionImpulse.y=I.positionImpulse.y}for(o=0;o<n.length;o++)v=n[o],!(!v.isActive||v.isSensor)&&(c=v.collision,p=c.parentA,g=c.parentB,T=c.normal,C=p.previousPositionImpulse,P=g.previousPositionImpulse,S=c.penetration,R=P.x-C.x+S.x,M=P.y-C.y+S.y,h=T.x,d=T.y,E=h*R+d*M,v.separation=E,L=(E-v.slop)*F,(p.isStatic||g.isStatic)&&(L*=2),p.isStatic||p.isSleeping||(A=L/p.totalContacts,p.positionImpulse.x+=h*A,p.positionImpulse.y+=d*A),g.isStatic||g.isSleeping||(A=L/g.totalContacts,g.positionImpulse.x-=h*A,g.positionImpulse.y-=d*A))},e.postSolvePosition=function(n){for(var s=0;s<n.length;s++){var f=n[s];if(f.totalContacts=0,f.positionImpulse.x!==0||f.positionImpulse.y!==0){for(var o=0;o<f.parts.length;o++){var h=f.parts[o];u.translate(h.vertices,f.positionImpulse),a.update(h.bounds,h.vertices,f.velocity),h.position.x+=f.positionImpulse.x,h.position.y+=f.positionImpulse.y}f.positionPrev.x+=f.positionImpulse.x,f.positionPrev.y+=f.positionImpulse.y,i.dot(f.positionImpulse,f.velocity)<0?(f.positionImpulse.x=0,f.positionImpulse.y=0):(f.positionImpulse.x*=e._positionWarming,f.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(n){var s,f,o,h,d,v,c,p,g,T,E,S,C,P,A=i._temp[0],R=i._temp[1];for(s=0;s<n.length;s++)if(o=n[s],!(!o.isActive||o.isSensor))for(h=o.activeContacts,d=o.collision,v=d.parentA,c=d.parentB,p=d.normal,g=d.tangent,f=0;f<h.length;f++)T=h[f],E=T.vertex,S=T.normalImpulse,C=T.tangentImpulse,(S!==0||C!==0)&&(A.x=p.x*S+g.x*C,A.y=p.y*S+g.y*C,v.isStatic||v.isSleeping||(P=i.sub(E,v.position,R),v.positionPrev.x+=A.x*v.inverseMass,v.positionPrev.y+=A.y*v.inverseMass,v.anglePrev+=i.cross(P,A)*v.inverseInertia),c.isStatic||c.isSleeping||(P=i.sub(E,c.position,R),c.positionPrev.x-=A.x*c.inverseMass,c.positionPrev.y-=A.y*c.inverseMass,c.anglePrev-=i.cross(P,A)*c.inverseInertia))},e.solveVelocity=function(n,s){for(var f=s*s,o=i._temp[0],h=i._temp[1],d=i._temp[2],v=i._temp[3],c=i._temp[4],p=i._temp[5],g=0;g<n.length;g++){var T=n[g];if(!(!T.isActive||T.isSensor)){var E=T.collision,S=E.parentA,C=E.parentB,P=E.normal,A=E.tangent,R=T.activeContacts,M=1/R.length;S.velocity.x=S.position.x-S.positionPrev.x,S.velocity.y=S.position.y-S.positionPrev.y,C.velocity.x=C.position.x-C.positionPrev.x,C.velocity.y=C.position.y-C.positionPrev.y,S.angularVelocity=S.angle-S.anglePrev,C.angularVelocity=C.angle-C.anglePrev;for(var L=0;L<R.length;L++){var F=R[L],I=F.vertex,B=i.sub(I,S.position,h),b=i.sub(I,C.position,d),W=i.add(S.velocity,i.mult(i.perp(B),S.angularVelocity),v),$=i.add(C.velocity,i.mult(i.perp(b),C.angularVelocity),c),Z=i.sub(W,$,p),D=i.dot(P,Z),O=i.dot(A,Z),N=Math.abs(O),G=r.sign(O),Y=(1+T.restitution)*D,V=r.clamp(T.separation+D,0,1)*e._frictionNormalMultiplier,z=O,H=1/0;N>T.friction*T.frictionStatic*V*f&&(H=N,z=r.clamp(T.friction*G*f,-H,H));var j=i.cross(B,P),q=i.cross(b,P),et=M/(S.inverseMass+C.inverseMass+S.inverseInertia*j*j+C.inverseInertia*q*q);if(Y*=et,z*=et,D<0&&D*D>e._restingThresh*f)F.normalImpulse=0;else{var ot=F.normalImpulse;F.normalImpulse=Math.min(F.normalImpulse+Y,0),Y=F.normalImpulse-ot}if(O*O>e._restingThreshTangent*f)F.tangentImpulse=0;else{var K=F.tangentImpulse;F.tangentImpulse=r.clamp(F.tangentImpulse+z,-H,H),z=F.tangentImpulse-K}o.x=P.x*Y+A.x*z,o.y=P.y*Y+A.y*z,S.isStatic||S.isSleeping||(S.positionPrev.x+=o.x*S.inverseMass,S.positionPrev.y+=o.y*S.inverseMass,S.anglePrev+=i.cross(B,o)*S.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=o.x*C.inverseMass,C.positionPrev.y-=o.y*C.inverseMass,C.anglePrev-=i.cross(b,o)*C.inverseInertia)}}}}})()},function(l,x){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}l.exports=t},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),u=function(i,r,a,n){for(var s=i[0],f=1;f<i.length;f++){var o=i[f];e(o,s,r,a,n),s=o}return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"angle",r,a,n,s)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){for(var r=0;r<e.length;r++){var a=e[r];u.call(i,a)}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var a=e[r],n=!0;for(var s in u)a[s]!==u[s]&&(n=!1);if(n)return a}return null};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){i===void 0&&(i=0);for(var r=i;r<e.length;r++){var a=e[r],n=!0;for(var s in u)a[s]!==u[s]&&(n=!1);if(n)return a}return null};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),u=t(123),i=t(2),r=t(1),a=t(129),n=new a({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1),s=function(f,o){o===void 0&&(o={});var h=o.hasOwnProperty("width"),d=o.hasOwnProperty("height"),v=i(o,"width",-1),c=i(o,"height",-1),p=i(o,"cellWidth",1),g=i(o,"cellHeight",p),T=i(o,"position",u.TOP_LEFT),E=i(o,"x",0),S=i(o,"y",0),C=0,P=0,A=v*p,R=c*g;n.setPosition(E,S),n.setSize(p,g);for(var M=0;M<f.length;M++)if(e(f[M],n,T),h&&v===-1)n.x+=p;else if(d&&c===-1)n.y+=g;else if(d&&!h){if(P+=g,n.y+=g,P===R&&(P=0,C+=p,n.y=S,n.x+=p,C===A))break}else if(C+=p,n.x+=p,C===A&&(C=0,P+=g,n.x=E,n.y+=g,P===R))break;return f};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=2,i={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,a,n,s){return r===void 0&&(r=1),a===void 0?this.alpha=r:(this._alphaTL=e(r,0,1),this._alphaTR=e(a,0,1),this._alphaBL=e(n,0,1),this._alphaBR=e(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var a=e(r,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=~u:this.renderFlags|=u}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var a=e(r,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=u)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var a=e(r,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=u)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var a=e(r,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=u)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var a=e(r,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=u)}}};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,i,r){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,i,r,this.flipX,this.flipY);else{var a=e;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(308),i=t(3),r={prepareBoundsOutput:function(a,n){if(n===void 0&&(n=!1),this.rotation!==0&&u(a,this.x,this.y,this.rotation),n&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(a.x,a.y,a)}return a},getCenter:function(a){return a===void 0&&(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,a},getTopLeft:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopRight:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getLeftCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getRightCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getBottomLeft:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomCenter:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomRight:function(a,n){return a||(a=new i),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBounds:function(a){a===void 0&&(a=new e);var n,s,f,o,h,d,v,c;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),p.transformPoint(a.x,a.y,a),n=a.x,s=a.y,this.getTopRight(a),p.transformPoint(a.x,a.y,a),f=a.x,o=a.y,this.getBottomLeft(a),p.transformPoint(a.x,a.y,a),h=a.x,d=a.y,this.getBottomRight(a),p.transformPoint(a.x,a.y,a),v=a.x,c=a.y}else this.getTopLeft(a),n=a.x,s=a.y,this.getTopRight(a),f=a.x,o=a.y,this.getBottomLeft(a),h=a.x,d=a.y,this.getBottomRight(a),v=a.x,c=a.y;return a.x=Math.min(n,f,h,v),a.y=Math.min(s,o,d,c),a.width=Math.max(n,f,h,v)-a.x,a.height=Math.max(s,o,d,c)-a.y,a}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="blur"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextlost"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="contextrestored"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="focus"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="hidden"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="poststep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prestep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="step"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="visible"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),u=t(99),i=t(6),r=t(100),a=t(3),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,f){f===void 0&&(f=this.pathConfig);var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this.path=s,f&&this.startFollow(f),this},setRotateToPath:function(s,f){return f===void 0&&(f=0),this.rotateToPath=s,this.pathRotationOffset=f,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,f){s===void 0&&(s={}),f===void 0&&(f=0);var o=this.pathTween;o&&o.isPlaying()&&o.stop(),typeof s=="number"&&(s={duration:s}),s.from=i(s,"from",0),s.to=i(s,"to",1);var h=u(s,"positionOnPath",!1);this.rotateToPath=u(s,"rotateToPath",!1),this.pathRotationOffset=i(s,"rotationOffset",0);var d=i(s,"startAt",f);if(d&&(s.onStart=function(c){var p=c.data[0];p.progress=d,p.elapsed=p.duration*d;var g=p.ease(p.progress);p.current=p.start+(p.end-p.start)*g,p.target[p.key]=p.current}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s){var f=s.data[0],o=this.pathDelta,h=this.pathVector;if(o.copy(h).negate(),f.state===r.COMPLETE){this.path.getPoint(1,h),o.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(f.state!==r.PLAYING_FORWARD&&f.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),h),o.add(h),h.add(this.pathOffset);var d=this.x,v=this.y;this.setPosition(h.x,h.y);var c=this.x-d,p=this.y-v;if(c===0&&p===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,c)+e(this.pathRotationOffset))}}};l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(u,i){return this.texture=this.scene.sys.textures.get(u),this.setFrame(i)},setFrame:function(u,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!0),this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(u,i,r,a){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,i,r,a,this.flipX,this.flipY);else{var n=u;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,i){return this.texture=this.scene.sys.textures.get(u),this.setFrame(i)},setFrame:function(u,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!0),this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&i&&this.setSizeToFrame(),this._originComponent&&r&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,i,r){return e===void 0&&(e=16777215),u===void 0&&(u=e,i=e,r=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=i,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(e,u,i,r){return this.setTint(e,u,i,r),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="changedata-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="setdata"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="created"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="error"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seeking"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="timeout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addedtoscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="create"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postupdate"},function(l,x){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removedfromscene"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="render"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioncomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitioninit"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="transitionwake"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wake"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"alpha",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"x",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"x",r,n,f,o),e(i,"y",a,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"y",r,a,n,s)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var a=i,n=(r-i)/e.length,s=0;s<e.length;s++)e[s].x=u.x+u.radius*Math.cos(a),e[s].y=u.y+u.radius*Math.sin(a),a+=n;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var a=i,n=(r-i)/e.length,s=u.width/2,f=u.height/2,o=0;o<e.length;o++)e[o].x=u.x+s*Math.cos(a),e[o].y=u.y+f*Math.sin(a),a+=n;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),u=function(i,r){for(var a=e(r,i.length),n=0;n<i.length;n++){var s=i[n],f=a[n];s.x=f.x,s.y=f.y}return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),u=t(178),i=t(179),r=function(a,n,s){s===void 0&&(s=0);var f=e(n,!1,a.length);s>0?u(f,s):s<0&&i(f,Math.abs(s));for(var o=0;o<a.length;o++)a[o].x=f[o].x,a[o].y=f[o].y;return a};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),u=function(i,r,a){var n=e({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},a),s=e({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},a),f=e({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},a);n.pop(),s.pop(),f.pop(),n=n.concat(s,f);for(var o=n.length/i.length,h=0,d=0;d<i.length;d++){var v=i[d],c=n[Math.floor(h)];v.x=c.x,v.y=c.y,h+=o}return i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){for(var r=0;r<e.length;r++){var a=e[r];a.anims&&a.anims.play(u,i)}return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),u=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),u=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),u=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),u=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),u=function(i,r){for(var a=0;a<i.length;a++)e(r,i[a]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"rotation",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),u=t(50),i=function(r,a,n){for(var s=a.x,f=a.y,o=0;o<r.length;o++){var h=r[o];e(h,s,f,n,Math.max(1,u(h.x,h.y,s,f)))}return r};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),u=function(i,r,a,n){var s=r.x,f=r.y;if(n===0)return i;for(var o=0;o<i.length;o++)e(i[o],s,f,a,n);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"scaleX",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"scaleX",r,n,f,o),e(i,"scaleY",a,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(i,r,a,n,s){return e(i,"scaleY",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"alpha",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n){return e(i,"blendMode",r,0,a,n)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"depth",r,a,n,s)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){for(var r=0;r<e.length;r++)e[r].setInteractive(u,i);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"originX",r,n,f,o),e(i,"originY",a,s,f,o),i.forEach(function(h){h.updateDisplayOrigin()}),i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"rotation",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"scaleX",r,n,f,o),e(i,"scaleY",a,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"scaleX",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"scaleY",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"scrollFactorX",r,n,f,o),e(i,"scrollFactorY",a,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"scrollFactorX",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"scrollFactorY",r,a,n,s)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){for(var n=0;n<e.length;n++)e[n].setTint(u,i,r,a);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n){return e(i,"visible",r,0,a,n)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"x",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s,f,o){return a==null&&(a=r),e(i,"x",r,n,f,o),e(i,"y",a,s,f,o)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(i,r,a,n,s){return e(i,"y",r,a,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=new e);var f,o;if(i.length>1){var h,d,v,c;if(n===0){var p=i.length-1;for(f=i[p].x,o=i[p].y,h=p-1;h>=0;h--)c=i[h],d=c.x,v=c.y,c.x=f,c.y=o,f=d,o=v;i[p].x=r,i[p].y=a}else{for(f=i[0].x,o=i[0].y,h=1;h<i.length;h++)c=i[h],d=c.x,v=c.y,c.x=f,c.y=o,f=d,o=v;i[0].x=r,i[0].y=a}}else f=i[0].x,o=i[0].y,i[0].x=r,i[0].y=a;return s.x=f,s.y=o,s};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),u=function(i){return e(i)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),u=function(i,r,a,n,s){s===void 0&&(s=!1);var f=Math.abs(n-a)/i.length,o;if(s)for(o=0;o<i.length;o++)i[o][r]+=e(o*f,a,n);else for(o=0;o<i.length;o++)i[o][r]=e(o*f,a,n);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),u=function(i,r,a,n,s){s===void 0&&(s=!1);var f=Math.abs(n-a)/i.length,o;if(s)for(o=0;o<i.length;o++)i[o][r]+=e(o*f,a,n);else for(o=0;o<i.length;o++)i[o][r]=e(o*f,a,n);return i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){a===void 0&&(a=!1);var n=Math.abs(r-i)/e.length,s;if(a)for(s=0;s<e.length;s++)e[s][u]+=s*n+i;else for(s=0;s<e.length;s++)e[s][u]=s*n+i;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(i,r,a){a===void 0&&(a=0);for(var n=0;n<i.length;n++){var s=i[n];s.x=e(s.x,r.left-a,r.right+a),s.y=e(s.y,r.top-a,r.bottom+a)}return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationcomplete-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrepeat"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationrestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationstop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="animationupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Controls:t(739),Scene2D:t(742)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),i=new e({initialize:function(a){this.camera=u(a,"camera",null),this.left=u(a,"left",null),this.right=u(a,"right",null),this.up=u(a,"up",null),this.down=u(a,"down",null),this.zoomIn=u(a,"zoomIn",null),this.zoomOut=u(a,"zoomOut",null),this.zoomSpeed=u(a,"zoomSpeed",.01),this.minZoom=u(a,"minZoom",.001),this.maxZoom=u(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=u(a,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=u(a,"speed.x",0),this.speedY=u(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),i=new e({initialize:function(a){this.camera=u(a,"camera",null),this.left=u(a,"left",null),this.right=u(a,"right",null),this.up=u(a,"up",null),this.down=u(a,"down",null),this.zoomIn=u(a,"zoomIn",null),this.zoomOut=u(a,"zoomOut",null),this.zoomSpeed=u(a,"zoomSpeed",.01),this.minZoom=u(a,"minZoom",.001),this.maxZoom=u(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=u(a,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=u(a,"acceleration.x",0),this.accelY=u(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=u(a,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=u(a,"drag.x",0),this.dragY=u(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=u(a,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=u(a,"maxSpeed.x",0),this.maxSpeedY=u(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*r|0),this._speedY!==0&&(a.scrollY-=this._speedY*r|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameradestroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeincomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeinstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerafadeoutstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="cameraflashstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="followupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapancomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerapanstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postrender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="prerender"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerarotatestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerashakestart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomcomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="camerazoomstart"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(37),r=new u({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,n,s,f,o,h,d,v){if(a===void 0&&(a=!0),n===void 0&&(n=1e3),s===void 0&&(s=0),f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=a,this.progress=0,this.red=s,this.green=f,this.blue=o,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v;var c=a?i.FADE_OUT_START:i.FADE_IN_START;return this.camera.emit(c,this.camera,this,n,s,f,o),this.camera},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,f=this.red/255,o=this.green/255,h=this.blue/255;return a.drawFillRect(s.x,s.y,s.width,s.height,n(h,o,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?i.FADE_OUT_COMPLETE:i.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(37),r=new u({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,n,s,f,o,h,d){return a===void 0&&(a=250),n===void 0&&(n=255),s===void 0&&(s=255),f===void 0&&(f=255),o===void 0&&(o=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene),!o&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=n,this.green=s,this.blue=f,this.alpha=1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(i.FLASH_START,this.camera,this,a,n,s,f),this.camera)},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning)return!1;var s=this.camera,f=this.red/255,o=this.green/255,h=this.blue/255;return a.drawFillRect(s.x,s.y,s.width,s.height,n(h,o,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(134),r=t(37),a=t(3),n=new u({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,f,o,h,d,v,c){o===void 0&&(o=1e3),h===void 0&&(h=i.Linear),d===void 0&&(d=!1),v===void 0&&(v=null),c===void 0&&(c=this.camera.scene);var p=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(s,f),p.getScroll(s,f,this.current),typeof h=="string"&&i.hasOwnProperty(h)?this.ease=i[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=c,this.camera.emit(r.PAN_START,this.camera,this,o,s,f)),p},update:function(s,f){if(this.isRunning){this._elapsed+=f;var o=e(this._elapsed/this.duration,0,1);this.progress=o;var h=this.camera;if(this._elapsed<this.duration){var d=this.ease(o);h.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*d,c=this.source.y+(this.current.y-this.source.y)*d;h.setScroll(v,c),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,o,v,c)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,o,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1.70158);var i=u*1.525;return(e*=2)<1?.5*(e*e*((i+1)*e-i)):.5*((e-=2)*e*((i+1)*e+i)+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===void 0&&(u=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return u<1?u=1:r=i*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===void 0&&(u=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return u<1?u=1:r=i*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/i)+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===void 0&&(u=.1),i===void 0&&(i=.1),e===0)return 0;if(e===1)return 1;var r=i/4;return u<1?u=1:r=i*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/i)*.5+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(37),r=t(3),a=new u({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,s,f,o,h){return n===void 0&&(n=100),s===void 0&&(s=.05),f===void 0&&(f=!1),o===void 0&&(o=null),h===void 0&&(h=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=o,this._onUpdateScope=h,this.camera.emit(i.SHAKE_START,this.camera,this,n,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,s){if(this.isRunning)if(this._elapsed+=s,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,o=this.camera.width,h=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*f.x*o*2-f.x*o)*d,this._offsetY=(Math.random()*f.y*h*2-f.y*h)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});l.exports=a},function(l,x,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),u=t(0),i=t(37),r=t(134),a=new u({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,s,f,o,h,d,v){f===void 0&&(f=1e3),o===void 0&&(o=r.Linear),h===void 0&&(h=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var c=n;n<0?(c=-1*n,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;c=c-Math.floor(c/p)*p;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=g.rotation,this.destination=c,typeof o=="string"&&r.hasOwnProperty(o)?this.ease=r[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.shortestPath){var T=0,E=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+p)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+p)-this.destination,T<E?this.clockwise=!0:T>E&&(this.clockwise=!1)}return this.camera.emit(i.ROTATE_START,this.camera,this,f,c),g},update:function(n,s){if(this.isRunning){this._elapsed+=s;var f=e(this._elapsed/this.duration,0,1);this.progress=f;var o=this.camera;if(this._elapsed<this.duration){var h=this.ease(f);this.current=o.rotation;var d=0,v=360*Math.PI/180,c=this.destination,p=this.current;this.clockwise===!1&&(c=this.current,p=this.destination),c>=p?d=Math.abs(c-p):d=Math.abs(c+v)-p;var g=0;this.clockwise?g=o.rotation+d*h:g=o.rotation-d*h,o.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,f,g)}else o.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(i.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(134),r=t(37),a=new u({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,s,f,o,h,d){s===void 0&&(s=1e3),f===void 0&&(f=i.Linear),o===void 0&&(o=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene);var v=this.camera;return!o&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=v.zoom,this.destination=n,typeof f=="string"&&i.hasOwnProperty(f)?this.ease=i[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(r.ZOOM_START,this.camera,this,s,n)),v},update:function(n,s){this.isRunning&&(this._elapsed+=s,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),u=t(0),i=t(2),r=t(24),a=t(57),n=t(104),s=t(20),f=new u({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(s.BOOT,this.boot,this),h.sys.events.on(s.START,this.start,this)},boot:function(){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,o.scale.width,o.scale.height).setScene(this.scene),o.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var o=this.systems;o.settings.cameras?this.fromJSON(o.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(s.UPDATE,this.update,this),h.once(s.SHUTDOWN,this.shutdown,this)},add:function(o,h,d,v,c,p){o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),c===void 0&&(c=!1),p===void 0&&(p="");var g=new e(o,h,d,v);return g.setName(p),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),c&&(this.main=g),g},addExisting:function(o,h){h===void 0&&(h=!1);var d=this.cameras.indexOf(o);return d===-1?(o.id=this.getNextID(),o.setRoundPixels(this.roundPixels),this.cameras.push(o),h&&(this.main=o),o):null},getNextID:function(){for(var o=this.cameras,h=1,d=0;d<32;d++){for(var v=!1,c=0;c<o.length;c++){var p=o[c];if(p&&p.id===h){v=!0;continue}}if(v)h=h<<1;else return h}return 0},getTotal:function(o){o===void 0&&(o=!1);for(var h=0,d=this.cameras,v=0;v<d.length;v++){var c=d[v];(!o||o&&c.visible)&&h++}return h},fromJSON:function(o){Array.isArray(o)||(o=[o]);for(var h=this.scene.sys.scale.width,d=this.scene.sys.scale.height,v=0;v<o.length;v++){var c=o[v],p=i(c,"x",0),g=i(c,"y",0),T=i(c,"width",h),E=i(c,"height",d),S=this.add(p,g,T,E);S.name=i(c,"name",""),S.zoom=i(c,"zoom",1),S.rotation=i(c,"rotation",0),S.scrollX=i(c,"scrollX",0),S.scrollY=i(c,"scrollY",0),S.roundPixels=i(c,"roundPixels",!1),S.visible=i(c,"visible",!0);var C=i(c,"backgroundColor",!1);C&&S.setBackgroundColor(C);var P=i(c,"bounds",null);if(P){var A=i(P,"x",0),R=i(P,"y",0),M=i(P,"width",h),L=i(P,"height",d);S.setBounds(A,R,M,L)}}return this},getCamera:function(o){for(var h=this.cameras,d=0;d<h.length;d++)if(h[d].name===o)return h[d];return null},getCamerasBelowPointer:function(o){for(var h=this.cameras,d=o.x,v=o.y,c=[],p=0;p<h.length;p++){var g=h[p];g.visible&&g.inputEnabled&&a(g,d,v)&&c.unshift(g)}return c},remove:function(o,h){h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);for(var d=0,v=this.cameras,c=0;c<o.length;c++){var p=v.indexOf(o[c]);p!==-1&&(h?v[p].destroy():v[p].renderList=[],v.splice(p,1),d++)}return!this.main&&v[0]&&(this.main=v[0]),d},render:function(o,h){for(var d=this.scene,v=this.cameras,c=0;c<this.cameras.length;c++){var p=v[c];if(p.visible&&p.alpha>0){p.preRender();var g=this.getVisibleChildren(h.getChildren(),p);o.render(d,g,p)}}},getVisibleChildren:function(o,h){for(var d=[],v=0;v<o.length;v++){var c=o[v];c.willRender(h)&&d.push(c)}return d},resetAll:function(){for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(o,h){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(o,h)},onResize:function(o,h,d,v,c){for(var p=0;p<this.cameras.length;p++){var g=this.cameras[p];g._x===0&&g._y===0&&g._width===v&&g._height===c&&g.setSize(h.width,h.height)}},resize:function(o,h){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(o,h)},shutdown:function(){this.main=void 0;for(var o=0;o<this.cameras.length;o++)this.cameras[o].destroy();this.cameras=[];var h=this.systems.events;h.off(s.UPDATE,this.update,this),h.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});r.register("CameraManager",f,"cameras"),l.exports=f},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="enterfullscreen"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenfailed"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fullscreenunsupported"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="leavefullscreen"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="orientationchange"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resize"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(l,x){var t=l.exports={},e,u;function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?u=clearTimeout:u=r}catch{u=r}})();function a(g){if(e===setTimeout)return setTimeout(g,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function n(g){if(u===clearTimeout)return clearTimeout(g);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(g);try{return u(g)}catch{try{return u.call(null,g)}catch{return u.call(this,g)}}}var s=[],f=!1,o,h=-1;function d(){!f||!o||(f=!1,o.length?s=o.concat(s):h=-1,s.length&&v())}function v(){if(!f){var g=a(d);f=!0;for(var T=s.length;T;){for(o=s,s=[];++h<T;)o&&o[h].run();h=-1,T=s.length}o=null,f=!1,n(g)}}t.nextTick=function(g){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];s.push(new c(g,T)),s.length===1&&!f&&a(v)};function c(g,T){this.fun=g,this.array=T}c.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),u={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function i(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(u.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(u.mspointer=!0),navigator.getGamepads&&(u.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?u.wheelEvent="wheel":"onmousewheel"in window?u.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(u.wheelEvent="DOMMouseScroll")),u}l.exports=i()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),u={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function i(){if(typeof importScripts=="function")return u;u.audioData=!!window.Audio,u.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),a=!!r.canPlayType;try{if(a&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(u.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(u.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(u.mp3=!0),r.canPlayType("audio/wav").replace(/^no$/,"")&&(u.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(u.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(u.webm=!0),r.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)u.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(n===10&&s>=11||n>10)&&(u.dolby=!0)}}}catch{}return u}l.exports=i()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var u=document.createElement("video"),i=!!u.canPlayType;try{i&&(u.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}l.exports=e()},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var u,i="Fullscreen",r="FullScreen",a=["request"+i,"request"+r,"webkitRequest"+i,"webkitRequest"+r,"msRequest"+i,"msRequest"+r,"mozRequest"+r,"mozRequest"+i];for(u=0;u<a.length;u++)if(document.documentElement[a[u]]){t.available=!0,t.request=a[u];break}var n=["cancel"+r,"exit"+i,"webkitCancel"+r,"webkitExit"+i,"msCancel"+r,"msExit"+i,"mozCancel"+r,"mozExit"+i];if(t.available){for(u=0;u<n.length;u++)if(document[n[u]]){t.cancel=n[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}l.exports=e()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return Math.atan2(i-e,r-u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(i){return i>Math.PI&&(i-=e.PI2),Math.abs(((i+e.TAU)%e.PI2-e.PI2)%e.PI2)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),u=function(){return e(-Math.PI,Math.PI)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),u=function(){return e(-180,180)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),u=function(i){return e(i+Math.PI)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(i,r,a){return a===void 0&&(a=.05),i===r||(Math.abs(r-i)<=a||Math.abs(r-i)>=e.PI2-a?i=r:(Math.abs(r-i)>Math.PI&&(r<i?r+=e.PI2:r-=e.PI2),r>i?i+=a:r<i&&(i-=a))),i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=u-e;if(i===0)return 0;var r=Math.floor((i- -180)/360);return i-r*360};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.x-u.x,r=e.y-u.y;return i*i+r*r};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return Math.max(Math.abs(e-i),Math.abs(u-r))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(i-e,a)+Math.pow(r-u,a))};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return Math.abs(e-i)+Math.abs(u-r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),u=function(i,r){for(var a=0,n=i.length-1,s=0;s<=n;s++)a+=Math.pow(1-r,n-s)*Math.pow(r,s)*i[s]*e(n,s);return a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),u=function(i,r){var a=i.length-1,n=a*r,s=Math.floor(n);return i[0]===i[a]?(r<0&&(s=Math.floor(n=a*(1+r))),e(n-s,i[(s-1+a)%a],i[s],i[(s+1)%a],i[(s+2)%a])):r<0?i[0]-(e(-n,i[0],i[0],i[1],i[1])-i[0]):r>1?i[a]-(e(n-a,i[a],i[a],i[a-1],i[a-1])-i[a]):e(n-s,i[s?s-1:0],i[s],i[a<s+1?a:s+1],i[a<s+2?a:s+2])};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),u=function(i,r){var a=i.length-1,n=a*r,s=Math.floor(n);return r<0?e(i[0],i[1],n):r>1?e(i[a],i[a-1],a-n):e(i[s],i[s+1>a?a:s+1],n-s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),u=function(i,r,a){return r+(a-r)*e(i,0,1)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){return i===void 0&&(i=0),u===0?e:(e-=i,e=u*Math.round(e/u),r?(i+e)/u:i+e)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var i=2091639*this.s0+this.c*23283064365386963e-26;return this.c=i|0,this.s0=this.s1,this.s1=this.s2,this.s2=i-this.c,this.s2},hash:function(i){var r,a=this.n;i=i.toString();for(var n=0;n<i.length;n++)a+=i.charCodeAt(n),r=.02519603282416938*a,a=r>>>0,r-=a,r*=a,a=r>>>0,r-=a,a+=r*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(i){typeof i=="string"?this.state(i):this.sow(i)},sow:function(i){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!i)for(var r=0;r<i.length&&i[r]!=null;r++){var a=i[r];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(i,r){return Math.floor(this.realInRange(0,r-i+1)+i)},between:function(i,r){return Math.floor(this.realInRange(0,r-i+1)+i)},realInRange:function(i,r){return this.frac()*(r-i)+i},normal:function(){return 1-2*this.frac()},uuid:function(){var i="",r="";for(r=i="";i++<36;r+=~i%5|i*3&4?(i^15?8^this.frac()*(i^20?16:4):4).toString(16):"-");return r},pick:function(i){return i[this.integerInRange(0,i.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(i){return i[~~(Math.pow(this.frac(),2)*(i.length-1)+.5)]},timestamp:function(i,r){return this.realInRange(i||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(i){return typeof i=="string"&&i.match(/^!rnd/)&&(i=i.split(","),this.c=parseFloat(i[1]),this.s0=parseFloat(i[2]),this.s1=parseFloat(i[3]),this.s2=parseFloat(i[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(i){for(var r=i.length-1,a=r;a>0;a--){var n=Math.floor(this.frac()*(a+1)),s=i[n];i[n]=i[a],i[a]=s}return i}});l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0,i=0;i<e.length;i++)u+=+e[i];return u/e.length};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){u===void 0&&(u=0),i===void 0&&(i=10);var r=Math.pow(i,-u);return Math.ceil(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.abs(e-u)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(69),r=t(1),a=new i,n=new u({initialize:function s(f,o,h,d){f===void 0&&(f=0),o===void 0&&(o=0),h===void 0&&(h=0),d===void 0&&(d=s.DefaultOrder),this._x=f,this._y=o,this._z=h,this._order=d,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,f,o,h){return h===void 0&&(h=this._order),this._x=s,this._y=f,this._z=o,this._order=h,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,f,o){return f===void 0&&(f=this._order),o===void 0&&(o=!1),a.fromQuat(s),this.setFromRotationMatrix(a,f,o)},setFromRotationMatrix:function(s,f,o){f===void 0&&(f=this._order),o===void 0&&(o=!1);var h=s.val,d=h[0],v=h[4],c=h[8],p=h[1],g=h[5],T=h[9],E=h[2],S=h[6],C=h[10],P=0,A=0,R=0,M=.99999;switch(f){case"XYZ":{A=Math.asin(e(c,-1,1)),Math.abs(c)<M?(P=Math.atan2(-T,C),R=Math.atan2(-v,d)):P=Math.atan2(S,g);break}case"YXZ":{P=Math.asin(-e(T,-1,1)),Math.abs(T)<M?(A=Math.atan2(c,C),R=Math.atan2(p,g)):A=Math.atan2(-E,d);break}case"ZXY":{P=Math.asin(e(S,-1,1)),Math.abs(S)<M?(A=Math.atan2(-E,C),R=Math.atan2(-v,g)):R=Math.atan2(p,d);break}case"ZYX":{A=Math.asin(-e(E,-1,1)),Math.abs(E)<M?(P=Math.atan2(S,C),R=Math.atan2(p,d)):R=Math.atan2(-v,g);break}case"YZX":{R=Math.asin(e(p,-1,1)),Math.abs(p)<M?(P=Math.atan2(-T,g),A=Math.atan2(-E,d)):A=Math.atan2(c,C);break}case"XZY":{R=Math.asin(-e(v,-1,1)),Math.abs(v)<M?(P=Math.atan2(S,g),A=Math.atan2(c,d)):P=Math.atan2(-T,C);break}}return this._x=P,this._y=A,this._z=R,this._order=f,o&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",l.exports=n},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){u===void 0&&(u=0),i===void 0&&(i=10);var r=Math.pow(i,-u);return Math.floor(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e/u/1e3};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return Math.min(e+u,i)};l.exports=t},function(l,x){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.length;if(u===0)return 0;e.sort(function(r,a){return r-a});var i=Math.floor(u/2);return u%2===0?(e[i]+e[i-1])/2:e[i]};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return Math.max(e-u,i)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i===void 0&&(i=u+1);var a=(e-u)/(i-u);return a>1?r!==void 0?(a=(r-e)/(r-i),a<0&&(a=0)):a=1:a<0&&(a=0),a};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);var i=Math.random()*2*Math.PI;return e.x=Math.cos(i)*u,e.y=Math.sin(i)*u,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);var i=Math.random()*2*Math.PI,r=Math.random()*2-1,a=Math.sqrt(1-r*r)*u;return e.x=Math.cos(i)*a,e.y=Math.sin(i)*a,e.z=r*u,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};l.exports=t},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){return e.x=u+a*Math.cos(r),e.y=i+a*Math.sin(r),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){u===void 0&&(u=0),i===void 0&&(i=10);var r=Math.pow(i,-u);return Math.round(e*r)/r};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u===void 0&&(u=1),i===void 0&&(i=1),r===void 0&&(r=1),r*=Math.PI/e;for(var a=[],n=[],s=0;s<e;s++)i-=u*r,u+=i*r,a[s]=i,n[s]=u;return{sin:n,cos:a,length:e}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(i,r,a,n){n===void 0&&(n=new e);var s=0,f=0,o=r*a;return i>0&&i<=o&&(i>r-1?(f=Math.floor(i/r),s=i-f*r):s=i),n.set(s,f)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return Math.abs(e-u)<=i};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(69),i=t(365),r=new u,a=new i,n=new e,s=function(f,o,h){return a.setAxisAngle(o,h),r.fromRotationTranslation(a,n.set(0,0,0)),f.transformMat4(r)};l.exports=s},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addtexture"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onerror"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="onload"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="ready"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="removetexture"},function(l,x){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineafterflush"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebeforeflush"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinebind"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineboot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinedestroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelinerebind"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pipelineresize"},function(l,x){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(l,x){l.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GenerateTexture:t(388),Palettes:t(889)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(390),i=t(391),r=t(5),a=t(392),n=t(393),s=t(394),f=t(10),o=t(395),h=t(3),d=t(14),v=new e({initialize:function(p,g){p===void 0&&(p=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,g)},add:function(c){return this.curves.push(c),this},circleTo:function(c,p,g){return p===void 0&&(p=!1),this.ellipseTo(c,c,0,360,p,g)},closePath:function(){var c=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return c.equals(p)||this.curves.push(new a(p,c)),this},cubicBezierTo:function(c,p,g,T,E,S){var C=this.getEndPoint(),P,A,R;return c instanceof h?(P=c,A=p,R=g):(P=new h(g,T),A=new h(E,S),R=new h(c,p)),this.add(new u(C,P,A,R))},quadraticBezierTo:function(c,p,g,T){var E=this.getEndPoint(),S,C;return c instanceof h?(S=c,C=p):(S=new h(g,T),C=new h(c,p)),this.add(new s(E,S,C))},draw:function(c,p){for(var g=0;g<this.curves.length;g++){var T=this.curves[g];T.active&&T.draw(c,p)}return c},ellipseTo:function(c,p,g,T,E,S){var C=new i(0,0,c,p,g,T,E,S),P=this.getEndPoint(this._tmpVec2A),A=C.getStartPoint(this._tmpVec2B);return P.subtract(A),C.x=P.x,C.y=P.y,this.add(C)},fromJSON:function(c){this.curves=[],this.cacheLengths=[],this.startPoint.set(c.x,c.y),this.autoClose=c.autoClose;for(var p=0;p<c.curves.length;p++){var g=c.curves[p];switch(g.type){case"LineCurve":this.add(a.fromJSON(g));break;case"EllipseCurve":this.add(i.fromJSON(g));break;case"SplineCurve":this.add(o.fromJSON(g));break;case"CubicBezierCurve":this.add(u.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(c,p){c===void 0&&(c=new f),p===void 0&&(p=16),c.x=Number.MAX_VALUE,c.y=Number.MAX_VALUE;for(var g=new f,T=d.MIN_SAFE_INTEGER,E=d.MIN_SAFE_INTEGER,S=0;S<this.curves.length;S++){var C=this.curves[S];C.active&&(C.getBounds(g,p),c.x=Math.min(c.x,g.x),c.y=Math.min(c.y,g.y),T=Math.max(T,g.right),E=Math.max(E,g.bottom))}return c.right=T,c.bottom=E,c},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var c=[],p=0,g=0;g<this.curves.length;g++)p+=this.curves[g].getLength(),c.push(p);return this.cacheLengths=c,c},getEndPoint:function(c){return c===void 0&&(c=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,c):c.copy(this.startPoint),c},getLength:function(){var c=this.getCurveLengths();return c[c.length-1]},getPoint:function(c,p){p===void 0&&(p=new h);for(var g=c*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=g){var S=T[E]-g,C=this.curves[E],P=C.getLength(),A=P===0?0:1-S/P;return C.getPointAt(A,p)}E++}return null},getPoints:function(c){c===void 0&&(c=12);for(var p=[],g,T=0;T<this.curves.length;T++){var E=this.curves[T];if(E.active)for(var S=E.getResolution(c),C=E.getPoints(S),P=0;P<C.length;P++){var A=C[P];g&&g.equals(A)||(p.push(A),g=A)}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(c){return c===void 0&&(c=new h),this.getPoint(Math.random(),c)},getSpacedPoints:function(c){c===void 0&&(c=40);for(var p=[],g=0;g<=c;g++)p.push(this.getPoint(g/c));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(c){return c===void 0&&(c=new h),c.copy(this.startPoint)},getTangent:function(c,p){p===void 0&&(p=new h);for(var g=c*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=g){var S=T[E]-g,C=this.curves[E],P=C.getLength(),A=P===0?0:1-S/P;return C.getTangentAt(A,p)}E++}return null},lineTo:function(c,p){c instanceof h?this._tmpVec2B.copy(c):this._tmpVec2B.set(c,p);var g=this.getEndPoint(this._tmpVec2A);return this.add(new a([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(c){return c.unshift(this.getEndPoint()),this.add(new o(c))},moveTo:function(c,p){return c instanceof h?this.add(new n(c.x,c.y)):this.add(new n(c,p))},toJSON:function(){for(var c=[],p=0;p<this.curves.length;p++)c.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:c}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(c,p){return new v(c,p)}),l.exports=v},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(101),i=t(24),r=t(20),a=new e({Extends:u,initialize:function(s){u.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){u.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});i.register("DataManagerPlugin",a,"data"),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=t(17),i={In:t(900),To:t(901)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),i=t(44),r=t(45),a=function(n,s){s===void 0&&(s={});var f=u(n),o=r(n);return s.x=f,s.y=o,s.width=i(n)-f,s.height=e(n)-o,s};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u="none");var i=["-webkit-","-khtml-","-moz-","-ms-",""];return i.forEach(function(r){e.style[r+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),u=function(i){i===void 0&&(i=1024);var r=[],a=255,n,s=255,f=0,o=0;for(n=0;n<=a;n++)r.push({r:s,g:n,b:o,color:e(s,n,o)});for(f=255,n=a;n>=0;n--)r.push({r:n,g:f,b:o,color:e(n,f,o)});for(s=0,n=0;n<=a;n++,f--)r.push({r:s,g:f,b:n,color:e(s,f,n)});for(f=0,o=255,n=0;n<=a;n++,o--,s++)r.push({r:s,g:f,b:o,color:e(s,f,o)});if(i===1024)return r;var h=[],d=0,v=1024/i;for(n=0;n<i;n++)h.push(r[Math.floor(d)]),d+=v;return h};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=t(399),i=function(r,a,n){var s=n,f=n,o=n;if(a!==0){var h=n<.5?n*(1+a):n+a-n*a,d=2*n-h;s=u(d,h,r+1/3),f=u(d,h,r),o=u(d,h,r-1/3)}var v=new e;return v.setGLTo(s,f,o,1)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),u=function(i,r){i===void 0&&(i=1),r===void 0&&(r=1);for(var a=[],n=0;n<=359;n++)a.push(e(n/359,i,r));return a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),u=function(a,n,s,f,o,h,d,v){d===void 0&&(d=100),v===void 0&&(v=0);var c=v/d;return{r:e(a,f,c),g:e(n,o,c),b:e(s,h,c)}},i=function(a,n,s,f){return s===void 0&&(s=100),f===void 0&&(f=0),u(a.r,a.g,a.b,n.r,n.g,n.b,s,f)},r=function(a,n,s,f,o,h){return o===void 0&&(o=100),h===void 0&&(h=0),u(a.r,a.g,a.b,n,s,f,o,h)};l.exports={RGBWithRGB:u,ColorWithRGB:r,ColorWithColor:i}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),u=t(38),i=function(r,a){return r===void 0&&(r=0),a===void 0&&(a=255),new u(e(r,a),e(r,a),e(r,a))};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),u=function(i,r,a,n,s){return n===void 0&&(n=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(i<<16)+(r<<8)+a).toString(16).slice(1,7):"0x"+e(n)+e(i)+e(r)+e(a)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EventEmitter:t(919)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(24),r=new e({Extends:u,initialize:function(){u.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});i.register("EventEmitter",r,"events"),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=t(321),i=t(325),r=t(31),a=t(0),n=t(346),s=t(921),f=t(366),o=t(101),h=t(384),d=t(347),v=t(400),c=t(9),p=t(22),g=t(409),T=t(24),E=t(414),S=t(415),C=t(417),P=t(106),A=t(422),R=t(385),M=t(387),L=t(426),F=new a({initialize:function(B){this.config=new n(B),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new c,this.anims=new u(this),this.textures=new A(this),this.cache=new i(this),this.registry=new o(this),this.input=new g(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=d,this.scale=new S(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new R(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),s(this),h(this),e(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),M(this);var I=this.events;I.on(p.HIDDEN,this.onHidden,this),I.on(p.VISIBLE,this.onVisible,this),I.on(p.BLUR,this.onBlur,this),I.on(p.FOCUS,this.onFocus,this)},step:function(I,B){if(this.pendingDestroy)return this.runDestroy();var b=this.events;b.emit(p.PRE_STEP,I,B),b.emit(p.STEP,I,B),this.scene.update(I,B),b.emit(p.POST_STEP,I,B);var W=this.renderer;W.preRender(),b.emit(p.PRE_RENDER,W,I,B),this.scene.render(W),W.postRender(),b.emit(p.POST_RENDER,W,I,B)},headlessStep:function(I,B){if(this.pendingDestroy)return this.runDestroy();var b=this.events;b.emit(p.PRE_STEP,I,B),b.emit(p.STEP,I,B),this.scene.update(I,B),b.emit(p.POST_STEP,I,B),b.emit(p.PRE_RENDER),b.emit(p.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,B){B===void 0&&(B=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=B},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});l.exports=F},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=function(i){var r=i.config;if(!(!r.parent||!r.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+i.scale.width+"px;","height: "+i.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),i.domContainer=a,e(a,r.parent)}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragenter"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragleave"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectmove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="gameobjectwheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="boot"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="process"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerdownoutside"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointermove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerout"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerover"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerupoutside"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="wheel"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pointerlockchange"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="preupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="shutdown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="addfile"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="filecomplete-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loaderror"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="load"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="fileprogress"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="postprocess"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="progress"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=e.source[u];e.add("__BASE",u,0,0,r.width,r.height);for(var a=i.getElementsByTagName("SubTexture"),n,s=0;s<a.length;s++){var f=a[s].attributes,o=f.name.value,h=parseInt(f.x.value,10),d=parseInt(f.y.value,10),v=parseInt(f.width.value,10),c=parseInt(f.height.value,10);if(n=e.add(o,u,h,d,v,c),f.frameX){var p=Math.abs(parseInt(f.frameX.value,10)),g=Math.abs(parseInt(f.frameY.value,10)),T=parseInt(f.frameWidth.value,10),E=parseInt(f.frameHeight.value,10);n.setTrim(v,c,p,g,T,E)}}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.source[u];return e.add("__BASE",u,0,0,i.width,i.height),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.source[u];return e.add("__BASE",u,0,0,i.width,i.height),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(i,r,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height);for(var s=Array.isArray(a.textures)?a.textures[r].frames:a.frames,f,o=0;o<s.length;o++){var h=s[o];f=i.add(h.filename,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&f.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=h.anchor||h.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=e(h)}for(var v in a)v!=="frames"&&(Array.isArray(a[v])?i.customData[v]=a[v].slice(0):i.customData[v]=a[v]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(i,r,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height);var s=a.frames,f;for(var o in s)if(s.hasOwnProperty(o)){var h=s[o];f=i.add(o,r,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&f.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=h.anchor||h.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=e(h)}for(var v in a)v!=="frames"&&(Array.isArray(a[v])?i.customData[v]=a[v].slice(0):i.customData[v]=a[v]);return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(i,r,a,n,s,f,o){var h=e(o,"frameWidth",null),d=e(o,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=i.source[r];i.add("__BASE",r,0,0,v.width,v.height);var c=e(o,"startFrame",0),p=e(o,"endFrame",-1),g=e(o,"margin",0),T=e(o,"spacing",0),E=Math.floor((s-g+T)/(h+T)),S=Math.floor((f-g+T)/(d+T)),C=E*S;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",i.key),(c>C||c<-C)&&(c=0),c<0&&(c=C+c),p!==-1&&(C=c+(p+1));for(var P=g,A=g,R=0,M=0,L=0;L<C;L++){R=0,M=0;var F=P+h,I=A+d;F>s&&(R=F-s),I>f&&(M=I-f),i.add(L,r,a+P,n+A,h-R,d-M),P+=h+T,P+h>s&&(P=g,A+=d+T)}return i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(i,r,a){var n=e(a,"frameWidth",null),s=e(a,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=i.source[0];i.add("__BASE",0,0,0,f.width,f.height),e(a,"startFrame",0),e(a,"endFrame",-1);for(var o=e(a,"margin",0),h=e(a,"spacing",0),d=r.cutX,v=r.cutY,c=r.cutWidth,p=r.cutHeight,g=r.realWidth,T=r.realHeight,E=Math.floor((g-o+h)/(n+h)),S=Math.floor((T-o+h)/(s+h)),C=r.x,P=n-C,A=n-(g-c-C),R=r.y,M=s-R,L=s-(T-p-R),F,I=o,B=o,b=0,W=r.sourceIndex,$=0;$<S;$++){for(var Z=$===0,D=$===S-1,O=0;O<E;O++){var N=O===0,G=O===E-1;if(F=i.add(b,W,d+I,v+B,n,s),N||Z||G||D){var Y=N?C:0,V=Z?R:0,z=0,H=0;N&&(z+=n-P),G&&(z+=n-A),Z&&(H+=s-M),D&&(H+=s-L);var j=n-z,q=s-H;F.cutWidth=j,F.cutHeight=q,F.setTrim(n,s,Y,V,j,q)}I+=h,N?I+=P:G?I+=A:I+=n,b++}I=o,B+=h,Z?B+=M:D?B+=L:B+=s}return i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(i,r,a,n){var s=t-n.y-n.height;i.add(a,r,n.x,s,n.width,n.height)},u=function(i,r,a){var n=i.source[r];i.add("__BASE",r,0,0,n.width,n.height),t=n.height;for(var s=a.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,o="",h="",d={x:0,y:0,width:0,height:0},v=0;v<s.length;v++){var c=s[v].match(f);if(c){var p=c[1]==="- ",g=c[2],T=c[3];if(p&&(h!==o&&(e(i,r,h,d),o=h),d={x:0,y:0,width:0,height:0}),g==="name"){h=T;continue}switch(g){case"x":case"y":case"width":case"height":d[g]=parseInt(T,10);break}}}return h!==o&&e(i,r,h,d),i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decoded"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="decodedall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="destroy"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="detune"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="looped"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="mute"},function(l,x){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pan"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pauseall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="play"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="rate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resumeall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="seek"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stopall"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="unlocked"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="volume"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(110),i=t(24),r=t(75),a=t(20),n=t(79),s=new e({Extends:u,initialize:function(o){u.call(this,o),this.sortChildrenFlag=!1,this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(r.ADDED_TO_SCENE,f,this.scene),this.events.emit(a.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(r.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,o){return f._depth-o._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list,o=f.length;o--;)f[o].destroy(!0);f.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});i.register("DisplayList",s,"displayList"),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),u=t(209),i=function(r){var a="";if(!u(r))return a;for(var n=0;n<r.length;n++){for(var s=0;s<r[n].length;s++){var f=r[n][s].toString();f!=="undefined"?a+=e(f,2):a+="?",s<r[n].length-1&&(a+=" |")}if(n<r.length-1){a+=`
`;for(var o=0;o<r[n].length;o++)a+="---",o<r[n].length-1&&(a+="+");a+=`
`}}return a};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(i){return e(i,180)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(i){return e(i,90)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(i){return e(i,-90)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),u=t(179),i=function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),n!==0&&(n<0?e(r,Math.abs(n)):u(r,n)),a!==0)for(var s=0;s<r.length;s++){var f=r[s];a<0?e(f,Math.abs(a)):u(f,a)}return r};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){if(a===void 0&&(a=e),i>0){var n=i-e.length;if(n<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),r&&r.call(a,u),u):null;for(var s=u.length-1;s>=0;)e.indexOf(u[s])!==-1&&u.splice(s,1),s--;if(s=u.length,s===0)return null;i>0&&s>n&&(u.splice(n),s=n);for(var f=0;f<s;f++){var o=u[f];e.push(o),r&&r.call(a,o)}return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n){if(i===void 0&&(i=0),n===void 0&&(n=e),r>0){var s=r-e.length;if(s<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(i,0,u),a&&a.call(n,u),u):null;for(var f=u.length-1;f>=0;)e.indexOf(u[f])!==-1&&u.pop(),f--;if(f=u.length,f===0)return null;r>0&&f>s&&(u.splice(s),f=s);for(var o=f-1;o>=0;o--){var h=u[o];e.splice(i,0,h),a&&a.call(n,h)}return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.indexOf(u);return i!==-1&&i<e.length&&(e.splice(i,1),e.push(u)),u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){n===void 0&&(n=0),s===void 0&&(s=i.length);var f=0;if(e(i,n,s))for(var o=n;o<s;o++){var h=i[o];h[r]===a&&f++}return f};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r,a=[null];for(r=3;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<e.length;r++)a[0]=e[r],u.apply(i,a);return e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s)){var f,o=[null];for(f=5;f<arguments.length;f++)o.push(arguments[f]);for(f=n;f<s;f++)o[0]=i[f],r.apply(a,o)}return i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.indexOf(u);if(i>0){var r=e[i-1],a=e.indexOf(r);e[i]=r,e[a]=u}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=e.indexOf(u);if(r===-1||i<0||i>=e.length)throw new Error("Supplied index out of bounds");return r!==i&&(e.splice(r,1),e.splice(i,0,u)),u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.indexOf(u);if(i!==-1&&i<e.length-1){var r=e[i+1],a=e.indexOf(r);e[i]=r,e[a]=u}return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===i)return e;var r=e.indexOf(u),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r>a||(e.splice(r,1),a===e.length-1?e.push(u):e.splice(a,0,u)),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===i)return e;var r=e.indexOf(u),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return r<a||(e.splice(r,1),a===0?e.unshift(u):e.splice(a,0,u)),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),u=function(i,r,a){i===void 0&&(i=0),r===void 0&&(r=null),a===void 0&&(a=1),r===null&&(r=i,i=0);for(var n=[],s=Math.max(e((r-i)/(a||1)),0),f=0;f<s;f++)n.push(i),i+=a;return n};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(i,r,a,n){if(n===void 0&&(n=i),r<0||r>i.length-1)throw new Error("Index out of bounds");var s=e(i,r);return a&&a.call(n,s),s};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){if(r===void 0&&(r=0),a===void 0&&(a=i.length),s===void 0&&(s=i),e(i,r,a)){var f=a-r,o=i.splice(r,f);if(n)for(var h=0;h<o.length;h++){var d=o[h];n.call(s,d)}return o}else return[]};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(i,r,a){r===void 0&&(r=0),a===void 0&&(a=i.length);var n=r+Math.floor(Math.random()*a);return e(i,n)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=e.indexOf(u),a=e.indexOf(i);return r!==-1&&a===-1?(e[r]=i,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.indexOf(u);return i!==-1&&i>0&&(e.splice(i,1),e.unshift(u)),u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(i,r,a,n,s){if(n===void 0&&(n=0),s===void 0&&(s=i.length),e(i,n,s))for(var f=n;f<s;f++){var o=i[f];o.hasOwnProperty(r)&&(o[r]=a)}return i};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){if(u===i)return e;var r=e.indexOf(u),a=e.indexOf(i);if(r<0||a<0)throw new Error("Supplied items must be elements of the same array");return e[r]=i,e[a]=u,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(211),i=t(24),r=t(20),a=new e({Extends:u,initialize:function(s){u.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(r.PRE_UPDATE,this.update,this),n.on(r.UPDATE,this.sceneUpdate,this),n.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,s){for(var f=this._active,o=f.length,h=0;h<o;h++){var d=f[h];d.active&&d.preUpdate.call(d,n,s)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});i.register("UpdateList",a,"updateList"),l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="add"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="remove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){if(i===void 0&&(i=!1),r===void 0)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},r;var a=e.text,n=a.length,s=e.maxWidth,f=e.wordWrapCharCode,o=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,v=0,c=e.fontData.chars,p=e.fontData.lineHeight,g=e.letterSpacing,T=0,E=0,S=0,C=null,P=e._align,A=0,R=0,M=e.fontSize/e.fontData.size,L=M*e.scaleX,F=M*e.scaleY,I=null,B=0,b=[],W=Number.MAX_VALUE,$=0,Z=0,D=0,O,N=[],G=[],Y=null;if(s>0){for(O=0;O<n;O++){if(S=a.charCodeAt(O),S===10){Y!==null&&(N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!0}),Y=null),T=0,E+=p,I=null;continue}if(C=c[S],!!C){if(I!==null)var V=C.kerning[B];S===f?Y!==null&&(N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!1}),Y=null):(Y===null&&(Y={word:"",i:O,x:T,y:E,w:0,h:p,cr:!1}),Y.word=Y.word.concat(a[O]),Y.w+=C.xOffset+C.xAdvance+(V!==void 0?V:0)),T+=C.xAdvance+g,I=C,B=S}}Y!==null&&N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F,cr:!1}),T=0,E=0,I=null,B=0;var z,H=0,j=[];for(O=0;O<N.length;O++){var q=N[O],et=q.x,ot=q.x+q.w;if(z){var K=et-(z.x+z.w);H=et-(K+z.w),z=null}var Q=et-H,tt=ot-H;Q>s||tt>s?(j.push(q.i-1),q.cr?(j.push(q.i+q.word.length),H=0,z=null):z=q):q.cr&&(j.push(q.i+q.word.length),H=0,z=null)}var nt=function(Dt,bt,ie){return Dt.substr(0,bt)+ie+Dt.substr(bt+1)};for(O=j.length-1;O>=0;O--)a=nt(a,j[O],`
`);r.wrappedText=a,n=a.length,N=[],Y=null}var ft=0;for(O=0;O<n;O++){if(S=a.charCodeAt(O),S===10){Y!==null&&(N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),Y=null),T=0,E+=p,I=null,b[Z]=D,D>$&&($=D),D<W&&(W=D),Z++,D=0;continue}if(C=c[S],!!C){if(A=T,R=E,I!==null){var mt=C.kerning[B];A+=mt!==void 0?mt:0}o>A&&(o=A),h>R&&(h=R);var pt=A+C.xAdvance,at=R+p;d<pt&&(d=pt),v<at&&(v=at);var Tt=C.xOffset+C.xAdvance+(mt!==void 0?mt:0);S===f?Y!==null&&(N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),Y=null):(Y===null&&(Y={word:"",i:ft,x:T,y:E,w:0,h:p}),Y.word=Y.word.concat(a[O]),Y.w+=Tt),G.push({i:ft,char:a[O],code:S,x:(C.xOffset+T)*M,y:(C.yOffset+E)*M,w:C.width*M,h:C.height*M,t:E*M,r:pt*M,b:p*M,line:Z,glyph:C}),T+=C.xAdvance+g,I=C,B=S,D=pt*M,ft++}}if(Y!==null&&N.push({word:Y.word,i:Y.i,x:Y.x*L,y:Y.y*F,w:Y.w*L,h:Y.h*F}),b[Z]=D,D>$&&($=D),D<W&&(W=D),P>0)for(var lt=0;lt<G.length;lt++){var Et=G[lt];if(P===1){var Ct=($-b[Et.line])/2;Et.x+=Ct,Et.r+=Ct}else if(P===2){var Lt=$-b[Et.line];Et.x+=Lt,Et.r+=Lt}}var Pt=r.local,Mt=r.global,wt=r.lines;return Pt.x=o*M,Pt.y=h*M,Pt.width=d*M,Pt.height=v*M,Mt.x=e.x-e._displayOriginX+o*L,Mt.y=e.y-e._displayOriginY+h*F,Mt.width=d*L,Mt.height=v*F,wt.shortest=W,wt.longest=$,wt.lengths=b,u&&(Pt.x=Math.ceil(Pt.x),Pt.y=Math.ceil(Pt.y),Pt.width=Math.ceil(Pt.width),Pt.height=Math.ceil(Pt.height),Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y),Mt.width=Math.ceil(Mt.width),Mt.height=Math.ceil(Mt.height),wt.shortest=Math.ceil(W),wt.longest=Math.ceil($)),i&&(e._displayOriginX=e.originX*Pt.width,e._displayOriginY=e.originY*Pt.height,Mt.x=e.x-e._displayOriginX*e.scaleX,Mt.y=e.y-e._displayOriginY*e.scaleY,u&&(Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y))),r.words=N,r.characters=G,r.lines.height=p,r.scale=M,r.scaleX=e.scaleX,r.scaleY=e.scaleY,r};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),u=function(i,r,a,n,s,f,o){var h=i.sys.textures.get(a),d=h.get(n),v=i.sys.cache.xml.get(s);if(d&&v){var c=e(v,d,f,o,h);return i.sys.cache.bitmapFont.add(r,{data:c,texture:a,frame:n,fromAtlas:!0}),!0}else return!1};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1046),u=t(1048),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),u=t(19),i=t(12),r=function(a,n,s,f){var o=n._text,h=o.length;if(h!==0){s.addToRenderList(n);var d=a.pipelines.set(n.pipeline,n),v=u(n,s,f).calc,c=s.roundPixels,p=s.alpha,g=n.charColors,T=n.tintFill,E=i.getTintAppendFloatAlpha,S=E(n.tintTopLeft,p*n._alphaTL),C=E(n.tintTopRight,p*n._alphaTR),P=E(n.tintBottomLeft,p*n._alphaBL),A=E(n.tintBottomRight,p*n._alphaBR),R=n.frame.glTexture,M=d.setGameObject(n),L=n.getTextBounds(!1),F,I,B,b=L.characters,W=n.dropShadowX,$=n.dropShadowY,Z=W!==0||$!==0;if(a.pipelines.preBatch(n),Z){var D=n.dropShadowColor,O=n.dropShadowAlpha,N=E(D,p*O*n._alphaTL),G=E(D,p*O*n._alphaTR),Y=E(D,p*O*n._alphaBL),V=E(D,p*O*n._alphaBR);for(F=0;F<b.length;F++)I=b[F],B=I.glyph,!(I.code===32||B.width===0||B.height===0)&&e(d,n,I,B,W,$,v,c,N,G,Y,V,1,R,M)}for(F=0;F<b.length;F++)if(I=b[F],B=I.glyph,!(I.code===32||B.width===0||B.height===0))if(g[I.i]){var z=g[I.i],H=z.tintEffect,j=E(z.tintTL,p*n._alphaTL),q=E(z.tintTR,p*n._alphaTR),et=E(z.tintBL,p*n._alphaBL),ot=E(z.tintBR,p*n._alphaBR);e(d,n,I,B,0,0,v,c,j,q,et,ot,H,R,M)}else e(d,n,I,B,0,0,v,c,S,C,P,A,T,R,M);a.pipelines.postBatch(n)}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n,s,f,o,h,d,v,c,p,g){var T=i.x-u.displayOriginX+a,E=i.y-u.displayOriginY+n,S=T+i.w,C=E+i.h,P=s.getXRound(T,E,f),A=s.getYRound(T,E,f),R=s.getXRound(T,C,f),M=s.getYRound(T,C,f),L=s.getXRound(S,C,f),F=s.getYRound(S,C,f),I=s.getXRound(S,E,f),B=s.getYRound(S,E,f);e.batchQuad(u,P,A,R,M,L,F,I,B,r.u0,r.v0,r.u1,r.v1,o,h,d,v,c,p,g)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),u=function(i,r,a,n){var s=r._text,f=s.length,o=i.currentContext;if(!(f===0||!e(i,o,r,a,n))){a.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,d=r.fontData.chars,v=r.fontData.lineHeight,c=r._letterSpacing,p=0,g=0,T=0,E=null,S=0,C=0,P=0,A=0,R=0,M=0,L=null,F=0,I=h.source.image,B=h.cutX,b=h.cutY,W=r._fontSize/r.fontData.size,$=r._align,Z=0,D=0,O=r.getTextBounds(!1);r.maxWidth>0&&(s=O.wrappedText,f=s.length);var N=r._bounds.lines;$===1?D=(N.longest-N.lengths[0])/2:$===2&&(D=N.longest-N.lengths[0]),o.translate(-r.displayOriginX,-r.displayOriginY);for(var G=a.roundPixels,Y=0;Y<f;Y++){if(T=s.charCodeAt(Y),T===10){Z++,$===1?D=(N.longest-N.lengths[Z])/2:$===2&&(D=N.longest-N.lengths[Z]),p=0,g+=v,L=null;continue}if(E=d[T],!!E){if(S=B+E.x,C=b+E.y,P=E.width,A=E.height,R=E.xOffset+p,M=E.yOffset+g,L!==null){var V=E.kerning[F];R+=V!==void 0?V:0}R*=W,M*=W,R+=D,p+=E.xAdvance+c,L=E,F=T,!(P===0||A===0||T===32)&&(G&&(R=Math.round(R),M=Math.round(M)),o.save(),o.translate(R,M),o.scale(W,W),o.drawImage(I,S,C,P,A,0,0,P,A),o.restore())}}o.restore()}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1050),u=t(1051),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=t(12),i=new e,r=function(a,n,s,f){var o=n.getRenderList();if(o.length!==0){var h=s.alpha*n.alpha;if(h!==0){s.addToRenderList(n);var d=a.pipelines.set(this.pipeline,n),v=s.scrollX*n.scrollFactorX,c=s.scrollY*n.scrollFactorY,p=i.copyFrom(s.matrix);f&&(p.multiplyWithOffset(f,-v,-c),v=0,c=0);var g=n.x-v,T=n.y-c,E=-1,S=!1,C=s.roundPixels;a.pipelines.preBatch(n);for(var P=0;P<o.length;P++){var A=o[P],R=A.frame,M=A.alpha*h;if(M!==0){var L=R.width,F=R.height,I=g+A.x+R.x,B=T+A.y+R.y;A.flipX&&(L*=-1,I+=R.width),A.flipY&&(F*=-1,B+=R.height);var b=I+L,W=B+F,$=p.getX(I,B),Z=p.getY(I,B),D=p.getX(b,W),O=p.getY(b,W),N=u.getTintAppendFloatAlpha(A.tint,M);if(R.sourceIndex!==E){var G=d.setGameObject(n,R);E=R.sourceIndex}C&&($=Math.round($),Z=Math.round(Z),D=Math.round(D),O=Math.round(O)),d.batchQuad(n,$,Z,$,O,D,O,D,Z,R.u0,R.v0,R.u1,R.v1,N,N,N,N,S,R.glTexture,G)&&(E=-1)}}a.pipelines.postBatch(n)}}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a=u.getRenderList();if(a.length!==0){var n=e.currentContext,s=i.alpha*u.alpha;if(s!==0){i.addToRenderList(u),n.globalCompositeOperation=e.blendModes[u.blendMode],n.imageSmoothingEnabled=!(!e.antialias||u.frame.source.scaleMode);var f=u.x-i.scrollX*u.scrollFactorX,o=u.y-i.scrollY*u.scrollFactorY;n.save(),r&&r.copyToContext(n);for(var h=i.roundPixels,d=0;d<a.length;d++){var v=a[d],c=v.flipX||v.flipY,p=v.frame,g=p.canvasData,T=p.x,E=p.y,S=1,C=1,P=v.alpha*s;P!==0&&(n.globalAlpha=P,c?(v.flipX&&(S=-1,T-=g.width),v.flipY&&(C=-1,E-=g.height),n.save(),n.translate(v.x+f,v.y+o),n.scale(S,C),n.drawImage(p.source.image,g.x,g.y,g.width,g.height,T,E,g.width,g.height),n.restore()):(h&&(T=Math.round(T),E=Math.round(E)),n.drawImage(p.source.image,g.x,g.y,g.width,g.height,T+v.x+f,E+v.y+o,g.width,g.height)))}n.restore()}}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1053),u=t(1054),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u);var a=u.list,n=a.length;if(n!==0){var s=u.localTransform;r?(s.loadIdentity(),s.multiply(r),s.translate(u.x,u.y),s.rotate(u.rotation),s.scale(u.scaleX,u.scaleY)):s.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var f=u.blendMode!==-1;f||e.setBlendMode(0);for(var o=u.alpha,h=u.scrollFactorX,d=u.scrollFactorY,v=0;v<n;v++){var c=a[v];if(c.willRender(i)){var p,g,T,E;if(c.alphaTopLeft!==void 0)p=c.alphaTopLeft,g=c.alphaTopRight,T=c.alphaBottomLeft,E=c.alphaBottomRight;else{var S=c.alpha;p=S,g=S,T=S,E=S}var C=c.scrollFactorX,P=c.scrollFactorY;!f&&c.blendMode!==e.currentBlendMode&&e.setBlendMode(c.blendMode);var A=c.mask;A&&A.preRenderWebGL(e,c,i);var R=c.type;R!==e.currentType&&(e.newType=!0,e.currentType=R),e.nextTypeMatch=v<n-1?a[v+1].type===e.currentType:!1,c.setScrollFactor(C*h,P*d),c.setAlpha(p*o,g*o,T*o,E*o),c.renderWebGL(e,c,i,s),c.setAlpha(p,g,T,E),c.setScrollFactor(C,P),A&&A.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(u)}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u);var a=u.list;if(a.length!==0){var n=u.localTransform;r?(n.loadIdentity(),n.multiply(r),n.translate(u.x,u.y),n.rotate(u.rotation),n.scale(u.scaleX,u.scaleY)):n.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var s=u.blendMode!==-1;s||e.setBlendMode(0);var f=u._alpha,o=u.scrollFactorX,h=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,i);for(var d=0;d<a.length;d++){var v=a[d];if(v.willRender(i)){var c=v.alpha,p=v.scrollFactorX,g=v.scrollFactorY;!s&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode),v.setScrollFactor(p*o,g*h),v.setAlpha(c*f),v.renderCanvas(e,v,i,n),v.setAlpha(c),v.setScrollFactor(p,g)}}u.mask&&u.mask.postRenderCanvas(e)}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(443),u=t(443),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1058),u=t(1059),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(25),i=t(12),r=new u,a=function(n,s,f,o){var h=s.text,d=h.length;if(d!==0){f.addToRenderList(s);var v=n.pipelines.set(s.pipeline,s),c=e(s,f,o),p=c.sprite,g=c.calc,T=r,E=s.cropWidth>0||s.cropHeight>0;E&&(v.flush(),n.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var S=s.frame,C=S.glTexture,P=s.tintFill,A=i.getTintAppendFloatAlpha(s.tintTopLeft,f.alpha*s._alphaTL),R=i.getTintAppendFloatAlpha(s.tintTopRight,f.alpha*s._alphaTR),M=i.getTintAppendFloatAlpha(s.tintBottomLeft,f.alpha*s._alphaBL),L=i.getTintAppendFloatAlpha(s.tintBottomRight,f.alpha*s._alphaBR),F=v.setGameObject(s),I=0,B=0,b=0,W=0,$=s.letterSpacing,Z,D=0,O=0,N,G=s.scrollX,Y=s.scrollY,V=s.fontData,z=V.chars,H=V.lineHeight,j=s.fontSize/V.size,q=0,et=s._align,ot=0,K=0,Q=s.getTextBounds(!1);s.maxWidth>0&&(h=Q.wrappedText,d=h.length);var tt=s._bounds.lines;et===1?K=(tt.longest-tt.lengths[0])/2:et===2&&(K=tt.longest-tt.lengths[0]);var nt=f.roundPixels,ft=s.displayCallback,mt=s.callbackData;n.pipelines.preBatch(s);for(var pt=0;pt<d;pt++){if(b=h.charCodeAt(pt),b===10){ot++,et===1?K=(tt.longest-tt.lengths[ot])/2:et===2&&(K=tt.longest-tt.lengths[ot]),I=0,B+=H,N=null;continue}if(Z=z[b],!!Z){D=Z.width,O=Z.height;var at=Z.xOffset+I-G,Tt=Z.yOffset+B-Y;if(N!==null){var lt=Z.kerning[W];at+=lt!==void 0?lt:0}if(I+=Z.xAdvance+$,N=Z,W=b,!(D===0||O===0||b===32)){if(j=s.fontSize/s.fontData.size,q=0,ft){mt.color=0,mt.tint.topLeft=A,mt.tint.topRight=R,mt.tint.bottomLeft=M,mt.tint.bottomRight=L,mt.index=pt,mt.charCode=b,mt.x=at,mt.y=Tt,mt.scale=j,mt.rotation=q,mt.data=Z.data;var Et=ft(mt);at=Et.x,Tt=Et.y,j=Et.scale,q=Et.rotation,Et.color?(A=Et.color,R=Et.color,M=Et.color,L=Et.color):(A=Et.tint.topLeft,R=Et.tint.topRight,M=Et.tint.bottomLeft,L=Et.tint.bottomRight),A=i.getTintAppendFloatAlpha(A,f.alpha*s._alphaTL),R=i.getTintAppendFloatAlpha(R,f.alpha*s._alphaTR),M=i.getTintAppendFloatAlpha(M,f.alpha*s._alphaBL),L=i.getTintAppendFloatAlpha(L,f.alpha*s._alphaBR)}at*=j,Tt*=j,at-=s.displayOriginX,Tt-=s.displayOriginY,at+=K,T.applyITRS(at,Tt,q,j,j),g.multiply(T,p);var Ct=Z.u0,Lt=Z.v0,Pt=Z.u1,Mt=Z.v1,wt=D,Dt=O,bt=p.e,ie=p.f,ae=Dt*p.c+p.e,Le=Dt*p.d+p.f,Xt=wt*p.a+Dt*p.c+p.e,Me=wt*p.b+Dt*p.d+p.f,ve=wt*p.a+p.e,Ht=wt*p.b+p.f;nt&&(bt=Math.round(bt),ie=Math.round(ie),ae=Math.round(ae),Le=Math.round(Le),Xt=Math.round(Xt),Me=Math.round(Me),ve=Math.round(ve),Ht=Math.round(Ht)),v.batchQuad(s,bt,ie,ae,Le,Xt,Me,ve,Ht,Ct,Lt,Pt,Mt,A,R,M,L,P,C,F)}}}E&&(v.flush(),n.popScissor()),n.pipelines.postBatch(s)}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),u=function(i,r,a,n){var s=r._text,f=s.length,o=i.currentContext;if(!(f===0||!e(i,o,r,a,n))){a.addToRenderList(r);var h=r.fromAtlas?r.frame:r.texture.frames.__BASE,d=r.displayCallback,v=r.callbackData,c=r.fontData.chars,p=r.fontData.lineHeight,g=r._letterSpacing,T=0,E=0,S=0,C=null,P=0,A=0,R=0,M=0,L=0,F=0,I=null,B=0,b=r.frame.source.image,W=h.cutX,$=h.cutY,Z=0,D=0,O=r._fontSize/r.fontData.size,N=r._align,G=0,Y=0;r.getTextBounds(!1);var V=r._bounds.lines;N===1?Y=(V.longest-V.lengths[0])/2:N===2&&(Y=V.longest-V.lengths[0]),o.translate(-r.displayOriginX,-r.displayOriginY);var z=a.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(o.beginPath(),o.rect(0,0,r.cropWidth,r.cropHeight),o.clip());for(var H=0;H<f;H++){if(D=O,Z=0,S=s.charCodeAt(H),S===10){G++,N===1?Y=(V.longest-V.lengths[G])/2:N===2&&(Y=V.longest-V.lengths[G]),T=0,E+=p,I=null;continue}if(C=c[S],!!C){if(P=W+C.x,A=$+C.y,R=C.width,M=C.height,L=C.xOffset+T-r.scrollX,F=C.yOffset+E-r.scrollY,I!==null){var j=C.kerning[B];L+=j!==void 0?j:0}if(d){v.index=H,v.charCode=S,v.x=L,v.y=F,v.scale=D,v.rotation=Z,v.data=C.data;var q=d(v);L=q.x,F=q.y,D=q.scale,Z=q.rotation}L*=D,F*=D,L+=Y,T+=C.xAdvance+g,I=C,B=S,!(R===0||M===0||S===32)&&(z&&(L=Math.round(L),F=Math.round(F)),o.save(),o.translate(L,F),o.rotate(Z),o.scale(D,D),o.drawImage(b,P,A,R,M,0,0,R,M),o.restore())}}o.restore()}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1061),u=t(1062),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(i,r,a,n){i.pipelines.clear();var s=e(r,a,n).calc;r.render.call(r,i,a,s),i.pipelines.rebind()};l.exports=u},function(l,x){},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1064),u=t(448),u=t(448),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),u=t(19),i=t(25),r=t(12),a=function(h,d,v){this.x=h,this.y=d,this.width=v},n=function(h,d,v){this.points=[],this.pointsLength=1,this.points[0]=new a(h,d,v)},s=[],f=new i,o=function(h,d,v,c){if(d.commandBuffer.length!==0){v.addToRenderList(d);var p=h.pipelines.set(d.pipeline,d);h.pipelines.preBatch(d);for(var g=u(d,v,c).calc,T=f.loadIdentity(),E=d.commandBuffer,S=v.alpha*d.alpha,C=1,P=p.fillTint,A=p.strokeTint,R=0,M=0,L=0,F=.01,I=Math.PI*2,B,b=[],W=0,$=!0,Z=null,D=r.getTintAppendFloatAlpha,O=0;O<E.length;O++)switch(B=E[O],B){case e.BEGIN_PATH:{b.length=0,Z=null,$=!0;break}case e.CLOSE_PATH:{$=!1,Z&&Z.points.length&&Z.points.push(Z.points[0]);break}case e.FILL_PATH:{for(W=0;W<b.length;W++)p.batchFillPath(b[W].points,T,g);break}case e.STROKE_PATH:{for(W=0;W<b.length;W++)p.batchStrokePath(b[W].points,C,$,T,g);break}case e.LINE_STYLE:{C=E[++O];var N=E[++O],G=E[++O]*S,Y=D(N,G);A.TL=Y,A.TR=Y,A.BL=Y,A.BR=Y;break}case e.FILL_STYLE:{var V=E[++O],z=E[++O]*S,H=D(V,z);P.TL=H,P.TR=H,P.BL=H,P.BR=H;break}case e.GRADIENT_FILL_STYLE:{var j=E[++O]*S,q=E[++O]*S,et=E[++O]*S,ot=E[++O]*S;P.TL=D(E[++O],j),P.TR=D(E[++O],q),P.BL=D(E[++O],et),P.BR=D(E[++O],ot);break}case e.GRADIENT_LINE_STYLE:{C=E[++O];var K=E[++O]*S;A.TL=D(E[++O],K),A.TR=D(E[++O],K),A.BL=D(E[++O],K),A.BR=D(E[++O],K);break}case e.ARC:{var Q=0,tt=E[++O],nt=E[++O],ft=E[++O],mt=E[++O],pt=E[++O],at=E[++O],Tt=E[++O];for(pt-=mt,at?pt<-I?pt=-I:pt>0&&(pt=-I+pt%I):pt>I?pt=I:pt<0&&(pt=I+pt%I),Z===null&&(Z=new n(tt+Math.cos(mt)*ft,nt+Math.sin(mt)*ft,C),b.push(Z),Q+=F);Q<1+Tt;)L=pt*Q+mt,R=tt+Math.cos(L)*ft,M=nt+Math.sin(L)*ft,Z.points.push(new a(R,M,C)),Q+=F;L=pt+mt,R=tt+Math.cos(L)*ft,M=nt+Math.sin(L)*ft,Z.points.push(new a(R,M,C));break}case e.FILL_RECT:{p.batchFillRect(E[++O],E[++O],E[++O],E[++O],T,g);break}case e.FILL_TRIANGLE:{p.batchFillTriangle(E[++O],E[++O],E[++O],E[++O],E[++O],E[++O],T,g);break}case e.STROKE_TRIANGLE:{p.batchStrokeTriangle(E[++O],E[++O],E[++O],E[++O],E[++O],E[++O],C,T,g);break}case e.LINE_TO:{Z!==null?Z.points.push(new a(E[++O],E[++O],C)):(Z=new n(E[++O],E[++O],C),b.push(Z));break}case e.MOVE_TO:{Z=new n(E[++O],E[++O],C),b.push(Z);break}case e.SAVE:{s.push(T.copyToArray());break}case e.RESTORE:{T.copyFromArray(s.pop());break}case e.TRANSLATE:{tt=E[++O],nt=E[++O],T.translate(tt,nt);break}case e.SCALE:{tt=E[++O],nt=E[++O],T.scale(tt,nt);break}case e.ROTATE:{T.rotate(E[++O]);break}}h.pipelines.postBatch(d)}};l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1066),u=t(1067),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u),u.pipeline.batchSprite(u,i,r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u),e.batchSprite(u,u.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1069),u=t(1070),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u),this.pipeline.batchSprite(u,i,r)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u),e.batchSprite(u,u.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1072),u=t(1073),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=u.list,a=r.length;if(a!==0){u.depthSort(),e.pipelines.preBatch(u);var n=u.blendMode!==-1;n||e.setBlendMode(0);for(var s=u.alpha,f=0;f<a;f++){var o=r[f];if(o.willRender(i)){var h,d,v,c;if(o.alphaTopLeft!==void 0)h=o.alphaTopLeft,d=o.alphaTopRight,v=o.alphaBottomLeft,c=o.alphaBottomRight;else{var p=o.alpha;h=p,d=p,v=p,c=p}!n&&o.blendMode!==e.currentBlendMode&&e.setBlendMode(o.blendMode);var g=o.mask;g&&g.preRenderWebGL(e,o,i);var T=o.type;T!==e.currentType&&(e.newType=!0,e.currentType=T),e.nextTypeMatch=f<a-1?r[f+1].type===e.currentType:!1,o.setAlpha(h*s,d*s,v*s,c*s),o.renderWebGL(e,o,i),o.setAlpha(h,d,v,c),g&&g.postRenderWebGL(e,i),e.newType=!1}}e.pipelines.postBatch(u)}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=u.list;if(r.length!==0){u.depthSort();var a=u.blendMode!==-1;a||e.setBlendMode(0);var n=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,i);for(var s=0;s<r.length;s++){var f=r[s];if(f.willRender(i)){var o=f.alpha;!a&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode),f.setAlpha(o*n),f.renderCanvas(e,f,i),f.setAlpha(o)}}u.mask&&u.mask.postRenderCanvas(e)}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1076),u=t(1077),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=t(12),i=new e,r=new e,a=new e,n=new e,s=function(f,o,h,d){var v=o.emitters.list,c=v.length;if(c!==0){var p=f.pipelines.set(o.pipeline),g=i,T=r,E=a,S=n;d?(S.loadIdentity(),S.multiply(d),S.translate(o.x,o.y),S.rotate(o.rotation),S.scale(o.scaleX,o.scaleY)):S.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var C=h.roundPixels,P=o.defaultFrame.glTexture,A=u.getTintAppendFloatAlpha,R=p.setGameObject(o,o.defaultFrame);f.pipelines.preBatch(o);for(var M=0;M<c;M++){var L=v[M],F=L.alive,I=F.length;if(!(!L.visible||I===0)){h.addToRenderList(L);var B=L.scrollFactorX,b=L.scrollFactorY;f.setBlendMode(L.blendMode),L.mask&&(L.mask.preRenderWebGL(f,L,h),f.pipelines.set(o.pipeline));for(var W=0,$=0;$<I;$++){var Z=F[$],D=Z.alpha*h.alpha;if(!(D<=0)){E.applyITRS(Z.x,Z.y,Z.rotation,Z.scaleX,Z.scaleY),g.copyFrom(h.matrix),g.multiplyWithOffset(S,-h.scrollX*B,-h.scrollY*b),E.e=Z.x,E.f=Z.y,g.multiply(E,T);var O=Z.frame,N=-O.halfWidth,G=-O.halfHeight,Y=N+O.width,V=G+O.height,z=T.getXRound(N,G,C),H=T.getYRound(N,G,C),j=T.getXRound(N,V,C),q=T.getYRound(N,V,C),et=T.getXRound(Y,V,C),ot=T.getYRound(Y,V,C),K=T.getXRound(Y,G,C),Q=T.getYRound(Y,G,C),tt=A(Z.tint,D);p.batchQuad(L,z,H,j,q,et,ot,K,Q,O.u0,O.v0,O.u1,O.v1,tt,tt,tt,tt,W,P,R)}}L.mask&&L.mask.postRenderWebGL(f,h)}}f.pipelines.postBatch(o)}};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,i=new e,r=new e,a=new e,n=function(s,f,o,h){var d=f.emitters.list,v=d.length;if(v!==0){var c=u.copyFrom(o.matrix),p=i,g=r,T=a;h?(T.loadIdentity(),T.multiply(h),T.translate(f.x,f.y),T.rotate(f.rotation),T.scale(f.scaleX,f.scaleY)):T.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);for(var E=s.currentContext,S=o.roundPixels,C=0;C<v;C++){var P=d[C],A=P.alive,R=A.length;if(!(!P.visible||R===0)){o.addToRenderList(P);var M=P.scrollFactorX,L=P.scrollFactorY;E.save(),E.globalCompositeOperation=s.blendModes[P.blendMode];for(var F=0;F<R;F++){var I=A[F],B=I.alpha*o.alpha;if(!(B<=0)){g.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),c.copyFrom(o.matrix),c.multiplyWithOffset(T,-o.scrollX*M,-o.scrollY*L),g.e=I.x,g.f=I.y,c.multiply(g,p);var b=I.frame,W=b.canvasData,$=-b.halfWidth,Z=-b.halfHeight;E.globalAlpha=B,E.save(),p.setToContext(E),S&&($=Math.round($),Z=Math.round(Z)),E.imageSmoothingEnabled=!(!s.antialias||b.source.scaleMode),E.drawImage(b.source.image,W.x,W.y,W.width,W.height,$,Z,W.width,W.height),E.restore()}}E.restore()}}}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1080),u=t(1081),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a,n){a.addToRenderList(r);var s=a.alpha,f=r.renderTarget,o=f.width,h=f.height,d=e.getTintAppendFloatAlpha,v=i.pipelines.set(r.pipeline),c=v.setTexture2D(f.texture);i.pipelines.preBatch(r),v.batchTexture(r,f.texture,o,h,r.x,r.y,o,h,r.scaleX,r.scaleY,r.rotation,r.flipX,!r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,o,h,d(r.tintTopLeft,s*r._alphaTL),d(r.tintTopRight,s*r._alphaTR),d(r.tintBottomLeft,s*r._alphaBL),d(r.tintBottomRight,s*r._alphaBR),r.tintFill,0,0,a,n,!0,c),i.resetTextures(),i.pipelines.postBatch(r)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){i.addToRenderList(u),e.batchSprite(u,u.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),u=t(17),i={Parse:t(1084)};i=u(!1,i,e),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(i,r){var a=r.width,n=r.height,s=Math.floor(a/2),f=Math.floor(n/2),o=e(r,"chars","");if(o!==""){var h=e(r,"image",""),d=i.sys.textures.getFrame(h),v=d.cutX,c=d.cutY,p=d.source.width,g=d.source.height,T=e(r,"offset.x",0),E=e(r,"offset.y",0),S=e(r,"spacing.x",0),C=e(r,"spacing.y",0),P=e(r,"lineSpacing",0),A=e(r,"charsPerRow",null);A===null&&(A=p/a,A>o.length&&(A=o.length));for(var R=T,M=E,L={retroFont:!0,font:h,size:a,lineHeight:n+P,chars:{}},F=0,I=0;I<o.length;I++){var B=o.charCodeAt(I),b=(v+R)/p,W=(c+M)/g,$=(v+R+a)/p,Z=(c+M+n)/g;L.chars[B]={x:R,y:M,width:a,height:n,centerX:s,centerY:f,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:b,v0:W,u1:$,v1:Z},F++,F===A?(F=0,R=T,M+=n+C):R+=a+S}var D={data:L,frame:null,texture:h};return D}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1086),u=t(1087),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),i=function(r,a,n,s){n.addToRenderList(a);var f=r.pipelines.set(a.pipeline,a),o=e(a,n,s).calc,h=a.vertices,d=a.uv,v=a.colors,c=a.alphas,p=a.alpha,g=u.getTintAppendFloatAlpha,T=n.roundPixels,E=h.length,S=Math.floor(E*.5);f.flush(),r.pipelines.preBatch(a);var C=f.setGameObject(a),P=f.vertexViewF32,A=f.vertexViewU32,R=f.vertexCount*f.currentShader.vertexComponentCount-1,M=0,L=a.tintFill;a.dirty&&a.updateVertices();for(var F=a.debugCallback,I=[],B=0;B<E;B+=2){var b=h[B+0],W=h[B+1],$=b*o.a+W*o.c+o.e,Z=b*o.b+W*o.d+o.f;T&&($=Math.round($),Z=Math.round(Z)),P[++R]=$,P[++R]=Z,P[++R]=d[B+0],P[++R]=d[B+1],P[++R]=C,P[++R]=L,A[++R]=g(v[M],n.alpha*(c[M]*p)),M++,F&&(I[B+0]=$,I[B+1]=Z)}F&&F.call(a,a,E,I),f.vertexCount+=S,r.pipelines.postBatch(a)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1089),u=t(1090),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a,n){if(!(r.width===0||r.height===0)){a.addToRenderList(r);var s=r.frame,f=s.width,o=s.height,h=e.getTintAppendFloatAlpha,d=i.pipelines.set(r.pipeline,r),v=d.setTexture2D(s.glTexture,r);i.pipelines.preBatch(r),d.batchTexture(r,s.glTexture,f,o,r.x,r.y,f/r.style.resolution,o/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,f,o,h(r.tintTopLeft,a.alpha*r._alphaTL),h(r.tintTopRight,a.alpha*r._alphaTR),h(r.tintBottomLeft,a.alpha*r._alphaBL),h(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,0,0,a,n,!1,v),i.pipelines.postBatch(r)}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u.width===0||u.height===0||(i.addToRenderList(u),e.batchSprite(u,u.frame,i,r))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1092),u=t(1093),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a,n){r.updateCanvas();var s=r.width,f=r.height;if(!(s===0||f===0)){a.addToRenderList(r),i.pipelines.preBatch(r);var o=e.getTintAppendFloatAlpha,h=i.pipelines.set(r.pipeline,r),d=h.setTexture2D(r.fillPattern,r);h.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,f,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*f,0,0,s,f,o(r.tintTopLeft,a.alpha*r._alphaTL),o(r.tintTopRight,a.alpha*r._alphaTR),o(r.tintBottomLeft,a.alpha*r._alphaBL),o(r.tintBottomRight,a.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,a,n,!1,d),i.pipelines.postBatch(r)}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u.updateCanvas(),i.addToRenderList(u),e.batchSprite(u,u.frame,i,r)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1095),u=t(1096),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u.videoTexture&&(i.addToRenderList(u),u.pipeline.batchSprite(u,i,r))};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u.videoTexture&&(i.addToRenderList(u),e.batchSprite(u,u.frame,i,r))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1098),u=t(1099),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(114),i=t(81),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,f),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,p=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&u(o,d,n,p,v,c),n.isStroked&&i(o,n,p,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),u=t(48),i=t(60),r=t(30),a=function(n,s,f,o){f.addToRenderList(s);var h=n.currentContext;if(r(n,h,s,f,o)){var d=s.radius;h.beginPath(),h.arc(d-s.originX*(d*2),d-s.originY*(d*2),d,e(s._startAngle),e(s._endAngle),s.anticlockwise),s.closePath&&h.closePath(),s.isFilled&&(u(h,s),h.fill()),s.isStroked&&(i(h,s),h.stroke()),h.restore()}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1101),u=t(1102),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),i=t(81),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=u(n,s,f),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX+n._curveBounds.x,c=n._displayOriginY+n._curveBounds.y,p=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,p,v,c),n.isStroked&&i(o,n,p,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX+n._curveBounds.x,d=n._displayOriginY+n._curveBounds.y,v=n.pathData,c=v.length-1,p=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(p,g),n.closePath||(c-=2);for(var T=2;T<c;T+=2){var E=v[T]-h,S=v[T+1]-d;o.lineTo(E,S)}n.closePath&&o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(u(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1104),u=t(1105),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),i=t(81),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=u(n,s,f),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,p=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,p,v,c),n.isStroked&&i(o,n,p,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,p=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(p,g),n.closePath||(c-=2);for(var T=2;T<c;T+=2){var E=v[T]-h,S=v[T+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(u(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1107),u=t(1108),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),i=function(r,a,n,s){n.addToRenderList(a);var f=r.pipelines.set(a.pipeline),o=e(a,n,s),h=f.calcMatrix.copyFrom(o.calc);h.translate(-a._displayOriginX,-a._displayOriginY);var d=n.alpha*a.alpha,v=a.width,c=a.height,p=a.cellWidth,g=a.cellHeight,T=Math.ceil(v/p),E=Math.ceil(c/g),S=p,C=g,P=p-(T*p-v),A=g-(E*g-c),R,M,L=a.showCells,F=a.showAltCells,I=a.showOutline,B=0,b=0,W=0,$=0,Z=0;if(I&&(S--,C--,P===p&&P--,A===g&&A--),r.pipelines.preBatch(a),L&&a.fillAlpha>0)for(R=f.fillTint,M=u.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*d),R.TL=M,R.TR=M,R.BL=M,R.BR=M,b=0;b<E;b++)for(F&&(W=b%2),B=0;B<T;B++){if(F&&W){W=0;continue}W++,$=B<T-1?S:P,Z=b<E-1?C:A,f.batchFillRect(B*p,b*g,$,Z)}if(F&&a.altFillAlpha>0)for(R=f.fillTint,M=u.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*d),R.TL=M,R.TR=M,R.BL=M,R.BR=M,b=0;b<E;b++)for(F&&(W=b%2),B=0;B<T;B++){if(F&&!W){W=1;continue}W=0,$=B<T-1?S:P,Z=b<E-1?C:A,f.batchFillRect(B*p,b*g,$,Z)}if(I&&a.outlineFillAlpha>0){var D=f.strokeTint,O=u.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*d);for(D.TL=O,D.TR=O,D.BL=O,D.BR=O,B=1;B<T;B++){var N=B*p;f.batchLine(N,0,N,c,1,1,1,0,!1)}for(b=1;b<E;b++){var G=b*g;f.batchLine(0,G,v,G,1,1,1,0,!1)}}r.pipelines.postBatch(a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=-n._displayOriginX,d=-n._displayOriginY,v=s.alpha*n.alpha,c=n.width,p=n.height,g=n.cellWidth,T=n.cellHeight,E=Math.ceil(c/g),S=Math.ceil(p/T),C=g,P=T,A=g-(E*g-c),R=T-(S*T-p),M=n.showCells,L=n.showAltCells,F=n.showOutline,I=0,B=0,b=0,W=0,$=0;if(F&&(C--,P--,A===g&&A--,R===T&&R--),M&&n.fillAlpha>0)for(e(o,n),B=0;B<S;B++)for(L&&(b=B%2),I=0;I<E;I++){if(L&&b){b=0;continue}b++,W=I<E-1?C:A,$=B<S-1?P:R,o.fillRect(h+I*g,d+B*T,W,$)}if(L&&n.altFillAlpha>0)for(e(o,n,n.altFillColor,n.altFillAlpha*v),B=0;B<S;B++)for(L&&(b=B%2),I=0;I<E;I++){if(L&&!b){b=1;continue}b=0,W=I<E-1?C:A,$=B<S-1?P:R,o.fillRect(h+I*g,d+B*T,W,$)}if(F&&n.outlineFillAlpha>0){for(u(o,n,n.outlineFillColor,n.outlineFillAlpha*v),I=1;I<E;I++){var Z=I*g;o.beginPath(),o.moveTo(Z+h,d),o.lineTo(Z+h,p+d),o.stroke()}for(B=1;B<S;B++){var D=B*T;o.beginPath(),o.moveTo(h,D+d),o.lineTo(h+c,D+d),o.stroke()}}o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1110),u=t(1111),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),i=function(r,a,n,s){n.addToRenderList(a);var f=r.pipelines.set(a.pipeline),o=e(a,n,s),h=f.calcMatrix.copyFrom(o.calc),d=a.width,v=a.height,c=d/2,p=d/a.projection,g=n.alpha*a.alpha;if(a.isFilled){var T,E,S,C,P,A,R,M,L;r.pipelines.preBatch(a),a.showTop&&(T=u.getTintAppendFloatAlpha(a.fillTop,g),E=h.getX(-c,-v),S=h.getY(-c,-v),C=h.getX(0,-p-v),P=h.getY(0,-p-v),A=h.getX(c,-v),R=h.getY(c,-v),M=h.getX(0,p-v),L=h.getY(0,p-v),f.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,T,T,T,T,2)),a.showLeft&&(T=u.getTintAppendFloatAlpha(a.fillLeft,g),E=h.getX(-c,0),S=h.getY(-c,0),C=h.getX(0,p),P=h.getY(0,p),A=h.getX(0,p-v),R=h.getY(0,p-v),M=h.getX(-c,-v),L=h.getY(-c,-v),f.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,T,T,T,T,2)),a.showRight&&(T=u.getTintAppendFloatAlpha(a.fillRight,g),E=h.getX(c,0),S=h.getY(c,0),C=h.getX(0,p),P=h.getY(0,p),A=h.getX(0,p-v),R=h.getY(0,p-v),M=h.getX(c,-v),L=h.getY(c,-v),f.batchQuad(a,E,S,C,P,A,R,M,L,0,0,1,1,T,T,T,T,2)),r.pipelines.postBatch(a)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(30),i=function(r,a,n,s){n.addToRenderList(a);var f=r.currentContext;if(u(r,f,a,n,s)&&a.isFilled){var o=a.width,h=a.height,d=o/2,v=o/a.projection;a.showTop&&(e(f,a,a.fillTop),f.beginPath(),f.moveTo(-d,-h),f.lineTo(0,-v-h),f.lineTo(d,-h),f.lineTo(d,-1),f.lineTo(0,v-1),f.lineTo(-d,-1),f.lineTo(-d,-h),f.fill()),a.showLeft&&(e(f,a,a.fillLeft),f.beginPath(),f.moveTo(-d,0),f.lineTo(0,v),f.lineTo(0,v-h),f.lineTo(-d,-h),f.lineTo(-d,0),f.fill()),a.showRight&&(e(f,a,a.fillRight),f.beginPath(),f.moveTo(d,0),f.lineTo(0,v),f.lineTo(0,v-h),f.lineTo(d,-h),f.lineTo(d,0),f.fill()),f.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1113),u=t(1114),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),i=function(r,a,n,s){n.addToRenderList(a);var f=r.pipelines.set(a.pipeline),o=e(a,n,s),h=f.calcMatrix.copyFrom(o.calc),d=a.width,v=a.height,c=d/2,p=d/a.projection,g=a.isReversed,T=n.alpha*a.alpha;if(a.isFilled){r.pipelines.preBatch(a);var E,S,C,P,A,R,M;if(a.showTop&&g){E=u.getTintAppendFloatAlpha(a.fillTop,T),S=h.getX(-c,-v),C=h.getY(-c,-v),P=h.getX(0,-p-v),A=h.getY(0,-p-v),R=h.getX(c,-v),M=h.getY(c,-v);var L=h.getX(0,p-v),F=h.getY(0,p-v);f.batchQuad(a,S,C,P,A,R,M,L,F,0,0,1,1,E,E,E,E,2)}a.showLeft&&(E=u.getTintAppendFloatAlpha(a.fillLeft,T),g?(S=h.getX(-c,-v),C=h.getY(-c,-v),P=h.getX(0,p),A=h.getY(0,p),R=h.getX(0,p-v),M=h.getY(0,p-v)):(S=h.getX(-c,0),C=h.getY(-c,0),P=h.getX(0,p),A=h.getY(0,p),R=h.getX(0,p-v),M=h.getY(0,p-v)),f.batchTri(a,S,C,P,A,R,M,0,0,1,1,E,E,E,2)),a.showRight&&(E=u.getTintAppendFloatAlpha(a.fillRight,T),g?(S=h.getX(c,-v),C=h.getY(c,-v),P=h.getX(0,p),A=h.getY(0,p),R=h.getX(0,p-v),M=h.getY(0,p-v)):(S=h.getX(c,0),C=h.getY(c,0),P=h.getX(0,p),A=h.getY(0,p),R=h.getX(0,p-v),M=h.getY(0,p-v)),f.batchTri(a,S,C,P,A,R,M,0,0,1,1,E,E,E,2)),r.pipelines.postBatch(a)}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(30),i=function(r,a,n,s){n.addToRenderList(a);var f=r.currentContext;if(u(r,f,a,n,s)&&a.isFilled){var o=a.width,h=a.height,d=o/2,v=o/a.projection,c=a.isReversed;a.showTop&&c&&(e(f,a,a.fillTop),f.beginPath(),f.moveTo(-d,-h),f.lineTo(0,-v-h),f.lineTo(d,-h),f.lineTo(0,v-h),f.fill()),a.showLeft&&(e(f,a,a.fillLeft),f.beginPath(),c?(f.moveTo(-d,-h),f.lineTo(0,v),f.lineTo(0,v-h)):(f.moveTo(-d,0),f.lineTo(0,v),f.lineTo(0,v-h)),f.fill()),a.showRight&&(e(f,a,a.fillRight),f.beginPath(),c?(f.moveTo(d,-h),f.lineTo(0,v),f.lineTo(0,v-h)):(f.moveTo(d,0),f.lineTo(0,v),f.lineTo(0,v-h)),f.fill()),f.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1116),u=t(1117),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),i=function(r,a,n,s){n.addToRenderList(a);var f=r.pipelines.set(a.pipeline),o=e(a,n,s);f.calcMatrix.copyFrom(o.calc);var h=a._displayOriginX,d=a._displayOriginY,v=n.alpha*a.alpha;if(r.pipelines.preBatch(a),a.isStroked){var c=f.strokeTint,p=u.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*v);c.TL=p,c.TR=p,c.BL=p,c.BR=p;var g=a._startWidth,T=a._endWidth;f.batchLine(a.geom.x1-h,a.geom.y1-d,a.geom.x2-h,a.geom.y2-d,g,T,1,0,!1,o.sprite,o.camera)}r.pipelines.postBatch(a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),u=t(30),i=function(r,a,n,s){n.addToRenderList(a);var f=r.currentContext;if(u(r,f,a,n,s)){var o=a._displayOriginX,h=a._displayOriginY;a.isStroked&&(e(f,a),f.beginPath(),f.moveTo(a.geom.x1-o,a.geom.y1-h),f.lineTo(a.geom.x2-o,a.geom.y2-h),f.stroke()),f.restore()}};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1119),u=t(1120),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),i=t(81),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=u(n,s,f),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,p=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,p,v,c),n.isStroked&&i(o,n,p,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,p=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(p,g),n.closePath||(c-=2);for(var T=2;T<c;T+=2){var E=v[T]-h,S=v[T+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(u(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1122),u=t(1123),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(81),i=t(12),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,f);o.calcMatrix.copyFrom(h.calc);var d=n._displayOriginX,v=n._displayOriginY,c=s.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var p=o.fillTint,g=i.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*c);p.TL=g,p.TR=g,p.BL=g,p.BR=g,o.batchFillRect(-d,-v,n.width,n.height)}n.isStroked&&u(o,n,c,d,v),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX,d=n._displayOriginY;n.isFilled&&(e(o,n),o.fillRect(-h,-d,n.width,n.height)),n.isStroked&&(u(o,n),o.beginPath(),o.rect(-h,-d,n.width,n.height),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1125),u=t(1126),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),i=t(81),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=u(n,s,f),d=o.calcMatrix.copyFrom(h.calc),v=n._displayOriginX,c=n._displayOriginY,p=s.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&e(o,d,n,p,v,c),n.isStroked&&i(o,n,p,v,c),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX,d=n._displayOriginY,v=n.pathData,c=v.length-1,p=v[0]-h,g=v[1]-d;o.beginPath(),o.moveTo(p,g),n.closePath||(c-=2);for(var T=2;T<c;T+=2){var E=v[T]-h,S=v[T+1]-d;o.lineTo(E,S)}o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(u(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1128),u=t(1129),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(81),i=t(12),r=function(a,n,s,f){s.addToRenderList(n);var o=a.pipelines.set(n.pipeline),h=e(n,s,f);o.calcMatrix.copyFrom(h.calc);var d=n._displayOriginX,v=n._displayOriginY,c=s.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var p=o.fillTint,g=i.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*c);p.TL=g,p.TR=g,p.BL=g,p.BR=g;var T=n.geom.x1-d,E=n.geom.y1-v,S=n.geom.x2-d,C=n.geom.y2-v,P=n.geom.x3-d,A=n.geom.y3-v;o.batchFillTriangle(T,E,S,C,P,A,h.sprite,h.camera)}n.isStroked&&u(o,n,c,d,v),a.pipelines.postBatch(n)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),i=t(30),r=function(a,n,s,f){s.addToRenderList(n);var o=a.currentContext;if(i(a,o,n,s,f)){var h=n._displayOriginX,d=n._displayOriginY,v=n.geom.x1-h,c=n.geom.y1-d,p=n.geom.x2-h,g=n.geom.y2-d,T=n.geom.x3-h,E=n.geom.y3-d;o.beginPath(),o.moveTo(v,c),o.lineTo(p,g),o.lineTo(T,E),o.closePath(),n.isFilled&&(e(o,n),o.fill()),n.isStroked&&(u(o,n),o.stroke()),o.restore()}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),u=t(5);u.register("blitter",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),u=t(5);u.register("container",function(i,r,a){return this.displayList.add(new e(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),u=t(5);u.register("dom",function(i,r,a,n,s){var f=new e(this.scene,i,r,a,n,s);return this.displayList.add(f),f})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),u=t(5);u.register("dynamicBitmapText",function(i,r,a,n,s){return this.displayList.add(new e(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),u=t(5);u.register("extern",function(){var i=new e(this.scene);return this.displayList.add(i),i})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),u=t(5);u.register("graphics",function(i){return this.displayList.add(new e(this.scene,i))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),u=t(5);u.register("group",function(i,r){return this.updateList.add(new e(this.scene,i,r))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),u=t(5);u.register("image",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),u=t(5);u.register("layer",function(i){return this.displayList.add(new e(this.scene,i))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(220);e.register("particles",function(i,r,a){return this.displayList.add(new u(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(457);e.register("follower",function(i,r,a,n,s){var f=new u(this.scene,i,r,a,n,s);return this.displayList.add(f),this.updateList.add(f),f})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(221);e.register("renderTexture",function(i,r,a,n,s,f){return this.displayList.add(new u(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),u=t(5);u.register("rope",function(i,r,a,n,s,f,o,h){return this.displayList.add(new e(this.scene,i,r,a,n,s,f,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(73);e.register("sprite",function(i,r,a,n){var s=new u(this.scene,i,r,a,n);return this.displayList.add(s),s})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(5);u.register("bitmapText",function(i,r,a,n,s,f){return this.displayList.add(new e(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),u=t(5);u.register("text",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),u=t(5);u.register("tileSprite",function(i,r,a,n,s,f){return this.displayList.add(new e(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),u=t(5);u.register("zone",function(i,r,a,n){return this.displayList.add(new e(this.scene,i,r,a,n))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),u=t(5);u.register("video",function(i,r,a){return this.displayList.add(new e(this.scene,i,r,a))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),u=t(5);u.register("arc",function(i,r,a,n,s,f,o,h){return this.displayList.add(new e(this.scene,i,r,a,n,s,f,o,h))}),u.register("circle",function(i,r,a,n,s){return this.displayList.add(new e(this.scene,i,r,a,0,360,!1,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(462);e.register("curve",function(i,r,a,n,s){return this.displayList.add(new u(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),u=t(5);u.register("ellipse",function(i,r,a,n,s,f){return this.displayList.add(new e(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(464);e.register("grid",function(i,r,a,n,s,f,o,h,d,v){return this.displayList.add(new u(this.scene,i,r,a,n,s,f,o,h,d,v))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(465);e.register("isobox",function(i,r,a,n,s,f,o){return this.displayList.add(new u(this.scene,i,r,a,n,s,f,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(466);e.register("isotriangle",function(i,r,a,n,s,f,o,h){return this.displayList.add(new u(this.scene,i,r,a,n,s,f,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(467);e.register("line",function(i,r,a,n,s,f,o,h){return this.displayList.add(new u(this.scene,i,r,a,n,s,f,o,h))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(468);e.register("polygon",function(i,r,a,n,s){return this.displayList.add(new u(this.scene,i,r,a,n,s))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(473);e.register("rectangle",function(i,r,a,n,s,f){return this.displayList.add(new u(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),u=t(5);u.register("star",function(i,r,a,n,s,f,o){return this.displayList.add(new e(this.scene,i,r,a,n,s,f,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(475);e.register("triangle",function(i,r,a,n,s,f,o,h,d,v){return this.displayList.add(new u(this.scene,i,r,a,n,s,f,o,h,d,v))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),u=t(28),i=t(16),r=t(13);i.register("blitter",function(a,n){a===void 0&&(a={});var s=r(a,"key",null),f=r(a,"frame",null),o=new e(this.scene,0,0,s,f);return n!==void 0&&(a.add=n),u(this.scene,o,a),o})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(214),i=t(16),r=t(13);i.register("container",function(a,n){a===void 0&&(a={});var s=r(a,"x",0),f=r(a,"y",0),o=r(a,"children",null),h=new u(this.scene,s,f,o);return n!==void 0&&(a.add=n),e(this.scene,h,a),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),u=t(28),i=t(16),r=t(13);i.register("dynamicBitmapText",function(a,n){a===void 0&&(a={});var s=r(a,"font",""),f=r(a,"text",""),o=r(a,"size",!1),h=new e(this.scene,0,0,s,f,o);return n!==void 0&&(a.add=n),u(this.scene,h,a),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(216);e.register("graphics",function(i,r){i===void 0&&(i={}),r!==void 0&&(i.add=r);var a=new u(this.scene,i);return i.add&&this.scene.sys.displayList.add(a),a})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(113);e.register("group",function(i){return new u(this.scene,null,i)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(125);u.register("image",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),f=i(a,"frame",null),o=new r(this.scene,0,0,s,f);return n!==void 0&&(a.add=n),e(this.scene,o,a),o})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(219),i=t(16),r=t(13);i.register("layer",function(a,n){a===void 0&&(a={});var s=r(a,"children",null),f=new u(this.scene,s);return n!==void 0&&(a.add=n),e(this.scene,f,a),f})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(13),i=t(2),r=t(220);e.register("particles",function(a,n){a===void 0&&(a={});var s=u(a,"key",null),f=u(a,"frame",null),o=i(a,"emitters",null),h=new r(this.scene,s,f,o);n!==void 0&&(a.add=n);var d=i(a,"add",!1);return d?this.displayList.add(h):this.updateList.add(h),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(221);u.register("renderTexture",function(a,n){a===void 0&&(a={});var s=i(a,"x",0),f=i(a,"y",0),o=i(a,"width",32),h=i(a,"height",32),d=i(a,"key",void 0),v=i(a,"frame",void 0),c=new r(this.scene,s,f,o,h,d,v);return n!==void 0&&(a.add=n),e(this.scene,c,a),c})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(6),a=t(223);u.register("rope",function(n,s){n===void 0&&(n={});var f=i(n,"key",null),o=i(n,"frame",null),h=i(n,"horizontal",!0),d=r(n,"points",void 0),v=r(n,"colors",void 0),c=r(n,"alphas",void 0),p=new a(this.scene,0,0,f,o,d,h,v,c);return s!==void 0&&(n.add=s),e(this.scene,p,n),n.add||this.updateList.add(p),p})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(439),i=t(16),r=t(13),a=t(73);i.register("sprite",function(n,s){n===void 0&&(n={});var f=r(n,"key",null),o=r(n,"frame",null),h=new a(this.scene,0,0,f,o);return s!==void 0&&(n.add=s),e(this.scene,h,n),u(h,n),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(28),i=t(16),r=t(13),a=t(6);i.register("bitmapText",function(n,s){n===void 0&&(n={});var f=a(n,"font",""),o=r(n,"text",""),h=r(n,"size",!1),d=a(n,"align",0),v=new e(this.scene,0,0,f,o,h,d);return s!==void 0&&(n.add=s),u(this.scene,v,n),v})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(224);u.register("text",function(a,n){a===void 0&&(a={});var s=i(a,"text",""),f=i(a,"style",null),o=i(a,"padding",null);o!==null&&(f.padding=o);var h=new r(this.scene,0,0,s,f);return n!==void 0&&(a.add=n),e(this.scene,h,a),h.autoRound=i(a,"autoRound",!0),h.resolution=i(a,"resolution",1),h})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(225);u.register("tileSprite",function(a,n){a===void 0&&(a={});var s=i(a,"x",0),f=i(a,"y",0),o=i(a,"width",512),h=i(a,"height",512),d=i(a,"key",""),v=i(a,"frame",""),c=new r(this.scene,s,f,o,h,d,v);return n!==void 0&&(a.add=n),e(this.scene,c,a),c})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(13),i=t(129);e.register("zone",function(r){var a=u(r,"x",0),n=u(r,"y",0),s=u(r,"width",1),f=u(r,"height",s);return new i(this.scene,a,n,s,f)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(226);u.register("video",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),f=new r(this.scene,0,0,s);return n!==void 0&&(a.add=n),e(this.scene,f,a),a.add||this.updateList.add(f),f})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1177),u=t(1178),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(i,r,a,n){if(r.shader){if(a.addToRenderList(r),i.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=e(r,a,n).calc;(i.width!==r._rendererWidth||i.height!==r._rendererHeight)&&r.projOrtho(0,i.width,i.height,0),r.load(s.matrix),r.flush()}i.pipelines.rebind()}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1180),u=t(1181),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(i,r,a,n){var s=r.faces,f=s.length;if(f!==0){a.addToRenderList(r);var o=i.pipelines.set(r.pipeline,r),h=e(r,a,n).calc,d=o.setGameObject(r),v=o.vertexViewF32,c=o.vertexViewU32,p=o.vertexCount*o.currentShader.vertexComponentCount-1,g=r.tintFill,T=[],E=r.debugCallback,S=h.a,C=h.b,P=h.c,A=h.d,R=h.e,M=h.f,L=r.viewPosition.z,F=r.hideCCW,I=a.roundPixels,B=a.alpha*r.alpha,b=0;i.pipelines.preBatch(r);for(var W=0;W<f;W++){var $=s[W];$.isInView(a,F,L,B,S,C,P,A,R,M,I)&&(o.shouldFlush(3)&&(o.flush(),p=0),p=$.load(v,c,p,d,g),b++,o.vertexCount+=3,E&&T.push($))}r.totalFrame+=b,E&&E.call(r,r,T),i.pipelines.postBatch(r)}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1183),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(i,r,a,n){a.addToRenderList(r);var s=i.pipelines.set(r.pipeline),f=e(r,a,n).calc,o=r.width,h=r.height,d=-r._radius,v=-r._radius,c=d+o,p=v+h,g=f.getX(0,0),T=f.getY(0,0),E=f.getX(d,v),S=f.getY(d,v),C=f.getX(d,p),P=f.getY(d,p),A=f.getX(c,p),R=f.getY(c,p),M=f.getX(c,v),L=f.getY(c,v);i.pipelines.preBatch(r),s.batchPointLight(r,a,E,S,C,P,A,R,M,L,g,T),i.pipelines.postBatch(r)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),u=t(5);u.register("shader",function(i,r,a,n,s,f,o){return this.displayList.add(new e(this.scene,i,r,a,n,s,f,o))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),u=t(5);u.register("mesh",function(i,r,a,n,s,f,o,h,d,v,c){return this.displayList.add(new e(this.scene,i,r,a,n,s,f,o,h,d,v,c))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(150);e.register("pointlight",function(i,r,a,n,s,f){return this.displayList.add(new u(this.scene,i,r,a,n,s,f))})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(229);u.register("shader",function(a,n){a===void 0&&(a={});var s=i(a,"key",null),f=i(a,"x",0),o=i(a,"y",0),h=i(a,"width",128),d=i(a,"height",128),v=new r(this.scene,s,f,o,h,d);return n!==void 0&&(a.add=n),e(this.scene,v,a),v})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(6),a=t(230);u.register("mesh",function(n,s){n===void 0&&(n={});var f=i(n,"key",null),o=i(n,"frame",null),h=r(n,"vertices",[]),d=r(n,"uvs",[]),v=r(n,"indicies",[]),c=r(n,"containsZ",!1),p=r(n,"normals",[]),g=r(n,"colors",16777215),T=r(n,"alphas",1),E=new a(this.scene,0,0,f,o,h,d,v,c,p,g,T);return s!==void 0&&(n.add=s),e(this.scene,E,n),E})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),i=t(13),r=t(150);u.register("pointlight",function(a,n){a===void 0&&(a={});var s=i(a,"color",16777215),f=i(a,"radius",128),o=i(a,"intensity",1),h=i(a,"attenuation",.1),d=new r(this.scene,0,0,s,f,o,h);return n!==void 0&&(a.add=n),e(this.scene,d,a),d})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(482),i=t(24),r=t(20),a=new e({Extends:u,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),u.call(this)},boot:function(){var n=this.systems.events;n.on(r.SHUTDOWN,this.shutdown,this),n.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});i.register("LightsPlugin",a,"lights"),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=function(i){return new e(i.x,i.y,i.radius)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=function(i,r){return e(i,r.x,r.y)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=function(i,r){return e(i,r.x,r.y)&&e(i,r.right,r.y)&&e(i,r.x,r.bottom)&&e(i,r.right,r.bottom)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.radius)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r){return r===void 0&&(r=new e),r.x=i.left,r.y=i.top,r.width=i.diameter,r.height=i.diameter,r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x+=u,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),u=function(i){return new e(i.x,i.y,i.width,i.height)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),u=function(i,r){return e(i,r.x,r.y)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),u=function(i,r){return e(i,r.x,r.y)&&e(i,r.right,r.y)&&e(i,r.x,r.bottom)&&e(i,r.right,r.bottom)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r){return r===void 0&&(r=new e),r.x=i.left,r.y=i.top,r.width=i.width,r.height=i.height,r};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x+=u,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=t},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(231),i=function(r,a,n){if(n===void 0&&(n=[]),u(r,a)){var s=r.x,f=r.y,o=r.radius,h=a.x,d=a.y,v=a.radius,c,p,g,T,E;if(f===d)E=(v*v-o*o-h*h+s*s)/(2*(s-h)),c=1,p=-2*d,g=h*h+E*E-2*h*E+d*d-v*v,T=p*p-4*c*g,T===0?n.push(new e(E,-p/(2*c))):T>0&&(n.push(new e(E,(-p+Math.sqrt(T))/(2*c))),n.push(new e(E,(-p-Math.sqrt(T))/(2*c))));else{var S=(s-h)/(f-d),C=(v*v-o*o-h*h+s*s-d*d+f*f)/(2*(f-d));c=S*S+1,p=2*f*S-2*C*S-2*s,g=s*s+f*f+C*C-o*o-2*f*C,T=p*p-4*c*g,T===0?(E=-p/(2*c),n.push(new e(E,C-E*S))):T>0&&(E=(-p+Math.sqrt(T))/(2*c),n.push(new e(E,C-E*S)),E=(-p-Math.sqrt(T))/(2*c),n.push(new e(E,C-E*S)))}}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),u=t(151),i=function(r,a,n){if(n===void 0&&(n=[]),u(r,a)){var s=a.getLineA(),f=a.getLineB(),o=a.getLineC(),h=a.getLineD();e(s,r,n),e(f,r,n),e(o,r,n),e(h,r,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),u=t(487),i=t(47),r=new i;function a(f,o,h,d,v){var c=Math.cos(f),p=Math.sin(f);r.setTo(o,h,o+c,h+p);var g=u(r,d);g&&v.push(new e(g.x,g.y,f,g.w))}function n(f,o){return f.z-o.z}var s=function(f,o,h){Array.isArray(h)||(h=[h]);for(var d=[],v=[],c=0;c<h.length;c++)for(var p=h[c].points,g=0;g<p.length;g++){var T=Math.atan2(p[g].y-o,p[g].x-f);v.indexOf(T)===-1&&(a(T,f,o,h,d),a(T-1e-5,f,o,h,d),a(T+1e-5,f,o,h,d),v.push(T))}return d.sort(n)};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(152),i=function(r,a,n){return n===void 0&&(n=new e),u(r,a)&&(n.x=Math.max(r.x,a.x),n.y=Math.max(r.y,a.y),n.width=Math.min(r.right,a.right)-n.x,n.height=Math.min(r.bottom,a.bottom)-n.y),n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),u=t(152),i=function(r,a,n){if(n===void 0&&(n=[]),u(r,a)){var s=r.getLineA(),f=r.getLineB(),o=r.getLineC(),h=r.getLineD();e(s,a,n),e(f,a,n),e(o,a,n),e(h,a,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),u=t(234),i=function(r,a,n){if(n===void 0&&(n=[]),e(r,a)){var s=a.getLineA(),f=a.getLineB(),o=a.getLineC();u(s,r,n),u(f,r,n),u(o,r,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),u=t(491),i=function(r,a,n){if(n===void 0&&(n=[]),u(r,a)){var s=r.getLineA(),f=r.getLineB(),o=r.getLineC();e(s,a,n),e(f,a,n),e(o,a,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),u=t(492),i=function(r,a,n){if(n===void 0&&(n=[]),e(r,a)){var s=a.getLineA(),f=a.getLineB(),o=a.getLineC();u(r,s,n),u(r,f,n),u(r,o,n)}return n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),u=function(i,r){if(!e(i,r))return!1;var a=Math.min(r.x1,r.x2),n=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),f=Math.max(r.y1,r.y2);return i.x>=a&&i.x<=n&&i.y>=s&&i.y<=f};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a,n){return n===void 0&&(n=0),!(u>e.right+n||i<e.left-n||r>e.bottom+n||a<e.top-n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=u-(e.x1+e.x2)/2,a=i-(e.y1+e.y2)/2;return e.x1+=r,e.y1+=a,e.x2+=r,e.y2+=a,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),u=function(i){return new e(i.x1,i.y1,i.x2,i.y2)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=function(i,r,a){a===void 0&&(a=r);var n=e(i),s=i.x2-i.x1,f=i.y2-i.y1;return r&&(i.x1=i.x1-s/n*r,i.y1=i.y1-f/n*r),a&&(i.x2=i.x2+s/n*a,i.y2=i.y2+f/n*a),i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),u=t(80),i=t(4),r=function(a,n,s,f,o){f===void 0&&(f=0),o===void 0&&(o=[]);var h=[],d=a.x1,v=a.y1,c=a.x2-d,p=a.y2-v,g=u(n,o),T,E,S=s-1;for(T=0;T<S;T++)E=g(T/S),h.push(new i(d+c*E,v+p*E));if(E=g(1),h.push(new i(d+c*E,v+p*E)),f>0){var C=h[0],P=[C];for(T=1;T<h.length-1;T++){var A=h[T];e(C,A)>=f&&(P.push(A),C=A)}var R=h[h.length-1];return e(C,R)<f&&P.pop(),P.push(R),P}else return h};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.x=(i.x1+i.x2)/2,r.y=(i.y1+i.y2)/2,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){a===void 0&&(a=new e);var n=i.x1,s=i.y1,f=i.x2,o=i.y2,h=(f-n)*(f-n)+(o-s)*(o-s);if(h===0)return a;var d=((r.x-n)*(f-n)+(r.y-s)*(o-s))/h;return a.x=n+d*(f-n),a.y=s+d*(o-s),a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),i=t(4),r=function(a,n){n===void 0&&(n=new i);var s=u(a)-e.TAU;return n.x=Math.cos(s),n.y=Math.sin(s),n};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=e.x1,r=e.y1,a=e.x2,n=e.y2,s=(a-i)*(a-i)+(n-r)*(n-r);if(s===0)return!1;var f=((r-u.y)*(a-i)-(i-u.x)*(n-r))/s;return Math.abs(f)*Math.sqrt(s)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),i=function(r){return Math.cos(u(r)-e.TAU)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),i=function(r){return Math.sin(u(r)-e.TAU)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x1+=u,e.y1+=i,e.x2+=u,e.y2+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),u=t(497),i=function(r,a){return 2*u(a)-Math.PI-e(r)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),u=function(i,r){var a=(i.x1+i.x2)/2,n=(i.y1+i.y2)/2;return e(i,a,n,r)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),u=function(i,r,a){return e(i,r.x,r.y,a)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r,a){return e.x1=u,e.y1=i,e.x2=u+Math.cos(r)*a,e.y2=i+Math.sin(r)*a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(2),i=t(69),r=t(39),a=t(117),n=new r,s=new r,f=new i,o=function(h){var d=u(h,"mesh"),v=u(h,"texture",null),c=u(h,"frame"),p=u(h,"width",1),g=u(h,"height",p),T=u(h,"widthSegments",1),E=u(h,"heightSegments",T),S=u(h,"x",0),C=u(h,"y",0),P=u(h,"z",0),A=u(h,"rotateX",0),R=u(h,"rotateY",0),M=u(h,"rotateZ",0),L=u(h,"zIsUp",!0),F=u(h,"isOrtho",d?d.dirtyCache[11]:!1),I=u(h,"colors",[16777215]),B=u(h,"alphas",[1]),b=u(h,"tile",!1),W=u(h,"flipY",!1),$=u(h,"width",null),Z={faces:[],verts:[]};if(n.set(S,C,P),s.set(A,R,M),f.fromRotationXYTranslation(s,n,L),!v&&d)v=d.texture;else if(d&&typeof v=="string")v=d.scene.sys.textures.get(v);else return Z;var D=v.get(c);!$&&F&&v&&d&&(p=D.width/d.height,g=D.height/d.height);var O=p/2,N=g/2,G=Math.floor(T),Y=Math.floor(E),V=G+1,z=Y+1,H=p/G,j=g/Y,q=[],et=[],ot,K,Q=0,tt=1,nt=0,ft=1;D&&(Q=D.u0,tt=D.u1,W?(nt=D.v1,ft=D.v0):(nt=D.v0,ft=D.v1));var mt=tt-Q,pt=ft-nt;for(K=0;K<z;K++){var at=K*j-N;for(ot=0;ot<V;ot++){var Tt=ot*H-O;et.push(Tt,-at);var lt=Q+mt*(ot/G),Et=nt+pt*(K/Y);q.push(lt,Et)}}Array.isArray(I)||(I=[I]),Array.isArray(B)||(B=[B]);var Ct=0,Lt=0;for(K=0;K<Y;K++)for(ot=0;ot<G;ot++){var Pt=(ot+V*K)*2,Mt=(ot+V*(K+1))*2,wt=(ot+1+V*(K+1))*2,Dt=(ot+1+V*K)*2,bt=I[Lt],ie=B[Ct],ae=new a(et[Pt],et[Pt+1],0,q[Pt],q[Pt+1],bt,ie).transformMat4(f),Le=new a(et[Mt],et[Mt+1],0,q[Mt],q[Mt+1],bt,ie).transformMat4(f),Xt=new a(et[Dt],et[Dt+1],0,q[Dt],q[Dt+1],bt,ie).transformMat4(f),Me=new a(et[Mt],et[Mt+1],0,q[Mt],q[Mt+1],bt,ie).transformMat4(f),ve=new a(et[wt],et[wt+1],0,q[wt],q[wt+1],bt,ie).transformMat4(f),Ht=new a(et[Dt],et[Dt+1],0,q[Dt],q[Dt+1],bt,ie).transformMat4(f);b&&(ae.setUVs(Q,ft),Le.setUVs(Q,nt),Xt.setUVs(tt,ft),Me.setUVs(Q,nt),ve.setUVs(tt,nt),Ht.setUVs(tt,ft)),Lt++,Lt===I.length&&(Lt=0),Ct++,Ct===B.length&&(Ct=0),Z.verts.push(ae,Le,Xt,Me,ve,Ht),Z.faces.push(new e(ae,Le,Xt),new e(Me,ve,Ht))}return d&&(d.faces=d.faces.concat(Z.faces),d.vertices=d.vertices.concat(Z.verts)),Z};l.exports=o},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){var a,n;if(i===void 0&&r===void 0){var s=e.getInCenter();a=s.x,n=s.y}var f=Math.cos(u),o=Math.sin(u),h=e.vertex1,d=e.vertex2,v=e.vertex3,c=h.x-a,p=h.y-n;h.set(c*f-p*o+a,c*o+p*f+n),c=d.x-a,p=d.y-n,d.set(c*f-p*o+a,c*o+p*f+n),c=v.x-a,p=v.y-n,v.set(c*f-p*o+a,c*o+p*f+n)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i){return new e(i.x,i.y)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){if(r===void 0&&(r=new e),!Array.isArray(i))throw new Error("GetCentroid points argument must be an array");var a=i.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)r.x=i[0].x,r.y=i[0].y;else{for(var n=0;n<a;n++)r.x+=i[n].x,r.y+=i[n].y;r.x/=a,r.y/=a}return r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r){r===void 0&&(r=new e);for(var a=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,o=0;o<i.length;o++){var h=i[o];h.x>a&&(a=h.x),h.x<n&&(n=h.x),h.y>s&&(s=h.y),h.y<f&&(f=h.y)}return r.x=n,r.y=f,r.width=a-n,r.height=s-f,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a,n){return a===void 0&&(a=0),n===void 0&&(n=new e),n.x=i.x+(r.x-i.x)*a,n.y=i.y+(r.y-i.y)*a,n};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.setTo(-i.x,-i.y)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(501),i=function(r,a,n){n===void 0&&(n=new e);var s=r.x*a.x+r.y*a.y,f=s/u(a);return f!==0&&(n.x=f*a.x,n.y=f*a.y),n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r,a){a===void 0&&(a=new e);var n=i.x*r.x+i.y*r.y;return n!==0&&(a.x=n*r.x,a.y=n*r.y),a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),u=function(i,r){if(i.x!==0||i.y!==0){var a=e(i);i.x/=a,i.y/=a}return i.x*=r,i.y*=r,i};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),u=function(i){return new e(i.points)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),u=function(i,r){return e(i,r.x,r.y)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=[]);for(var i=0;i<e.points.length;i++)u.push(e.points[i].x),u.push(e.points[i].y);return u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};l.exports=t},function(l,x){function t(n,s){var f=n.x-s.x,o=n.y-s.y;return f*f+o*o}function e(n,s,f){var o=s.x,h=s.y,d=f.x-o,v=f.y-h;if(d!==0||v!==0){var c=((n.x-o)*d+(n.y-h)*v)/(d*d+v*v);c>1?(o=f.x,h=f.y):c>0&&(o+=d*c,h+=v*c)}return d=n.x-o,v=n.y-h,d*d+v*v}function u(n,s){for(var f=n[0],o=[f],h,d=1,v=n.length;d<v;d++)h=n[d],t(h,f)>s&&(o.push(h),f=h);return f!==h&&o.push(h),o}function i(n,s,f,o,h){for(var d=o,v,c=s+1;c<f;c++){var p=e(n[c],n[s],n[f]);p>d&&(v=c,d=p)}d>o&&(v-s>1&&i(n,s,v,o,h),h.push(n[v]),f-v>1&&i(n,v,f,o,h))}function r(n,s){var f=n.length-1,o=[n[0]];return i(n,0,f,s,o),o.push(n[f]),o}var a=function(n,s,f){s===void 0&&(s=1),f===void 0&&(f=!1);var o=n.points;if(o.length>2){var h=s*s;f||(o=u(o,h)),n.setTo(r(o,h))}return n};l.exports=a},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){for(var r=e.points,a=0;a<r.length;a++)r[a].x+=u,r[a].y+=i;return e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i){return new e(i.x,i.y,i.width,i.height)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),u=function(i,r){return e(i,r.x,r.y)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),u=function(i,r){var a=e(i);return a<e(r)?i.setSize(r.height*a,r.height):i.setSize(r.width,r.width/a),i.setPosition(r.centerX-i.width/2,r.centerY-i.height/2)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),u=function(i,r){var a=e(i);return a>e(r)?i.setSize(r.height*a,r.height):i.setSize(r.width,r.width/a),i.setPosition(r.centerX-i.width/2,r.centerY-i.height/2)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};l.exports=t},function(l,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(i,r,a,n,s){return s===void 0&&(s=new e),s.setTo(Math.min(i,a),Math.min(r,n),Math.abs(i-a),Math.abs(r-n))};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.x=i.centerX,r.y=i.centerY,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(i,r){return r===void 0&&(r=new e),r.x=i.width,r.y=i.height,r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),u=function(i,r,a){var n=i.centerX,s=i.centerY;return i.setSize(i.width+r*2,i.height+a*2),e(i,n,s)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(152),i=function(r,a,n){return n===void 0&&(n=new e),u(r,a)?(n.x=Math.max(r.x,a.x),n.y=Math.max(r.y,a.y),n.width=Math.min(r.right,a.right)-n.x,n.height=Math.min(r.bottom,a.bottom)-n.y):n.setEmpty(),n};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var i=e.x,r=e.right,a=e.y,n=e.bottom,s=0;s<u.length;s++)i=Math.min(i,u[s].x),r=Math.max(r,u[s].x),a=Math.min(a,u[s].y),n=Math.max(n,u[s].y);return e.x=i,e.y=a,e.width=r-i,e.height=n-a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var i=Math.min(e.x,u.x),r=Math.max(e.right,u.right);e.x=i,e.width=r-i;var a=Math.min(e.y,u.y),n=Math.max(e.bottom,u.bottom);return e.y=a,e.height=n-a,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){var r=Math.min(e.x,u),a=Math.max(e.right,u);e.x=r,e.width=a-r;var n=Math.min(e.y,i),s=Math.max(e.bottom,i);return e.y=n,e.height=s-n,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return e.x+=u,e.y+=i,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(36),i=function(r,a,n){n===void 0&&(n=new e),a=u(a);var s=Math.sin(a),f=Math.cos(a),o=f>0?r.width/2:r.width/-2,h=s>0?r.height/2:r.height/-2;return Math.abs(o*s)<Math.abs(h*f)?h=o*s/f:o=h*f/s,n.x=o+r.centerX,n.y=h+r.centerY,n};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),u=t(503),i=t(4),r=function(a,n,s){if(s===void 0&&(s=new i),u(a,n))switch(e(0,3)){case 0:s.x=a.x+Math.random()*(n.right-a.x),s.y=a.y+Math.random()*(n.top-a.y);break;case 1:s.x=n.x+Math.random()*(a.right-n.x),s.y=n.bottom+Math.random()*(a.bottom-n.bottom);break;case 2:s.x=a.x+Math.random()*(n.x-a.x),s.y=n.y+Math.random()*(a.bottom-n.y);break;case 3:s.x=n.right+Math.random()*(a.right-n.right),s.y=a.y+Math.random()*(n.bottom-a.y);break}return s};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.width===u.width&&e.height===u.height};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i){return i===void 0&&(i=u),e.width*=u,e.height*=i,e};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),l.exports=e},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.x1,i=e.y1,r=e.x2,a=e.y2,n=e.x3,s=e.y3;return Math.abs(((n-u)*(a-i)-(r-u)*(s-i))/2)};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(i,r,a){var n=a*(Math.sqrt(3)/2),s=i,f=r,o=i+a/2,h=r+n,d=i-a/2,v=r+n;return new e(s,f,o,h,d,v)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),u=t(82),i=function(r,a,n,s,f){a===void 0&&(a=null),n===void 0&&(n=1),s===void 0&&(s=1),f===void 0&&(f=[]);for(var o=e(r,a),h,d,v,c,p,g,T,E,S,C=0;C<o.length;C+=3)h=o[C],d=o[C+1],v=o[C+2],c=r[h*2]*n,p=r[h*2+1]*s,g=r[d*2]*n,T=r[d*2+1]*s,E=r[v*2]*n,S=r[v*2+1]*s,f.push(new u(c,p,g,T,E,S));return f};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(i,r,a,n){n===void 0&&(n=a);var s=i,f=r,o=i,h=r-n,d=i+a,v=r;return new e(s,f,o,h,d,v)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),u=t(505),i=function(r,a,n,s){s===void 0&&(s=e);var f=s(r),o=a-f.x,h=n-f.y;return u(r,o,h)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function u(r,a,n,s){return r*s-a*n}var i=function(r,a){a===void 0&&(a=new e);var n=r.x3,s=r.y3,f=r.x1-n,o=r.y1-s,h=r.x2-n,d=r.y2-s,v=2*u(f,o,h,d),c=u(o,f*f+o*o,d,h*h+d*d),p=u(f,f*f+o*o,h,h*h+d*d);return a.x=n-c/v,a.y=s+p/v,a};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=function(i,r){r===void 0&&(r=new e);var a=i.x1,n=i.y1,s=i.x2,f=i.y2,o=i.x3,h=i.y3,d=s-a,v=f-n,c=o-a,p=h-n,g=d*(a+s)+v*(n+f),T=c*(a+o)+p*(n+h),E=2*(d*(h-f)-v*(o-s)),S,C;if(Math.abs(E)<1e-6){var P=Math.min(a,s,o),A=Math.min(n,f,h);S=(Math.max(a,s,o)-P)*.5,C=(Math.max(n,f,h)-A)*.5,r.x=P+S,r.y=A+C,r.radius=Math.sqrt(S*S+C*C)}else r.x=(p*g-v*T)/E,r.y=(d*T-c*g)/E,S=r.x-a,C=r.y-n,r.radius=Math.sqrt(S*S+C*C);return r};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(i){return new e(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),u=function(i,r){return e(i,r.x,r.y)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=function(i){var r=i.getLineA(),a=i.getLineB(),n=i.getLineC();return e(r)+e(a)+e(n)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),u=t(506),i=function(r,a){var n=u(r);return e(r,n.x,n.y,a)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),u=function(i,r,a){return e(i,r.x,r.y,a)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),u=t(17),i={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="connected"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="disconnected"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(239),r=t(511),a=t(6),n=t(153),s=t(51),f=new e({Extends:u,initialize:function(h){u.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(s.BOOT,this.boot,this),h.pluginEvents.on(s.START,this.start,this)},boot:function(){var o=this.scene.sys.game,h=this.settings.input,d=o.config;this.enabled=a(h,"gamepad",d.inputGamepad)&&o.device.input.gamepads,this.target=a(h,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var o=this,h=this.target,d=function(v){v.defaultPrevented||!o.isActive()||(o.refreshPads(),o.queue.push(v))};this.onGamepadHandler=d,h.addEventListener("gamepadconnected",d,!1),h.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].removeAllListeners()},disconnectAll:function(){for(var o=0;o<this.gamepads.length;o++)this.gamepads[o].pad.connected=!1},refreshPads:function(){var o=navigator.getGamepads();if(!o)this.disconnectAll();else for(var h=this.gamepads,d=0;d<o.length;d++){var v=o[d];if(v){var c=v.id,p=v.index,g=h[p];if(g)g.id!==c?(g.destroy(),h[p]=new r(this,v)):g.update(v);else{var T=new r(this,v);h[p]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var o=[],h=this.gamepads,d=0;d<h.length;d++)h[d]&&o.push(h[d]);return o},getPad:function(o){for(var h=this.gamepads,d=0;d<h.length;d++)if(h[d]&&h[d].index===o)return h[d]},update:function(){if(this.enabled){this.refreshPads();var o=this.queue.length;if(o!==0)for(var h=this.queue.splice(0,o),d=0;d<o;d++){var v=h[d],c=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(i.CONNECTED,c,v):v.type==="gamepaddisconnected"&&this.emit(i.DISCONNECTED,c,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var o=0;o<this.gamepads.length;o++)this.gamepads[o]&&this.gamepads[o].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=t(66),i=t(0),r=t(203),a=t(508),n=t(507),s=t(50),f=t(111),o=t(112),h=t(51),d=t(9),v=t(2),c=t(56),p=t(153),g=t(7),T=t(24),E=t(10),S=t(57),C=t(20),P=t(82),A=t(115),R=new i({Extends:d,initialize:function(L){d.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var F={cancelled:!1};this._eventContainer={stopPropagation:function(){F.cancelled=!0}},this._eventData=F,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var M=this.systems.events;M.on(C.TRANSITION_START,this.transitionIn,this),M.on(C.TRANSITION_OUT,this.transitionOut,this),M.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),M.on(C.PRE_UPDATE,this.preUpdate,this),M.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(M){this.isActive()&&this.emit(h.GAME_OVER,M.timeStamp,M)},onGameOut:function(M){this.isActive()&&this.emit(h.GAME_OUT,M.timeStamp,M)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var M=this._pendingRemoval,L=this._pendingInsertion,F=M.length,I=L.length;if(!(F===0&&I===0)){for(var B=this._list,b=0;b<F;b++){var W=M[b],$=B.indexOf(W);$>-1&&(B.splice($,1),this.clear(W,!0))}M.length=0,this._pendingRemoval.length=0,this._list=B.concat(L.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(M,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,M,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var F,I=this.manager,B=I.pointers,b=I.pointersTotal;for(F=0;F<b;F++)B[F].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(F=0;F<b;F++){var Z=0,D=B[F];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Z+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,M),Z>0&&($=!0)}return $},update:function(M,L){if(!this.isActive())return!1;for(var F=L.length,I=!1,B=0;B<F;B++){var b=0,W=L[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),M){case r.MOUSE_DOWN:b+=this.processDragDownEvent(W),b+=this.processDownEvents(W),b+=this.processOverOutEvents(W);break;case r.MOUSE_UP:b+=this.processDragUpEvent(W),b+=this.processUpEvents(W),b+=this.processOverOutEvents(W);break;case r.TOUCH_START:b+=this.processDragDownEvent(W),b+=this.processDownEvents(W),b+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:b+=this.processDragUpEvent(W),b+=this.processUpEvents(W),b+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:b+=this.processDragMoveEvent(W),b+=this.processMoveEvents(W),b+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:b+=this.processWheelEvent(W);break}b>0&&(I=!0)}return this._updatedThisFrame=!0,I},clear:function(M,L){L===void 0&&(L=!1);var F=M.input;if(F){L||this.queueForRemoval(M),F.gameObject=void 0,F.target=void 0,F.hitArea=void 0,F.hitAreaCallback=void 0,F.callbackContext=void 0,M.input=null;var I=this._draggable.indexOf(M);return I>-1&&this._draggable.splice(I,1),I=this._drag[0].indexOf(M),I>-1&&this._drag[0].splice(I,1),I=this._over[0].indexOf(M),I>-1&&(this._over[0].splice(I,1),this.manager.resetCursor(F)),M}},disable:function(M){M.input.enabled=!1},enable:function(M,L,F,I){return I===void 0&&(I=!1),M.input?M.input.enabled=!0:this.setHitArea(M,L,F),M.input&&I&&!M.input.dropZone&&(M.input.dropZone=I),this},hitTestPointer:function(M){for(var L=this.cameras.getCamerasBelowPointer(M),F=0;F<L.length;F++){for(var I=L[F],B=this.manager.hitTest(M,this._list,I),b=0;b<B.length;b++){var W=B[b];W.input.dropZone&&this._tempZones.push(W)}if(B.length>0)return M.camera=I,B}return M.camera=L[0],[]},processDownEvents:function(M){var L=0,F=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var b=!1,W=0;W<F.length;W++){var $=F[W];if($.input){if(L++,$.emit(h.GAMEOBJECT_POINTER_DOWN,M,$.input.localX,$.input.localY,B),I.cancelled||!$.input){b=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,M,$,B),I.cancelled||!$.input){b=!0;break}}}return!b&&this.manager&&(M.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,M,F):this.emit(h.POINTER_DOWN_OUTSIDE,M)),L},getDragState:function(M){return this._dragState[M.id]},setDragState:function(M,L){this._dragState[M.id]=L},processDragThresholdEvent:function(M,L){var F=!1,I=this.dragTimeThreshold,B=this.dragDistanceThreshold;if((B>0&&s(M.x,M.y,M.downX,M.downY)>=B||I>0&&L>=M.downTime+I)&&(F=!0),F)return this.setDragState(M,3),this.processDragStartList(M)},processDragStartList:function(M){if(this.getDragState(M)!==3)return 0;for(var L=this._drag[M.id],F=0;F<L.length;F++){var I=L[F],B=I.input;B.dragState=2,B.dragStartX=I.x,B.dragStartY=I.y,B.dragStartXGlobal=M.worldX,B.dragStartYGlobal=M.worldY,B.dragX=B.dragStartXGlobal-B.dragStartX,B.dragY=B.dragStartYGlobal-B.dragStartY,I.emit(h.GAMEOBJECT_DRAG_START,M,B.dragX,B.dragY),this.emit(h.DRAG_START,M,I)}return this.setDragState(M,4),L.length},processDragDownEvent:function(M){var L=this._temp;if(this._draggable.length===0||L.length===0||!M.primaryDown||this.getDragState(M)!==0)return 0;this.setDragState(M,1);for(var F=[],I=0;I<L.length;I++){var B=L[I];B.input.draggable&&B.input.dragState===0&&F.push(B)}return F.length===0?(this.setDragState(M,0),0):(F.length>1&&(this.sortGameObjects(F,M),this.topOnly&&F.splice(1)),this._drag[M.id]=F,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(M,3),this.processDragStartList(M)):(this.setDragState(M,2),0))},processDragMoveEvent:function(M){if(this.getDragState(M)===2&&this.processDragThresholdEvent(M,this.manager.game.loop.now),this.getDragState(M)!==4)return 0;for(var L=this._tempZones,F=this._drag[M.id],I=0;I<F.length;I++){var B=F[I],b=B.input,W=b.target;if(W){var $=L.indexOf(W);$===0?(B.emit(h.GAMEOBJECT_DRAG_OVER,M,W),this.emit(h.DRAG_OVER,M,B,W)):$>0?(B.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,B,W),b.target=L[0],W=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,B,W)):(B.emit(h.GAMEOBJECT_DRAG_LEAVE,M,W),this.emit(h.DRAG_LEAVE,M,B,W),L[0]?(b.target=L[0],W=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,B,W)):b.target=null)}else!W&&L[0]&&(b.target=L[0],W=b.target,B.emit(h.GAMEOBJECT_DRAG_ENTER,M,W),this.emit(h.DRAG_ENTER,M,B,W));var Z,D;if(!B.parentContainer)Z=M.worldX-b.dragX,D=M.worldY-b.dragY;else{var O=M.worldX-b.dragStartXGlobal,N=M.worldY-b.dragStartYGlobal,G=B.getParentRotation(),Y=O*Math.cos(G)+N*Math.sin(G),V=N*Math.cos(G)-O*Math.sin(G);Y*=1/B.parentContainer.scaleX,V*=1/B.parentContainer.scaleY,Z=Y+b.dragStartX,D=V+b.dragStartY}B.emit(h.GAMEOBJECT_DRAG,M,Z,D),this.emit(h.DRAG,M,B,Z,D)}return F.length},processDragUpEvent:function(M){for(var L=this._drag[M.id],F=0;F<L.length;F++){var I=L[F],B=I.input;if(B&&B.dragState===2){B.dragState=0,B.dragX=B.localX-I.displayOriginX,B.dragY=B.localY-I.displayOriginY;var b=!1,W=B.target;W&&(I.emit(h.GAMEOBJECT_DROP,M,W),this.emit(h.DROP,M,I,W),B.target=null,b=!0),I.input&&(I.emit(h.GAMEOBJECT_DRAG_END,M,B.dragX,B.dragY,b),this.emit(h.DRAG_END,M,I,b))}}return this.setDragState(M,0),L.splice(0),0},processMoveEvents:function(M){var L=0,F=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var b=!1,W=0;W<F.length;W++){var $=F[W];if($.input){if(L++,$.emit(h.GAMEOBJECT_POINTER_MOVE,M,$.input.localX,$.input.localY,B),I.cancelled||!$.input){b=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,M,$,B),I.cancelled||!$.input){b=!0;break}if(this.topOnly)break}}return b||this.emit(h.POINTER_MOVE,M,F),L},processWheelEvent:function(M){var L=0,F=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var b=!1,W=M.deltaX,$=M.deltaY,Z=M.deltaZ,D=0;D<F.length;D++){var O=F[D];if(O.input){if(L++,O.emit(h.GAMEOBJECT_POINTER_WHEEL,M,W,$,Z,B),I.cancelled||!O.input){b=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,M,O,W,$,Z,B),I.cancelled||!O.input){b=!0;break}}}return b||this.emit(h.POINTER_WHEEL,M,F,W,$,Z),L},processOverEvents:function(M){var L=this._temp,F=0,I=L.length,B=[];if(I>0){var b=this.manager,W=this._eventData,$=this._eventContainer;W.cancelled=!1;for(var Z=!1,D=0;D<I;D++){var O=L[D];if(O.input){if(B.push(O),b.setCursor(O.input),O.emit(h.GAMEOBJECT_POINTER_OVER,M,O.input.localX,O.input.localY,$),F++,W.cancelled||!O.input){Z=!0;break}if(this.emit(h.GAMEOBJECT_OVER,M,O,$),W.cancelled||!O.input){Z=!0;break}}}Z||this.emit(h.POINTER_OVER,M,B)}return this._over[M.id]=B,F},processOutEvents:function(M){var L=this._over[M.id],F=0,I=L.length;if(I>0){var B=this.manager,b=this._eventData,W=this._eventContainer;b.cancelled=!1;var $=!1;this.sortGameObjects(L,M);for(var Z=0;Z<I;Z++){var D=L[Z];if(D=L[Z],!!D.input){if(B.resetCursor(D.input),D.emit(h.GAMEOBJECT_POINTER_OUT,M,W),F++,b.cancelled||!D.input){$=!0;break}if(this.emit(h.GAMEOBJECT_OUT,M,D,W),b.cancelled||!D.input){$=!0;break}$||this.emit(h.POINTER_OUT,M,L)}}this._over[M.id]=[]}return F},processOverOutEvents:function(M){var L=this._temp,F,I,B=[],b=[],W=[],$=this._over[M.id],Z=this._drag[M.id],D=this.manager;for(F=0;F<$.length;F++)I=$[F],L.indexOf(I)===-1&&Z.indexOf(I)===-1?B.push(I):W.push(I);for(F=0;F<L.length;F++)I=L[F],$.indexOf(I)===-1&&b.push(I);var O=B.length,N=0,G=this._eventData,Y=this._eventContainer;G.cancelled=!1;var V=!1;if(O>0){for(this.sortGameObjects(B,M),F=0;F<O;F++)if(I=B[F],!!I.input){if(D.resetCursor(I.input),I.emit(h.GAMEOBJECT_POINTER_OUT,M,Y),N++,G.cancelled||!I.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OUT,M,I,Y),G.cancelled||!I.input){V=!0;break}}V||this.emit(h.POINTER_OUT,M,B)}if(O=b.length,G.cancelled=!1,V=!1,O>0){for(this.sortGameObjects(b,M),F=0;F<O;F++)if(I=b[F],!!I.input){if(D.setCursor(I.input),I.emit(h.GAMEOBJECT_POINTER_OVER,M,I.input.localX,I.input.localY,Y),N++,G.cancelled||!I.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,M,I,Y),G.cancelled||!I.input){V=!0;break}}V||this.emit(h.POINTER_OVER,M,b)}return $=W.concat(b),this._over[M.id]=this.sortGameObjects($,M),N},processUpEvents:function(M){var L=this._temp,F=this._eventData,I=this._eventContainer;F.cancelled=!1;for(var B=!1,b=0;b<L.length;b++){var W=L[b];if(W.input){if(W.emit(h.GAMEOBJECT_POINTER_UP,M,W.input.localX,W.input.localY,I),F.cancelled||!W.input){B=!0;break}if(this.emit(h.GAMEOBJECT_UP,M,W,I),F.cancelled||!W.input){B=!0;break}}}return!B&&this.manager&&(M.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,M,L):this.emit(h.POINTER_UP_OUTSIDE,M)),L.length},queueForInsertion:function(M){return this._pendingInsertion.indexOf(M)===-1&&this._list.indexOf(M)===-1&&this._pendingInsertion.push(M),this},queueForRemoval:function(M){return this._pendingRemoval.push(M),this},setDraggable:function(M,L){L===void 0&&(L=!0),Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var I=M[F];I.input.draggable=L;var B=this._draggable.indexOf(I);L&&B===-1?this._draggable.push(I):!L&&B>-1&&this._draggable.splice(B,1)}return this},makePixelPerfect:function(M){M===void 0&&(M=1);var L=this.systems.textures;return n(L,M)},setHitArea:function(M,L,F){if(L===void 0)return this.setHitAreaFromTexture(M);Array.isArray(M)||(M=[M]);var I=!1,B=!1,b=!1,W=!1,$=!1,Z=!0;if(g(L)){var D=L;L=v(D,"hitArea",null),F=v(D,"hitAreaCallback",null),I=v(D,"draggable",!1),B=v(D,"dropZone",!1),b=v(D,"cursor",!1),W=v(D,"useHandCursor",!1),$=v(D,"pixelPerfect",!1);var O=v(D,"alphaTolerance",1);$&&(L={},F=this.makePixelPerfect(O)),(!L||!F)&&(this.setHitAreaFromTexture(M),Z=!1)}else typeof L=="function"&&!F&&(F=L,L={});for(var N=0;N<M.length;N++){var G=M[N];if($&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var Y=G.input?G.input:a(G,L,F);Y.customHitArea=Z,Y.dropZone=B,Y.cursor=W?"pointer":b,G.input=Y,I&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(M,L,F,I,B){B===void 0&&(B=u);var b=new e(L,F,I);return this.setHitArea(M,b,B)},setHitAreaEllipse:function(M,L,F,I,B,b){b===void 0&&(b=o);var W=new f(L,F,I,B);return this.setHitArea(M,W,b)},setHitAreaFromTexture:function(M,L){L===void 0&&(L=S),Array.isArray(M)||(M=[M]);for(var F=0;F<M.length;F++){var I=M[F],B=I.frame,b=0,W=0;if(I.width?(b=I.width,W=I.height):B&&(b=B.realWidth,W=B.realHeight),I.type==="Container"&&(b===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}b!==0&&W!==0&&(I.input=a(I,new E(0,0,b,W),L),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(M,L,F,I,B,b){b===void 0&&(b=S);var W=new E(L,F,I,B);return this.setHitArea(M,W,b)},setHitAreaTriangle:function(M,L,F,I,B,b,W,$){$===void 0&&($=A);var Z=new P(L,F,I,B,b,W);return this.setHitArea(M,Z,$)},enableDebug:function(M,L){L===void 0&&(L=65280);var F=M.input;if(!F||!F.hitArea)return this;var I=F.hitArea,B=I.type,b=F.hitAreaDebug,W=this.systems.add,$=this.systems.updateList;b&&($.remove(b),b.destroy(),b=null);var Z=0,D=0;switch(B){case c.CIRCLE:b=W.arc(0,0,I.radius),Z=I.x-I.radius,D=I.y-I.radius;break;case c.ELLIPSE:b=W.ellipse(0,0,I.width,I.height),Z=I.x-I.width/2,D=I.y-I.height/2;break;case c.LINE:b=W.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case c.POLYGON:b=W.polygon(0,0,I.points);break;case c.RECTANGLE:b=W.rectangle(0,0,I.width,I.height),Z=I.x,D=I.y;break;case c.TRIANGLE:b=W.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return b&&(b.isFilled=!1,b.preUpdate=function(){b.setStrokeStyle(1/M.scale,L),b.setDisplayOrigin(M.displayOriginX,M.displayOriginY);var O=M.x,N=M.y,G=M.rotation,Y=M.scaleX,V=M.scaleY;if(M.parentContainer){var z=M.getWorldTransformMatrix();O=z.tx,N=z.ty,G=z.rotation,Y=z.scaleX,V=z.scaleY}b.setRotation(G),b.setScale(Y,V),b.setPosition(O+Z,N+D),b.setScrollFactor(M.scrollFactorX,M.scrollFactorY),b.setDepth(M.depth)},$.add(b),F.hitAreaDebug=b),this},removeDebug:function(M){var L=M.input;if(L&&L.hitAreaDebug){var F=L.hitAreaDebug;this.systems.updateList.remove(F),F.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(M){return this.pollRate=M,this._pollTimer=0,this},setGlobalTopOnly:function(M){return this.manager.globalTopOnly=M,this},setTopOnly:function(M){return this.topOnly=M,this},sortGameObjects:function(M,L){if(M.length<2)return M;var F=L.camera.renderList;return M.sort(function(I,B){return F.indexOf(B)-F.indexOf(I)})},sortDropZones:function(M){return M.length<2?M:(this.scene.sys.depthSort(),M.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(M,L){if(!M.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(M);if(M.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-M.parentContainer.getIndex(M);if(M.parentContainer===L)return-1;if(L.parentContainer===M)return 1;for(var F=M.getIndexList(),I=L.getIndexList(),B=Math.min(F.length,I.length),b=0;b<B;b++){var W=F[b],$=I[b];if(W!==$)return $-W}return I.length-F.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(M){return this.manager.addPointer(M)},setDefaultCursor:function(M){return this.manager.setDefaultCursor(M),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var M=0;M<10;M++)this._drag[M]=[],this._over[M]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var F=this.systems.events;F.off(C.TRANSITION_START,this.transitionIn,this),F.off(C.TRANSITION_OUT,this.transitionOut,this),F.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),F.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(h.GAME_OUT,this.onGameOut,this),L.events.off(h.GAME_OVER,this.onGameOver,this),F.off(C.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",R,"input"),l.exports=R},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keycombomatch"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="down"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keydown-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="keyup-"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="up"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),i=t(154),r=t(22),a=t(6),n=t(51),s=t(153),f=t(512),o=t(143),h=t(513),d=t(1331),v=t(20),c=t(76),p=new e({Extends:u,initialize:function(T){u.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(n.BOOT,this.boot,this),T.pluginEvents.on(n.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=a(g,"keyboard",!0);var T=a(g,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(g,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var S={};if(typeof g=="string"){g=g.split(",");for(var C=0;C<g.length;C++){var P=g[C].trim();P&&(S[P]=this.addKey(P,T,E))}}else for(var A in g)S[A]=this.addKey(g[A],T,E);return S},addKey:function(g,T,E){T===void 0&&(T=!0),E===void 0&&(E=!1);var S=this.keys;if(g instanceof f){var C=S.indexOf(g);return C>-1?S[C]=g:S[g.keyCode]=g,T&&this.addCapture(g.keyCode),g.setEmitOnRepeat(E),g}return typeof g=="string"&&(g=o[g.toUpperCase()]),S[g]||(S[g]=new f(this,g),T&&this.addCapture(g),S[g].setEmitOnRepeat(E)),S[g]},removeKey:function(g,T){T===void 0&&(T=!1);var E=this.keys,S;if(g instanceof f){var C=E.indexOf(g);C>-1&&(S=this.keys[C],this.keys[C]=void 0)}else typeof g=="string"&&(g=o[g.toUpperCase()]);return E[g]&&(S=E[g],E[g]=void 0),S&&(S.plugin=null,T&&S.destroy()),this},removeAllKeys:function(g){for(var T=this.keys,E=0;E<T.length;E++){var S=T[E];S&&(T[E]=void 0,g&&S.destroy())}return this},createCombo:function(g,T){return new h(this,g,T)},checkDown:function(g,T){if(T===void 0&&(T=0),this.enabled&&g.isDown){var E=c(this.time-g.timeDown,T);if(E>g._tick)return g._tick=E,!0}return!1},update:function(){var g=this.manager.queue,T=g.length;if(!(!this.isActive()||T===0))for(var E=this.keys,S=0;S<T;S++){var C=g[S],P=C.keyCode,A=E[P],R=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(P===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=P,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(A&&(R=A.isDown,A.onDown(C)),!C.cancelled&&(!A||!R)&&(d[P]&&this.emit(i.KEY_DOWN+d[P],C),C.cancelled||this.emit(i.ANY_KEY_DOWN,C))):(A&&A.onUp(C),C.cancelled||(d[P]&&this.emit(i.KEY_UP+d[P],C),C.cancelled||this.emit(i.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,T=0;T<g.length;T++)g[T]&&g[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,T=0;T<g.length;T++)g[T]&&g[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),u={};for(var i in e)u[e[i]]=i;l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=50);var i=e.plugin.game.loop.time-e.timeDown;return e.isDown&&i<u};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=50);var i=e.plugin.game.loop.time-e.timeUp;return e.isUp&&i<u};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={MouseManager:t(411)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={TouchManager:t(413)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),u=t(17),i={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(61),r=t(95),a=new e({Extends:i,initialize:function(s,f,o,h,d){i.call(this,s,f,o,h,d),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),i.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});u.register("animation",function(n,s,f,o){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new a(this,n[h]));else this.addFile(new a(this,n,s,o,f));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),f=new e({Extends:s,initialize:function(h,d,v,c,p,g){var T,E;if(a(d)){var S=d;d=i(S,"key"),T=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new n(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","json"),xhrSettings:i(S,"atlasXhrSettings")})}else T=new r(h,d,v,p),E=new n(h,d,c,g);T.linkFile?s.call(this,h,"atlasjson",d,[T,E,T.linkFile]):s.call(this,h,"atlasjson",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,h.data,d),h.addToCache(),this.complete=!0}}});u.register("aseprite",function(o,h,d,v,c){var p;if(Array.isArray(o))for(var g=0;g<o.length;g++)p=new f(this,o[g]),this.addFile(p.files);else p=new f(this,o,h,d,v,c),this.addFile(p.files);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),f=new e({Extends:s,initialize:function(h,d,v,c,p,g){var T,E;if(a(d)){var S=d;d=i(S,"key"),T=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new n(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","json"),xhrSettings:i(S,"atlasXhrSettings")})}else T=new r(h,d,v,p),E=new n(h,d,c,g);T.linkFile?s.call(this,h,"atlasjson",d,[T,E,T.linkFile]):s.call(this,h,"atlasjson",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});u.register("atlas",function(o,h,d,v,c){var p;if(Array.isArray(o))for(var g=0;g<o.length;g++)p=new f(this,o[g]),this.addFile(p.files);else p=new f(this,o,h,d,v,c),this.addFile(p.files);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(241),f=new e({Extends:n,initialize:function(h,d,v,c,p,g){var T,E;if(a(d)){var S=d;d=i(S,"key"),T=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new s(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","xml"),xhrSettings:i(S,"atlasXhrSettings")})}else T=new r(h,d,v,p),E=new s(h,d,c,g);T.linkFile?n.call(this,h,"atlasxml",d,[T,E,T.linkFile]):n.call(this,h,"atlasxml",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});u.register("atlasXML",function(o,h,d,v,c){var p;if(Array.isArray(o))for(var g=0;g<o.length;g++)p=new f(this,o[g]),this.addFile(p.files);else p=new f(this,o,h,d,v,c),this.addFile(p.files);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),u=t(0),i=t(8),r=t(2),a=t(7),n=t(61),s=t(49),f=new u({Extends:s,initialize:function(h,d,v,c,p,g,T){if(a(d)){var E=d;d=r(E,"key"),v=r(E,"jsonURL"),c=r(E,"audioURL"),p=r(E,"audioConfig"),g=r(E,"audioXhrSettings"),T=r(E,"jsonXhrSettings")}var S;if(!c)S=new n(h,d,v,T),s.call(this,h,"audiosprite",d,[S]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=g;else{var C=e.create(h,d,c,p,g);C&&(S=new n(h,d,v,T),s.call(this,h,"audiosprite",d,[C,S]),this.config.resourceLoad=!1)}},onFileComplete:function(o){var h=this.files.indexOf(o);if(h!==-1&&(this.pending--,this.config.resourceLoad&&o.type==="json"&&o.data.hasOwnProperty("resources"))){var d=o.data.resources,v=r(this.config,"audioConfig"),c=r(this.config,"audioXhrSettings"),p=e.create(this.loader,o.key,d,v,c);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1];o.addToCache(),h.addToCache(),this.complete=!0}}});i.register("audioSprite",function(o,h,d,v,c,p){var g=this.systems.game,T=g.config.audio,E=g.device.audio;if(T&&T.noAudio||!E.webAudio&&!E.audioData)return this;var S;if(Array.isArray(o))for(var C=0;C<o.length;C++)S=new f(this,o[C]),S.files&&this.addFile(S.files);else S=new f(this,o,h,d,v,c,p),S.files&&this.addFile(S.files);return this})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c){var p="bin";if(n(h)){var g=h;h=a(g,"key"),d=a(g,"url"),v=a(g,"xhrSettings"),p=a(g,"extension",p),c=a(g,"dataType",c)}var T={type:"binary",cache:o.cacheManager.binary,extension:p,responseType:"arraybuffer",key:h,url:d,xhrSettings:v,config:{dataType:c}};i.call(this,o,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(f,o,h,d){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new s(this,f[v]));else this.addFile(new s(this,f,o,d,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(212),f=t(241),o=new e({Extends:n,initialize:function(d,v,c,p,g,T){var E,S;if(a(v)){var C=v;v=i(C,"key"),E=new r(d,{key:v,url:i(C,"textureURL"),extension:i(C,"textureExtension","png"),normalMap:i(C,"normalMap"),xhrSettings:i(C,"textureXhrSettings")}),S=new f(d,{key:v,url:i(C,"fontDataURL"),extension:i(C,"fontDataExtension","xml"),xhrSettings:i(C,"fontDataXhrSettings")})}else E=new r(d,v,c,g),S=new f(d,v,p,T);E.linkFile?n.call(this,d,"bitmapfont",v,[E,S,E.linkFile]):n.call(this,d,"bitmapfont",v,[E,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],d=this.files[1];h.addToCache(),d.pendingDestroy();var v=h.cache.get(h.key),c=s(d.data,h.cache.getFrame(h.key),0,0,v);this.loader.cacheManager.bitmapFont.add(h.key,{data:c,texture:h.key,frame:null}),this.complete=!0}}});u.register("bitmapFont",function(h,d,v,c,p){var g;if(Array.isArray(h))for(var T=0;T<h.length;T++)g=new o(this,h[T]),this.addFile(g.files);else g=new o(this,h,d,v,c,p),this.addFile(g.files);return this}),l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="css";if(n(h)){var p=h;h=a(p,"key"),d=a(p,"url"),v=a(p,"xhrSettings"),c=a(p,"extension",c)}var g={type:"script",cache:!1,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(396),f=new e({Extends:i,initialize:function(h,d,v,c,p){var g="glsl";if(n(d)){var T=d;d=a(T,"key"),v=a(T,"url"),c=a(T,"shaderType","fragment"),p=a(T,"xhrSettings"),g=a(T,"extension",g)}else c===void 0&&(c="fragment");var E={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:d,url:v,config:{shaderType:c},xhrSettings:p};i.call(this,h,E)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o=this.data.split(`
`),h=this.extractBlock(o,0);if(h)for(;h;){var d=this.getShaderName(h.header),v=this.getShaderType(h.header),c=this.getShaderUniforms(h.header),p=h.shader;if(this.cache.has(d)){var g=this.cache.get(d);v==="fragment"?g.fragmentSrc=p:g.vertexSrc=p,g.uniforms||(g.uniforms=c)}else v==="fragment"?this.cache.add(d,new s(d,p,"",c)):this.cache.add(d,new s(d,"",p,c));h=this.extractBlock(o,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(o){for(var h=0;h<o.length;h++){var d=o[h].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(o){for(var h=0;h<o.length;h++){var d=o[h].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(o){for(var h={},d=0;d<o.length;d++){var v=o[d].trim();if(v.substring(0,8)==="uniform."){var c=v.indexOf(":");if(c){var p=v.substring(8,c);try{h[p]=JSON.parse(v.substring(c+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return h},extractBlock:function(o,h){for(var d=-1,v=-1,c=-1,p=!1,g=!1,T=[],E=[],S=h;S<o.length;S++){var C=o[S].trim();if(C==="---")if(d===-1)d=S,p=!0;else if(p)v=S,p=!1,g=!0;else{g=!1;break}else p?T.push(C):g&&(E.push(C),c=S)}return!p&&v!==-1?{header:T,shader:E.join(`
`),offset:c}:null}});r.register("glsl",function(o,h,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new f(this,o[c]));else this.addFile(new f(this,o,h,d,v));return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="html";if(n(h)){var p=h;h=a(p,"key"),d=a(p,"url"),v=a(p,"xhrSettings"),c=a(p,"extension",c)}var g={type:"text",cache:o.cacheManager.html,extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,p){v===void 0&&(v=512),c===void 0&&(c=512);var g="html";if(n(h)){var T=h;h=a(T,"key"),d=a(T,"url"),p=a(T,"xhrSettings"),g=a(T,"extension",g),v=a(T,"width",v),c=a(T,"height",c)}var E={type:"html",cache:o.textureManager,extension:g,responseType:"text",key:h,url:d,xhrSettings:p,config:{width:v,height:c}};i.call(this,o,E)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.config.width,o=this.config.height,h=[];h.push('<svg width="'+f+'px" height="'+o+'px" viewBox="0 0 '+f+" "+o+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var d=[h.join(`
`)],v=this;try{var c=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=u.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){i.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(v.data),v.onProcessError()},i.createObjectURL(this.data,c,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});r.register("htmlTexture",function(f,o,h,d,v){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(61),s=t(49),f=new e({Extends:s,initialize:function(h,d,v,c,p,g,T){if(a(d)){var E=d;d=i(E,"key"),i(E,"url",!1)?v=i(E,"url"):v=i(E,"atlasURL"),g=i(E,"xhrSettings"),c=i(E,"path"),p=i(E,"baseURL"),T=i(E,"textureXhrSettings")}var S=new n(h,d,v,g);s.call(this,h,"multiatlas",d,[S]),this.config.path=c,this.config.baseURL=p,this.config.textureXhrSettings=T},onFileComplete:function(o){var h=this.files.indexOf(o);if(h!==-1&&(this.pending--,o.type==="json"&&o.data.hasOwnProperty("textures"))){var d=o.data.textures,v=this.config,c=this.loader,p=c.baseURL,g=c.path,T=c.prefix,E=i(v,"baseURL",this.baseURL),S=i(v,"path",this.path),C=i(v,"prefix",this.prefix),P=i(v,"textureXhrSettings");c.setBaseURL(E),c.setPath(S),c.setPrefix(C);for(var A=0;A<d.length;A++){var R=d[A].image,M="MA"+this.multiKeyIndex+"_"+R,L=new r(c,M,R,P);if(this.addToMultiFile(L),c.addFile(L),d[A].normalMap){var F=new r(c,M,d[A].normalMap,P);F.type="normalMap",L.setLink(F),this.addToMultiFile(F),c.addFile(F)}}c.setBaseURL(p),c.setPath(g),c.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var o=this.files[0],h=[],d=[],v=[],c=1;c<this.files.length;c++){var p=this.files[c];if(p.type!=="normalMap")for(var g=p.key.indexOf("_"),T=p.key.substr(g+1),E=p.data,S=0;S<o.data.textures.length;S++){var C=o.data.textures[S];if(C.image===T){d.push(E),h.push(C),p.linkFile&&v.push(p.linkFile.data);break}}}for(v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,h,v),this.complete=!0,c=0;c<this.files.length;c++)this.files[c].pendingDestroy()}}});u.register("multiatlas",function(o,h,d,v,c){var p;if(Array.isArray(o))for(var g=0;g<o.length;g++)p=new f(this,o[g]),this.addFile(p.files);else p=new f(this,o,h,d,v,c),this.addFile(p.files);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(7),a=t(49),n=t(520),s=new e({Extends:a,initialize:function(o,h,d,v){var c="js",p=[];if(r(h)){var g=h;h=i(g,"key"),d=i(g,"url"),v=i(g,"xhrSettings"),c=i(g,"extension",c)}Array.isArray(d)||(d=[d]);for(var T=0;T<d.length;T++){var E=new n(o,{key:h+"_"+T.toString(),url:d[T],extension:c,xhrSettings:v});E.onProcess=function(){this.onProcessComplete()},p.push(E)}a.call(this,o,"scripts",h,p)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var o=this.files[f];o.data=document.createElement("script"),o.data.language="javascript",o.data.type="text/javascript",o.data.defer=!1,o.data.text=o.xhrLoader.responseText,document.head.appendChild(o.data)}this.complete=!0}}});u.register("scripts",function(f,o,h){var d;if(Array.isArray(f))for(var v=0;v<f.length;v++)d=new s(this,f[v]),this.addFile(d.files);else d=new s(this,f,o,h),this.addFile(d.files);return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(7),a=t(49),n=t(498),s=t(499),f=t(242),o=new e({Extends:a,initialize:function(d,v,c,p,g,T){var E,S,C=d.cacheManager.obj;if(r(v)){var P=v;v=i(P,"key"),E=new f(d,{key:v,type:"obj",cache:C,url:i(P,"url"),extension:i(P,"extension","obj"),xhrSettings:i(P,"xhrSettings"),config:{flipUV:i(P,"flipUV",g)}}),p=i(P,"matURL"),p&&(S=new f(d,{key:v,type:"mat",cache:C,url:p,extension:i(P,"matExtension","mat"),xhrSettings:i(P,"xhrSettings")}))}else E=new f(d,{key:v,url:c,type:"obj",cache:C,extension:"obj",xhrSettings:T,config:{flipUV:g}}),p&&(S=new f(d,{key:v,url:p,type:"mat",cache:C,extension:"mat",xhrSettings:T}));a.call(this,d,"obj",v,[E,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],d=this.files[1],v=n(h.data,h.config.flipUV);d&&(v.materials=s(d.data)),h.cache.add(h.key,v),this.complete=!0}}});u.register("obj",function(h,d,v,c,p){var g;if(Array.isArray(h))for(var T=0;T<h.length;T++)g=new o(this,h[T]),this.addFile(g.files);else g=new o(this,h,d,v,c,p),this.addFile(g.files);return this}),l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(8),r=t(61),a=new e({Extends:r,initialize:function(s,f,o,h,d){r.call(this,s,f,o,h,d),this.type="packfile"},onProcess:function(){this.state!==u.FILE_POPULATED&&(this.state=u.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});i.register("pack",function(n,s,f,o){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new a(this,n[h]));else this.addFile(new a(this,n,s,o,f));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,p){var g="js";if(n(h)){var T=h;h=a(T,"key"),d=a(T,"url"),p=a(T,"xhrSettings"),g=a(T,"extension",g),v=a(T,"start"),c=a(T,"mapping")}var E={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:d,xhrSettings:p,config:{start:v,mapping:c}};i.call(this,o,E),typeof d=="function"&&(this.data=d,this.state=u.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,o=this.config,h=a(o,"start",!1),d=a(o,"mapping",null);if(this.state===u.FILE_POPULATED)f.install(this.key,this.data,h,d);else{this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=f.install(this.key,window[this.key],h,d);(h||d)&&(this.loader.systems[d]=v,this.loader.scene[d]=v)}this.onProcessComplete()}});r.register("plugin",function(f,o,h,d,v){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v){var c="js";if(n(h)){var p=h;h=a(p,"key"),d=a(p,"url"),v=a(p,"xhrSettings"),c=a(p,"extension",c)}var g={type:"text",extension:c,responseType:"text",key:h,url:d,xhrSettings:v};i.call(this,o,g)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),o=eval;this.loader.sceneManager.add(this.key,o(f)),this.complete=!0}});r.register("sceneFile",function(f,o,h){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,o,h));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c,p){var g="js";if(n(h)){var T=h;h=a(T,"key"),d=a(T,"url"),p=a(T,"xhrSettings"),g=a(T,"extension",g),v=a(T,"systemKey"),c=a(T,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:d,xhrSettings:p,config:{systemKey:v,sceneKey:c}};i.call(this,o,E),typeof d=="function"&&(this.data=d,this.state=u.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,o=this.config,h=this.key,d=a(o,"systemKey",h),v=a(o,"sceneKey",h);this.state===u.FILE_POPULATED?f.installScenePlugin(d,this.data,v,this.loader.scene,!0):(this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(d,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(f,o,h,d,v){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,o,h,d,v));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(71),r=new e({Extends:i,initialize:function(n,s,f,o,h){i.call(this,n,s,f,h,o),this.type="spritesheet"},addToCache:function(){var a=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(a)}});u.register("spritesheet",function(a,n,s,f){if(Array.isArray(a))for(var o=0;o<a.length;o++)this.addFile(new r(this,a[o]));else this.addFile(new r(this,a,n,s,f));return this}),l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=new e({Extends:i,initialize:function(o,h,d,v,c){var p="svg";if(n(h)){var g=h;h=a(g,"key"),d=a(g,"url"),v=a(g,"svgConfig",{}),c=a(g,"xhrSettings"),p=a(g,"extension",p)}var T={type:"svg",cache:o.textureManager,extension:p,responseType:"text",key:h,url:d,xhrSettings:c,config:{width:a(v,"width"),height:a(v,"height"),scale:a(v,"scale")}};i.call(this,o,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.xhrLoader.responseText,o=[f],h=this.config.width,d=this.config.height,v=this.config.scale;t:if(h&&d||v){var c=null,p=new DOMParser;c=p.parseFromString(f,"text/xml");var g=c.getElementsByTagName("svg")[0],T=g.hasAttribute("viewBox"),E=parseFloat(g.getAttribute("width")),S=parseFloat(g.getAttribute("height"));if(!T&&E&&S)g.setAttribute("viewBox","0  0 "+E+" "+S);else if(T&&!E&&!S){var C=g.getAttribute("viewBox").split(/\s+|,/);E=C[2],S=C[3]}if(v)if(E&&S)h=E*v,d=S*v;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",d.toString()+"px"),o=[new XMLSerializer().serializeToString(g)]}try{var P=new window.Blob(o,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,R=!1;this.data.onload=function(){R||i.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){R?A.onProcessError():(R=!0,i.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(o.join("")))},i.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});r.register("svg",function(f,o,h,d){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new s(this,f[v]));else this.addFile(new s(this,f,o,h,d));return this}),l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(2),n=t(7),s=t(40),f=new e({Extends:i,initialize:function(h,d,v,c){var p="csv";if(n(d)){var g=d;d=a(g,"key"),v=a(g,"url"),c=a(g,"xhrSettings"),p=a(g,"extension",p)}var T={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:p,responseType:"text",key:d,url:v,xhrSettings:c};i.call(this,h,T),this.tilemapFormat=s.CSV},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var o={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,o),this.pendingDestroy(o)}});r.register("tilemapCSV",function(o,h,d){if(Array.isArray(o))for(var v=0;v<o.length;v++)this.addFile(new f(this,o[v]));else this.addFile(new f(this,o,h,d));return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(61),r=t(40),a=new e({Extends:i,initialize:function(s,f,o,h){i.call(this,s,f,o,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var n={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});u.register("tilemapImpact",function(n,s,f){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new a(this,n[o]));else this.addFile(new a(this,n,s,f));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(61),r=t(40),a=new e({Extends:i,initialize:function(s,f,o,h){i.call(this,s,f,o,h),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var n={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});u.register("tilemapTiledJSON",function(n,s,f){if(Array.isArray(n))for(var o=0;o<n.length;o++)this.addFile(new a(this,n[o]));else this.addFile(new a(this,n,s,f));return this}),l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),i=t(2),r=t(71),a=t(7),n=t(49),s=t(242),f=new e({Extends:n,initialize:function(h,d,v,c,p,g){var T,E;if(a(d)){var S=d;d=i(S,"key"),T=new r(h,{key:d,url:i(S,"textureURL"),extension:i(S,"textureExtension","png"),normalMap:i(S,"normalMap"),xhrSettings:i(S,"textureXhrSettings")}),E=new s(h,{key:d,url:i(S,"atlasURL"),extension:i(S,"atlasExtension","txt"),xhrSettings:i(S,"atlasXhrSettings")})}else T=new r(h,d,v,p),E=new s(h,d,c,g);T.linkFile?n.call(this,h,"unityatlas",d,[T,E,T.linkFile]):n.call(this,h,"unityatlas",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],h=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(o.key,o.data,h.data,d),h.pendingDestroy(),this.complete=!0}}});u.register("unityAtlas",function(o,h,d,v,c){var p;if(Array.isArray(o))for(var g=0;g<o.length;g++)p=new f(this,o[g]),this.addFile(p.files);else p=new f(this,o,h,d,v,c),this.addFile(p.files);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(23),r=t(8),a=t(155),n=t(2),s=t(7),f=new e({Extends:i,initialize:function(h,d,v,c,p,g,T){c===void 0&&(c="loadeddata"),p===void 0&&(p=!1),g===void 0&&(g=!1),c!=="loadeddata"&&c!=="canplay"&&c!=="canplaythrough"&&(c="loadeddata");var E={type:"video",cache:h.cacheManager.video,extension:v.type,responseType:"blob",key:d,url:v.url,xhrSettings:T,config:{loadEvent:c,asBlob:p,noAudio:g}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),i.call(this,h,E)},onProcess:function(){if(this.state=u.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var o=this.createVideoElement();this.data=o;var h=this;this.data.onloadeddata=function(){h.onProcessComplete()},this.data.onerror=function(){i.revokeObjectURL(h.data),h.onProcessError()},i.createObjectURL(o,this.xhrLoader.response,""),o.load()},createVideoElement:function(){var o=document.createElement("video");return o.controls=!1,o.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(o.muted=!0,o.defaultMuted=!0,o.setAttribute("autoplay","autoplay")),o.setAttribute("playsinline","playsinline"),o.setAttribute("preload","auto"),o},onVideoLoadHandler:function(o){var h=o.target;h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0),this.data=h,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(o){var h=o.target;h&&(h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var o=this.config.loadEvent;if(this.config.asBlob)i.prototype.load.call(this);else{this.percentComplete=0;var h=this.createVideoElement();h.addEventListener(o,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=a(this,this.loader.baseURL),h.load()}}});f.create=function(o,h,d,v,c,p,g){var T=o.systems.game;s(h)&&(d=n(h,"url",[]),v=n(h,"loadEvent","loadeddata"),c=n(h,"asBlob",!1),p=n(h,"noAudio",!1),g=n(h,"xhrSettings"),h=n(h,"key"));var E=f.getVideoURL(T,d);if(E)return new f(o,h,E,v,c,p,g)},f.getVideoURL=function(o,h){Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;d++){var v=n(h[d],"url",h[d]);if(v.indexOf("blob:")===0)return{url:v,type:""};var c;if(v.indexOf("data:")===0?c=v.split(",")[0].match(/\/(.*?);/):c=v.match(/\.([a-zA-Z0-9]+)($|\?)/),c=n(h[d],"type",c?c[1]:"").toLowerCase(),o.device.video[c])return{url:v,type:c}}return null},r.register("video",function(o,h,d,v,c,p){var g;if(Array.isArray(o))for(var T=0;T<o.length;T++)g=f.create(this,o[T]),g&&this.addFile(g);else g=f.create(this,o,h,d,v,c,p),g&&this.addFile(g);return this}),l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),i=t(149),r=t(9),a=t(95),n=t(8),s=t(2),f=t(24),o=t(20),h=t(156),d=new e({Extends:r,initialize:function(c){r.call(this);var p=c.sys.game.config,g=c.sys.settings.loader;this.scene=c,this.systems=c.sys,this.cacheManager=c.sys.cache,this.textureManager=c.sys.textures,this.sceneManager=c.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(g,"baseURL",p.loaderBaseURL)),this.setPath(s(g,"path",p.loaderPath)),this.setPrefix(s(g,"prefix",p.loaderPrefix)),this.maxParallelDownloads=s(g,"maxParallelDownloads",p.loaderMaxParallelDownloads),this.xhr=h(s(g,"responseType",p.loaderResponseType),s(g,"async",p.loaderAsync),s(g,"user",p.loaderUser),s(g,"password",p.loaderPassword),s(g,"timeout",p.loaderTimeout),s(g,"withCredentials",p.loaderWithCredentials)),this.crossOrigin=s(g,"crossOrigin",p.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new i,this.inflight=new i,this.queue=new i,this._deleteQueue=new i,this.totalFailed=0,this.totalComplete=0,this.state=u.LOADER_IDLE,this.multiKeyIndex=0,c.sys.events.once(o.BOOT,this.boot,this),c.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var c=0;c<v.length;c++){var p=v[c];this.keyExists(p)||(this.list.set(p),this.emit(a.ADD,p.key,p.type,this,p),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var c=v.hasCacheConflict();return c||this.list.iterate(function(p){if(p.type===v.type&&p.key===v.key)return c=!0,!1}),!c&&this.isLoading()&&(this.inflight.iterate(function(p){if(p.type===v.type&&p.key===v.key)return c=!0,!1}),this.queue.iterate(function(p){if(p.type===v.type&&p.key===v.key)return c=!0,!1})),c},addPack:function(v,c){c&&v.hasOwnProperty(c)&&(v={packKey:v[c]});var p=0,g=this.baseURL,T=this.path,E=this.prefix;for(var S in v)if(Object.prototype.hasOwnProperty.call(v,S)){var C=v[S],P=s(C,"baseURL",g),A=s(C,"path",T),R=s(C,"prefix",E),M=s(C,"files",null),L=s(C,"defaultType","void");if(Array.isArray(M)){this.setBaseURL(P),this.setPath(A),this.setPrefix(R);for(var F=0;F<M.length;F++){var I=M[F],B=I.hasOwnProperty("type")?I.type:L;this[B]&&(this[B](I),p++)}}}return this.setBaseURL(g),this.setPath(T),this.setPrefix(E),p>0},isLoading:function(){return this.state===u.LOADER_LOADING||this.state===u.LOADER_PROCESSING},isReady:function(){return this.state===u.LOADER_IDLE||this.state===u.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=u.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===u.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===u.FILE_POPULATED||v.state===u.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,c){this.inflight&&(this.inflight.delete(v),this.updateProgress(),c?(this.totalComplete++,this.queue.set(v),this.emit(a.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(a.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===u.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===u.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=u.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,c){return this.save(JSON.stringify(v),c)},save:function(v,c,p){c===void 0&&(c="file.json"),p===void 0&&(p="application/json");var g=new Blob([v],{type:p}),T=URL.createObjectURL(g),E=document.createElement("a");return E.download=c,E.textContent="Download "+c,E.href=T,E.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,c=this.systems.settings.loader;this.setBaseURL(s(c,"baseURL",v.loaderBaseURL)),this.setPath(s(c,"path",v.loaderPath)),this.setPrefix(s(c,"prefix",v.loaderPrefix)),this.state=u.LOADER_IDLE},shutdown:function(){this.reset(),this.state=u.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=u.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});f.register("Loader",d,"load"),l.exports=d},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=t(17),i={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),i=t(50),r=t(353),a=t(521),n=t(2),s=t(127),f=t(523),o=t(244),h=t(24),d=t(20),v=t(3),c=t(526),p=new e({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,T.sys.events.once(d.BOOT,this.boot,this),T.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new c(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new c(this.scene,this.config),this.add=new a(this.world));var g=this.systems.events;n(this.config,"customUpdate",!1)||g.on(d.UPDATE,this.world.update,this.world),g.on(d.POST_UPDATE,this.world.postUpdate,this.world),g.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,T=this.systems.settings.physics,E=s(n(T,"arcade",{}),n(g,"arcade",{}));return E},overlap:function(g,T,E,S,C){return E===void 0&&(E=null),S===void 0&&(S=null),C===void 0&&(C=E),this.world.collideObjects(g,T,E,S,C,!0)},collide:function(g,T,E,S,C){return E===void 0&&(E=null),S===void 0&&(S=null),C===void 0&&(C=E),this.world.collideObjects(g,T,E,S,C,!1)},collideTiles:function(g,T,E,S,C){return this.world.collideTiles(g,T,E,S,C)},overlapTiles:function(g,T,E,S,C){return this.world.overlapTiles(g,T,E,S,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,T,E,S,C,P){S===void 0&&(S=60);var A=Math.atan2(E-g.y,T-g.x);return g.body.acceleration.setToPolar(A,S),C!==void 0&&P!==void 0&&g.body.maxVelocity.set(C,P),A},accelerateToObject:function(g,T,E,S,C){return this.accelerateTo(g,T.x,T.y,E,S,C)},closest:function(g,T){T||(T=this.world.bodies.entries);for(var E=Number.MAX_VALUE,S=null,C=g.x,P=g.y,A=T.length,R=0;R<A;R++){var M=T[R],L=M.body||M;if(!(g===M||g===L||g===L.gameObject||g===L.center)){var F=r(C,P,L.center.x,L.center.y);F<E&&(S=M,E=F)}}return S},furthest:function(g,T){T||(T=this.world.bodies.entries);for(var E=-1,S=null,C=g.x,P=g.y,A=T.length,R=0;R<A;R++){var M=T[R],L=M.body||M;if(!(g===M||g===L||g===L.gameObject||g===L.center)){var F=r(C,P,L.center.x,L.center.y);F>E&&(S=M,E=F)}}return S},moveTo:function(g,T,E,S,C){S===void 0&&(S=60),C===void 0&&(C=0);var P=Math.atan2(E-g.y,T-g.x);return C>0&&(S=i(g.x,g.y,T,E)/(C/1e3)),g.body.velocity.setToPolar(P,S),P},moveToObject:function(g,T,E,S){return this.moveTo(g,T.x,T.y,E,S)},velocityFromAngle:function(g,T,E){return T===void 0&&(T=60),E===void 0&&(E=new v),E.setToPolar(u(g),T)},velocityFromRotation:function(g,T,E){return T===void 0&&(T=60),E===void 0&&(E=new v),E.setToPolar(g,T)},overlapRect:function(g,T,E,S,C,P){return o(this.world,g,T,E,S,C,P)},overlapCirc:function(g,T,E,S,C){return f(this.world,g,T,E,S,C)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(d.UPDATE,this.world.update,this.world),g.off(d.POST_UPDATE,this.world.postUpdate,this.world),g.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",p,"arcadePhysics"),l.exports=p},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,i){return this.body.setCollideWorldBounds(e,u,i),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,u,i){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=i,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,u,i,r,a){return e&&this.body.reset(u,i),r&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,i){return this.body.setSize(e,u,i),this},setBodySize:function(e,u,i){return this.body.setSize(e,u,i),this},setCircle:function(e,u,i){return this.body.setCircle(e,u,i),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collide"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="overlap"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tilecollide"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="tileoverlap"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldbounds"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="worldstep"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,u,i,r,a,n,s,f,o,h,d,v,c,p,g,T,E=function(M,L,F){t=M,e=L;var I=t.velocity.x,B=e.velocity.x;return u=t.pushable,f=t._dx<0,o=t._dx>0,h=t._dx===0,p=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),n=B-I*t.bounce.x,i=e.pushable,d=e._dx<0,v=e._dx>0,c=e._dx===0,g=!p,s=I-B*e.bounce.x,T=Math.abs(F),S()},S=function(){return o&&p&&e.blocked.right?(t.processX(-T,n,!1,!0),1):f&&g&&e.blocked.left?(t.processX(T,n,!0),1):v&&g&&t.blocked.right?(e.processX(-T,s,!1,!0),2):d&&p&&t.blocked.left?(e.processX(T,s,!0),2):0},C=function(){var M=t.velocity.x,L=e.velocity.x,F=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),B=(F+I)*.5;return F-=B,I-=B,r=B+F*t.bounce.x,a=B+I*e.bounce.x,f&&g?P(0):d&&p?P(1):o&&p?P(2):v&&g?P(3):!1},P=function(M){if(u&&i)T*=.5,M===0||M===3?(t.processX(T,r),e.processX(-T,a)):(t.processX(-T,r),e.processX(T,a));else if(u&&!i)M===0||M===3?t.processX(T,n,!0):t.processX(-T,n,!1,!0);else if(!u&&i)M===0||M===3?e.processX(-T,s,!1,!0):e.processX(T,s,!0);else{var L=T*.5;M===0?c?(t.processX(T,0,!0),e.processX(0,null,!1,!0)):v?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.x,!0),e.processX(-L,null,!1,!0)):M===1?h?(t.processX(0,null,!1,!0),e.processX(T,0,!0)):o?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,null,!1,!0),e.processX(L,t.velocity.x,!0)):M===2?c?(t.processX(-T,0,!1,!0),e.processX(0,null,!0)):d?(t.processX(-L,0,!1,!0),e.processX(L,0,!0)):(t.processX(-L,e.velocity.x,!1,!0),e.processX(L,null,!0)):M===3&&(h?(t.processX(0,null,!0),e.processX(-T,0,!1,!0)):f?(t.processX(L,0,!0),e.processX(-L,0,!1,!0)):(t.processX(L,e.velocity.y,!0),e.processX(-L,null,!1,!0)))}return!0},A=function(M){M===1?e.velocity.x=0:p?e.processX(T,s,!0):e.processX(-T,s,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},R=function(M){M===2?t.velocity.x=0:g?t.processX(T,n,!0):t.processX(-T,n,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};l.exports={BlockCheck:S,Check:C,Set:E,Run:P,RunImmovableBody1:A,RunImmovableBody2:R}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,u,i,r,a,n,s,f,o,h,d,v,c,p,g,T,E=function(M,L,F){t=M,e=L;var I=t.velocity.y,B=e.velocity.y;return u=t.pushable,f=t._dy<0,o=t._dy>0,h=t._dy===0,p=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),n=B-I*t.bounce.y,i=e.pushable,d=e._dy<0,v=e._dy>0,c=e._dy===0,g=!p,s=I-B*e.bounce.y,T=Math.abs(F),S()},S=function(){return o&&p&&e.blocked.down?(t.processY(-T,n,!1,!0),1):f&&g&&e.blocked.up?(t.processY(T,n,!0),1):v&&g&&t.blocked.down?(e.processY(-T,s,!1,!0),2):d&&p&&t.blocked.up?(e.processY(T,s,!0),2):0},C=function(){var M=t.velocity.y,L=e.velocity.y,F=Math.sqrt(L*L*e.mass/t.mass)*(L>0?1:-1),I=Math.sqrt(M*M*t.mass/e.mass)*(M>0?1:-1),B=(F+I)*.5;return F-=B,I-=B,r=B+F*t.bounce.y,a=B+I*e.bounce.y,f&&g?P(0):d&&p?P(1):o&&p?P(2):v&&g?P(3):!1},P=function(M){if(u&&i)T*=.5,M===0||M===3?(t.processY(T,r),e.processY(-T,a)):(t.processY(-T,r),e.processY(T,a));else if(u&&!i)M===0||M===3?t.processY(T,n,!0):t.processY(-T,n,!1,!0);else if(!u&&i)M===0||M===3?e.processY(-T,s,!1,!0):e.processY(T,s,!0);else{var L=T*.5;M===0?c?(t.processY(T,0,!0),e.processY(0,null,!1,!0)):v?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)):M===1?h?(t.processY(0,null,!1,!0),e.processY(T,0,!0)):o?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,null,!1,!0),e.processY(L,t.velocity.y,!0)):M===2?c?(t.processY(-T,0,!1,!0),e.processY(0,null,!0)):d?(t.processY(-L,0,!1,!0),e.processY(L,0,!0)):(t.processY(-L,e.velocity.y,!1,!0),e.processY(L,null,!0)):M===3&&(h?(t.processY(0,null,!0),e.processY(-T,0,!1,!0)):f?(t.processY(L,0,!0),e.processY(-L,0,!1,!0)):(t.processY(L,e.velocity.y,!0),e.processY(-L,null,!1,!0)))}return!0},A=function(M){M===1?e.velocity.y=0:p?e.processY(T,s,!0):e.processY(-T,s,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},R=function(M){M===2?t.velocity.y=0:g?t.processY(T,n,!0):t.processY(-T,n,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};l.exports={BlockCheck:S,Check:C,Set:E,Run:P,RunImmovableBody1:A,RunImmovableBody2:R}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),i=new e({initialize:function(){this.boundsCenter=new u,this.centerDiff=new u},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,n=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,f=r.bounds.max.y-r.bounds.min.y,o=s*r.centerOfMass.x,h=f*r.centerOfMass.y;return a.set(s/2,f/2),n.set(o-a.x,h-a.y),!0},getTopLeft:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a+s.x+f.x,n+s.y+f.y)}return!1},getTopCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a+f.x,n+s.y+f.y)}return!1},getTopRight:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a-(s.x-f.x),n+s.y+f.y)}return!1},getLeftCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a+s.x+f.x,n+f.y)}return!1},getCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.centerDiff;return new u(a+s.x,n+s.y)}return!1},getRightCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a-(s.x-f.x),n+f.y)}return!1},getBottomLeft:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a+s.x+f.x,n-(s.y-f.y))}return!1},getBottomCenter:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a+f.x,n-(s.y-f.y))}return!1},getBottomRight:function(r,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(r)){var s=this.boundsCenter,f=this.centerDiff;return new u(a-(s.x-f.x),n-(s.y-f.y))}return!1}});l.exports=i},function(l,x){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={decomp:M,quickDecomp:B,isSimple:F,removeCollinearPoints:b,removeDuplicatePoints:W,makeCCW:p};function t(D,O,N){N=N||0;var G=[0,0],Y,V,z,H,j,q,et;return Y=D[1][1]-D[0][1],V=D[0][0]-D[1][0],z=Y*D[0][0]+V*D[0][1],H=O[1][1]-O[0][1],j=O[0][0]-O[1][0],q=H*O[0][0]+j*O[0][1],et=Y*j-H*V,$(et,0,N)||(G[0]=(j*z-V*q)/et,G[1]=(Y*q-H*z)/et),G}function e(D,O,N,G){var Y=O[0]-D[0],V=O[1]-D[1],z=G[0]-N[0],H=G[1]-N[1];if(z*V-H*Y===0)return!1;var j=(Y*(N[1]-D[1])+V*(D[0]-N[0]))/(z*V-H*Y),q=(z*(D[1]-N[1])+H*(N[0]-D[0]))/(H*Y-z*V);return j>=0&&j<=1&&q>=0&&q<=1}function u(D,O,N){return(O[0]-D[0])*(N[1]-D[1])-(N[0]-D[0])*(O[1]-D[1])}function i(D,O,N){return u(D,O,N)>0}function r(D,O,N){return u(D,O,N)>=0}function a(D,O,N){return u(D,O,N)<0}function n(D,O,N){return u(D,O,N)<=0}var s=[],f=[];function o(D,O,N,G){if(G){var Y=s,V=f;Y[0]=O[0]-D[0],Y[1]=O[1]-D[1],V[0]=N[0]-O[0],V[1]=N[1]-O[1];var z=Y[0]*V[0]+Y[1]*V[1],H=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),j=Math.sqrt(V[0]*V[0]+V[1]*V[1]),q=Math.acos(z/(H*j));return q<G}else return u(D,O,N)===0}function h(D,O){var N=O[0]-D[0],G=O[1]-D[1];return N*N+G*G}function d(D,O){var N=D.length;return D[O<0?O%N+N:O%N]}function v(D){D.length=0}function c(D,O,N,G){for(var Y=N;Y<G;Y++)D.push(O[Y])}function p(D){for(var O=0,N=D,G=1;G<D.length;++G)(N[G][1]<N[O][1]||N[G][1]===N[O][1]&&N[G][0]>N[O][0])&&(O=G);return i(d(D,O-1),d(D,O),d(D,O+1))?!1:(g(D),!0)}function g(D){for(var O=[],N=D.length,G=0;G!==N;G++)O.push(D.pop());for(var G=0;G!==N;G++)D[G]=O[G]}function T(D,O){return a(d(D,O-1),d(D,O),d(D,O+1))}var E=[],S=[];function C(D,O,N){var G,Y,V=E,z=S;if(r(d(D,O+1),d(D,O),d(D,N))&&n(d(D,O-1),d(D,O),d(D,N)))return!1;Y=h(d(D,O),d(D,N));for(var H=0;H!==D.length;++H)if(!((H+1)%D.length===O||H===O)&&r(d(D,O),d(D,N),d(D,H+1))&&n(d(D,O),d(D,N),d(D,H))&&(V[0]=d(D,O),V[1]=d(D,N),z[0]=d(D,H),z[1]=d(D,H+1),G=t(V,z),h(d(D,O),G)<Y))return!1;return!0}function P(D,O,N){for(var G=0;G!==D.length;++G)if(!(G===O||G===N||(G+1)%D.length===O||(G+1)%D.length===N)&&e(d(D,O),d(D,N),d(D,G),d(D,G+1)))return!1;return!0}function A(D,O,N,G){var Y=G||[];if(v(Y),O<N)for(var V=O;V<=N;V++)Y.push(D[V]);else{for(var V=0;V<=N;V++)Y.push(D[V]);for(var V=O;V<D.length;V++)Y.push(D[V])}return Y}function R(D){for(var O=[],N=[],G=[],Y=[],V=Number.MAX_VALUE,z=0;z<D.length;++z)if(T(D,z)){for(var H=0;H<D.length;++H)if(C(D,z,H)){N=R(A(D,z,H,Y)),G=R(A(D,H,z,Y));for(var j=0;j<G.length;j++)N.push(G[j]);N.length<V&&(O=N,V=N.length,O.push([d(D,z),d(D,H)]))}}return O}function M(D){var O=R(D);return O.length>0?L(D,O):[D]}function L(D,O){if(O.length===0)return[D];if(O instanceof Array&&O.length&&O[0]instanceof Array&&O[0].length===2&&O[0][0]instanceof Array){for(var N=[D],G=0;G<O.length;G++)for(var Y=O[G],V=0;V<N.length;V++){var z=N[V],H=L(z,Y);if(H){N.splice(V,1),N.push(H[0],H[1]);break}}return N}else{var Y=O,G=D.indexOf(Y[0]),V=D.indexOf(Y[1]);return G!==-1&&V!==-1?[A(D,G,V),A(D,V,G)]:!1}}function F(D){var O=D,N;for(N=0;N<O.length-1;N++)for(var G=0;G<N-1;G++)if(e(O[N],O[N+1],O[G],O[G+1]))return!1;for(N=1;N<O.length-2;N++)if(e(O[0],O[O.length-1],O[N],O[N+1]))return!1;return!0}function I(D,O,N,G,Y){Y=Y||0;var V=O[1]-D[1],z=D[0]-O[0],H=V*D[0]+z*D[1],j=G[1]-N[1],q=N[0]-G[0],et=j*N[0]+q*N[1],ot=V*q-j*z;return $(ot,0,Y)?[0,0]:[(q*H-z*et)/ot,(V*et-j*H)/ot]}function B(D,O,N,G,Y,V,z){V=V||100,z=z||0,Y=Y||25,O=typeof O<"u"?O:[],N=N||[],G=G||[];var H=[0,0],j=[0,0],q=[0,0],et=0,ot=0,K=0,Q=0,tt=0,nt=0,ft=0,mt=[],pt=[],at=D,Tt=D;if(Tt.length<3)return O;if(z++,z>V)return console.warn("quickDecomp: max level ("+V+") reached."),O;for(var lt=0;lt<D.length;++lt)if(T(at,lt)){N.push(at[lt]),et=ot=Number.MAX_VALUE;for(var Et=0;Et<D.length;++Et)i(d(at,lt-1),d(at,lt),d(at,Et))&&n(d(at,lt-1),d(at,lt),d(at,Et-1))&&(q=I(d(at,lt-1),d(at,lt),d(at,Et),d(at,Et-1)),a(d(at,lt+1),d(at,lt),q)&&(K=h(at[lt],q),K<ot&&(ot=K,j=q,nt=Et))),i(d(at,lt+1),d(at,lt),d(at,Et+1))&&n(d(at,lt+1),d(at,lt),d(at,Et))&&(q=I(d(at,lt+1),d(at,lt),d(at,Et),d(at,Et+1)),i(d(at,lt-1),d(at,lt),q)&&(K=h(at[lt],q),K<et&&(et=K,H=q,tt=Et)));if(nt===(tt+1)%D.length)q[0]=(j[0]+H[0])/2,q[1]=(j[1]+H[1])/2,G.push(q),lt<tt?(c(mt,at,lt,tt+1),mt.push(q),pt.push(q),nt!==0&&c(pt,at,nt,at.length),c(pt,at,0,lt+1)):(lt!==0&&c(mt,at,lt,at.length),c(mt,at,0,tt+1),mt.push(q),pt.push(q),c(pt,at,nt,lt+1));else{if(nt>tt&&(tt+=D.length),Q=Number.MAX_VALUE,tt<nt)return O;for(var Et=nt;Et<=tt;++Et)r(d(at,lt-1),d(at,lt),d(at,Et))&&n(d(at,lt+1),d(at,lt),d(at,Et))&&(K=h(d(at,lt),d(at,Et)),K<Q&&P(at,lt,Et)&&(Q=K,ft=Et%D.length));lt<ft?(c(mt,at,lt,ft+1),ft!==0&&c(pt,at,ft,Tt.length),c(pt,at,0,lt+1)):(lt!==0&&c(mt,at,lt,Tt.length),c(mt,at,0,ft+1),c(pt,at,ft,lt+1))}return mt.length<pt.length?(B(mt,O,N,G,Y,V,z),B(pt,O,N,G,Y,V,z)):(B(pt,O,N,G,Y,V,z),B(mt,O,N,G,Y,V,z)),O}return O.push(D),O}function b(D,O){for(var N=0,G=D.length-1;D.length>3&&G>=0;--G)o(d(D,G-1),d(D,G),d(D,G+1),O)&&(D.splice(G%D.length,1),N++);return N}function W(D,O){for(var N=D.length-1;N>=1;--N)for(var G=D[N],Y=N-1;Y>=0;--Y)if(Z(G,D[Y],O)){D.splice(N,1);continue}}function $(D,O,N){return N=N||0,Math.abs(D-O)<=N}function Z(D,O,N){return $(D[0],O[0],N)&&$(D[1],O[1],N)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(0),i=t(591),r=t(128),a=t(592),n=t(1395),s=t(1396),f=t(1397),o=t(593),h=t(589),d=t(590),v=t(1398),c=t(64),p=new u({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(g,T,E,S,C){var P=e.rectangle(g,T,E,S,C);return this.world.add(P),P},trapezoid:function(g,T,E,S,C,P){var A=e.trapezoid(g,T,E,S,C,P);return this.world.add(A),A},circle:function(g,T,E,S,C){var P=e.circle(g,T,E,S,C);return this.world.add(P),P},polygon:function(g,T,E,S,C){var P=e.polygon(g,T,E,S,C);return this.world.add(P),P},fromVertices:function(g,T,E,S,C,P,A){typeof E=="string"&&(E=c.fromPath(E));var R=e.fromVertices(g,T,E,S,C,P,A);return this.world.add(R),R},fromPhysicsEditor:function(g,T,E,S,C){C===void 0&&(C=!0);var P=h.parseBody(g,T,E,S);return C&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(g,T,E,S,C,P){S===void 0&&(S=1),C===void 0&&(C={}),P===void 0&&(P=!0);for(var A=E.getElementsByTagName("path"),R=[],M=0;M<A.length;M++){var L=a.pathToVertices(A[M],30);S!==1&&c.scale(L,S,S),R.push(L)}var F=e.fromVertices(g,T,R,C);return P&&this.world.add(F),F},fromJSON:function(g,T,E,S,C){S===void 0&&(S={}),C===void 0&&(C=!0);var P=d.parseBody(g,T,E,S);return P&&C&&this.world.add(P),P},imageStack:function(g,T,E,S,C,P,A,R,M){A===void 0&&(A=0),R===void 0&&(R=0),M===void 0&&(M={});var L=this.world,F=this.sys.displayList;M.addToWorld=!1;var I=i.stack(E,S,C,P,A,R,function(B,b){var W=new s(L,B,b,g,T,M);return F.add(W),W.body});return L.add(I),I},stack:function(g,T,E,S,C,P,A){var R=i.stack(g,T,E,S,C,P,A);return this.world.add(R),R},pyramid:function(g,T,E,S,C,P,A){var R=i.pyramid(g,T,E,S,C,P,A);return this.world.add(R),R},chain:function(g,T,E,S,C,P){return i.chain(g,T,E,S,C,P)},mesh:function(g,T,E,S,C){return i.mesh(g,T,E,S,C)},newtonsCradle:function(g,T,E,S,C){var P=i.newtonsCradle(g,T,E,S,C);return this.world.add(P),P},car:function(g,T,E,S,C){var P=i.car(g,T,E,S,C);return this.world.add(P),P},softBody:function(g,T,E,S,C,P,A,R,M,L){var F=i.softBody(g,T,E,S,C,P,A,R,M,L);return this.world.add(F),F},joint:function(g,T,E,S,C){return this.constraint(g,T,E,S,C)},spring:function(g,T,E,S,C){return this.constraint(g,T,E,S,C)},constraint:function(g,T,E,S,C){S===void 0&&(S=1),C===void 0&&(C={}),C.bodyA=g.type==="body"?g:g.body,C.bodyB=T.type==="body"?T:T.body,isNaN(E)||(C.length=E),C.stiffness=S;var P=r.create(C);return this.world.add(P),P},worldConstraint:function(g,T,E,S){E===void 0&&(E=1),S===void 0&&(S={}),S.bodyB=g.type==="body"?g:g.body,isNaN(T)||(S.length=T),S.stiffness=E;var C=r.create(S);return this.world.add(C),C},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var T=new v(this.scene,this.world,g);return this.world.add(T.constraint),T},image:function(g,T,E,S,C){var P=new s(this.world,g,T,E,S,C);return this.sys.displayList.add(P),P},tileBody:function(g,T){return new o(this.world,g,T)},sprite:function(g,T,E,S,C){var P=new f(this.world,g,T,E,S,C);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(g,T,E){return n(this.world,g,T,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});l.exports=p},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),u=t(2),i=t(3);function r(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var a=function(n,s,f,o){f===void 0&&(f={}),o===void 0&&(o=!0);var h=s.x,d=s.y;s.body={temp:!0,position:{x:h,y:d}};var v=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(v.forEach(function(p){for(var g in p)r(p[g])?Object.defineProperty(s,g,{get:p[g].get,set:p[g].set}):Object.defineProperty(s,g,{value:p[g]})}),s.world=n,s._tempVec2=new i(h,d),f.hasOwnProperty("type")&&f.type==="body")s.setExistingBody(f,o);else{var c=u(f,"shape",null);c||(c="rectangle"),f.addToWorld=o,s.setBody(c,f)}return s};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(249),i=t(15),r=t(2),a=t(125),n=t(167),s=t(3),f=new e({Extends:a,Mixins:[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity,n],initialize:function(h,d,v,c,p,g){i.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new s(d,v);var T=r(g,"shape",null);T?this.setBody(T,g):this.setRectangle(this.width,this.height,g),this.setPosition(d,v),this.initPipeline()}});l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),i=t(249),r=t(15),a=t(2),n=t(167),s=t(73),f=t(3),o=new u({Extends:s,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,n],initialize:function(d,v,c,p,g,T){r.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(p,g),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new f(v,c);var E=a(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(v,c),this.initPipeline()}});l.exports=o},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),u=t(0),i=t(118),r=t(128),a=t(273),n=t(272),s=t(51),f=t(127),o=t(165),h=t(3),d=t(64),v=new u({initialize:function(p,g,T){T===void 0&&(T={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=r.create(f(T,E)),this.world.on(n.BEFORE_UPDATE,this.update,this),p.sys.input.on(s.POINTER_DOWN,this.onDown,this),p.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(c){this.pointer||(this.pointer=c,this.camera=c.camera)},onUp:function(c){c===this.pointer&&(this.pointer=null)},getBody:function(c){var p=this.position,g=this.constraint;this.camera.getWorldPoint(c.x,c.y,p);for(var T=i.allBodies(this.world.localWorld),E=0;E<T.length;E++){var S=T[E];if(!S.ignorePointer&&e.contains(S.bounds,p)&&a.canCollide(S.collisionFilter,g.collisionFilter)&&this.hitTestBody(S,p))return this.world.emit(n.DRAG_START,S,this.part,this),!0}return!1},hitTestBody:function(c,p){for(var g=this.constraint,T=c.parts.length,E=T>1?1:0,S=E;S<T;S++){var C=c.parts[S];if(d.contains(C.vertices,p))return g.pointA=p,g.pointB={x:p.x-c.position.x,y:p.y-c.position.y},g.bodyB=c,g.angleB=c.angle,o.set(c,!1),this.part=C,this.body=c,!0}return!1},update:function(){var c=this.pointer,p=this.body;if(!this.active||!c){p&&this.stopDrag();return}if(!c.isDown&&p){this.stopDrag();return}else if(c.isDown){if(!p&&!this.getBody(c))return;p=this.body;var g=this.position,T=this.constraint;this.camera.getWorldPoint(c.x,c.y,g),T.pointA.x=g.x,T.pointA.y=g.y,o.set(p,!1),this.world.emit(n.DRAG,p,this)}},stopDrag:function(){var c=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,c&&this.world.emit(n.DRAG_END,c,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});l.exports=v},function(l,x,t){var e={};l.exports=e;var u=t(595),i=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){u.use(e,Array.prototype.slice.call(arguments))},e.before=function(r,a){return r=r.replace(/^Matter./,""),i.chainPathBefore(e,r,a)},e.after=function(r,a){return r=r.replace(/^Matter./,""),i.chainPathAfter(e,r,a)}})()},function(l,x,t){var e={};l.exports=e;var u=t(83),i=t(274),r=t(84),a=t(86),n=t(64);(function(){e.collides=function(s,f){for(var o=[],h=0;h<f.length;h++){var d=f[h];if(s!==d&&r.overlaps(d.bounds,s.bounds))for(var v=d.parts.length===1?0:1;v<d.parts.length;v++){var c=d.parts[v];if(r.overlaps(c.bounds,s.bounds)){var p=i.collides(c,s);if(p.collided){o.push(p);break}}}}return o},e.ray=function(s,f,o,h){h=h||1e-100;for(var d=u.angle(f,o),v=u.magnitude(u.sub(f,o)),c=(o.x+f.x)*.5,p=(o.y+f.y)*.5,g=a.rectangle(c,p,v,h,{angle:d}),T=e.collides(g,s),E=0;E<T.length;E+=1){var S=T[E];S.body=S.bodyB=S.bodyA}return T},e.region=function(s,f,o){for(var h=[],d=0;d<s.length;d++){var v=s[d],c=r.overlaps(v.bounds,f);(c&&!o||!c&&o)&&h.push(v)}return h},e.point=function(s,f){for(var o=[],h=0;h<s.length;h++){var d=s[h];if(r.contains(d.bounds,f))for(var v=d.parts.length===1?0:1;v<d.parts.length;v++){var c=d.parts[v];if(r.contains(c.bounds,f)&&n.contains(c.vertices,f)){o.push(d);break}}}return o}})()},function(l,x,t){var e={};l.exports=e;var u=t(596),i=t(165),r=t(599),a=t(598),n=t(1523),s=t(597),f=t(166),o=t(118),h=t(128),d=t(32),v=t(41);(function(){e.create=function(c,p){p=d.isElement(c)?p:c,c=d.isElement(c)?c:null,p=p||{},(c||p.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:s}},T=d.extend(g,p);return T.world=p.world||u.create(T.world),T.pairs=a.create(),T.broadphase=T.broadphase.controller.create(T.broadphase),T.metrics=T.metrics||{extended:!1},T.metrics=n.create(T.metrics),T},e.update=function(c,p,g){p=p||1e3/60,g=g||1;var T=c.world,E=c.timing,S=c.broadphase,C=[],P;E.timestamp+=p*E.timeScale;var A={timestamp:E.timestamp};f.trigger(c,"beforeUpdate",A);var R=o.allBodies(T),M=o.allConstraints(T);for(n.reset(c.metrics),c.enableSleeping&&i.update(R,E.timeScale),e._bodiesApplyGravity(R,T.gravity),e._bodiesUpdate(R,p,E.timeScale,g,T.bounds),h.preSolveAll(R),P=0;P<c.constraintIterations;P++)h.solveAll(M,E.timeScale);h.postSolveAll(R),S.controller?(T.isModified&&S.controller.clear(S),S.controller.update(S,R,c,T.isModified),C=S.pairsList):C=R,T.isModified&&o.setModified(T,!1,!1,!0);var L=S.detector(C,c),F=c.pairs,I=E.timestamp;for(a.update(F,L,I),a.removeOld(F,I),c.enableSleeping&&i.afterCollisions(F.list,E.timeScale),F.collisionStart.length>0&&f.trigger(c,"collisionStart",{pairs:F.collisionStart}),r.preSolvePosition(F.list),P=0;P<c.positionIterations;P++)r.solvePosition(F.list,R,E.timeScale);for(r.postSolvePosition(R),h.preSolveAll(R),P=0;P<c.constraintIterations;P++)h.solveAll(M,E.timeScale);for(h.postSolveAll(R),r.preSolveVelocity(F.list),P=0;P<c.velocityIterations;P++)r.solveVelocity(F.list,E.timeScale);return F.collisionActive.length>0&&f.trigger(c,"collisionActive",{pairs:F.collisionActive}),F.collisionEnd.length>0&&f.trigger(c,"collisionEnd",{pairs:F.collisionEnd}),n.update(c.metrics,c),e._bodiesClearForces(R),f.trigger(c,"afterUpdate",A),c},e.merge=function(c,p){if(d.extend(c,p),p.world){c.world=p.world,e.clear(c);for(var g=o.allBodies(c.world),T=0;T<g.length;T++){var E=g[T];i.set(E,!1),E.id=d.nextId()}}},e.clear=function(c){var p=c.world;a.clear(c.pairs);var g=c.broadphase;if(g.controller){var T=o.allBodies(p);g.controller.clear(g),g.controller.update(g,T,c,!0)}},e._bodiesClearForces=function(c){for(var p=0;p<c.length;p++){var g=c[p];g.force.x=0,g.force.y=0,g.torque=0}},e._bodiesApplyGravity=function(c,p){var g=typeof p.scale<"u"?p.scale:.001;if(!(p.x===0&&p.y===0||g===0))for(var T=0;T<c.length;T++){var E=c[T];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.x+=E.mass*p.x*g*E.gravityScale.x,E.force.y+=E.mass*p.y*g*E.gravityScale.y)}},e._bodiesUpdate=function(c,p,g,T,E){for(var S=0;S<c.length;S++){var C=c[S];C.isStatic||C.isSleeping||v.update(C,p,g,T)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),i=t(0),r=t(32),a=t(118),n=t(1401),s=t(9),f=t(272),o=t(2),h=t(6),d=t(41),v=t(166),c=t(593),p=t(596),g=t(83),T=new i({Extends:s,initialize:function(S,C){s.call(this),this.scene=S,this.engine=n.create(C),this.localWorld=this.engine.world;var P=h(C,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(C,"enabled",!0),this.correction=h(C,"correction",1),this.getDelta=h(C,"getDelta",this.update60Hz);var A=o(C,"runner",{}),R=o(A,"fps",!1),M=o(A,"fps",60),L=o(A,"delta",1e3/M),F=o(A,"deltaMin",1e3/M),I=o(A,"deltaMax",1e3/(M*.5));R||(M=1e3/L),this.runner={fps:M,correction:o(A,"correction",1),deltaSampleSize:o(A,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:o(A,"isFixed",!1),delta:L,deltaMin:F,deltaMax:I},this.autoUpdate=h(C,"autoUpdate",!0);var B=h(C,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:o(B,"showAxes",!1),showAngleIndicator:o(B,"showAngleIndicator",!1),angleColor:o(B,"angleColor",15208787),showBroadphase:o(B,"showBroadphase",!1),broadphaseColor:o(B,"broadphaseColor",16757760),showBounds:o(B,"showBounds",!1),boundsColor:o(B,"boundsColor",16777215),showVelocity:o(B,"showVelocity",!1),velocityColor:o(B,"velocityColor",44783),showCollisions:o(B,"showCollisions",!1),collisionColor:o(B,"collisionColor",16094476),showSeparations:o(B,"showSeparations",!1),separationColor:o(B,"separationColor",16753920),showBody:o(B,"showBody",!0),showStaticBody:o(B,"showStaticBody",!0),showInternalEdges:o(B,"showInternalEdges",!1),renderFill:o(B,"renderFill",!1),renderLine:o(B,"renderLine",!0),fillColor:o(B,"fillColor",1075465),fillOpacity:o(B,"fillOpacity",1),lineColor:o(B,"lineColor",2678297),lineOpacity:o(B,"lineOpacity",1),lineThickness:o(B,"lineThickness",1),staticFillColor:o(B,"staticFillColor",857979),staticLineColor:o(B,"staticLineColor",1255396),showSleeping:o(B,"showSleeping",!1),staticBodySleepOpacity:o(B,"staticBodySleepOpacity",.7),sleepFillColor:o(B,"sleepFillColor",4605510),sleepLineColor:o(B,"sleepLineColor",10066585),showSensors:o(B,"showSensors",!0),sensorFillColor:o(B,"sensorFillColor",857979),sensorLineColor:o(B,"sensorLineColor",1255396),showPositions:o(B,"showPositions",!0),positionSize:o(B,"positionSize",4),positionColor:o(B,"positionColor",14697178),showJoint:o(B,"showJoint",!0),jointColor:o(B,"jointColor",14737474),jointLineOpacity:o(B,"jointLineOpacity",1),jointLineThickness:o(B,"jointLineThickness",2),pinSize:o(B,"pinSize",4),pinColor:o(B,"pinColor",4382944),springColor:o(B,"springColor",14697184),anchorColor:o(B,"anchorColor",15724527),anchorSize:o(B,"anchorSize",4),showConvexHulls:o(B,"showConvexHulls",!1),hullColor:o(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),o(C,"setBounds",!1)){var b=C.setBounds;if(typeof b=="boolean")this.setBounds();else{var W=o(b,"x",0),$=o(b,"y",0),Z=o(b,"width",S.sys.scale.width),D=o(b,"height",S.sys.scale.height),O=o(b,"thickness",64),N=o(b,"left",!0),G=o(b,"right",!0),Y=o(b,"top",!0),V=o(b,"bottom",!0);this.setBounds(W,$,Z,D,O,N,G,Y,V)}}},setCompositeRenderStyle:function(E){var S=E.bodies,C=E.constraints,P=E.composites,A,R,M;for(A=0;A<S.length;A++)R=S[A],M=R.render,this.setBodyRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(A=0;A<C.length;A++)R=C[A],M=R.render,this.setConstraintRenderStyle(R,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(A=0;A<P.length;A++)R=P[A],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(E,S,C,P,A,R){var M=E.render,L=this.debugConfig;return M?(S==null&&(S=E.isStatic?L.staticLineColor:L.lineColor),C==null&&(C=L.lineOpacity),P==null&&(P=L.lineThickness),A==null&&(A=E.isStatic?L.staticFillColor:L.fillColor),R==null&&(R=L.fillOpacity),S!==!1&&(M.lineColor=S),C!==!1&&(M.lineOpacity=C),P!==!1&&(M.lineThickness=P),A!==!1&&(M.fillColor=A),R!==!1&&(M.fillOpacity=R),this):this},setConstraintRenderStyle:function(E,S,C,P,A,R,M){var L=E.render,F=this.debugConfig;if(!L)return this;if(S==null){var I=L.type;I==="line"?S=F.jointColor:I==="pin"?S=F.pinColor:I==="spring"&&(S=F.springColor)}return C==null&&(C=F.jointLineOpacity),P==null&&(P=F.jointLineThickness),A==null&&(A=F.pinSize),R==null&&(R=F.anchorColor),M==null&&(M=F.anchorSize),S!==!1&&(L.lineColor=S),C!==!1&&(L.lineOpacity=C),P!==!1&&(L.lineThickness=P),A!==!1&&(L.pinSize=A),R!==!1&&(L.anchorColor=R),M!==!1&&(L.anchorSize=M),this},setEventsProxy:function(){var E=this,S=this.engine,C=this.localWorld;this.drawDebug&&(v.on(C,"compositeModified",function(P){E.setCompositeRenderStyle(P)}),v.on(C,"beforeAdd",function(P){for(var A=[].concat(P.object),R=0;R<A.length;R++){var M=A[R],L=M.render;M.type==="body"?E.setBodyRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity):M.type==="composite"?E.setCompositeRenderStyle(M):M.type==="constraint"&&E.setConstraintRenderStyle(M,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize)}})),v.on(C,"beforeAdd",function(P){E.emit(f.BEFORE_ADD,P)}),v.on(C,"afterAdd",function(P){E.emit(f.AFTER_ADD,P)}),v.on(C,"beforeRemove",function(P){E.emit(f.BEFORE_REMOVE,P)}),v.on(C,"afterRemove",function(P){E.emit(f.AFTER_REMOVE,P)}),v.on(S,"beforeUpdate",function(P){E.emit(f.BEFORE_UPDATE,P)}),v.on(S,"afterUpdate",function(P){E.emit(f.AFTER_UPDATE,P)}),v.on(S,"collisionStart",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(f.COLLISION_START,P,R,M)}),v.on(S,"collisionActive",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(f.COLLISION_ACTIVE,P,R,M)}),v.on(S,"collisionEnd",function(P){var A=P.pairs,R,M;A.length>0&&(R=A[0].bodyA,M=A[0].bodyB),E.emit(f.COLLISION_END,P,R,M)})},setBounds:function(E,S,C,P,A,R,M,L,F){return E===void 0&&(E=0),S===void 0&&(S=0),C===void 0&&(C=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),A===void 0&&(A=64),R===void 0&&(R=!0),M===void 0&&(M=!0),L===void 0&&(L=!0),F===void 0&&(F=!0),this.updateWall(R,"left",E-A,S-A,A,P+A*2),this.updateWall(M,"right",E+C,S-A,A,P+A*2),this.updateWall(L,"top",E,S-A,C,A),this.updateWall(F,"bottom",E,S+P,C,A),this},updateWall:function(E,S,C,P,A,R){var M=this.walls[S];E?(M&&p.remove(this.localWorld,M),C+=A/2,P+=R/2,this.walls[S]=this.create(C,P,A,R,{isStatic:!0,friction:0,frictionStatic:0})):(M&&p.remove(this.localWorld,M),this.walls[S]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,S,C){return E===void 0&&(E=0),S===void 0&&(S=1),this.localWorld.gravity.x=E,this.localWorld.gravity.y=S,C!==void 0&&(this.localWorld.gravity.scale=C),this},create:function(E,S,C,P,A){var R=e.rectangle(E,S,C,P,A);return p.add(this.localWorld,R),R},add:function(E){return p.add(this.localWorld,E),this},remove:function(E,S){Array.isArray(E)||(E=[E]);for(var C=0;C<E.length;C++){var P=E[C],A=P.body?P.body:P;a.remove(this.localWorld,A,S)}return this},removeConstraint:function(E,S){return a.remove(this.localWorld,E,S),this},convertTilemapLayer:function(E,S){var C=E.layer,P=E.getTilesWithin(0,0,C.width,C.height,{isColliding:!0});return this.convertTiles(P,S),this},convertTiles:function(E,S){if(E.length===0)return this;for(var C=0;C<E.length;C++)new c(this,E[C],S);return this},nextGroup:function(E){return d.nextGroup(E)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(E,S){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,P=this.runner,A=C.timing,R=this.correction;P.isFixed?S=this.getDelta(E,S):(S=E-P.timePrev||P.delta,P.timePrev=E,P.deltaHistory.push(S),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),S=Math.min.apply(null,P.deltaHistory),S=S<P.deltaMin?P.deltaMin:S,S=S>P.deltaMax?P.deltaMax:S,R=S/P.delta,P.delta=S),P.timeScalePrev!==0&&(R*=A.timeScale/P.timeScalePrev),A.timeScale===0&&(R=0),P.timeScalePrev=A.timeScale,P.correction=R,P.frameCounter+=1,E-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((E-P.counterTimestamp)/1e3),P.counterTimestamp=E,P.frameCounter=0),n.update(C,S,R)}},step:function(E,S){n.update(this.engine,E,S)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var S=E.hasOwnProperty("body")?E.body:E;return a.get(this.localWorld,S.id,S.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,S=this.engine,C=this.debugGraphic,P=a.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&S.broadphase.controller&&this.renderGrid(S.broadphase,C,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(P,C,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(P),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(P,C,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(P,C,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(S.pairs.list,C,E.separationColor),E.showCollisions&&this.renderCollisions(S.pairs.list,C,E.collisionColor)}},renderGrid:function(E,S,C,P){S.lineStyle(1,C,P);for(var A=r.keys(E.buckets),R=0;R<A.length;R++){var M=A[R];if(!(E.buckets[M].length<2)){var L=M.split(/C|R/);S.strokeRect(parseInt(L[1],10)*E.bucketWidth,parseInt(L[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,S,C){S.lineStyle(1,C,1);for(var P=0;P<E.length;P++){var A=E[P];if(A.isActive){var R=A.collision,M=R.bodyA,L=R.bodyB,F=M.position,I=L.position,B=R.penetration,b=!M.isStatic&&!L.isStatic?4:1;L.isStatic&&(b=0),S.lineBetween(I.x,I.y,I.x-B.x*b,I.y-B.y*b),b=!M.isStatic&&!L.isStatic?4:1,M.isStatic&&(b=0),S.lineBetween(F.x,F.y,F.x-B.x*b,F.y-B.y*b)}}return this},renderCollisions:function(E,S,C){S.lineStyle(1,C,.5),S.fillStyle(C,1);var P,A;for(P=0;P<E.length;P++)if(A=E[P],!!A.isActive)for(var R=0;R<A.activeContacts.length;R++){var M=A.activeContacts[R],L=M.vertex;S.fillRect(L.x-2,L.y-2,5,5)}for(P=0;P<E.length;P++)if(A=E[P],!!A.isActive){var F=A.collision,I=A.activeContacts;if(I.length>0){var B=I[0].vertex.x,b=I[0].vertex.y;I.length===2&&(B=(I[0].vertex.x+I[1].vertex.x)/2,b=(I[0].vertex.y+I[1].vertex.y)/2),F.bodyB===F.supports[0].body||F.bodyA.isStatic?S.lineBetween(B-F.normal.x*8,b-F.normal.y*8,B,b):S.lineBetween(B+F.normal.x*8,b+F.normal.y*8,B,b)}}return this},renderBodyBounds:function(E,S,C,P){S.lineStyle(1,C,P);for(var A=0;A<E.length;A++){var R=E[A];if(R.render.visible){var M=R.bounds;if(M)S.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var L=R.parts,F=L.length>1?1:0;F<L.length;F++){var I=L[F];S.strokeRect(I.bounds.min.x,I.bounds.min.y,I.bounds.max.x-I.bounds.min.x,I.bounds.max.y-I.bounds.min.y)}}}return this},renderBodyAxes:function(E,S,C,P,A){S.lineStyle(1,P,A);for(var R=0;R<E.length;R++){var M=E[R],L=M.parts;if(M.render.visible){var F,I,B;if(C)for(I=L.length>1?1:0;I<L.length;I++)for(F=L[I],B=0;B<F.axes.length;B++){var b=F.axes[B];S.lineBetween(F.position.x,F.position.y,F.position.x+b.x*20,F.position.y+b.y*20)}else for(I=L.length>1?1:0;I<L.length;I++)for(F=L[I],B=0;B<F.axes.length;B++)S.lineBetween(F.position.x,F.position.y,(F.vertices[0].x+F.vertices[F.vertices.length-1].x)/2,(F.vertices[0].y+F.vertices[F.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,S,C,P,A){S.lineStyle(A,C,P);for(var R=0;R<E.length;R++){var M=E[R];M.render.visible&&S.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(E){for(var S=this.debugGraphic,C=this.debugConfig,P=C.showBody,A=C.showStaticBody,R=C.showSleeping,M=C.showInternalEdges,L=C.showConvexHulls,F=C.renderFill,I=C.renderLine,B=C.staticBodySleepOpacity,b=C.sleepFillColor,W=C.sleepLineColor,$=C.hullColor,Z=0;Z<E.length;Z++){var D=E[Z];if(D.render.visible&&!(!A&&D.isStatic||!P&&!D.isStatic)){var O=D.render.lineColor,N=D.render.lineOpacity,G=D.render.lineThickness,Y=D.render.fillColor,V=D.render.fillOpacity;R&&D.isSleeping&&(D.isStatic?(N*=B,V*=B):(O=W,Y=b)),F||(Y=null),I||(O=null),this.renderBody(D,S,M,O,N,G,Y,V);var z=D.parts.length;L&&z>1&&this.renderConvexHull(D,S,$,G)}}},renderBody:function(E,S,C,P,A,R,M,L){P===void 0&&(P=null),A===void 0&&(A=null),R===void 0&&(R=1),M===void 0&&(M=null),L===void 0&&(L=null);for(var F=this.debugConfig,I=F.sensorFillColor,B=F.sensorLineColor,b=E.parts,W=b.length,$=W>1?1:0;$<W;$++){var Z=b[$],D=Z.render,O=D.opacity;if(!(!D.visible||O===0||Z.isSensor&&!F.showSensors)){var N=Z.circleRadius;if(S.beginPath(),Z.isSensor?(M!==null&&S.fillStyle(I,L*O),P!==null&&S.lineStyle(R,B,A*O)):(M!==null&&S.fillStyle(M,L*O),P!==null&&S.lineStyle(R,P,A*O)),N)S.arc(Z.position.x,Z.position.y,N,0,2*Math.PI);else{var G=Z.vertices,Y=G.length;S.moveTo(G[0].x,G[0].y);for(var V=1;V<Y;V++){var z=G[V];if(!G[V-1].isInternal||C?S.lineTo(z.x,z.y):S.moveTo(z.x,z.y),V<Y&&z.isInternal&&!C){var H=(V+1)%Y;S.moveTo(G[H].x,G[H].y)}}S.closePath()}M!==null&&S.fillPath(),P!==null&&S.strokePath()}}if(F.showPositions&&!E.isStatic){var j=E.position.x,q=E.position.y,et=Math.ceil(F.positionSize/2);S.fillStyle(F.positionColor,1),S.fillRect(j-et,q-et,F.positionSize,F.positionSize)}return this},renderConvexHull:function(E,S,C,P){P===void 0&&(P=1);var A=E.parts,R=A.length;if(R>1){var M=E.vertices;S.lineStyle(P,C),S.beginPath(),S.moveTo(M[0].x,M[0].y);for(var L=1;L<M.length;L++)S.lineTo(M[L].x,M[L].y);S.lineTo(M[0].x,M[0].y),S.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,S=a.allConstraints(this.localWorld),C=0;C<S.length;C++){var P=S[C].render,A=P.lineColor,R=P.lineOpacity,M=P.lineThickness,L=P.pinSize,F=P.anchorColor,I=P.anchorSize;this.renderConstraint(S[C],E,A,R,M,L,F,I)}},renderConstraint:function(E,S,C,P,A,R,M,L){var F=E.render;if(!F.visible||!E.pointA||!E.pointB)return this;S.lineStyle(A,C,P);var I=E.bodyA,B=E.bodyB,b,W;if(I?b=g.add(I.position,E.pointA):b=E.pointA,F.type==="pin")S.strokeCircle(b.x,b.y,R);else{if(B?W=g.add(B.position,E.pointB):W=E.pointB,S.beginPath(),S.moveTo(b.x,b.y),F.type==="spring")for(var $=g.sub(W,b),Z=g.perp(g.normalise($)),D=Math.ceil(r.clamp(E.length/5,12,20)),O,N=1;N<D;N+=1)O=N%2===0?1:-1,S.lineTo(b.x+$.x*(N/D)+Z.x*O*4,b.y+$.y*(N/D)+Z.y*O*4);S.lineTo(W.x,W.y)}return S.strokePath(),F.anchors&&L>0&&(S.fillStyle(M),S.fillCircle(b.x,b.y,L),S.fillCircle(W.x,W.y,L)),this},resetCollisionIDs:function(){return u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});l.exports=T},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(l,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),u=t(0),i=t(20),r=new u({Extends:e,initialize:function(n,s,f){e.call(this,s),this.scene=n,this.systems=n.sys,this.pluginKey=f,n.sys.events.once(i.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Canvas:t(369),WebGL:t(383)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),u=t(17),i={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),u=t(17),i={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(198),i=t(2),r=t(1411),a=t(382),n=t(58),s=new e({Extends:n,initialize:function(o){o.renderTarget=i(o,"renderTarget",1),o.fragShader=i(o,"fragShader",r),o.vertShader=i(o,"vertShader",a),o.attributes=i(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),o.batchSize=1,o.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,o),this.isPostFX=!0,this.gameObject,this.colorMatrix=new u,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},copyFrame:function(f,o,h,d,v){this.manager.copyFrame(f,o,h,d,v)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,o,h){this.manager.drawFrame(f,o,h,this.colorMatrix)},blendFrames:function(f,o,h,d,v){this.manager.blendFrames(f,o,h,d,v)},blendFramesAdditive:function(f,o,h,d,v){this.manager.blendFramesAdditive(f,o,h,d,v)},clearFrame:function(f,o){this.manager.clearFrame(f,o)},blitFrame:function(f,o,h,d,v,c){this.manager.blitFrame(f,o,h,d,v,c)},copyFrameRect:function(f,o,h,d,v,c,p,g){this.manager.copyFrameRect(f,o,h,d,v,c,p,g)},bindAndDraw:function(f,o,h,d,v){h===void 0&&(h=!0),d===void 0&&(d=!0);var c=this.gl,p=this.renderer;this.bind(v),this.set1i("uMainSampler",0),o?(c.viewport(0,0,o.width,o.height),c.bindFramebuffer(c.FRAMEBUFFER,o.framebuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,o.texture,0),h&&(d?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1,!1),p.currentFramebuffer||c.viewport(0,0,p.width,p.height)),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,f.texture),c.bufferData(c.ARRAY_BUFFER,this.vertexData,c.STATIC_DRAW),c.drawArrays(c.TRIANGLES,0,6),o?(c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null)):p.resetTextures()}});l.exports=s},function(l,x){l.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(201),i={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};i=e(!1,i,u.CENTER),i=e(!1,i,u.ORIENTATION),i=e(!1,i,u.SCALE_MODE),i=e(!1,i,u.ZOOM),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),u=t(17),i={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),i=t(20),r=t(2),a=t(24),n=new u({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(i.BOOT,this.boot,this),f.sys.events.on(i.START,this.pluginStart,this)},boot:function(){this.systems.events.once(i.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(i.SHUTDOWN,this.shutdown,this)},start:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,f),this},restart:function(s){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,s),this},transition:function(s){s===void 0&&(s={});var f=r(s,"target",!1),o=this.manager.getScene(f);if(!f||!this.checkValidTransition(o))return!1;var h=r(s,"duration",1e3);this._elapsed=0,this._target=o,this._duration=h,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var d=r(s,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var v=r(s,"allowInput",!1);this.settings.transitionAllowInput=v;var c=o.sys.settings;return c.isTransition=!0,c.transitionFrom=this.scene,c.transitionDuration=h,c.transitionAllowInput=v,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,f):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),o.sys.isSleeping()?o.sys.wake(r(s,"data")):this.manager.start(f,r(s,"data")),this.systems.events.emit(i.TRANSITION_OUT,o,h),this.systems.events.on(i.UPDATE,this.step,this),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,f){this._elapsed+=f,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,f=this._target.sys.settings;this.systems.events.off(i.UPDATE,this.step,this),s.events.emit(i.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,f,o,h){return this.manager.add(s,f,o,h)},launch:function(s,f){return s&&s!==this.key&&this.manager.queueOp("start",s,f),this},run:function(s,f){return s&&s!==this.key&&this.manager.queueOp("run",s,f),this},pause:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,f),this},resume:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,f),this},sleep:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,f),this},wake:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,f),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,f),this},setActive:function(s,f,o){f===void 0&&(f=this.key);var h=this.manager.getScene(f);return h&&h.sys.setActive(s,o),this},setVisible:function(s,f){f===void 0&&(f=this.key);var o=this.manager.getScene(f);return o&&o.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.swapPosition(s,f),this},moveAbove:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.moveAbove(s,f),this},moveBelow:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.moveBelow(s,f),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(i.SHUTDOWN,this.shutdown,this),s.off(i.POST_UPDATE,this.step,this),s.off(i.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",n,"scenePlugin"),l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(1417),i={CanvasTexture:t(423),Events:t(106),FilterMode:u,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};i=e(!1,i,u),l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(1419),i={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};i=e(!1,i,u.ORIENTATION),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(63),i=function(r,a,n,s,f,o,h,d){h===void 0&&(h=!0),r<0&&(r=0),a<0&&(a=0);for(var v=e(r,a,n,s,null,d),c=f-r,p=o-a,g=0;g<v.length;g++){var T=v[g].x+c,E=v[g].y+p;T>=0&&T<d.width&&E>=0&&E<d.height&&d.data[E][T]&&d.data[E][T].copy(v[g])}h&&u(f-1,o-1,n+2,s+2,d)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(542),i=function(r,a,n,s,f,o){n||(n={}),Array.isArray(r)||(r=[r]);var h=o.tilemapLayer;s||(s=h.scene),f||(f=s.cameras.main);var d=e(0,0,o.width,o.height,null,o),v=[],c;for(c=0;c<d.length;c++){var p=d[c];if(r.indexOf(p.index)!==-1){var g=h.tileToWorldXY(p.x,p.y,void 0,f,o);n.x=g.x,n.y=g.y,v.push(s.make.sprite(n))}}if(typeof a=="number")for(c=0;c<r.length;c++)u(r[c],a,0,0,o.width,o.height,o);else if(Array.isArray(a))for(c=0;c<r.length;c++)u(r[c],a[c],0,0,o.width,o.height,o);return v};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(63),i=t(72),r=function(a,n,s,f,o,h,d){for(var v=d.collideIndexes.indexOf(a)!==-1,c=e(n,s,f,o,null,d),p=0;p<c.length;p++)c[p].index=a,i(c[p],v);h&&u(n-1,s-1,f+2,o+2,d)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o,h){var d=e(a,n,s,f,o,h);return d.filter(i,r)};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){u===void 0&&(u=0),i===void 0&&(i=!1);var a=0,n,s,f;if(i){for(s=r.height-1;s>=0;s--)for(n=r.width-1;n>=0;n--)if(f=r.data[s][n],f&&f.index===e){if(a===u)return f;a+=1}}else for(s=0;s<r.height;s++)for(n=0;n<r.width;n++)if(f=r.data[s][n],f&&f.index===e){if(a===u)return f;a+=1}return null};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o,h){var d=e(a,n,s,f,o,h);return d.find(i,r)||null};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o,h){var d=e(a,n,s,f,o,h);d.forEach(i,r)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(544),i=t(545),r=t(547),a=t(1),n=t(548),s=function(f){return f===e.ORTHOGONAL?u:f===e.HEXAGONAL?i:f===e.STAGGERED?n:f===e.ISOMETRIC?r:a};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=t(3),i=new u,r=function(a,n,s,f,o){return o.tilemapLayer.worldToTileXY(a,n,!0,i,f),e(i.x,i.y,s,o)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),u=t(26),i=t(484),r=t(1),a=t(3),n=function(d,v){return i.RectangleToTriangle(v,d)},s=new a,f=new a,o=new a,h=function(d,v,c,p){if(d===void 0)return[];var g=r;d instanceof e.Circle?g=i.CircleToRectangle:d instanceof e.Rectangle?g=i.RectangleToRectangle:d instanceof e.Triangle?g=n:d instanceof e.Line&&(g=i.LineToRectangle),p.tilemapLayer.worldToTileXY(d.left,d.top,!0,f,c);var T=f.x,E=f.y;p.tilemapLayer.worldToTileXY(d.right,d.bottom,!0,o,c);var S=Math.ceil(o.x),C=Math.ceil(o.y),P=Math.max(S-T,1),A=Math.max(C-E,1),R=u(T,E,P,A,v,p),M=p.tileWidth,L=p.tileHeight;p.tilemapLayer&&(M*=p.tilemapLayer.scaleX,L*=p.tilemapLayer.scaleY);for(var F=[],I=new e.Rectangle(0,0,M,L),B=0;B<R.length;B++){var b=R[B];p.tilemapLayer.tileToWorldXY(b.x,b.y,s,c),I.x=s.x,I.y=s.y,g(d,I)&&F.push(b)}return F};l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(1),i=t(253),r=function(a){return a===e.ORTHOGONAL?i:u};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(550),i=t(551),r=t(1),a=t(552),n=t(553),s=function(f){return f===e.ORTHOGONAL?n:f===e.ISOMETRIC?i:f===e.HEXAGONAL?u:f===e.STAGGERED?a:r};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(554),i=t(1),r=t(555),a=t(254),n=function(s){return s===e.ORTHOGONAL?a:s===e.HEXAGONAL?u:s===e.STAGGERED?r:i};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(1),i=t(255),r=function(a){return a===e.ORTHOGONAL?i:u};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(556),i=t(557),r=t(1),a=t(558),n=t(559),s=function(f){return f===e.ORTHOGONAL?n:f===e.ISOMETRIC?i:f===e.HEXAGONAL?u:f===e.STAGGERED?a:r};l.exports=s},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(560),i=t(1),r=t(561),a=t(256),n=function(s){return s===e.ORTHOGONAL?a:s===e.HEXAGONAL?u:s===e.STAGGERED?r:i};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),u=t(3),i=new u,r=function(a,n,s,f){f.tilemapLayer.worldToTileXY(a,n,!0,i,s);var o=i.x,h=i.y;return e(o,h,f)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),u=t(3),i=new u,r=function(a,n,s,f,o,h){return h.tilemapLayer.worldToTileXY(n,s,!0,i,o,h),e(a,i.x,i.y,f,h)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),u=t(257),i=function(r,a,n,s,f){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var o=r.length,h=r[0].length,d=0;d<o;d++)for(var v=0;v<h;v++){var c=r[d][v];u(c,a+v,n+d,!1,f)}s&&e(a-1,n-1,h+2,o+2,f)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(210),i=function(r,a,n,s,f,o){var h,d=e(r,a,n,s,{},o);if(!f)for(f=[],h=0;h<d.length;h++)f.indexOf(d[h].index)===-1&&f.push(d[h].index);for(h=0;h<d.length;h++)d[h].index=u(f)};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),u=t(3),i=new u,r=function(a,n,s,f,o,h){return h.tilemapLayer.worldToTileXY(a,n,!0,i,o,h),e(i.x,i.y,s,f,h)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(397),i=new u(105,210,231,150),r=new u(243,134,48,200),a=new u(40,39,37,150),n=function(s,f,o){f===void 0&&(f={});var h=f.tileColor!==void 0?f.tileColor:i,d=f.collidingTileColor!==void 0?f.collidingTileColor:r,v=f.faceColor!==void 0?f.faceColor:a,c=e(0,0,o.width,o.height,null,o);s.translateCanvas(o.tilemapLayer.x,o.tilemapLayer.y),s.scaleCanvas(o.tilemapLayer.scaleX,o.tilemapLayer.scaleY);for(var p=0;p<c.length;p++){var g=c[p],T=g.width,E=g.height,S=g.pixelX,C=g.pixelY,P=g.collides?d:h;P!==null&&(s.fillStyle(P.color,P.alpha/255),s.fillRect(S,C,T,E)),S+=1,C+=1,T-=2,E-=2,v!==null&&(s.lineStyle(1,v.color,v.alpha/255),g.faceTop&&s.lineBetween(S,C,S+T,C),g.faceRight&&s.lineBetween(S+T,C,S+T,C+E),g.faceBottom&&s.lineBetween(S,C+E,S+T,C+E),g.faceLeft&&s.lineBetween(S,C,S,C+E))}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),i=t(160),r=function(a,n,s,f,o){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),Array.isArray(a)||(a=[a]);for(var h=0;h<a.length;h++)i(a[h],n,f);if(o)for(var d=0;d<f.height;d++)for(var v=0;v<f.width;v++){var c=f.data[d][v];c&&a.indexOf(c.index)!==-1&&e(c,n)}s&&u(0,0,f.width,f.height,f)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),i=t(160),r=function(a,n,s,f,o,h){if(s===void 0&&(s=!0),f===void 0&&(f=!0),h===void 0&&(h=!0),!(a>n)){for(var d=a;d<=n;d++)i(d,s,o);if(h)for(var v=0;v<o.height;v++)for(var c=0;c<o.width;c++){var p=o.data[v][c];p&&p.index>=a&&p.index<=n&&e(p,s)}f&&u(0,0,o.width,o.height,o)}};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),i=t(160),r=function(a,n,s,f){n===void 0&&(n=!0),s===void 0&&(s=!0),Array.isArray(a)||(a=[a]);for(var o=0;o<f.height;o++)for(var h=0;h<f.width;h++){var d=f.data[o][h];d&&a.indexOf(d.index)===-1&&(e(d,n),i(d.index,n,f))}s&&u(0,0,f.width,f.height,f)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),i=t(126),r=function(a,n,s,f){n===void 0&&(n=!0),s===void 0&&(s=!0);for(var o=0;o<f.height;o++)for(var h=0;h<f.width;h++){var d=f.data[o][h];if(d){for(var v in a)if(i(d.properties,v)){var c=a[v];Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++)d.properties[v]===c[p]&&e(d,n)}}}s&&u(0,0,f.width,f.height,f)};l.exports=r},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),i=function(r,a,n){r===void 0&&(r=!0),a===void 0&&(a=!0);for(var s=0;s<n.height;s++)for(var f=0;f<n.width;f++){var o=n.data[s][f];if(o){var h=o.getCollisionGroup();h&&h.objects&&h.objects.length>0&&e(o,r)}}a&&u(0,0,n.width,n.height,n)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,i,r){if(typeof e=="number")r.callbacks[e]=u!==null?{callback:u,callbackContext:i}:void 0;else for(var a=0,n=e.length;a<n;a++)r.callbacks[e[a]]=u!==null?{callback:u,callbackContext:i}:void 0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o){for(var h=e(i,r,a,n,null,o),d=0;d<h.length;d++)h[d].setCollisionCallback(s,f)};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(131),i=function(r,a,n,s,f){var o=e(r,a,n,s,null,f),h=o.map(function(v){return v.index});u(h);for(var d=0;d<o.length;d++)o[d].index=h[d]};l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f,o){for(var h=e(a,n,s,f,null,o),d=0;d<h.length;d++)h[d]&&(h[d].index===i?h[d].index=r:h[d].index===r&&(h[d].index=i))};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(i,r,a,n,s,f){if(s){var o,h=e(i,r,a,n,null,f),d=0;for(o=0;o<s.length;o++)d+=s[o].weight;if(!(d<=0))for(o=0;o<h.length;o++){for(var v=Math.random()*d,c=0,p=-1,g=0;g<s.length;g++)if(c+=s[g].weight,v<=c){var T=s[g].index;p=Array.isArray(T)?T[Math.floor(Math.random()*T.length)]:T;break}h[o].index=p}}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var i=0;i<e.length;i++){var r=e[i],a=i;if(r.name&&r.name!==""&&(a=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var n={},s={},f,o,h;if(Array.isArray(r.edgecolors))for(f=0;f<r.edgecolors.length;f++)h=1+f,o=r.edgecolors[f],o.name!==""&&(n[h]=o.name);if(Array.isArray(r.cornercolors))for(f=0;f<r.cornercolors.length;f++)h=1+f,o=r.cornercolors[f],o.name!==""&&(s[h]=o.name);if(Array.isArray(r.colors))for(f=0;f<r.colors.length;f++)o=r.colors[f],h=1+f,o.name!==""&&(n[h]=s[h]=o.name);for(var d=[n,s,n,s,n,s,n,s],v=0;v<r.wangtiles.length;v++){var c=r.wangtiles[v],p=u[c.tileid]||(u[c.tileid]={});p=p.wangid||(p.wangid={});for(var g=[],T=0;T<Math.min(d.length,c.wangid.length);T++){if(o=c.wangid[T],o===0){g.push(void 0);continue}var E=d[T][o];if(E!==void 0){g.push(E);continue}g.push(o)}p[a]=g}}}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1457),u=t(1458),l.exports={renderWebGL:e,renderCanvas:u}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(i,r,a){var n=r.cull(a),s=n.length,f=a.alpha*r.alpha;if(!(s===0||f<=0)){var o=r.gidMap,h=i.pipelines.set(r.pipeline,r),d=e.getTintAppendFloatAlpha,v=r.scrollFactorX,c=r.scrollFactorY,p=r.x,g=r.y,T=r.scaleX,E=r.scaleY;i.pipelines.preBatch(r);for(var S=0;S<s;S++){var C=n[S],P=o[C.index];if(P){var A=P.getTileTextureCoordinates(C.index);if(A!==null){var R=P.glTexture,M=h.setTexture2D(R,r),L=P.tileWidth,F=P.tileHeight,I=A.x,B=A.y,b=P.tileWidth*.5,W=P.tileHeight*.5,$=d(C.tint,f*C.alpha);h.batchTexture(r,R,R.width,R.height,p+(b+C.pixelX)*T,g+(W+C.pixelY)*E,C.width,C.height,T,E,C.rotation,C.flipX,C.flipY,v,c,b,W,I,B,L,F,$,$,$,$,!1,0,0,a,null,!0,M)}}}i.pipelines.postBatch(r)}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,i=new e,r=new e,a=function(n,s,f,o){var h=s.cull(f),d=h.length,v=f.alpha*s.alpha;if(!(d===0||v<=0)){var c=u,p=i,g=r;p.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),c.copyFrom(f.matrix);var T=n.currentContext,E=s.gidMap;T.save(),o?(c.multiplyWithOffset(o,-f.scrollX*s.scrollFactorX,-f.scrollY*s.scrollFactorY),p.e=s.x,p.f=s.y,c.multiply(p,g),g.copyToContext(T)):(p.e-=f.scrollX*s.scrollFactorX,p.f-=f.scrollY*s.scrollFactorY,p.copyToContext(T)),(!n.antialias||s.scaleX>1||s.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var S=0;S<d;S++){var C=h[S],P=E[C.index];if(P){var A=P.image.getSourceImage(),R=P.getTileTextureCoordinates(C.index);if(R!==null){var M=P.tileWidth,L=P.tileHeight,F=M*.5,I=L*.5;T.save(),T.translate(C.pixelX+F,C.pixelY+I),C.rotation!==0&&T.rotate(C.rotation),(C.flipX||C.flipY)&&T.scale(C.flipX?-1:1,C.flipY?-1:1),T.globalAlpha=v*C.alpha,T.drawImage(A,R.x,R.y,M,L,-F,-I,M,L),T.restore()}}}T.restore()}};l.exports=a},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(262);e.register("tilemap",function(i){var r=i!==void 0?i:{};return u(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(262);e.register("tilemap",function(i,r,a,n,s,f,o){return i===null&&(i=void 0),r===null&&(r=void 0),a===null&&(a=void 0),n===null&&(n=void 0),s===null&&(s=void 0),u(this.scene,i,r,a,n,s,f,o)})},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clock:t(1462),TimerEvent:t(582)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),i=t(20),r=t(582),a=t(93),n=new e({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(i.BOOT,this.boot,this),f.sys.events.on(i.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(i.PRE_UPDATE,this.preUpdate,this),s.on(i.UPDATE,this.update,this),s.once(i.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var f;return s instanceof r?(f=s,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new r(s),this._pendingInsertion.push(f),f},delayedCall:function(s,f,o,h){return this.addEvent({delay:s,callback:f,args:o,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var o=s[f];a(this._pendingRemoval,o),a(this._pendingInsertion,o),a(this._active,o)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(s===0&&f===0)){var o,h;for(o=0;o<s;o++){h=this._pendingRemoval[o];var d=this._active.indexOf(h);d>-1&&this._active.splice(d,1),h.destroy()}for(o=0;o<f;o++)h=this._pendingInsertion[o],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,f){if(this.now=s,!this.paused){f*=this.timeScale;for(var o=0;o<this._active.length;o++){var h=this._active[o];if(!h.paused&&(h.elapsed+=f*h.timeScale,h.elapsed>=h.delay)){var d=h.elapsed-h.delay;h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0?(h.repeatCount--,h.elapsed=d,h.hasDispatched=!1):this._pendingRemoval.push(h)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(i.PRE_UPDATE,this.preUpdate,this),f.off(i.UPDATE,this.update,this),f.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(i.START,this.start,this),this.scene=null,this.systems=null}});u.register("Clock",n,"time"),l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),u=t(17),i={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};i=u(!1,i,e),l.exports=i},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="active"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="complete"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="loop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="repeat"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="start"},function(l,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="stop"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="update"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="yoyo"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(0),i=t(585),r=t(24),a=t(20),n=t(586),s=t(587),f=t(100),o=t(163),h=new u({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(a.BOOT,this.boot,this),v.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var d=this.systems.events;d.on(a.PRE_UPDATE,this.preUpdate,this),d.on(a.UPDATE,this.update,this),d.once(a.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(d){return s(this,d)},timeline:function(d){var v=s(this,d);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(d){return o(this,d)},add:function(d){var v=o(this,d);return this._add.push(v),this._toProcess++,v},existing:function(d){return this._add.push(d),this._toProcess++,this},addCounter:function(d){var v=i(this,d);return this._add.push(v),this._toProcess++,v},stagger:function(d,v){return n(d,v)},preUpdate:function(){if(this._toProcess!==0){var d=this._destroy,v=this._active,c=this._pending,p,g;for(p=0;p<d.length;p++){g=d[p];var T=v.indexOf(g);T===-1?(T=c.indexOf(g),T>-1&&(g.state=f.REMOVED,c.splice(T,1))):(g.state=f.REMOVED,v.splice(T,1))}for(d.length=0,d=this._add,p=0;p<d.length;p++)g=d[p],g.state===f.PENDING_ADD&&(g.init()?(g.play(),this._active.push(g)):this._pending.push(g));d.length=0,this._toProcess=0}},update:function(d,v){var c=this._active,p;v*=this.timeScale;for(var g=0;g<c.length;g++)p=c[g],p.update(d,v)&&(this._destroy.push(p),this._toProcess++)},remove:function(d){return e(this._add,d),e(this._pending,d),e(this._active,d),e(this._destroy,d),d.state=f.REMOVED,this},makeActive:function(d){if(this._add.indexOf(d)!==-1||this._active.indexOf(d)!==-1)return this;var v=this._pending.indexOf(d);return v!==-1&&this._pending.splice(v,1),this._add.push(d),d.state=f.PENDING_ADD,this._toProcess++,this},each:function(d,v){for(var c=[null],p=1;p<arguments.length;p++)c.push(arguments[p]);for(var g in this.list)c[0]=this.list[g],d.apply(v,c)},getAllTweens:function(){for(var d=this._active,v=[],c=0;c<d.length;c++)v.push(d[c]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(d,v){v===void 0&&(v=!1);var c=this._active,p,g=[],T,E;for(Array.isArray(d)||(d=[d]),T=0;T<c.length;T++)for(p=c[T],E=0;E<d.length;E++)p.hasTarget(d[E])&&g.push(p);if(v)for(c=this._pending,T=0;T<c.length;T++)for(p=c[T],E=0;E<d.length;E++)p.hasTarget(d[E])&&g.push(p);return g},isTweening:function(d){for(var v=this._active,c,p=0;p<v.length;p++)if(c=v[p],c.hasTarget(d)&&c.isPlaying())return!0;return!1},killAll:function(){for(var d=this.getAllTweens(),v=0;v<d.length;v++)d[v].stop();return this},killTweensOf:function(d){for(var v=this.getTweensOf(d),c=0;c<v.length;c++)v[c].stop();return this},pauseAll:function(){for(var d=this._active,v=0;v<d.length;v++)d[v].pause();return this},resumeAll:function(){for(var d=this._active,v=0;v<d.length;v++)d[v].resume();return this},setGlobalTimeScale:function(d){return this.timeScale=d,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var d=this.systems.events;d.off(a.PRE_UPDATE,this.preUpdate,this),d.off(a.UPDATE,this.update,this),d.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",h,"tweens"),l.exports=h},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(l,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,i){for(var r=new Uint8Array(u),a=r.length,n=i?"data:"+i+";base64,":"",s=0;s<a;s+=3)n+=t[r[s]>>2],n+=t[(r[s]&3)<<4|r[s+1]>>4],n+=t[(r[s+1]&15)<<2|r[s+2]>>6],n+=t[r[s+2]&63];return a%3===2?n=n.substring(0,n.length-1)+"=":a%3===1&&(n=n.substring(0,n.length-2)+"=="),n};l.exports=e},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=t(18),i=function(r,a,n,s,f){f===void 0&&(f=n);var o=e(r,a,f);return u(o,n,s)};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var i=0;i<u.length;i++)if(!e.hasOwnProperty(u[i]))return!1;return!0};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(i,r){var a=e(i);for(var n in r)a.hasOwnProperty(n)&&(a[n]=r[n]);return a};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.replace(/%([0-9]+)/g,function(i,r){return u[Number(r)-1]})};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={Arcade:t(1366),Matter:t(1494)}},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var i=0;i<e.length;i++)u|=e[i];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i].hasOwnProperty("body")?e[i].body:e[i];this.body.setOnCollideWith(r,u)}return this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={applyForce:function(i){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,i),this},applyForceFrom:function(i,r){return e.applyForce(this.body,i,r),this},thrust:function(i){var r=this.body.angle;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(i){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(i){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(i){var r=this.body.angle-Math.PI;return this._tempVec2.set(i*Math.cos(r),i*Math.sin(r)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};l.exports=u},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,u,i){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),i!==void 0&&(this.body.frictionStatic=i),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};l.exports=t},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u=t(3),i={setMass:function(r){return e.setMass(this.body,r),this},setDensity:function(r){return e.setDensity(this.body,r),this},centerOfMass:{get:function(){return new u(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};l.exports=i},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};l.exports=t},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),i=t(124),r=t(2),a=t(589),n=t(590),s=t(64),f={setRectangle:function(o,h,d){return this.setBody({type:"rectangle",width:o,height:h},d)},setCircle:function(o,h){return this.setBody({type:"circle",radius:o},h)},setPolygon:function(o,h,d){return this.setBody({type:"polygon",sides:h,radius:o},d)},setTrapezoid:function(o,h,d,v){return this.setBody({type:"trapezoid",width:o,height:h,slope:d},v)},setExistingBody:function(o,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=o;for(var d=0;d<o.parts.length;d++)o.parts[d].gameObject=this;var v=this;if(o.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},h&&(this.world.has(o)&&this.world.remove(o,!0),this.world.add(o)),this._originComponent){var c=o.render.sprite.xOffset,p=o.render.sprite.yOffset,g=o.centerOfMass.x,T=o.centerOfMass.y;if(i(g,.5)&&i(T,.5))this.setOrigin(c+.5,p+.5);else{var E=o.centerOffset.x,S=o.centerOffset.y;this.setOrigin(c+E/this.displayWidth,p+S/this.displayHeight)}}return this},setBody:function(o,h){if(!o)return this;var d;typeof o=="string"&&(o={type:o});var v=r(o,"type","rectangle"),c=r(o,"x",this._tempVec2.x),p=r(o,"y",this._tempVec2.y),g=r(o,"width",this.width),T=r(o,"height",this.height);switch(v){case"rectangle":d=e.rectangle(c,p,g,T,h);break;case"circle":var E=r(o,"radius",Math.max(g,T)/2),S=r(o,"maxSides",25);d=e.circle(c,p,E,h,S);break;case"trapezoid":var C=r(o,"slope",.5);d=e.trapezoid(c,p,g,T,C,h);break;case"polygon":var P=r(o,"sides",5),A=r(o,"radius",Math.max(g,T)/2);d=e.polygon(c,p,P,A,h);break;case"fromVertices":case"fromVerts":var R=r(o,"verts",null);if(R)if(typeof R=="string"&&(R=s.fromPath(R)),this.body&&!this.body.hasOwnProperty("temp"))u.setVertices(this.body,R),d=this.body;else{var M=r(o,"flagInternal",!1),L=r(o,"removeCollinear",.01),F=r(o,"minimumArea",10);d=e.fromVertices(c,p,R,h,M,L,F)}break;case"fromPhysicsEditor":d=a.parseBody(c,p,o,h);break;case"fromPhysicsTracer":d=n.parseBody(c,p,o,h);break}return d&&this.setExistingBody(d,o.addToWorld),this}};l.exports=f},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),u=t(165),i=t(166),r={setToSleep:function(){return u.set(this.body,!0),this},setAwake:function(){return u.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,n){return this.setSleepStartEvent(a),this.setSleepEndEvent(n),this},setSleepStartEvent:function(a){if(a){var n=this.world;i.on(this.body,"sleepStart",function(s){n.emit(e.SLEEP_START,s,this)})}else i.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var n=this.world;i.on(this.body,"sleepEnd",function(s){n.emit(e.SLEEP_END,s,this)})}else i.off(this.body,"sleepEnd");return this}};l.exports=r},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afteradd"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterremove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="afterupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeadd"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeremove"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="beforeupdate"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionactive"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="collisionstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="drag"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="dragstart"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="pause"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="resume"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepend"},function(l,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */l.exports="sleepstart"},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={setStatic:function(i){return e.setStatic(this.body,i),this},isStatic:function(){return this.body.isStatic}};l.exports=u},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u=t(14),i=t(269),r=t(270),a=4,n={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var f=1/this._scaleX,o=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,f,o),e.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var f=1/this._scaleX,o=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~a:this.renderFlags|=a,e.scale(this.body,f,o),e.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*u.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*u.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=i(s),e.setAngle(this.body,this._rotation)}},setPosition:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this._tempVec2.set(s,f),e.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=i(s),e.setAngle(this.body,s),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,e.setAngle(this.body,this.rotation),this},setScale:function(s,f,o){s===void 0&&(s=1),f===void 0&&(f=s);var h=1/this._scaleX,d=1/this._scaleY;return this._scaleX=s,this._scaleY=f,e.scale(this.body,h,d,o),e.scale(this.body,s,f,o),this}};l.exports=n},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={setAngularVelocity:function(i){return e.setAngularVelocity(this.body,i),this},setVelocityX:function(i){return this._tempVec2.set(i,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(i){return this._tempVec2.set(this.body.velocity.x,i),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(i,r){return this._tempVec2.set(i,r),e.setVelocity(this.body,this._tempVec2),this}};l.exports=u},function(l,x,t){var e={};l.exports=e;var u=t(118),i=t(32);(function(){e.create=function(r){var a={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return i.extend(a,!1,r)},e.reset=function(r){r.extended&&(r.narrowDetections=0,r.narrowphaseTests=0,r.narrowReuse=0,r.narrowReuseCount=0,r.midphaseTests=0,r.broadphaseTests=0,r.narrowEff=0,r.midEff=0,r.broadEff=0,r.collisions=0,r.buckets=0,r.pairs=0,r.bodies=0)},e.update=function(r,a){if(r.extended){var n=a.world,s=u.allBodies(n);r.collisions=r.narrowDetections,r.pairs=a.pairs.list.length,r.bodies=s.length,r.midEff=(r.narrowDetections/(r.midphaseTests||1)).toFixed(2),r.narrowEff=(r.narrowDetections/(r.narrowphaseTests||1)).toFixed(2),r.broadEff=(1-r.broadphaseTests/(s.length||1)).toFixed(2),r.narrowReuse=(r.narrowReuseCount/(r.narrowphaseTests||1)).toFixed(2)}}})()},function(l,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=t(271),i=t(86),r=t(41),a=t(1392),n=t(84),s=t(0),f=t(118),o=t(591),h=t(128),d=t(273),v=t(50),c=t(1394),p=t(2),g=t(6),T=t(597),E=t(1525),S=t(1526),C=t(1399),P=t(1527),A=t(127),R=t(250),M=t(598),L=t(595),F=t(24),I=t(1400),B=t(599),b=t(274),W=t(20),$=t(592),Z=t(83),D=t(64),O=t(1402),N=new s({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=f,this.detector=d,this.grid=T,this.pair=R,this.pairs=M,this.query=I,this.resolver=B,this.sat=b,this.constraint=h,this.bodies=i,this.composites=o,this.axes=u,this.bounds=n,this.svg=$,this.vector=Z,this.vertices=D,this.verts=D,this._tempVec2=Z.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),B._restingThresh=g(this.config,"restingThresh",4),B._restingThreshTangent=g(this.config,"restingThreshTangent",6),B._positionDampen=g(this.config,"positionDampen",.9),B._positionWarming=g(this.config,"positionWarming",.8),B._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(W.BOOT,this.boot,this),Y.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new c(this.world),this.bodyBounds=new a,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new c(this.world));var G=this.systems.events;G.on(W.UPDATE,this.world.update,this.world),G.on(W.POST_UPDATE,this.world.postUpdate,this.world),G.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var G=this.systems.game.config.physics,Y=this.systems.settings.physics,V=A(p(Y,"matter",{}),p(G,"matter",{}));return V},enableAttractorPlugin:function(){return L.register(E),L.use(C,E),this},enableWrapPlugin:function(){return L.register(P),L.use(C,P),this},enableCollisionEventsPlugin:function(){return L.register(S),L.use(C,S),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(G,Y){this.world.step(G,Y)},containsPoint:function(G,Y,V){G=this.getMatterBodies(G);var z=Z.create(Y,V),H=I.point(G,z);return H.length>0},intersectPoint:function(G,Y,V){V=this.getMatterBodies(V);var z=Z.create(G,Y),H=[],j=I.point(V,z);return j.forEach(function(q){H.indexOf(q)===-1&&H.push(q)}),H},intersectRect:function(G,Y,V,z,H,j){H===void 0&&(H=!1),j=this.getMatterBodies(j);var q={min:{x:G,y:Y},max:{x:G+V,y:Y+z}},et=[],ot=I.region(j,q,H);return ot.forEach(function(K){et.indexOf(K)===-1&&et.push(K)}),et},intersectRay:function(G,Y,V,z,H,j){H===void 0&&(H=1),j=this.getMatterBodies(j);for(var q=[],et=I.ray(j,Z.create(G,Y),Z.create(V,z),H),ot=0;ot<et.length;ot++)q.push(et[ot].body);return q},intersectBody:function(G,Y){Y=this.getMatterBodies(Y);for(var V=[],z=I.collides(G,Y),H=0;H<z.length;H++){var j=z[H];j.bodyA===G?V.push(j.bodyB):V.push(j.bodyA)}return V},overlap:function(G,Y,V,z,H){V===void 0&&(V=null),z===void 0&&(z=null),H===void 0&&(H=V),Array.isArray(G)||(G=[G]),G=this.getMatterBodies(G),Y=this.getMatterBodies(Y);for(var j=!1,q=0;q<G.length;q++)for(var et=G[q],ot=I.collides(et,Y),K=0;K<ot.length;K++){var Q=ot[K],tt=Q.bodyA.id===et.id?Q.bodyB:Q.bodyA;if(!z||z.call(H,et,tt,Q)){if(j=!0,V)V.call(H,et,tt,Q);else if(!z)return!0}}return j},setCollisionCategory:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){V.collisionFilter.category=Y}),this},setCollisionGroup:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){V.collisionFilter.group=Y}),this},setCollidesWith:function(G,Y){G=this.getMatterBodies(G);var V=0;if(!Array.isArray(Y))V=Y;else for(var z=0;z<Y.length;z++)V|=Y[z];return G.forEach(function(H){H.collisionFilter.mask=V}),this},getMatterBodies:function(G){if(!G)return this.world.getAllBodies();Array.isArray(G)||(G=[G]);for(var Y=[],V=0;V<G.length;V++){var z=G[V].hasOwnProperty("body")?G[V].body:G[V];Y.push(z)}return Y},setVelocity:function(G,Y,V){G=this.getMatterBodies(G);var z=this._tempVec2;return z.x=Y,z.y=V,G.forEach(function(H){r.setVelocity(H,z)}),this},setVelocityX:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return V.x=Y,G.forEach(function(z){V.y=z.velocity.y,r.setVelocity(z,V)}),this},setVelocityY:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return V.y=Y,G.forEach(function(z){V.x=z.velocity.x,r.setVelocity(z,V)}),this},setAngularVelocity:function(G,Y){return G=this.getMatterBodies(G),G.forEach(function(V){r.setAngularVelocity(V,Y)}),this},applyForce:function(G,Y){G=this.getMatterBodies(G);var V=this._tempVec2;return G.forEach(function(z){V.x=z.position.x,V.y=z.position.y,r.applyForce(z,V,Y)}),this},applyForceFromPosition:function(G,Y,V,z){G=this.getMatterBodies(G);var H=this._tempVec2;return G.forEach(function(j){z===void 0&&(z=j.angle),H.x=V*Math.cos(z),H.y=V*Math.sin(z),r.applyForce(j,Y,H)}),this},applyForceFromAngle:function(G,Y,V){G=this.getMatterBodies(G);var z=this._tempVec2;return G.forEach(function(H){V===void 0&&(V=H.angle),z.x=Y*Math.cos(V),z.y=Y*Math.sin(V),r.applyForce(H,{x:H.position.x,y:H.position.y},z)}),this},getConstraintLength:function(G){var Y=G.pointA.x,V=G.pointA.y,z=G.pointB.x,H=G.pointB.y;return G.bodyA&&(Y+=G.bodyA.position.x,V+=G.bodyA.position.y),G.bodyB&&(z+=G.bodyB.position.x,H+=G.bodyB.position.y),v(Y,V,z,H)},alignBody:function(G,Y,V,z){G=G.hasOwnProperty("body")?G.body:G;var H;switch(z){case e.TOP_LEFT:case e.LEFT_TOP:H=this.bodyBounds.getTopLeft(G,Y,V);break;case e.TOP_CENTER:H=this.bodyBounds.getTopCenter(G,Y,V);break;case e.TOP_RIGHT:case e.RIGHT_TOP:H=this.bodyBounds.getTopRight(G,Y,V);break;case e.LEFT_CENTER:H=this.bodyBounds.getLeftCenter(G,Y,V);break;case e.CENTER:H=this.bodyBounds.getCenter(G,Y,V);break;case e.RIGHT_CENTER:H=this.bodyBounds.getRightCenter(G,Y,V);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:H=this.bodyBounds.getBottomLeft(G,Y,V);break;case e.BOTTOM_CENTER:H=this.bodyBounds.getBottomCenter(G,Y,V);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:H=this.bodyBounds.getBottomRight(G,Y,V);break}return H&&r.setPosition(G,H),this},shutdown:function(){var G=this.systems.events;this.world&&(G.off(W.UPDATE,this.world.update,this.world),G.off(W.POST_UPDATE,this.world.postUpdate,this.world)),G.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",N,"matterPhysics"),l.exports=N},function(l,x,t){var e=t(594),u={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Body.create",function(){u.Body.init(this)}),i.before("Engine.update",function(r){u.Engine.update(r)})},Body:{init:function(i){i.plugin.attractors=i.plugin.attractors||[]}},Engine:{update:function(i){for(var r=e.Composite.allBodies(i.world),a=0;a<r.length;a++){var n=r[a],s=n.plugin.attractors;if(s&&s.length>0)for(var f=0;f<r.length;f++){var o=r[f];if(a!==f)for(var h=0;h<s.length;h++){var d=s[h],v=d;e.Common.isFunction(d)&&(v=d(n,o)),v&&e.Body.applyForce(o,o.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(i,r){var a=e.Vector.sub(r.position,i.position),n=e.Vector.magnitudeSquared(a)||1e-4,s=e.Vector.normalise(a),f=-u.Attractors.gravityConstant*(i.mass*r.mass/n),o=e.Vector.mult(s,f);e.Body.applyForce(i,i.position,e.Vector.neg(o)),e.Body.applyForce(r,r.position,o)}}};l.exports=u},function(l,x){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collide",r,a,i),a.gameObject&&a.gameObject.emit("collide",a,r,i),e.Events.trigger(r,"onCollide",{pair:i}),e.Events.trigger(a,"onCollide",{pair:i}),r.onCollideCallback&&r.onCollideCallback(i),a.onCollideCallback&&a.onCollideCallback(i),r.onCollideWith[a.id]&&r.onCollideWith[a.id](a,i),a.onCollideWith[r.id]&&a.onCollideWith[r.id](r,i)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collideActive",r,a,i),a.gameObject&&a.gameObject.emit("collideActive",a,r,i),e.Events.trigger(r,"onCollideActive",{pair:i}),e.Events.trigger(a,"onCollideActive",{pair:i}),r.onCollideActiveCallback&&r.onCollideActiveCallback(i),a.onCollideActiveCallback&&a.onCollideActiveCallback(i)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(i){var r=i.bodyA,a=i.bodyB;r.gameObject&&r.gameObject.emit("collideEnd",r,a,i),a.gameObject&&a.gameObject.emit("collideEnd",a,r,i),e.Events.trigger(r,"onCollideEnd",{pair:i}),e.Events.trigger(a,"onCollideEnd",{pair:i}),r.onCollideEndCallback&&r.onCollideEndCallback(i),a.onCollideEndCallback&&a.onCollideEndCallback(i)})})})}};l.exports=t},function(l,x,t){var e=t(594),u={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(i){i.after("Engine.update",function(){u.Engine.update(this)})},Engine:{update:function(i){for(var r=i.world,a=e.Composite.allBodies(r),n=e.Composite.allComposites(r),s=0;s<a.length;s+=1){var f=a[s];f.plugin.wrap&&u.Body.wrap(f,f.plugin.wrap)}for(s=0;s<n.length;s+=1){var o=n[s];o.plugin.wrap&&u.Composite.wrap(o,o.plugin.wrap)}}},Bounds:{wrap:function(i,r){var a=null,n=null;if(typeof r.min.x<"u"&&typeof r.max.x<"u"&&(i.min.x>r.max.x?a=r.min.x-i.max.x:i.max.x<r.min.x&&(a=r.max.x-i.min.x)),typeof r.min.y<"u"&&typeof r.max.y<"u"&&(i.min.y>r.max.y?n=r.min.y-i.max.y:i.max.y<r.min.y&&(n=r.max.y-i.min.y)),a!==null||n!==null)return{x:a||0,y:n||0}}},Body:{wrap:function(i,r){var a=u.Bounds.wrap(i.bounds,r);return a&&e.Body.translate(i,a),a}},Composite:{bounds:function(i){for(var r=e.Composite.allBodies(i),a=[],n=0;n<r.length;n+=1){var s=r[n];a.push(s.bounds.min,s.bounds.max)}return e.Bounds.create(a)},wrap:function(i,r){var a=u.Bounds.wrap(u.Composite.bounds(i),r);return a&&e.Composite.translate(i,a),a}}};l.exports=u},function(l,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var u=t(33),i=t(17),r={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};r.Sound=t(1492),r=i(!1,r,u),l.exports=r,e.Phaser=r}).call(this,t(600))}])})})(UT);const Eh=Mp(Th),YT="/nuclear-defender/oil-7a554a87.wav",bT="/nuclear-defender/boxOnTarget-cb714b39.wav",zT="/nuclear-defender/pushingBox-cd1aacdc.wav",WT="/nuclear-defender/spring-engage-9bfef7b3.m4a",XT="/nuclear-defender/spring-release-a716dff8.wav",HT="/nuclear-defender/treadmil-uncover-20466bdb.wav",$T="/nuclear-defender/victory-76461a6a.wav",Sn={oil:{key:"oilKey",resource:YT},springEngage:{key:"springEngageKey",resource:WT},springRelease:{key:"springReleaseKey",resource:XT},boxOnTarget:{key:"boxOnTargetKey",resource:bT},treadmil:{key:"treadmilKey",resource:HT},victory:{key:"victoryKey",resource:$T},pushingBox:{key:"pushingBoxKey",resource:zT}};class fe{constructor(y,l){vt(this,"_x",0);vt(this,"_y",0);this._x=y,this._y=l}get x(){return this._x}set x(y){this._x=y}get y(){return this._y}set y(y){this._y=y}clone(){return new fe(this._x,this._y)}normalize(){const y=this.size();return new fe(this._x/y,this._y/y)}isEqualTo(y){return this.x===y.x&&this.y===y.y}isDifferentOf(y){return!this.isEqualTo(y)}calculateOffset(y){const l=new fe(0,0);return y===It.LEFT?l.x-=1:y===It.RIGHT&&(l.x+=1),y===It.UP?l.y-=1:y===It.DOWN&&(l.y+=1),this.sum(l)}subtract(y){return new fe(this.x-y.x,this.y-y.y)}sum(y){return new fe(this.x+y.x,this.y+y.y)}multiply(y){return new fe(this.x*y,this.y*y)}size(){return Math.sqrt(this.quadractricSize())}quadractricSize(){return this.x*this.x+this.y+this.y}}var It;(function(m){m[m.LEFT=0]="LEFT",m[m.UP=1]="UP",m[m.RIGHT=2]="RIGHT",m[m.DOWN=3]="DOWN"})(It||(It={}));const Ro=m=>{switch(m){case It.UP:return It.DOWN;case It.RIGHT:return It.LEFT;case It.DOWN:return It.UP;case It.LEFT:return It.RIGHT}},KT=m=>{switch(m){case It.UP:return It.RIGHT;case It.RIGHT:return It.DOWN;case It.DOWN:return It.LEFT;case It.LEFT:return It.UP}},pa=new Map;pa.set("u",It.UP);pa.set("l",It.LEFT);pa.set("d",It.DOWN);pa.set("r",It.RIGHT);const ZT=m=>pa.get(m.toLowerCase()),zl=m=>{switch(m){case It.LEFT:return new fe(-1,0);case It.UP:return new fe(0,-1);case It.RIGHT:return new fe(1,0);case It.DOWN:return new fe(0,1)}};class JT{constructor(){vt(this,"shortcutKeys");this.shortcutKeys=new Map}enable(y){y.input.keyboard.enabled=!0,y.game.input.enabled=!0,this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Z),{event:be.UNDO_BUTTON_CLICKED}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.R),{event:be.RESTART_LEVEL}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Q),{event:be.QUIT_LEVEL}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),{event:be.HERO_DIRECTION_INPUT,args:It.LEFT}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT),{event:be.HERO_DIRECTION_INPUT,args:It.RIGHT}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),{event:be.HERO_DIRECTION_INPUT,args:It.UP}),this.shortcutKeys.set(y.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),{event:be.HERO_DIRECTION_INPUT,args:It.DOWN})}clear(){this.shortcutKeys.clear()}update(){Array.from(this.shortcutKeys.entries()).forEach(y=>{const[l,x]=y;Phaser.Input.Keyboard.JustDown(l)&&Oi.emit(x.event,x.args)})}}const QT="/nuclear-defender/floor_texture-2d04b708.jpg",jT="/nuclear-defender/sokoban_tilesheet-f67b58e4.png",kT="/nuclear-defender/wall_sprites-943b3868.png",qT="/nuclear-defender/transparent-selector-4fd349b9.png",Rp="/nuclear-defender/thumbnail-faf1c6ed.png",_T="/nuclear-defender/sokoban_tilessheet_normal-602391dc.png";class tE{distance(y,l){return Math.abs(y.x-l.x)+Math.abs(y.y-l.y)}}const Yd=.79,bd=50,zd=40,At={frameRate:8,updateCycleInMs:175,floorTextureKey:"floorTexture",floorTexture:QT,selectorTextureKey:"selectorTextureKey",selectorTextureFile:qT,thumbnailTextureKey:"thumbNailTextureKey",thumbnailTextureFile:Rp,tiles:{verticalPerspective:Yd,verticalSize:bd,horizontalSize:zd,wallSheetKey:"wallSheetKey",wallSheetAsset:kT,spriteSheetKey:"tiles",sheetAsset:jT,sheetAssetNormal:_T,tilemapKey:"tilemap",layerName:"Level",tilesetName:"sokoban",numOfFramesPerLine:36,framesPerAnimation:3},world:{tileSize:{vertical:Math.trunc(bd*Yd),horizontal:zd},scaleLimits:{max:1.15,min:.15},scale:0,mapLimits:{lines:15,rows:15,features:30}},screenRatio:.7,gameWidth:800,gameHeight:600,colors:{foregroundColor:"#d6d6d6",radioactive:"#d4fa00",controlled:"#ff3c91",background:"#dddddd",ambientColor:"#BBBBBB"},html:{gameScene:{}},store:{numberOfEnabledLevelsKey:"numberOfEnabledLevelsKey",currentSelectedIndexKey:"currentSelectedIndexKey",customLevelKey:"customLevelKey",resolvedLevelsKey:"resolvedLevelsKey"},solver:{sleepForInMs:10,iterationPeriodToSleep:400,distanceCalculator:new tE,distanceToTheClosestBox:!1},debug:{mapEditorValidation:!1,solver:{metrics:!0,estimator:!0,iterationNumber:!1}}};var gt;(function(m){m[m.empty=0]="empty",m[m.box=9]="box",m[m.target=64]="target",m[m.wall=100]="wall",m[m.hero=52]="hero",m[m.floor=89]="floor",m[m.boxOnTarget=7]="boxOnTarget",m[m.treadmil=71]="treadmil",m[m.spring=73]="spring",m[m.oily=49]="oily",m[m.oneWayDoor=47]="oneWayDoor"})(gt||(gt={}));const eE=[gt.hero,gt.box],ui=new Map;ui.set("-",gt.empty);ui.set(" ",gt.floor);ui.set("f",gt.floor);ui.set("t",gt.treadmil);ui.set("w",gt.oneWayDoor);ui.set("o",gt.oily);ui.set("s",gt.spring);ui.set("#",gt.wall);ui.set(".",gt.target);ui.set("$",gt.box);ui.set("b",gt.box);ui.set("@",gt.hero);ui.set("p",gt.hero);const iE=m=>ui.get(m)||gt.empty,Lo=m=>{for(let[y,l]of ui.entries())if(l===m)return y},Su=new Map;Su.set(/\*/g,`[${Lo(gt.box).concat(Lo(gt.target))}]`);Su.set(/\+/g,`[${Lo(gt.hero).concat(Lo(gt.target))}]`);const nE=m=>{let y=m;for(let[l,x]of Su)y=y.replace(l,x);return y};class ma{calculate(y,l){let x=10;switch(y){case gt.floor:return-1e5;case gt.oily:return-9e4;case gt.treadmil:return-9e4;case gt.oneWayDoor:return-8e4;case gt.target:return-7e4}return l*100+x}}class Ns{constructor(y){vt(this,"config");this.config=y}createSprite(y){return this.prepareGameObject(this.config.scene.add.sprite(this.config.worldPosition.x,this.config.worldPosition.y,this.config.assetSheetKey,y))}createImage(y){return this.prepareGameObject(this.config.scene.add.image(this.config.worldPosition.x,this.config.worldPosition.y,this.config.assetSheetKey,y))}prepareGameObject(y){return y.scale=At.world.scale,y.setOrigin(0),y.setDepth(new ma().calculate(this.config.code,y.y)),this.config.playable&&y.setPipeline("Light2D"),y}}class sE{constructor(y){vt(this,"tweens");vt(this,"image");vt(this,"id");vt(this,"scene");vt(this,"tilePosition");vt(this,"onTarget");vt(this,"currentTween");this.id=y.id,this.scene=y.scene,this.tilePosition=y.tilePosition,this.tweens=y.scene.tweens,this.image=new Ns(y).createImage(y.code)}getTilePosition(){return this.tilePosition}getId(){return this.id}async update(y){if(!this.tilePosition.isEqualTo(y.tilePosition))return new Promise(l=>{var t,e;this.tilePosition=y.tilePosition,this.currentTween&&(console.log("abort ",this.id,this.tilePosition),(t=this.currentTween)==null||t.tween.stop(),console.log("stopped"),(e=this.currentTween)==null||e.resolve(),this.currentTween=void 0);const x={targets:this.image,x:y.spritePosition.x,y:y.spritePosition.y,duration:y.duration,onUpdate:()=>{this.image.setDepth(new ma().calculate(gt.box,this.image.y))},onComplete:()=>{l(),this.currentTween=void 0}};this.currentTween={tween:this.tweens.add(x),resolve:l}})}getTileCode(){return gt.box}cover(y){const l=y.find(x=>x.getTileCode()===gt.target);if(l){this.image.setFrame(gt.boxOnTarget);const x=l.getId();this.onTarget!==x&&(this.onTarget=x,this.scene.sound.play(Sn.boxOnTarget.key,{volume:.5}))}else this.onTarget!==void 0&&(this.onTarget=void 0,this.image.setFrame(gt.box))}getIsOnTarget(){return this.onTarget!==void 0}}var Ce;(function(m){m[m.STAND=0]="STAND",m[m.LEFT=1]="LEFT",m[m.UP=2]="UP",m[m.RIGHT=3]="RIGHT",m[m.DOWN=4]="DOWN"})(Ce||(Ce={}));const Lp=m=>{switch(m){case Ce.LEFT:return It.LEFT;case Ce.UP:return It.UP;case Ce.RIGHT:return It.RIGHT;case Ce.DOWN:return It.DOWN}},rE=m=>{switch(m){case It.LEFT:return Ce.LEFT;case It.UP:return Ce.UP;case It.RIGHT:return Ce.RIGHT;case It.DOWN:return Ce.DOWN}return Ce.STAND},Op=m=>{switch(m){case"s":return Ce.STAND;case"l":return Ce.LEFT;case"u":return Ce.UP;case"r":return Ce.RIGHT;case"d":return Ce.DOWN}},Fp=m=>Ce[m].charAt(0).toLowerCase();class aE{constructor(y){vt(this,"engine");vt(this,"mementos");this.engine=y,this.mementos=[]}getPlayerMoves(){return this.mementos.map(y=>y.input.heroAction)}getLastActionResult(){var y;return(y=this.mementos[this.mementos.length-1])==null?void 0:y.output}registerMovement(y,l){const x={input:y,output:l};console.log(x),this.mementos.push(x)}async undo(){console.log("mementos: "+this.mementos.length);for(let y=this.mementos.length-1;y>0;--y){const l=this.mementos.pop();if(!l)return;if(l.input.heroAction===Ce.STAND)continue;const x={boxes:l.output.boxes.map(t=>({id:t.id,currentPosition:t.nextPosition,code:t.code,nextPosition:t.currentPosition,direction:t.direction})),hero:{id:l.output.hero.id,code:l.output.hero.code,currentPosition:l.output.hero.nextPosition,nextPosition:l.output.hero.currentPosition,direction:l.output.hero.direction},mapChanged:!0};console.log(l),await this.engine.updateAnimations(x);return}}}class oE{constructor(y){vt(this,"coordinator");vt(this,"position");this.coordinator=y.coordinator,this.position=new fe(0,0)}allowEnteringMovement(){return!1}allowLeavingMovement(){return!0}getTile(){return gt.hero}getPosition(){return this.position}getOrientation(){}act(y){this.position=y.hero.position;let l=!1;if(y.hero.action!==Ce.STAND){const x=Lp(y.hero.action);if(!this.coordinator.canFeatureLeavePosition({point:this.position,orientation:x}))return!1;const t=y.hero.position.calculateOffset(x),e={point:t,orientation:x};if(this.featureAheadAllowsMovement(e)){l=!0,this.coordinator.moveHero(x);const u=y.boxes.find(i=>i.nextPosition.isEqualTo(t));u&&this.coordinator.moveFeature(u,x)}}return l}featureAheadAllowsMovement(y){const l=this.coordinator.getFeaturesBlockingMoveIntoPosition(y);if(l.length>=1){if(l.length===1&&l[0].code===gt.box){if(!this.coordinator.canFeatureLeavePosition(y))return!1;const x=y.point.calculateOffset(y.orientation);return this.coordinator.getFeaturesBlockingMoveIntoPosition({point:x,orientation:y.orientation}).length<=0}return!1}return!0}}class lE{constructor(y){vt(this,"position");vt(this,"orientation");vt(this,"coordinator");vt(this,"nextTilePosition");this.position=y.position,this.orientation=y.orientation,this.coordinator=y.coordinator,this.nextTilePosition=this.position.calculateOffset(this.orientation)}act(y){let l=!1;return y.boxes.filter(x=>x.currentPosition.isEqualTo(this.position)&&x.currentPosition.isEqualTo(x.nextPosition)).forEach(x=>{const t=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:this.nextTilePosition,orientation:this.orientation});if(t.length<=0)this.coordinator.moveFeature(x,this.orientation),l=!0;else{const e=t.find(u=>Hn.PUSHER_FEATURES.has(u.code));e&&t.some(u=>{var s,f;const i=u.code===gt.hero||u.code===gt.box,r=(s=u.currentPosition)==null?void 0:s.isDifferentOf(u.nextPosition),a=u.direction!==e.direction;return i&&((f=u.currentPosition)==null?void 0:f.isEqualTo(this.nextTilePosition))&&r&&a})&&(this.coordinator.moveFeature(x,this.orientation),l=!0)}}),l}allowEnteringMovement(y){return this.orientation===Ro(y)}allowLeavingMovement(y){return this.orientation!==Ro(y)}getTile(){return gt.spring}getPosition(){return this.position}getOrientation(){return this.orientation}}class hE{constructor(y){vt(this,"position");vt(this,"orientation");vt(this,"coordinator");vt(this,"nextTilePosition");this.position=y.position,this.orientation=y.orientation,this.coordinator=y.coordinator,this.nextTilePosition=this.position.calculateOffset(this.orientation)}act(y){let l=!1;return y.boxes.filter(x=>x.currentPosition.isEqualTo(this.position)&&x.currentPosition.isEqualTo(x.nextPosition)).forEach(x=>{const t=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:this.nextTilePosition,orientation:this.orientation});if(t.length<=0)l=this.move(x);else{const e=t.find(u=>Hn.PUSHER_FEATURES.has(u.code));e&&t.some(u=>{var s,f;const i=u.code===gt.hero||u.code===gt.box,r=(s=u.currentPosition)==null?void 0:s.isDifferentOf(u.nextPosition),a=u.direction!==e.direction;return i&&((f=u.currentPosition)==null?void 0:f.isEqualTo(this.nextTilePosition))&&r&&a})&&(l=this.move(x))}}),l}move(y){return this.coordinator.moveFeature(y,this.orientation),!0}allowEnteringMovement(){return!0}allowLeavingMovement(){return!0}getTile(){return gt.spring}getPosition(){return this.position}getOrientation(){return this.orientation}}class uE{constructor(y){vt(this,"position");vt(this,"coordinator");this.position=y.position,this.coordinator=y.coordinator}act(y){var t;let l=!1;const x=(t=y.lastActionResult)==null?void 0:t.boxes.find(e=>e.nextPosition.isEqualTo(this.position)&&e.currentPosition.isDifferentOf(e.nextPosition));if(x){const e=y.boxes.find(r=>r.id===x.id),u=x.direction,i=this.position.calculateOffset(u);if(i.isDifferentOf(y.hero.position)){const r=this.coordinator.getFeaturesBlockingMoveIntoPosition({point:i,orientation:u}),a=e.currentPosition.isDifferentOf(e.nextPosition);r.length<=0&&!a&&(this.coordinator.moveFeature(e,u),l=!0)}}return l}allowEnteringMovement(){return!0}allowLeavingMovement(){return!0}getOrientation(){}getTile(){return gt.oily}getPosition(){return this.position}}class fE{constructor(y){vt(this,"position");vt(this,"orientation");this.position=y.position,this.orientation=y.orientation}act(){return!1}allowEnteringMovement(y){return this.orientation===y}allowLeavingMovement(y){return this.orientation===y||this.orientation===Ro(y)}getTile(){return gt.oneWayDoor}getPosition(){return this.position}getOrientation(){return this.orientation}}const Mu=class{constructor(y){vt(this,"strippedMap");vt(this,"movementHandlers",[]);vt(this,"hero");vt(this,"boxes");this.strippedMap=y.strippedMap,this.movementHandlers.push(new oE({coordinator:this})),this.movementHandlers.push(...this.findTileOrientedPositions(gt.spring,l=>new lE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(gt.oily,l=>new uE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(gt.oneWayDoor,l=>new fE(l))),this.movementHandlers.push(...this.findTileOrientedPositions(gt.treadmil,l=>new hE(l)))}moveHero(y){this.moveFeature(this.hero,y)}moveFeature(y,l){y.direction=l,y.currentPosition=y.nextPosition,y.nextPosition=y.currentPosition.calculateOffset(l)}update(y){this.hero=this.initializeFeature(y.hero,gt.box),this.boxes=y.boxes.map(t=>this.initializeFeature(t,gt.box));const l={hero:{action:y.heroAction,position:this.hero.nextPosition},boxes:this.boxes,lastActionResult:y.lastActionResult},x=this.movementHandlers.reduce((t,e)=>e.act(l)||t,!1);return{hero:this.hero,boxes:this.boxes,mapChanged:x}}canFeatureLeavePosition(y){const l=this.getFeaturesAtPosition(y.point);return this.movementHandlers.filter(t=>l.some(e=>e.code===t.getTile()&&y.point.isEqualTo(t.getPosition()))).every(t=>t.allowLeavingMovement(y.orientation))}getFeaturesBlockingMoveIntoPosition(y){const l=[],x=this.getFeaturesAtPosition(y.point);l.push(...x.filter(e=>Mu.BLOCKER_FEATURES.has(e.code)).map(e=>e));const t=this.getStaticFeaturesAtPosition(y.point);return l.push(...this.movementHandlers.filter(e=>t.some(u=>u.code===e.getTile()&&y.point.isEqualTo(e.getPosition()))).filter(e=>!e.allowEnteringMovement(y.orientation)).map(e=>({code:e.getTile(),direction:e.getOrientation(),nextPosition:y.point,currentPosition:y.point,id:-1}))),[...new Set(l)]}initializeFeature(y,l){return{id:y.id,currentPosition:y.point,nextPosition:y.point,direction:void 0,code:l}}getFeaturesAtPosition(y){let l=this.getDynamicFeaturesAtPosition(y);return l=l.concat(this.getStaticFeaturesAtPosition(y)),l}getDynamicFeaturesAtPosition(y){var x,t,e;let l=[];return((x=this.hero)!=null&&x.currentPosition.isEqualTo(y)||(t=this.hero)!=null&&t.nextPosition.isEqualTo(y))&&l.push(this.hero),(e=this.boxes)==null||e.filter(u=>u.currentPosition.isEqualTo(y)||u.nextPosition.isEqualTo(y)).forEach(u=>l.push(u)),l}getStaticFeaturesAtPosition(y){const l=[];let x=0;if(y.x<this.strippedMap.width&&y.y<this.strippedMap.height&&y.x>=0&&y.y>=0){const t=this.strippedMap.strippedFeatureLayeredMatrix[y.y][y.x];l.push(...t.map(e=>({code:e.code,currentPosition:y,direction:e.orientation,id:++x,nextPosition:y})))}return l}findTileOrientedPositions(y,l){const x=[];return this.strippedMap.strippedFeatureLayeredMatrix.forEach((t,e)=>t.forEach((u,i)=>u.forEach(r=>{r.code===y&&x.push(l({position:new fe(i,e),orientation:r.orientation,coordinator:this}))}))),x}};let Hn=Mu;vt(Hn,"BLOCKER_FEATURES",new Set([gt.box,gt.hero,gt.wall,gt.empty])),vt(Hn,"PUSHER_FEATURES",new Set([gt.hero,gt.treadmil,gt.spring]));class dE{constructor(y){vt(this,"strippedMap");vt(this,"movementCoordinator");vt(this,"hero");vt(this,"boxes");vt(this,"staticActors");vt(this,"heroActionRecorder");vt(this,"nextMoves");vt(this,"levelComplete",!1);vt(this,"animationsAreOver");vt(this,"screenPropertiesCalculator");vt(this,"mapChangedLastCycle");this.screenPropertiesCalculator=y.screenPropertiesCalculator,this.hero=y.actorMap.get(gt.hero)[0],this.boxes=y.actorMap.get(gt.box),this.staticActors=[];for(let[l,x]of y.actorMap.entries())eE.includes(l)||this.staticActors.push(...x);this.strippedMap=y.strippedMap,this.nextMoves=[],this.levelComplete=!1,this.animationsAreOver=!0,this.mapChangedLastCycle=!0,this.heroActionRecorder=new aE(this),this.movementCoordinator=new Hn({strippedMap:this.strippedMap}),this.updateActorsCoveringSituation(),Oi.listenToEvent(be.UNDO_BUTTON_CLICKED,async()=>this.heroActionRecorder.undo())}isLevelComplete(){return this.levelComplete}setInitialPlayerActions(y){this.nextMoves=y}getPlayerMoves(){return this.heroActionRecorder.getPlayerMoves()}async update(){if(this.animationsAreOver&&!this.levelComplete){const y=this.nextMoves.shift()||this.hero.checkAction();if(this.mapChangedLastCycle||y!==Ce.STAND){this.mapChangedLastCycle=!1;const l=this.heroActionRecorder.getLastActionResult(),x={heroAction:y,hero:{point:this.hero.getTilePosition(),id:this.hero.getId()},boxes:this.boxes.map(e=>({point:e.getTilePosition(),id:e.getId()})),lastActionResult:l},t=await this.movementCoordinator.update(x);this.heroActionRecorder.registerMovement(x,t),t.mapChanged&&(this.mapChangedLastCycle=!0,await this.updateAnimations(t),this.checkLevelComplete())}}}async updateAnimations(y){this.animationsAreOver=!1;const l=y.boxes.filter(t=>t.nextPosition.isDifferentOf(t.currentPosition)).map(async t=>{const e=this.boxes.find(i=>t.id===i.getId()),u=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(t.nextPosition);await e.update({duration:At.updateCycleInMs,spritePosition:u,tilePosition:t.nextPosition})}),x=async()=>{const t=y.hero,e=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(t.nextPosition);await this.hero.update({duration:At.updateCycleInMs,tilePosition:t.nextPosition,spritePosition:e,orientation:t.direction,animationPushedBox:!!y.boxes.find(u=>u.currentPosition.isEqualTo(t.nextPosition)&&u.direction===t.direction)})};l.push(x()),this.updateActorsCoveringSituation(),await Promise.all(l),this.animationsAreOver=!0}updateActorsCoveringSituation(){const y=this.boxes.concat(this.hero);this.strippedMap.strippedFeatureLayeredMatrix.forEach((l,x)=>l.forEach((t,e)=>{const u=new fe(e,x),i=y.filter(n=>n.getTilePosition().isEqualTo(u)),r=this.staticActors.filter(n=>n.getTilePosition().isEqualTo(u)),a=i.concat(r);a.forEach(n=>n.cover(a))}))}checkLevelComplete(){this.levelComplete=this.boxes.every(y=>y.getIsOnTarget())}}var Ze;(function(m){m.IDLE_DOWN="IDLE_DOWN",m.IDLE_LEFT="IDLE_LEFT",m.IDLE_UP="IDLE_UP",m.IDLE_RIGHT="IDLE_RIGHT",m.DOWN="DOWN",m.LEFT="LEFT",m.UP="UP",m.RIGHT="RIGHT"})(Ze||(Ze={}));const ga=new Map;ga.set(It.DOWN,{walking:Ze.DOWN,idle:Ze.IDLE_DOWN});ga.set(It.LEFT,{walking:Ze.LEFT,idle:Ze.IDLE_LEFT});ga.set(It.RIGHT,{walking:Ze.RIGHT,idle:Ze.IDLE_RIGHT});ga.set(It.UP,{walking:Ze.UP,idle:Ze.IDLE_UP});class cE{getAnimation(y){return ga.get(y)}createAnimations(){return[{key:Ze.IDLE_DOWN,frames:this.generateFrames(52,1),startFrame:52},{key:Ze.IDLE_LEFT,frames:this.generateFrames(81,1)},{key:Ze.IDLE_UP,frames:this.generateFrames(55,1)},{key:Ze.IDLE_RIGHT,frames:this.generateFrames(78,1)},{key:Ze.DOWN,frames:this.generateFrames(52,3),frameRate:At.frameRate},{key:Ze.LEFT,frames:this.generateFrames(81,3),frameRate:At.frameRate},{key:Ze.UP,frames:this.generateFrames(55,3),frameRate:At.frameRate},{key:Ze.RIGHT,frames:this.generateFrames(78,3),frameRate:At.frameRate}]}generateFrames(y,l){return Array.from(new Array(l)).map((x,t)=>({key:At.tiles.spriteSheetKey,frame:y+t}))}}class vE{constructor(y){vt(this,"heroAnimator");vt(this,"sprite");vt(this,"id");vt(this,"scene");vt(this,"tweens");vt(this,"tilePosition");vt(this,"orientation");vt(this,"actionInputBuffer");this.id=y.id,this.scene=y.scene,this.heroAnimator=new cE,this.orientation=It.DOWN,this.tweens=y.scene.tweens,this.sprite=new Ns(y).createSprite(y.code),this.heroAnimator.createAnimations().forEach(l=>this.sprite.anims.create(l)),this.tilePosition=y.tilePosition,Oi.listenToEvent(be.HERO_DIRECTION_INPUT,l=>this.actionInputBuffer=rE(l))}getTilePosition(){return this.tilePosition}checkAction(){const y=this.actionInputBuffer||Ce.STAND;if(y!==Ce.STAND){this.orientation=Lp(y);const l=this.heroAnimator.getAnimation(this.orientation);this.sprite.anims.play(l.idle,!0)}return this.actionInputBuffer=void 0,y}async update(y){if(!this.tilePosition.isEqualTo(y.tilePosition))return new Promise(l=>{this.tilePosition=y.tilePosition,y.animationPushedBox&&this.scene.sound.play(Sn.pushingBox.key,{volume:.25}),y.orientation!==void 0&&(this.orientation=y.orientation),this.tweens.add({targets:this.sprite,x:y.spritePosition.x,y:y.spritePosition.y,duration:y.duration,onInit:()=>{this.sprite.anims.play(this.heroAnimator.getAnimation(this.orientation).walking,!0)},onUpdate:()=>{this.sprite.setDepth(new ma().calculate(gt.hero,this.sprite.y))},onComplete:()=>{this.sprite.anims.play(this.heroAnimator.getAnimation(this.orientation).idle,!0),l()},onCompleteScope:this})})}getTileCode(){return gt.hero}getId(){return this.id}cover(){}}class Wd{constructor(y){vt(this,"config");this.config=y}createImage(y){return this.prepareGameObject(this.config.scene.add.image(this.config.worldPosition.x,this.config.worldPosition.y,At.tiles.wallSheetKey,y))}prepareGameObject(y){return y.scale=At.world.scale,y.setOrigin(0),y.setDepth(new ma().calculate(gt.wall,y.y)),this.config.playable&&y.setPipeline("Light2D"),y}}var Ji;(function(m){m[m.HERO=0]="HERO",m[m.SPRING=1]="SPRING",m[m.TREADMIL=2]="TREADMIL",m[m.ONE_WAY_DOOR_BACK=3]="ONE_WAY_DOOR_BACK",m[m.ONE_WAY_DOOR_FRONT=4]="ONE_WAY_DOOR_FRONT",m[m.BOX=5]="BOX",m[m.OIL=6]="OIL",m[m.WALL=7]="WALL"})(Ji||(Ji={}));const cs={standing:{index:0,numberOfFrames:3,repeat:!0},walking:{index:1,numberOfFrames:3},pushing:{index:2,numberOfFrames:3,onComplete:()=>cs.standing},covering:{index:1,numberOfFrames:3},uncovering:{index:2,numberOfFrames:3,onComplete:()=>cs.standing}},Xd={orientationOrder:[It.DOWN,It.UP,It.LEFT,It.RIGHT],numOfFramesPerLine:36,hero:{spriteSheet:Ji.HERO,assetSheetKey:At.tiles.spriteSheetKey,oriented:!0,animations:cs},spring:{spriteSheet:Ji.SPRING,assetSheetKey:At.tiles.spriteSheetKey,oriented:!0,animations:cs},oneWayDoor:{spriteSheet:Ji.ONE_WAY_DOOR_BACK,spriteSheetFront:Ji.ONE_WAY_DOOR_FRONT,assetSheetKey:At.tiles.spriteSheetKey,oriented:!0,animations:cs},treadmil:{spriteSheet:Ji.TREADMIL,assetSheetKey:At.tiles.spriteSheetKey,oriented:!0,animations:cs},oil:{spriteSheet:Ji.OIL,assetSheetKey:At.tiles.spriteSheetKey,oriented:!1,frames:[gt.oily,gt.oily+1,gt.oily+1]},box:{spriteSheet:Ji.BOX,assetSheetKey:At.tiles.spriteSheetKey,oriented:!1,animations:cs},wall:{spriteSheet:Ji.WALL,oriented:!1,assetSheetKey:At.tiles.wallSheetKey,cornersOrder:[[It.UP,It.RIGHT],[It.UP,It.LEFT],[It.LEFT,It.DOWN],[It.DOWN,It.RIGHT]]}};class pE{constructor(y){vt(this,"id");vt(this,"tilePosition");vt(this,"adjacentPoints");vt(this,"contentAround");vt(this,"animationConfig");this.id=y.id,this.contentAround=y.contentAround,this.tilePosition=y.tilePosition,this.adjacentPoints=Xd.orientationOrder.map(l=>zl(l).sum(new fe(1,1))),this.animationConfig={playable:y.playable,scene:y.scene,spriteSheetLine:Ji.WALL,worldPosition:y.worldPosition},this.createPicture(),this.createCorners()}createPicture(){const y=this.adjacentPoints.reduce((l,x,t)=>l+(this.contentAround[x.y][x.x].some(e=>e.code===gt.wall)?0:Math.pow(2,t)),0);new Wd(this.animationConfig).createImage(y)}createCorners(){Xd.wall.cornersOrder.forEach((y,l)=>{const x=y.reduce((t,e)=>t.sum(zl(e)),new fe(1,1));if(y.every(t=>{const e=zl(t).sum(new fe(1,1));return this.contentAround[e.y][e.x].some(u=>u.code===gt.wall)})&&this.contentAround[x.y][x.x].every(t=>t.code!==gt.wall)){const t=0+Math.pow(2,4)+l;new Wd(this.animationConfig).createImage(t)}})}getId(){return this.id}getTileCode(){return gt.wall}getTilePosition(){return this.tilePosition}cover(){}}class mE{constructor(y){vt(this,"scene");vt(this,"sprite");vt(this,"id");vt(this,"orientation");vt(this,"tilePosition");vt(this,"covered");switch(this.orientation=y.orientation,this.id=y.id,this.scene=y.scene,this.tilePosition=y.tilePosition,this.sprite=new Ns(y).createSprite(y.code),this.covered=!1,this.orientation){case It.LEFT:break;case It.UP:this.sprite.flipY=!0;break;case It.RIGHT:this.sprite.flipX=!0;break}}cover(y){y.some(l=>l.getTileCode()===gt.hero||l.getTileCode()===gt.box)?this.covered||(this.covered=!0,this.scene.sound.play(Sn.springEngage.key,{volume:.15})):this.covered&&(this.scene.sound.play(Sn.springRelease.key,{volume:.15}),this.covered=!1)}getId(){return this.id}getTileCode(){return gt.spring}getTilePosition(){return this.tilePosition}}const nn=class{constructor(y){vt(this,"sprite");vt(this,"scene");vt(this,"id");vt(this,"tilePosition");vt(this,"coveredBy");vt(this,"intensityModifier");this.id=y.id,this.scene=y.scene,this.tilePosition=y.tilePosition,this.sprite=new Ns(y).createSprite(y.code),this.intensityModifier=1.5,y.contentAround.forEach(l=>l.forEach(x=>x.filter(t=>t.code===gt.target).forEach(()=>this.intensityModifier*=.66))),y.playable&&this.addLight()}addLight(){const y=this.scene.lights.addLight(this.sprite.x,this.sprite.y,nn.LIGHT_RADIUS,nn.LIGHT_UNCOVERED_COLOR,nn.UNCOVERED_LIGHT_INTENSITY),l=new fe(At.world.tileSize.horizontal*.1,At.world.tileSize.horizontal*.1),x=new Phaser.Curves.Path;x.add(new Phaser.Curves.Ellipse(this.sprite.x,this.sprite.y,l.x,l.y));const t={t:0,vec:new Phaser.Math.Vector2};this.scene.tweens.add({targets:t,t:1,ease:"Linear",duration:Math.random()*5e3+3e3,useFrames:!0,onUpdate:()=>{const e=Math.random()*.15;this.coveredBy===gt.hero?y.intensity=nn.HERO_COVERED_LIGHT_INTENSITY*this.intensityModifier+e:this.coveredBy===gt.wall?(y.setColor(nn.LIGHT_COVERED_COLOR),y.intensity=nn.BOX_COVERED_LIGHT_INTENSITY*this.intensityModifier+e):(y.setColor(nn.LIGHT_UNCOVERED_COLOR),y.intensity=nn.UNCOVERED_LIGHT_INTENSITY*this.intensityModifier+e);const u=x.getPoint(t.t,t.vec);this.sprite.setPosition(u.x,u.y),y.setPosition(u.x+this.sprite.width/2,u.y+this.sprite.height/2)},repeat:-1})}getTilePosition(){return this.tilePosition}cover(y){const l=y.find(x=>x.getTileCode()===gt.box||x.getTileCode()===gt.hero);l?this.coveredBy=l.getTileCode():this.coveredBy=void 0}getTileCode(){return gt.target}getId(){return this.id}};let mn=nn;vt(mn,"UNCOVERED_LIGHT_INTENSITY",.66),vt(mn,"BOX_COVERED_LIGHT_INTENSITY",.15),vt(mn,"HERO_COVERED_LIGHT_INTENSITY",.05),vt(mn,"LIGHT_UNCOVERED_COLOR",Phaser.Display.Color.HexStringToColor(At.colors.radioactive).color),vt(mn,"LIGHT_COVERED_COLOR",Phaser.Display.Color.HexStringToColor(At.colors.controlled).color),vt(mn,"LIGHT_RADIUS",At.world.tileSize.horizontal*3);class gE{constructor(y){vt(this,"floorPic");vt(this,"floorMaskShape");vt(this,"screenPropertiesCalculator");this.screenPropertiesCalculator=y.screenPropertiesCalculator,this.floorMaskShape=y.scene.make.graphics({}),this.floorPic=y.scene.add.image(0,0,At.floorTextureKey),this.floorPic.scale=2*At.gameWidth/this.floorPic.width,y.playable&&this.floorPic.setPipeline("Light2D"),this.floorPic.setDepth(new ma().calculate(gt.floor,-10))}addTileMask(y){const x=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(y);this.floorMaskShape.beginPath(),this.floorMaskShape.fillRectShape(new Phaser.Geom.Rectangle(x.x,x.y,At.world.tileSize.horizontal,At.world.tileSize.vertical+10))}createMask(){const y=this.floorMaskShape.createGeometryMask();this.floorPic.setMask(y)}}class xE{constructor(y){vt(this,"scene");vt(this,"sprite");vt(this,"id");vt(this,"orientation");vt(this,"tilePosition");vt(this,"covered");switch(this.orientation=y.orientation,this.id=y.id,this.scene=y.scene,this.tilePosition=y.tilePosition,this.sprite=new Ns(y).createSprite(y.code),this.covered=!1,this.orientation){case It.LEFT:this.sprite.flipX=!0;break;case It.UP:break;case It.DOWN:break;case It.RIGHT:break}}cover(y){y.some(l=>l.getTileCode()===gt.box)?this.covered=!0:this.covered&&(this.covered=!1,this.scene.sound.play(Sn.treadmil.key,{volume:.35}))}getId(){return this.id}getTileCode(){return gt.treadmil}getTilePosition(){return this.tilePosition}}class yE{constructor(y){vt(this,"scene");vt(this,"image");vt(this,"id");vt(this,"tilePosition");vt(this,"covered");this.id=y.id,this.scene=y.scene,this.tilePosition=y.tilePosition,this.image=new Ns(y).createImage(y.code),this.covered=!1}cover(y){y.some(l=>l.getTileCode()===gt.box)?this.covered=!0:this.covered&&(this.covered=!1,this.scene.sound.play(Sn.oil.key,{volume:.1}))}getId(){return this.id}getTileCode(){return gt.oily}getTilePosition(){return this.tilePosition}}class TE{constructor(y){vt(this,"sprite");vt(this,"id");vt(this,"tilePosition");this.id=y.id,this.tilePosition=y.tilePosition,this.sprite=new Ns(y).createSprite(y.code)}cover(){}getId(){return this.id}getTileCode(){return gt.oneWayDoor}getTilePosition(){return this.tilePosition}}class EE{constructor(y){vt(this,"config");vt(this,"sprite");vt(this,"lastChangeInstant");vt(this,"tween");this.config=y,this.lastChangeInstant=0,this.sprite=this.config.scene.add.sprite(0,0,At.selectorTextureKey),this.sprite.scale=At.world.scale,this.sprite.setOrigin(0),this.sprite.setDepth(1/0),this.updatePosition(new fe(0,0)),Oi.listenToEvent(be.MAP_EDITOR_CURSOR_POSITION_CHANGED,l=>this.updatePosition(l),{recoverLast:!0})}updatePosition(y){const l=this.config.screenPropertiesCalculator.getMap(),x=Math.min(y.x,l.width-1),t=Math.min(y.y,l.height-1),e=this.config.screenPropertiesCalculator.getWorldPositionFromTilePosition(new fe(x,t));this.sprite.alpha=1,this.sprite.setPosition(e.x,e.y),this.tween&&this.tween.stop(),this.tween=this.config.scene.tweens.add({targets:this.sprite,alpha:0,duration:1e4,ease:"FadeOut"})}}class Cu{constructor(y){vt(this,"scene");vt(this,"constructorMap");vt(this,"dynamicFeatures");vt(this,"strippedMatrix");vt(this,"floorActor");vt(this,"actorMap");vt(this,"screenPropertiesCalculator");vt(this,"playable");vt(this,"actorCounter");this.screenPropertiesCalculator=y.screenPropertiesCalculator,this.scene=y.scene,this.playable=y.playable,this.dynamicFeatures=y.dynamicFeatures,this.strippedMatrix=y.strippedTileMatrix,this.actorMap=Cu.initializeActorMap(),this.actorCounter=0,this.constructorMap=new Map,this.constructorMap.set(gt.hero,l=>new vE(l)),this.constructorMap.set(gt.box,l=>new sE(l)),this.constructorMap.set(gt.spring,l=>new mE(l)),this.constructorMap.set(gt.target,l=>new mn(l)),this.constructorMap.set(gt.oily,l=>new yE(l)),this.constructorMap.set(gt.oneWayDoor,l=>new TE(l)),this.constructorMap.set(gt.treadmil,l=>new xE(l)),this.constructorMap.set(gt.wall,l=>new pE(l)),this.floorActor=new gE(y)}createGameStage(){return this.initialize(),this.updateCoveringSituation(),new dE({screenPropertiesCalculator:this.screenPropertiesCalculator,scene:this.scene,strippedMap:this.strippedMatrix,actorMap:this.actorMap})}initialize(){this.dynamicFeatures.forEach((y,l)=>y.forEach(x=>this.createActor(x,{code:l}))),this.strippedMatrix.strippedFeatureLayeredMatrix.forEach((y,l)=>y.forEach((x,t)=>x.forEach(e=>{const u=new fe(t,l);e.code===gt.floor?this.floorActor.addTileMask(u):this.createActor(u,e)}))),this.floorActor.createMask(),this.playable||new EE({scene:this.scene,screenPropertiesCalculator:this.screenPropertiesCalculator})}getTilesAround(y,l){const x=[];for(let t=-1;t<2;++t){const e=[];for(let u=-1;u<2;++u){const i=u+y,r=t+l;r>=0&&i>=0&&r<this.strippedMatrix.height&&i<this.strippedMatrix.width?e.push(this.strippedMatrix.strippedFeatureLayeredMatrix[r][i]):e.push([])}x.push(e)}return x}createActor(y,l){const x=this.getTilesAround(y.x,y.y),t=this.screenPropertiesCalculator.getWorldPositionFromTilePosition(y);if(this.constructorMap.has(l.code)){const e={assetSheetKey:At.tiles.spriteSheetKey,playable:this.playable,code:l.code,scene:this.scene,orientation:l.orientation,worldPosition:t,tilePosition:y,contentAround:x,id:this.actorCounter++},u=this.constructorMap.get(l.code)(e);return this.actorMap.get(l.code).push(u),u}}static initializeActorMap(){const y=new Map;return Object.keys(gt).filter(l=>!isNaN(Number(l))).map(l=>Number(l)).forEach(l=>y.set(l,[])),y}updateCoveringSituation(){const y=[];this.actorMap.forEach((x,t)=>{t!==gt.hero&&t!==gt.box&&y.push(...x)});const l=this.actorMap.get(gt.box).concat(this.actorMap.get(gt.hero));this.strippedMatrix.strippedFeatureLayeredMatrix.forEach((x,t)=>x.forEach((e,u)=>{const i=new fe(u,t),r=l.filter(s=>s.getTilePosition().isEqualTo(i)),a=y.filter(s=>s.getTilePosition().isEqualTo(i)),n=r.concat(a);n.forEach(s=>s.cover(n))}))}}class SE{constructor(y){vt(this,"scale");vt(this,"origin");vt(this,"data");this.data=y;const l=10,x={width:y.width*At.tiles.horizontalSize,height:y.height*At.tiles.verticalSize*At.tiles.verticalPerspective},t=(At.gameWidth-l)/x.width,e=(At.gameHeight-l)/x.height;this.scale=Math.min(this.limitValue(t),this.limitValue(e)),this.origin=new fe((At.gameWidth-x.width*this.scale)/2,(At.gameHeight-x.height*this.scale)/2)}getScale(){return this.scale}getMap(){return this.data}getWorldPositionFromTilePosition(y){return new fe(this.origin.x+y.x*At.world.tileSize.horizontal,this.origin.y+y.y*At.world.tileSize.vertical)}limitValue(y){return Eh.Math.Clamp(y,At.world.scaleLimits.min,At.world.scaleLimits.max)}}class CE extends Phaser.Scene{constructor(){super("game");vt(this,"allowUpdates");vt(this,"gameStage");vt(this,"initialTime");vt(this,"router");vt(this,"sceneConfig");vt(this,"inputManager");this.inputManager=new JT}init(){}preload(){this.load.image(At.floorTextureKey,At.floorTexture),this.load.image(At.selectorTextureKey,At.selectorTextureFile),this.load.spritesheet({key:At.tiles.spriteSheetKey,url:At.tiles.sheetAsset,normalMap:At.tiles.sheetAssetNormal,frameConfig:{frameWidth:At.tiles.horizontalSize,frameHeight:At.tiles.verticalSize}}),this.load.spritesheet({key:At.tiles.wallSheetKey,url:At.tiles.wallSheetAsset,frameConfig:{frameWidth:At.tiles.horizontalSize,frameHeight:At.tiles.verticalSize}}),Object.keys(Sn).forEach(l=>{const x=Sn[l];this.load.audio(x.key,x.resource)}),this.allowUpdates=!0}async create(l){this.sceneConfig=l.config,this.router=l.router;const x=new SE(l.config.strippedLayeredTileMatrix),t=x.getScale();At.world.tileSize.horizontal=Math.trunc(At.tiles.horizontalSize*t),At.world.tileSize.vertical=Math.trunc(Math.trunc(At.tiles.verticalSize*At.tiles.verticalPerspective)*t),At.world.scale=t,this.lights.enable().setAmbientColor(Phaser.Display.Color.HexStringToColor(At.colors.ambientColor).color);const e=new Cu({playable:this.sceneConfig.playable,screenPropertiesCalculator:x,scene:this,dynamicFeatures:l.config.dynamicFeatures,strippedTileMatrix:l.config.strippedLayeredTileMatrix});this.gameStage=e.createGameStage(),this.sceneConfig.playable?(this.inputManager.enable(this),this.gameStage.setInitialPlayerActions(l.config.playerInitialActions),this.initialTime=new Date().getTime()):this.input.keyboard.clearCaptures()}async update(l,x){var t;(t=this.sceneConfig)!=null&&t.playable&&this.allowUpdates&&(this.inputManager.update(),await this.gameStage.update(),this.gameStage.isLevelComplete()&&(this.inputManager.clear(),this.sound.play(Sn.victory.key,{volume:.5}),this.allowUpdates=!1,this.input.keyboard.clearCaptures(),setTimeout(async()=>{this.changeScene()},1250)))}changeScene(){this.lights.destroy();const l=this.sceneConfig,x={movesCode:this.gameStage.getPlayerMoves(),isCustomLevel:l.isCustomLevel,level:l.level,display:l.displayNumber,levelIndex:l.levelIndex,totalTime:new Date().getTime()-this.initialTime};yn.setNextLevelViewConfig(x),console.log("level complete",x),this.router.push("/next-level")}}const PE=(m,y,l)=>{const x=document.getElementById("phaser-container"),t=document.getElementById("game-view-title-id"),e=document.getElementById("game-view-time-id"),u=(t==null?void 0:t.clientHeight)||0,i=(e==null?void 0:e.clientHeight)||0;At.gameWidth=x.clientWidth;const r=Math.trunc(x.clientWidth*At.screenRatio),a=document.body.clientHeight*.95-(i+u);if(At.gameHeight=Math.min(r,a),document.getElementById("directional-buttons-container")){const f=document.getElementById("gameview-buttons-container");f.style.height=At.gameHeight+"px"}const s=new Eh.Game({type:Eh.AUTO,parent:m,width:At.gameWidth,height:At.gameHeight,preserveDrawingBuffer:!y.playable,transparent:!0,plugins:{},audio:{disableWebAudio:!0},dom:{},scene:[CE]});return s.scene.start("game",{router:l,config:y}),s};class AE{constructor(y){vt(this,"dressedLayeredTileMatrix");this.dressedLayeredTileMatrix=y}strip(y){const l=new Map;Object.keys(gt).filter(e=>!isNaN(Number(e))).map(e=>Number(e)).forEach(e=>l.set(e,[]));const x=new Map;y.forEach(e=>x.set(e,[]));const t=JSON.parse(JSON.stringify(this.dressedLayeredTileMatrix));return t.strippedFeatureLayeredMatrix.forEach((e,u)=>e.forEach((i,r,a)=>a[r]=i.filter(n=>y.includes(n.code)?(x.get(n.code).push(new fe(r,u)),!1):(l.get(n.code).push(new fe(r,u)),!0)))),{pointMap:l,raw:t,removedFeatures:x}}}class ME{translate(y){const l=this.splitInLines(nE(y.toLowerCase())),x=this.removeMetaChars(l),t=x.length,e=x.reduce((i,r)=>r.length>i?r.length:i,0),u=this.createRectangularLayeredMatrix(t,e,x);return{height:t,width:e,strippedFeatureLayeredMatrix:u}}createRectangularLayeredMatrix(y,l,x){return new Array(y).fill(new Array(l).fill(null)).map((t,e)=>t.map((u,i)=>(x[e][i]||[]).map(r=>({code:r.code,orientation:r.orientation}))))}splitInLines(y){return y.split(/[\n|]/)}removeMetaChars(y){const l=[gt.floor,gt.empty,gt.wall],x={code:gt.floor},t=/\d*\[([^\]]*)\]|(\d*[udlr]?.)/g;return y.map((e,u)=>(e.match(t)||[]).reduce((i,r)=>{if(r.includes("[")){let a=1;const n=r.match(/(\d*)\[(.*?)]/);if(!n)throw Error(`I have no idea what you meant at line ${u+1} with the expression '${r}'. I don't think you expressed yourself correctly.`);const[s,f,o]=n;f&&(a=Math.max(Number(f),a));const h=o.match(t);if(!h)throw Error(`There's an empty grouping tag '[]' at line ${u+1}. Since this is very likely an error. I genlty demand you to fix that.`);const d=h.map(v=>this.getOrientedTilesFromExpression(v)[0]);d.every(v=>!l.includes(v.code))&&d.push(x),Array.from(new Array(a)).forEach(v=>i.push(d))}else this.getOrientedTilesFromExpression(r).forEach(a=>{const n=[a];l.includes(n[0].code)||n.push(x),i.push(n)});return i},[]))}getOrientedTilesFromExpression(y){let[l,x,t,e]=y.match(/(\d*)([udlr]*)(.*)/),u=1;x&&(u=Math.max(Number(x),u));let i;t&&(i=ZT(t));const r={code:iE(e),orientation:i};return new Array(u).fill(r)}}const RE=hi({name:"PhaserContainer",props:["key","playable","render","scene","displayNumber","playerInitialActions","customLevel","levelIndex"],emits:["processedMap"],data(){return{gameInstance:void 0,containerId:"game-container"}},mounted(){var m;if(this.render)try{const y=new ME().translate(this.scene.map),l=new AE(y).strip([gt.hero,gt.box]),x={isCustomLevel:!!this.customLevel,levelIndex:this.levelIndex,playable:this.playable,playerInitialActions:(this.playerInitialActions||"").split("").map(t=>Op(t)),displayNumber:this.displayNumber||"",level:this.scene,dynamicFeatures:l.removedFeatures,strippedLayeredTileMatrix:l.raw};(m=this.gameInstance)==null||m.destroy(!1),this.gameInstance=void 0,this.gameInstance=PE(this.containerId,x,this.$router),this.$emit("processedMap",{processedMap:l,map:this.scene.map})}catch(y){this.$emit("processedMap",{error:y,map:this.scene.map})}},unmounted(){var m;(m=this.gameInstance)==null||m.destroy(!0)}}),Fn=(m,y)=>{const l=m.__vccOpts||m;for(const[x,t]of y)l[x]=t;return l},LE=["id"];function OE(m,y,l,x,t,e){return Se(),ze("div",{id:m.containerId},null,8,LE)}const Ip=Fn(RE,[["render",OE]]),FE=hi({name:"DirectionalButtons",methods:{leftClick(){this.directionClick(It.LEFT)},upClick(){this.directionClick(It.UP)},rightClick(){this.directionClick(It.RIGHT)},downClick(){this.directionClick(It.DOWN)},directionClick(m){Oi.emit(be.HERO_DIRECTION_INPUT,m)}}}),IE={id:"directional-buttons-container"},DE={class:"row justify-content-center"},BE={class:"col-4"},NE=ht("i",{class:"fa-solid fa-arrow-up"},null,-1),wE=[NE],GE=ht("div",{class:"w-100 mt-2"},null,-1),VE={class:"col-4"},UE=ht("i",{class:"fa-solid fa-arrow-left"},null,-1),YE=[UE],bE={class:"col-4"},zE=ht("i",{class:"fa-solid fa-arrow-down"},null,-1),WE=[zE],XE={class:"col-4"},HE=ht("i",{class:"fa-solid fa-arrow-right"},null,-1),$E=[HE];function KE(m,y,l,x,t,e){return Se(),ze("div",IE,[ht("div",DE,[ht("div",BE,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:y[0]||(y[0]=(...u)=>m.upClick&&m.upClick(...u)),type:"button"},wE)]),GE,ht("div",VE,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:y[1]||(y[1]=(...u)=>m.leftClick&&m.leftClick(...u)),type:"button"},YE)]),ht("div",bE,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:y[2]||(y[2]=(...u)=>m.downClick&&m.downClick(...u)),type:"button"},WE)]),ht("div",XE,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button w-100",onClick:y[3]||(y[3]=(...u)=>m.rightClick&&m.rightClick(...u)),type:"button"},$E)])])])}const Dp=Fn(FE,[["render",KE]]),ZE=hi({name:"GameView",components:{PhaserContainer:Ip,DirectionalButtons:Dp},data(){const m=yn.getGameViewConfig();return{totalTime:0,startTime:Date.now(),playerActions:m.playerInitialActions,display:m.display,levelIndex:m.levelIndex,customLevel:m.isCustom,confirmationButton:void 0,smallScreenDisplay:!0,scene:m.level,componentKey:0,render:!1,timer:-1}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender");const m=100;this.timer=setInterval(()=>{this.totalTime=Date.now()-this.startTime},m);const y=document.getElementById("phaser-container");this.smallScreenDisplay=y.clientWidth<=992/2,this.render=!0,this.forceRerender()},unmounted(){clearInterval(this.timer)},methods:{forceRerender(){Oi.clear(),Oi.listenToEvent(be.RESTART_LEVEL,()=>this.resetClick()),Oi.listenToEvent(be.QUIT_LEVEL,()=>this.exitClick()),this.componentKey+=1},resetClick(){this.forceRerender(),this.startTime=Date.now()},undoClick(){Oi.emit(be.UNDO_BUTTON_CLICKED)},exitClick(){this.$router.push("/")}}});const xa=m=>(mr("data-v-92f067db"),m=m(),gr(),m),JE={class:"container game-view text-center px-0 mx-auto disable-dbl-tap-zoom"},QE={class:"row align-items-center mx-0",style:{"max-width":"100vw"}},jE={class:"col-12 pt-2 px-4",id:"game-view-title-id",style:{"text-align":"left"}},kE={class:"sokoban-display display-6 fw-normal",style:{"user-select":"none"}},qE={class:"col-12 px-4",id:"game-view-time-id"},_E={style:{"text-align":"left","font-family":"'Poppins', serif","font-size":"1.5em"}},tS={class:"row mx-auto px-0"},eS={class:"col-12 col-md-8 col-lg-12 px-0",id:"phaser-container"},iS={class:"col-12 col-md-4 col-lg-12 pt-4 pt-md-0 px-1 disable-dbl-tap-zoom",id:"game-view-buttons"},nS={class:"row mx-2",id:"gameview-buttons-container"},sS={class:"col-12"},rS={class:"row justify-content-center mt-2"},aS={class:"col-auto col-lg-3 d-grid gap-2"},oS=xa(()=>ht("span",null,[ht("i",{class:"fa-solid fa-door-open"})],-1)),lS={key:0,class:"mx-2"},hS={class:"col-auto col-lg-3 d-grid gap-2"},uS=xa(()=>ht("span",null,[ht("i",{class:"fa-solid fa-arrows-rotate"})],-1)),fS={key:0,class:"mx-2"},dS={class:"col-auto col-lg-3 d-grid gap-2"},cS=xa(()=>ht("span",null,[ht("i",{class:"fa-solid fa-turn-up",style:{transform:"rotate(-90deg)"}})],-1)),vS={key:0,class:"mx-2"},pS={class:"modal fade",id:"confirmation-modal",tabindex:"-1","aria-labelledby":"confirmationModalLabel","aria-hidden":"true"},mS={class:"modal-dialog modal-dialog-centered"},gS={class:"modal-content"},xS=xa(()=>ht("div",{class:"modal-header"},[ht("h1",{class:"modal-title fs-5"},"Are you sure?"),ht("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),yS={class:"modal-footer"},TS=xa(()=>ht("button",{type:"button",class:"btn btn-primary sokoban-outlined-button","data-bs-dismiss":"modal"},"No",-1));function ES(m,y,l,x,t,e){const u=Rn("PhaserContainer"),i=Rn("DirectionalButtons");return Se(),ze("div",JE,[ht("div",QE,[ht("div",jE,[ht("h1",kE,gi(m.display)+": "+gi(m.scene.title),1)]),ht("div",qE,[ht("h3",_E,gi(Math.trunc(m.totalTime/1e3))+"s ",1)]),ht("div",tS,[ht("div",eS,[(Se(),jn(u,{render:m.render,key:m.componentKey,playable:!0,scene:m.scene,playerInitialActions:m.playerActions,"display-number":m.display,"level-index":m.levelIndex,"custom-level":m.customLevel},null,8,["render","scene","playerInitialActions","display-number","level-index","custom-level"]))]),ht("div",iS,[ht("div",nS,[ht("div",sS,[ht("div",rS,[ht("div",aS,[ht("button",{class:"btn btn-primary sokoban-outlined-button","data-bs-toggle":"modal","data-bs-target":"#confirmation-modal",onClick:y[0]||(y[0]=r=>m.confirmationButton=m.exitClick),type:"button"},[oS,m.smallScreenDisplay?Xn("",!0):(Se(),ze("span",lS,"Quit"))])]),ht("div",hS,[ht("button",{class:"btn btn-primary sokoban-outlined-button","data-bs-toggle":"modal","data-bs-target":"#confirmation-modal",onClick:y[1]||(y[1]=r=>m.confirmationButton=m.resetClick),type:"button"},[uS,m.smallScreenDisplay?Xn("",!0):(Se(),ze("span",fS,"Restart"))])]),ht("div",dS,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button",onClick:y[2]||(y[2]=(...r)=>m.undoClick&&m.undoClick(...r)),type:"button"},[cS,m.smallScreenDisplay?Xn("",!0):(Se(),ze("span",vS,"Undo"))])])])]),m.smallScreenDisplay?(Se(),jn(i,{key:0,class:"col-12 align-self-end mb-4"})):Xn("",!0)])])])]),ht("div",pS,[ht("div",mS,[ht("div",gS,[xS,ht("div",yS,[TS,ht("button",{type:"button",class:"btn btn-primary sokoban-call-for-action-button","data-bs-dismiss":"modal",onClick:y[3]||(y[3]=r=>m.confirmationButton())},"Yes ")])])])])])}const SS=Fn(ZE,[["render",ES],["__scopeId","data-v-92f067db"]]),CS=.01,PS="drr",AS="title",MS=`######
#@   #
# $ .#
######`,RS="/nuclear-defender/src/assets/levels/thumbnail.png",LS={difficultyEstimative:CS,solution:PS,title:AS,map:MS,thumbnailPath:RS};class ce{static getLevelCompleteData(){const y=ce.decodeAndGet(At.store.resolvedLevelsKey);return y?JSON.parse(y):[]}static setLevelCompleteData(y){ce.encodeAndSet(At.store.resolvedLevelsKey,JSON.stringify(y))}static getCustomLevel(){const y=ce.decodeAndGet(At.store.customLevelKey);if(y!==null)return JSON.parse(y);{const l=["mug tree nightmare","hairy keyboard","frozen rule"],x=l[Math.floor(Math.random()*l.length)],t={...LS,title:x};return ce.setCustomLevel(t),t}}static setCustomLevel(y){ce.encodeAndSet(At.store.customLevelKey,JSON.stringify(y))}static getCurrentSelectedIndex(){return Number(ce.decodeAndGet(At.store.currentSelectedIndexKey)||0)}static setCurrentSelectedIndex(y){ce.encodeAndSet(At.store.currentSelectedIndexKey,y+"")}static getNumberOfEnabledLevels(){const y=ce.decodeAndGet(At.store.numberOfEnabledLevelsKey);return y===null?(ce.setNumberOfEnabledLevels(2),2):Number(y)}static setNumberOfEnabledLevels(y){ce.encodeAndSet(At.store.numberOfEnabledLevelsKey,y+"")}static encodeAndSet(y,l){localStorage.setItem(y,l)}static decodeAndGet(y){return localStorage.getItem(y)}}const Bp=`5-#####
#5#ds#ds##
#5rto2rtls##
#ut[$ds]  [.]o4 #
#ut[$rs]@ rso2   #
#ut2 ooo [$rs]$[$ls]#
#utuw o o    #
#ut2 ooo    #
#ut4 o 3 #
#utlt  [$.lw]o4 #
#5#us5#
5-###
`,Np="Test",wp="./src/assets/levels/thumbnail.png",OS={map:Bp,title:Np,thumbnailPath:wp},FS=Object.freeze(Object.defineProperty({__proto__:null,default:OS,map:Bp,thumbnailPath:wp,title:Np},Symbol.toStringTag,{value:"Module"})),Sh=()=>{const m=ce.getNumberOfEnabledLevels();return er().filter((y,l)=>l<m)},er=()=>[ce.getCustomLevel(),{map:`2-3#|2-#.#
2-# 4#
3#$ $.#
#.$ @3#
4#$#
3-#.#
3-3#
`,title:"Baby welcome",thumbnailPath:Rp},{map:`
4-3#
5#[$ds]##
#@$[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
# $[rwo][.o]o #
5#[.us]##
4-3#
`,title:"every fool can see",thumbnailPath:"/nuclear-defender/src/assets/levels/thumbnail.png"},FS,{map:`
6-3#
7#ds#
#5 rw[.o]#
# $ $ #[.o]#
3#@###[.o]#
-2# $oout#
-# $ #o.#
-#   ####
-#####
`,title:"Shoe on"},{map:`
10#
#. #ds4 #
# .$  $  #
#   $#.  #
## #rs[.o]o$@#
#  ###$###
# .$  oo.#
10#
`,title:"Minidevotron poket"},{map:`
--####
--#  #
--#  #
### *###
#      #
# .*** #
## $  ##
-##* ##
--#@  #
--# # #
--#   #
--#####
`,title:"tony middle finger"},{map:`
5-5#
5-# ds[$ls]#
7#[@o]##
#[$rt]4o[.rwo][dt]#
#[.o]5#[dwo]#
#o#---#o#
#o#---#o#
#o#---#o#
#o#---#o#
#o5#[.o]#
#[$ut][.o]4o[$lt]#
9#
`,title:"adventure time"},{map:`
10#
#   .@#  #
#  $#  $ #
## .###  #
###$ .#$ #
#   #  $ #
#   .  #.#
10#
`,title:"Single Snikers"},{map:`
6-3#
7#[$dt]#
#  dt  #[$dt]#
# . .lt#[$dt]#
### ###[$dt]#
-## .o[@o]ls#
-# . #  #
-#   ####
-5#
`,title:"Ahituna salad"},{map:`
-7#
-#5 3#
2#$3#3 #
#3 $2 $ #
# +.# $ 2#
2#..#3 #
-8#
`,title:"Family time"},{map:`
4#|#  #
#  ######
#   $@. #
# $#$#. #
#   $   #
# ####  #
# ..    #
#########
`,title:"whole small world"},{map:`
-6#
##  @ ##
# $ $$ #
#......#
# $$ $ #
3# ut3#
--4#
`,title:"fish memories"},{map:`
###-####
#@###  #
# $..$ #
# $#.  #
# $..$ #
# $..$ #
# #us## #
8#
`,title:"Oldschool punk"},{map:`
####----####
#   #--#   #
# *  ## $* #
# $.  .$.  #
-# $.$#.  #
--#.# @$ #
--# $  #.#
-#  .#$.$ #
#  .$.  .$ #
# *$ ##  * #
#   #--#   #
####----####
`,title:"xman resume"},{map:`
     ##
   ##..##
  #. $ $ #
 #  $  $ .#
 #$$##*#$ #
#.  *.+# $.#
#.$ #..*  .#
 # $#*##$$#
 #. $  $  #
  # $ $ .#
   ##..##
     ##
`,title:"medfest crazy night"},{map:`
 ##########
##   #    ##
#  #.  .#  #
# # . #. # #
# $$* $*$$ #
#   #* .  ##
##  . *#   #
# $$*$ *$$ #
# # .# . # #
#  #.  .#@ #
##    #   ##
 ##########
`,title:"english muffin potato"},{map:`
############
#          #----####
# ######## ######  #
# ##     #         #
# ## ###   ######$ #
# ## #-## $   $   ##
# ## #--#  ##### ##
# ## #-##   $ $  #
# ## ### $ ## @ ##
# # $ ##  #######
# $   ...**.#
########....#
-------######
`,title:"vodka selfsteem"},{map:`
###########
#         #
# $$.$$.$ #
# $.$..$. #
# $..$$.$ #
# $.*+.$. #
# .$....$ #
# $.$$.$. #
# $$..$.$ #
#         #
###########
`,title:"isnt it chaotic"},{map:`
---####
####  #
# $.*.#
# ## .#
#    .####
### $$   #
--#$     #
--#@###  #
--### ####
`,title:"snoopy light bulb"},{map:`
#######
# .$  #
#.    #
#.  ###
#.# ###
#.# $@#
#  $$ #
##$#  #
 #    #
 ######
`,title:"bee hive behavior"},{map:`
--#######
--#  .*@#
###  $$ #
#  $ # ####
#    # $ .#
####..  ###
---######
`,title:"wooden icecream"},{map:`
###########
#.. @#    #
##  $$  $ #
###  $$ # #
#...  #   #
###########
`,title:"eminems suitcase"},{map:`
    #####
#####@  #
#   $$$ #
#..**. ##
#      #
########
`,title:"groundbreak rules"},{map:`
 #######
 # .   ##
 #  $   #
####$ *.#
#@$ .   #
#########
`,title:"daredevil microphone"},{map:`
######
#@#  #
#$#  #
# $  #
#.*  #
# * ##
# .  #
##   #
 #####
`,title:"young child singer"},{map:`
########
# .... #
#  $@$ #
#####  ###
 ###     #
 #     $ #
 #   ##$ #
 ######  #
      ####
`,title:"one eye phantom"},{map:`
-######
-#.   ##
#### $.#
#@$  #.#
# $$   #
#. #   #
########
`,title:"pacman red enemy"},{map:`
######
#... #
# #. ##
#   $ #
#$$$  #
#@ #  #
#######
`,title:"sour green tea"},{map:`
--###--###
###ds####[.o]#
# $o[rwo]dt##[.o]#
#  $#[$o]##[.o]#
# @   [$o]o[.ut]#
##### ####
----###
`,title:"vida loka aunt"},{map:`
--#####
--#   #
### #dw##
#  ... #
#rt$$ $ #
#ut@#####
####
`,title:"rocker science"},{map:`
------####
------#  #
####### .##
#  ##   ..#
#@$   $$  #
####   ####
---#####
`,title:"ambulance call"},{map:`
##### ####
#   ###  #
#     $@ #
## $#$   #
#...#   ##
#########
`,title:"coke tail"},{map:`
 ####
 #  ####
 #     #
## #.  #
# * #*##
# $  * #
# # @  #
#   ####
#####
`,title:"houston situation"},{map:`
  #####
###@  #
# $*#$##
# #  . #
# . $# #
## #.  #
 #    ##
 ###  #
   ####
`,title:"brazilian home kitchen"},{map:`
#####
#   ####
#  $$  #
##.@ . #
-#. #.##
-# $$ #
-#  ###
-####
`,title:"middle west texas"},{map:`
#####
#. .#####
#  .    #
##$$@$  #
## ######
#  $ ##
#   . #
###   #
  #####
`,title:"hospital prayers"},{map:`
  ####
 ##  #
 #   ####
##$ ..*.#
# $  #$ #
#    #@ #
#########
`,title:"church time"},{map:`
 #####
##   #
#  # ###
# # *  #
# #  #@#
#   *  #
### *$##
  # . #
  #####
`,title:"alternative portugal flag"},{map:`
  ########
  #   #  #
  # . $. #
  # . $. #
 ###$##  #
 #.. ##$##
## $*$   #
#  * #   #
#  @.#####
##   #
 #####
`,title:"formula one justice"},{map:`
 #######
 #  #  #
 #$.@.$#
 # .#. #
##$.#.$##
# $   $ #
#   #   #
#########
`,title:"left business"},{map:`
 #####
##  .#
# $#.##
#     #
##$   #
#  #*##
# @  #
#  ###
####
`,title:"eastern island mistery"},{map:`
--#####
###   ##
# .. . #
# $$ # #
## #$$ #
-#.@  ##
-###  #
---####
`,title:"run forrest"},{map:`
--#####
###   #
#   #.##
#  *$@ #
## * **##
-# # #  #
-#      #
-###  ###
---####
`,title:"beauty saloon hair"},{map:`
########
#   #  #
#      #
## #.$.#
#  $@###
# #$*.#
# # # #
#     #
##   ##
-#####
`,title:"kharma chameleon"},{title:"mr. lonely",map:`--####
###[$ds][.o]##
#dt[$o][@o]o[.ls]#
#o[$o]oo[.]#
#rto[$o]##
##[o.]lt#
-####
`},{map:`
----####
---## .#
--## . #
-##rto..#
## [$o][$o]o##
#@$ ols##
# $  ##
#  ###
####
`,title:"driving license"},{map:`
-----####
--####@ #
--#.* $ #
###   # ##
#    #.. #
#    $ $ #
####  ####
---####
`,title:"baby got another"}],IS=hi({name:"NextLevelView",data(){const m=yn.getNextLevelViewConfig();return console.log(m),{config:m}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender");const m=document.getElementsByClassName("toastBtn"),y=document.getElementById("copy-toast");m&&Array.from(m).forEach(l=>{l.addEventListener("click",()=>new bootstrap.Toast(y).show())}),this.config.isCustomLevel||(console.log("Not a custom level"),this.enableNextLevel()),window.addEventListener("keyup",this.keyPressed)},unmounted(){window.removeEventListener("keyup",this.keyPressed)},computed:{movesCode(){return this.config.movesCode.map(m=>Fp(m)).join("")},password(){const m=this.config.levelIndex;if(!this.config.isCustomLevel){const y=er()[m];if(y)return y.title.toLowerCase().replace(/ /g,"-")}},codedMap(){return this.config.level.map.replace(/\n\n/g,`
`).replace(/^\n/g,"")}},methods:{keyPressed(m){m.code==="Enter"&&this.continueButton()},async copy(m){await navigator.clipboard.writeText(m)},storeRecord(){let m=ce.getLevelCompleteData();const y=m.find(x=>x.index===this.config.levelIndex),l={map:this.codedMap,timestamp:new Date().getTime(),index:this.config.levelIndex,title:this.config.level.title,movesCode:this.config.movesCode,totalTime:this.config.totalTime};y?y.totalTime>l.totalTime&&(m=m.filter(x=>x.index!==this.config.levelIndex),m.push(l),ce.setLevelCompleteData(m)):(m.push(l),ce.setLevelCompleteData(m))},enableNextLevel(){this.storeRecord();const m=this.config.levelIndex,y=ce.getNumberOfEnabledLevels();console.log(m,y,er().length),m<er().length-2&&(m===y-1&&ce.setNumberOfEnabledLevels(m+2),console.log("LongTermStore.setCurrentSelectedIndex(currentIndex + 1)"),ce.setCurrentSelectedIndex(m+1))},continueButton(){this.$router.push("/")}}});const ya=m=>(mr("data-v-c8a74da8"),m=m(),gr(),m),DS=ya(()=>ht("div",{class:"toast-container position-fixed top-0 end-0 pt-3 disable-dbl-tap-zoom"},[ht("div",{id:"copy-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},[ht("div",{class:"d-flex sokoban-toast"},[ht("div",{class:"toast-body"}," Text copied to clipboard "),ht("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),BS={class:"container my-5 next-level-view text-center"},NS={class:"row row-cols-1 justify-content-end gy-3"},wS={class:"col",style:{"text-align":"center"}},GS={class:"sokoban-display display-3 fw-normal",style:{"user-select":"none"}},VS={class:"col my-1"},US={class:"sokoban-display fw-normal",style:{"user-select":"none",color:"var(--background-color)","text-align":"right"}},YS={key:0,class:"col-12"},bS=ya(()=>ht("label",{class:"form-label sokoban-label"},"Password",-1)),zS={class:"input-group"},WS=["value"],XS={class:"col-12"},HS=ya(()=>ht("label",{class:"form-label sokoban-label"},"Player actions",-1)),$S={class:"input-group"},KS=["value"],ZS={class:"col-12"},JS=ya(()=>ht("label",{class:"form-label sokoban-label"},"Map",-1)),QS={class:"input-group"},jS=["rows"],kS={class:"col-auto d-grid gap-2 my-5"},qS=ya(()=>ht("i",{class:"fa-solid fa-forward"},null,-1));function _S(m,y,l,x,t,e){return Se(),ze("main",null,[DS,ht("div",BS,[ht("div",NS,[ht("div",wS,[ht("h1",GS," Level '"+gi(m.config.display)+"' complete!",1)]),ht("div",VS,[ht("h4",US,"Total time: "+gi(Math.trunc(m.config.totalTime/100)/10)+"s ",1)]),m.password?(Se(),ze("div",YS,[bS,ht("div",zS,[ht("input",{type:"text",class:"form-control",readonly:"",value:m.password},null,8,WS),ht("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:y[0]||(y[0]=u=>m.copy(m.password))}," Copy ")])])):Xn("",!0),ht("div",XS,[HS,ht("div",$S,[ht("input",{type:"text",class:"form-control",readonly:"",value:m.movesCode},null,8,KS),ht("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:y[1]||(y[1]=u=>m.copy(m.movesCode))}," Copy ")])]),ht("div",ZS,[JS,ht("div",QS,[Es(ht("textarea",{class:"form-control map-text-area",readonly:"","onUpdate:modelValue":y[2]||(y[2]=u=>m.codedMap=u),style:{"font-size":".9rem"},rows:m.codedMap.split(`
`).filter(u=>u.length>0).length},null,8,jS),[[Ln,m.codedMap]]),ht("button",{class:"btn btn-outline-secondary toastBtn",type:"button",style:{"background-color":"var(--radioactive-color)"},onClick:y[3]||(y[3]=u=>m.copy(m.codedMap))}," Copy ")])]),ht("div",kS,[ht("button",{class:"btn btn-primary sokoban-call-for-action-button",onClick:y[4]||(y[4]=(...u)=>m.continueButton&&m.continueButton(...u)),type:"button"},[qS,Bs(" Continue ")])])])])])}const tC=Fn(IS,[["render",_S],["__scopeId","data-v-c8a74da8"]]);var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});var io=window,Vn=io.requestAnimationFrame||io.webkitRequestAnimationFrame||io.mozRequestAnimationFrame||io.msRequestAnimationFrame||function(m){return setTimeout(m,16)},Hd=window,Wl=Hd.cancelAnimationFrame||Hd.mozCancelAnimationFrame||function(m){clearTimeout(m)};function Xl(){for(var m,y,l,x=arguments[0]||{},t=1,e=arguments.length;t<e;t++)if((m=arguments[t])!==null)for(y in m)l=m[y],x!==l&&l!==void 0&&(x[y]=l);return x}function Ki(m){return["true","false"].indexOf(m)>=0?JSON.parse(m):m}function Zi(m,y,l,x){if(x)try{m.setItem(y,l)}catch{}return l}function eC(){var m=window.tnsId;return window.tnsId=m?m+1:1,"tns"+window.tnsId}function nl(){var m=document,y=m.body;return y||(y=m.createElement("body"),y.fake=!0),y}var $r=document.documentElement;function sl(m){var y="";return m.fake&&(y=$r.style.overflow,m.style.background="",m.style.overflow=$r.style.overflow="hidden",$r.appendChild(m)),y}function rl(m,y){m.fake&&(m.remove(),$r.style.overflow=y,$r.offsetHeight)}function iC(){var m=document,y=nl(),l=sl(y),x=m.createElement("div"),t=!1;y.appendChild(x);try{for(var e="(10px * 10)",u=["calc"+e,"-moz-calc"+e,"-webkit-calc"+e],i,r=0;r<3;r++)if(i=u[r],x.style.width=i,x.offsetWidth===100){t=i.replace(e,"");break}}catch{}return y.fake?rl(y,l):x.remove(),t}function nC(){var m=document,y=nl(),l=sl(y),x=m.createElement("div"),t=m.createElement("div"),e="",u=70,i=3,r=!1;x.className="tns-t-subp2",t.className="tns-t-ct";for(var a=0;a<u;a++)e+="<div></div>";return t.innerHTML=e,x.appendChild(t),y.appendChild(x),r=Math.abs(x.getBoundingClientRect().left-t.children[u-i].getBoundingClientRect().left)<2,y.fake?rl(y,l):x.remove(),r}function sC(){if(window.matchMedia||window.msMatchMedia)return!0;var m=document,y=nl(),l=sl(y),x=m.createElement("div"),t=m.createElement("style"),e="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",u;return t.type="text/css",x.className="tns-mq-test",y.appendChild(t),y.appendChild(x),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(m.createTextNode(e)),u=window.getComputedStyle?window.getComputedStyle(x).position:x.currentStyle.position,y.fake?rl(y,l):x.remove(),u==="absolute"}function rC(m,y){var l=document.createElement("style");return m&&l.setAttribute("media",m),y&&l.setAttribute("nonce",y),document.querySelector("head").appendChild(l),l.sheet?l.sheet:l.styleSheet}function vn(m,y,l,x){"insertRule"in m?m.insertRule(y+"{"+l+"}",x):m.addRule(y,l,x)}function aC(m,y){"deleteRule"in m?m.deleteRule(y):m.removeRule(y)}function en(m){var y="insertRule"in m?m.cssRules:m.rules;return y.length}function oC(m,y){return Math.atan2(m,y)*(180/Math.PI)}function lC(m,y){var l=!1,x=Math.abs(90-Math.abs(m));return x>=90-y?l="horizontal":x<=y&&(l="vertical"),l}function Un(m,y,l){for(var x=0,t=m.length;x<t;x++)y.call(l,m[x],x)}var Pu="classList"in document.createElement("_"),dr=Pu?function(m,y){return m.classList.contains(y)}:function(m,y){return m.className.indexOf(y)>=0},we=Pu?function(m,y){dr(m,y)||m.classList.add(y)}:function(m,y){dr(m,y)||(m.className+=" "+y)},ci=Pu?function(m,y){dr(m,y)&&m.classList.remove(y)}:function(m,y){dr(m,y)&&(m.className=m.className.replace(y,""))};function Fr(m,y){return m.hasAttribute(y)}function no(m,y){return m.getAttribute(y)}function Vp(m){return typeof m.item<"u"}function Si(m,y){if(m=Vp(m)||m instanceof Array?m:[m],Object.prototype.toString.call(y)==="[object Object]")for(var l=m.length;l--;)for(var x in y)m[l].setAttribute(x,y[x])}function Yn(m,y){m=Vp(m)||m instanceof Array?m:[m],y=y instanceof Array?y:[y];for(var l=y.length,x=m.length;x--;)for(var t=l;t--;)m[x].removeAttribute(y[t])}function $d(m){for(var y=[],l=0,x=m.length;l<x;l++)y.push(m[l]);return y}function Ci(m,y){m.style.display!=="none"&&(m.style.display="none")}function Pi(m,y){m.style.display==="none"&&(m.style.display="")}function Kd(m){return window.getComputedStyle(m).display!=="none"}function Ir(m){if(typeof m=="string"){var y=[m],l=m.charAt(0).toUpperCase()+m.substr(1),x=["Webkit","Moz","ms","O"];x.forEach(function(i){(i!=="ms"||m==="transform")&&y.push(i+l)}),m=y}var t=document.createElement("fakeelement");m.length;for(var e=0;e<m.length;e++){var u=m[e];if(t.style[u]!==void 0)return u}return!1}function hC(m){if(!m||!window.getComputedStyle)return!1;var y=document,l=nl(),x=sl(l),t=y.createElement("p"),e,u=m.length>9?"-"+m.slice(0,-9).toLowerCase()+"-":"";return u+="transform",l.insertBefore(t,null),t.style[m]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(u),l.fake?rl(l,x):t.remove(),e!==void 0&&e.length>0&&e!=="none"}function Zd(m,y){var l=!1;return/^Webkit/.test(m)?l="webkit"+y+"End":/^O/.test(m)?l="o"+y+"End":m&&(l=y.toLowerCase()+"end"),l}var Up=!1;try{var uC=Object.defineProperty({},"passive",{get:function(){Up=!0}});window.addEventListener("test",null,uC)}catch{}var Yp=Up?{passive:!0}:!1;function De(m,y,l){for(var x in y){var t=["touchstart","touchmove"].indexOf(x)>=0&&!l?Yp:!1;m.addEventListener(x,y[x],t)}}function Ke(m,y){for(var l in y){var x=["touchstart","touchmove"].indexOf(l)>=0?Yp:!1;m.removeEventListener(l,y[l],x)}}function fC(){return{topics:{},on:function(m,y){this.topics[m]=this.topics[m]||[],this.topics[m].push(y)},off:function(m,y){if(this.topics[m]){for(var l=0;l<this.topics[m].length;l++)if(this.topics[m][l]===y){this.topics[m].splice(l,1);break}}},emit:function(m,y){y.type=m,this.topics[m]&&this.topics[m].forEach(function(l){l(y,m)})}}}function dC(m,y,l,x,a,e,u){var i=Math.min(e,10),r=a.indexOf("%")>=0?"%":"px",a=a.replace(r,""),n=Number(m.style[y].replace(l,"").replace(x,"").replace(r,"")),s=(a-n)/e*i;setTimeout(f,i);function f(){e-=i,n+=s,m.style[y]=l+n+r+x,e>0?setTimeout(f,i):u()}}Object.keys||(Object.keys=function(m){var y=[];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&y.push(l);return y});"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var bp=function(m){m=Xl({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},m||{});var y=document,l=window,x={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},e=m.useLocalStorage;if(e){var u=navigator.userAgent,i=new Date;try{t=l.localStorage,t?(t.setItem(i,i),e=t.getItem(i)==i,t.removeItem(i)):e=!1,e||(t={})}catch{e=!1}e&&(t.tnsApp&&t.tnsApp!==u&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(J){t.removeItem(J)}),localStorage.tnsApp=u)}var r=t.tC?Ki(t.tC):Zi(t,"tC",iC(),e),a=t.tPL?Ki(t.tPL):Zi(t,"tPL",nC(),e),n=t.tMQ?Ki(t.tMQ):Zi(t,"tMQ",sC(),e),s=t.tTf?Ki(t.tTf):Zi(t,"tTf",Ir("transform"),e),f=t.t3D?Ki(t.t3D):Zi(t,"t3D",hC(s),e),o=t.tTDu?Ki(t.tTDu):Zi(t,"tTDu",Ir("transitionDuration"),e),h=t.tTDe?Ki(t.tTDe):Zi(t,"tTDe",Ir("transitionDelay"),e),d=t.tADu?Ki(t.tADu):Zi(t,"tADu",Ir("animationDuration"),e),v=t.tADe?Ki(t.tADe):Zi(t,"tADe",Ir("animationDelay"),e),c=t.tTE?Ki(t.tTE):Zi(t,"tTE",Zd(o,"Transition"),e),p=t.tAE?Ki(t.tAE):Zi(t,"tAE",Zd(d,"Animation"),e),g=l.console&&typeof l.console.warn=="function",T=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],E={};if(T.forEach(function(J){if(typeof m[J]=="string"){var it=m[J],dt=y.querySelector(it);if(E[J]=it,dt&&dt.nodeName)m[J]=dt;else{g&&console.warn("Can't find",m[J]);return}}}),m.container.children.length<1){g&&console.warn("No slides found in",m.container);return}var S=m.responsive,C=m.nested,P=m.mode==="carousel";if(S){0 in S&&(m=Xl(m,S[0]),delete S[0]);var A={};for(var R in S){var M=S[R];M=typeof M=="number"?{items:M}:M,A[R]=M}S=A,A=null}function L(J){for(var it in J)P||(it==="slideBy"&&(J[it]="page"),it==="edgePadding"&&(J[it]=!1),it==="autoHeight"&&(J[it]=!1)),it==="responsive"&&L(J[it])}if(P||L(m),!P){m.axis="horizontal",m.slideBy="page",m.edgePadding=!1;var F=m.animateIn,I=m.animateOut,B=m.animateDelay,b=m.animateNormal}var W=m.axis==="horizontal",$=y.createElement("div"),Z=y.createElement("div"),D,O=m.container,N=O.parentNode,G=O.outerHTML,Y=O.children,V=Y.length,z,H=wu(),j=!1;S&&Zu(),P&&(O.className+=" tns-vpfix");var q=m.autoWidth,et=zt("fixedWidth"),ot=zt("edgePadding"),K=zt("gutter"),Q=Vu(),tt=zt("center"),nt=q?1:Math.floor(zt("items")),ft=zt("slideBy"),mt=m.viewportMax||m.fixedWidthViewportWidth,pt=zt("arrowKeys"),at=zt("speed"),Tt=m.rewind,lt=Tt?!1:m.loop,Et=zt("autoHeight"),Ct=zt("controls"),Lt=zt("controlsText"),Pt=zt("nav"),Mt=zt("touch"),wt=zt("mouseDrag"),Dt=zt("autoplay"),bt=zt("autoplayTimeout"),ie=zt("autoplayText"),ae=zt("autoplayHoverPause"),Le=zt("autoplayResetOnVisibility"),Xt=rC(null,zt("nonce")),Me=m.lazyload,ve=m.lazyloadSelector,Ht,Oe=[],Ne=lt?Kp():0,re=P?V+Ne*2:V+Ne,Qt=!!((et||q)&&!lt),He=et?ml():null,hn=!P||!lt,$e=W?"left":"top",_i="",Ft="",Xi=function(){return et?function(){return tt&&!lt?V-1:Math.ceil(-He/(et+K))}:q?function(){for(var J=0;J<re;J++)if(Ht[J]>=-He)return J}:function(){return tt&&P&&!lt?V-1:lt||P?Math.max(0,re-Math.ceil(nt)):re-1}}(),Ot=Bu(zt("startIndex")),Hi=Ot;Du();var Ni=0,ti=q?null:Xi(),ws=m.preventActionWhenRunning,U=m.swipeAngle,w=U?"?":!0,X=!1,k=m.onInit,_=new fC,st=" tns-slider tns-"+m.mode,rt=O.id||eC(),ct=zt("disable"),ut=!1,yt=m.freezable,St=yt&&!q?hl():!1,Rt=!1,Yt={click:Dn,keydown:vm},$t={click:om,keydown:pm},Wt={mouseover:fm,mouseout:dm},ne={visibilitychange:um},Kt={keydown:cm},jt={touchstart:mf,touchmove:gf,touchend:za,touchcancel:za},kt={mousedown:mf,mousemove:gf,mouseup:za,mouseleave:za},se=fn("controls"),te=fn("nav"),Zt=q?!0:m.navAsThumbnails,Gt=fn("autoplay"),Ut=fn("touch"),qt=fn("mouseDrag"),oe="tns-slide-active",ye="tns-slide-cloned",pe="tns-complete",ei={load:_p,error:tm},fi,un,yi=m.preventScrollOnTouch==="force";if(se)var Fe=m.controlsContainer,Lu=m.controlsContainer?m.controlsContainer.outerHTML:"",Pe=m.prevButton,Ae=m.nextButton,Xp=m.prevButton?m.prevButton.outerHTML:"",Hp=m.nextButton?m.nextButton.outerHTML:"",xr,yr;if(te)var Qe=m.navContainer,Ou=m.navContainer?m.navContainer.outerHTML:"",Ti,wi=q?V:yf(),es=0,is=-1,Ei=Nu(),Gs=Ei,Ea="tns-nav-active",Vs="Carousel Page ",al=" (Current Slide)";if(Gt)var Fu=m.autoplayDirection==="forward"?1:-1,Ie=m.autoplayButton,Iu=m.autoplayButton?m.autoplayButton.outerHTML:"",Tr=["<span class='tns-visually-hidden'>"," animation</span>"],Sa,di,Ca,Us,Pa;if(Ut||qt)var ns={},$i={},Aa,ss=!1,Gi,ol=W?function(J,it){return J.x-it.x}:function(J,it){return J.y-it.y};q||Ma(ct||St),s&&($e=s,_i="translate",f?(_i+=W?"3d(":"3d(0px, ",Ft=W?", 0px, 0px)":", 0px)"):(_i+=W?"X(":"Y(",Ft=")")),P&&(O.className=O.className.replace("tns-vpfix","")),Jp(),Qp(),bu();function Ma(J){J&&(Ct=Pt=Mt=wt=pt=Dt=ae=Le=!1)}function Du(){for(var J=P?Ot-Ne:Ot;J<0;)J+=V;return J%V+1}function Bu(J){return J=J?Math.max(0,Math.min(lt?V-1:V-nt,J)):0,P?J+Ne:J}function Ra(J){for(J==null&&(J=Ot),P&&(J-=Ne);J<0;)J+=V;return Math.floor(J%V)}function Nu(){var J=Ra(),it;return it=Zt?J:et||q?Math.ceil((J+1)*wi/V-1):Math.floor(J/nt),!lt&&P&&Ot===ti&&(it=wi-1),it}function $p(){if(q||et&&!mt)return V-1;var J=et?"fixedWidth":"items",it=[];if((et||m[J]<V)&&it.push(m[J]),S)for(var dt in S){var xt=S[dt][J];xt&&(et||xt<V)&&it.push(xt)}return it.length||it.push(0),Math.ceil(et?mt/Math.min.apply(null,it):Math.max.apply(null,it))}function Kp(){var J=$p(),it=P?Math.ceil((J*5-V)/2):J*4-V;return it=Math.max(J,it),fn("edgePadding")?it+1:it}function wu(){return l.innerWidth||y.documentElement.clientWidth||y.body.clientWidth}function ll(J){return J==="top"?"afterbegin":"beforeend"}function Gu(J){if(J!=null){var it=y.createElement("div"),dt,xt;return J.appendChild(it),dt=it.getBoundingClientRect(),xt=dt.right-dt.left,it.remove(),xt||Gu(J.parentNode)}}function Vu(){var J=ot?ot*2-K:0;return Gu(N)-J}function fn(J){if(m[J])return!0;if(S){for(var it in S)if(S[it][J])return!0}return!1}function zt(J,it){if(it==null&&(it=H),J==="items"&&et)return Math.floor((Q+K)/(et+K))||1;var dt=m[J];if(S)for(var xt in S)it>=parseInt(xt)&&J in S[xt]&&(dt=S[xt][J]);return J==="slideBy"&&dt==="page"&&(dt=zt("items")),!P&&(J==="slideBy"||J==="items")&&(dt=Math.floor(dt)),dt}function Zp(J){return r?r+"("+J*100+"% / "+re+")":J*100/re+"%"}function La(J,it,dt,xt,Bt){var Vt="";if(J!==void 0){var le=J;it&&(le-=it),Vt=W?"margin: 0 "+le+"px 0 "+J+"px;":"margin: "+J+"px 0 "+le+"px 0;"}else if(it&&!dt){var Ye="-"+it+"px",je=W?Ye+" 0 0":"0 "+Ye+" 0";Vt="margin: 0 "+je+";"}return!P&&Bt&&o&&xt&&(Vt+=rs(xt)),Vt}function Oa(J,it,dt){return J?(J+it)*re+"px":r?r+"("+re*100+"% / "+dt+")":re*100/dt+"%"}function Fa(J,it,dt){var xt;if(J)xt=J+it+"px";else{P||(dt=Math.floor(dt));var Bt=P?re:dt;xt=r?r+"(100% / "+Bt+")":100/Bt+"%"}return xt="width:"+xt,C!=="inner"?xt+";":xt+" !important;"}function Ia(J){var it="";if(J!==!1){var dt=W?"padding-":"margin-",xt=W?"right":"bottom";it=dt+xt+": "+J+"px;"}return it}function Uu(J,it){var dt=J.substring(0,J.length-it).toLowerCase();return dt&&(dt="-"+dt+"-"),dt}function rs(J){return Uu(o,18)+"transition-duration:"+J/1e3+"s;"}function Yu(J){return Uu(d,17)+"animation-duration:"+J/1e3+"s;"}function Jp(){var J="tns-outer",it="tns-inner";if(fn("gutter"),$.className=J,Z.className=it,$.id=rt+"-ow",Z.id=rt+"-iw",O.id===""&&(O.id=rt),st+=a||q?" tns-subpixel":" tns-no-subpixel",st+=r?" tns-calc":" tns-no-calc",q&&(st+=" tns-autowidth"),st+=" tns-"+m.axis,O.className+=st,P?(D=y.createElement("div"),D.id=rt+"-mw",D.className="tns-ovh",$.appendChild(D),D.appendChild(Z)):$.appendChild(Z),Et){var dt=D||Z;dt.className+=" tns-ah"}if(N.insertBefore($,O),Z.appendChild(O),Un(Y,function(Ge,bs){we(Ge,"tns-item"),Ge.id||(Ge.id=rt+"-item"+bs),!P&&b&&we(Ge,b),Si(Ge,{"aria-hidden":"true",tabindex:"-1"})}),Ne){for(var xt=y.createDocumentFragment(),Bt=y.createDocumentFragment(),Vt=Ne;Vt--;){var le=Vt%V,Ye=Y[le].cloneNode(!0);if(we(Ye,ye),Yn(Ye,"id"),Bt.insertBefore(Ye,Bt.firstChild),P){var je=Y[V-1-le].cloneNode(!0);we(je,ye),Yn(je,"id"),xt.appendChild(je)}}O.insertBefore(xt,O.firstChild),O.appendChild(Bt),Y=O.children}}function bu(){if(fn("autoHeight")||q||!W){var J=O.querySelectorAll("img");Un(J,function(it){var dt=it.src;Me||(dt&&dt.indexOf("data:image")<0?(it.src="",De(it,ei),we(it,"loading"),it.src=dt):_u(it))}),Vn(function(){Na($d(J),function(){fi=!0})}),fn("autoHeight")&&(J=vl(Ot,Math.min(Ot+nt-1,re-1))),Me?zu():Vn(function(){Na($d(J),zu)})}else P&&Sr(),Xu(),Hu()}function zu(){if(q&&V>1){var J=lt?Ot:V-1;(function it(){var dt=Y[J].getBoundingClientRect().left,xt=Y[J-1].getBoundingClientRect().right;Math.abs(dt-xt)<=1?Wu():setTimeout(function(){it()},16)})()}else Wu()}function Wu(){(!W||q)&&(sf(),q?(He=ml(),yt&&(St=hl()),ti=Xi(),Ma(ct||St)):yl()),P&&Sr(),Xu(),Hu()}function Qp(){if(!P)for(var J=Ot,it=Ot+Math.min(V,nt);J<it;J++){var dt=Y[J];dt.style.left=(J-Ot)*100/nt+"%",we(dt,F),ci(dt,b)}if(W&&(a||q?(vn(Xt,"#"+rt+" > .tns-item","font-size:"+l.getComputedStyle(Y[0]).fontSize+";",en(Xt)),vn(Xt,"#"+rt,"font-size:0;",en(Xt))):P&&Un(Y,function(Cl,Pl){Cl.style.marginLeft=Zp(Pl)})),n){if(o){var xt=D&&m.autoHeight?rs(m.speed):"";vn(Xt,"#"+rt+"-mw",xt,en(Xt))}xt=La(m.edgePadding,m.gutter,m.fixedWidth,m.speed,m.autoHeight),vn(Xt,"#"+rt+"-iw",xt,en(Xt)),P&&(xt=W&&!q?"width:"+Oa(m.fixedWidth,m.gutter,m.items)+";":"",o&&(xt+=rs(at)),vn(Xt,"#"+rt,xt,en(Xt))),xt=W&&!q?Fa(m.fixedWidth,m.gutter,m.items):"",m.gutter&&(xt+=Ia(m.gutter)),P||(o&&(xt+=rs(at)),d&&(xt+=Yu(at))),xt&&vn(Xt,"#"+rt+" > .tns-item",xt,en(Xt))}else{im(),Z.style.cssText=La(ot,K,et,Et),P&&W&&!q&&(O.style.width=Oa(et,K,nt));var xt=W&&!q?Fa(et,K,nt):"";K&&(xt+=Ia(K)),xt&&vn(Xt,"#"+rt+" > .tns-item",xt,en(Xt))}if(S&&n)for(var Bt in S){Bt=parseInt(Bt);var Vt=S[Bt],xt="",le="",Ye="",je="",Ge="",bs=q?null:zt("items",Bt),Ar=zt("fixedWidth",Bt),os=zt("speed",Bt),El=zt("edgePadding",Bt),Sl=zt("autoHeight",Bt),zs=zt("gutter",Bt);o&&D&&zt("autoHeight",Bt)&&"speed"in Vt&&(le="#"+rt+"-mw{"+rs(os)+"}"),("edgePadding"in Vt||"gutter"in Vt)&&(Ye="#"+rt+"-iw{"+La(El,zs,Ar,os,Sl)+"}"),P&&W&&!q&&("fixedWidth"in Vt||"items"in Vt||et&&"gutter"in Vt)&&(je="width:"+Oa(Ar,zs,bs)+";"),o&&"speed"in Vt&&(je+=rs(os)),je&&(je="#"+rt+"{"+je+"}"),("fixedWidth"in Vt||et&&"gutter"in Vt||!P&&"items"in Vt)&&(Ge+=Fa(Ar,zs,bs)),"gutter"in Vt&&(Ge+=Ia(zs)),!P&&"speed"in Vt&&(o&&(Ge+=rs(os)),d&&(Ge+=Yu(os))),Ge&&(Ge="#"+rt+" > .tns-item{"+Ge+"}"),xt=le+Ye+je+Ge,xt&&Xt.insertRule("@media (min-width: "+Bt/16+"em) {"+xt+"}",Xt.cssRules.length)}}function Xu(){if(pl(),$.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+qu()+"</span>  of "+V+"</div>"),un=$.querySelector(".tns-liveregion .current"),Gt){var J=Dt?"stop":"start";Ie?Si(Ie,{"data-action":J}):m.autoplayButtonOutput&&($.insertAdjacentHTML(ll(m.autoplayPosition),'<button type="button" data-action="'+J+'">'+Tr[0]+J+Tr[1]+ie[0]+"</button>"),Ie=$.querySelector("[data-action]")),Ie&&De(Ie,{click:df}),Dt&&(ba(),ae&&De(O,Wt),Le&&De(O,ne))}if(te){if(Qe)Si(Qe,{"aria-label":"Carousel Pagination"}),Ti=Qe.children,Un(Ti,function(le,Ye){Si(le,{"data-nav":Ye,tabindex:"-1","aria-label":Vs+(Ye+1),"aria-controls":rt})});else{for(var it="",dt=Zt?"":'style="display:none"',xt=0;xt<V;xt++)it+='<button type="button" data-nav="'+xt+'" tabindex="-1" aria-controls="'+rt+'" '+dt+' aria-label="'+Vs+(xt+1)+'"></button>';it='<div class="tns-nav" aria-label="Carousel Pagination">'+it+"</div>",$.insertAdjacentHTML(ll(m.navPosition),it),Qe=$.querySelector(".tns-nav"),Ti=Qe.children}if(Tl(),o){var Bt=o.substring(0,o.length-18).toLowerCase(),Vt="transition: all "+at/1e3+"s";Bt&&(Vt="-"+Bt+"-"+Vt),vn(Xt,"[aria-controls^="+rt+"-item]",Vt,en(Xt))}Si(Ti[Ei],{"aria-label":Vs+(Ei+1)+al}),Yn(Ti[Ei],"tabindex"),we(Ti[Ei],Ea),De(Qe,$t)}se&&(!Fe&&(!Pe||!Ae)&&($.insertAdjacentHTML(ll(m.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+rt+'">'+Lt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+rt+'">'+Lt[1]+"</button></div>"),Fe=$.querySelector(".tns-controls")),(!Pe||!Ae)&&(Pe=Fe.children[0],Ae=Fe.children[1]),m.controlsContainer&&Si(Fe,{"aria-label":"Carousel Navigation",tabindex:"0"}),(m.controlsContainer||m.prevButton&&m.nextButton)&&Si([Pe,Ae],{"aria-controls":rt,tabindex:"-1"}),(m.controlsContainer||m.prevButton&&m.nextButton)&&(Si(Pe,{"data-controls":"prev"}),Si(Ae,{"data-controls":"next"})),xr=af(Pe),yr=af(Ae),lf(),Fe?De(Fe,Yt):(De(Pe,Yt),De(Ae,Yt))),fl()}function Hu(){if(P&&c){var J={};J[c]=tn,De(O,J)}Mt&&De(O,jt,m.preventScrollOnTouch),wt&&De(O,kt),pt&&De(y,Kt),C==="inner"?_.on("outerResized",function(){Ku(),_.emit("innerLoaded",ii())}):(S||et||q||Et||!W)&&De(l,{resize:$u}),Et&&(C==="outer"?_.on("innerLoaded",Ba):ct||Ba()),dl(),ct?ju():St&&Qu(),_.on("indexChanged",tf),C==="inner"&&_.emit("innerLoaded",ii()),typeof k=="function"&&k(ii()),j=!0}function jp(){if(Xt.disabled=!0,Xt.ownerNode&&Xt.ownerNode.remove(),Ke(l,{resize:$u}),pt&&Ke(y,Kt),Fe&&Ke(Fe,Yt),Qe&&Ke(Qe,$t),Ke(O,Wt),Ke(O,ne),Ie&&Ke(Ie,{click:df}),Dt&&clearInterval(Sa),P&&c){var J={};J[c]=tn,Ke(O,J)}Mt&&Ke(O,jt),wt&&Ke(O,kt);var it=[G,Lu,Xp,Hp,Ou,Iu];T.forEach(function(xt,Bt){var Vt=xt==="container"?$:m[xt];if(typeof Vt=="object"&&Vt){var le=Vt.previousElementSibling?Vt.previousElementSibling:!1,Ye=Vt.parentNode;Vt.outerHTML=it[Bt],m[xt]=le?le.nextElementSibling:Ye.firstElementChild}}),T=F=I=B=b=W=$=Z=O=N=G=Y=V=z=H=q=et=ot=K=Q=nt=ft=mt=pt=at=Tt=lt=Et=Xt=Me=Ht=Oe=Ne=re=Qt=He=hn=$e=_i=Ft=Xi=Ot=Hi=Ni=ti=U=w=X=k=_=st=rt=ct=ut=yt=St=Rt=Yt=$t=Wt=ne=Kt=jt=kt=se=te=Zt=Gt=Ut=qt=oe=pe=ei=fi=Ct=Lt=Fe=Lu=Pe=Ae=xr=yr=Pt=Qe=Ou=Ti=wi=es=is=Ei=Gs=Ea=Vs=al=Dt=bt=Fu=ie=ae=Ie=Iu=Le=Tr=Sa=di=Ca=Us=Pa=ns=$i=Aa=ss=Gi=ol=Mt=wt=null;for(var dt in this)dt!=="rebuild"&&(this[dt]=null);j=!1}function $u(J){Vn(function(){Ku(dn(J))})}function Ku(J){if(j){C==="outer"&&_.emit("outerResized",ii(J)),H=wu();var it,dt=z,xt=!1;S&&(Zu(),it=dt!==z,it&&_.emit("newBreakpointStart",ii(J)));var Bt,Vt,le=nt,Ye=ct,je=St,Ge=pt,bs=Ct,Ar=Pt,os=Mt,El=wt,Sl=Dt,zs=ae,Cl=Le,Pl=Ot;if(it){var mm=et,gm=Et,xm=Lt,ym=tt,Al=ie;if(!n)var Tm=K,Em=ot}if(pt=zt("arrowKeys"),Ct=zt("controls"),Pt=zt("nav"),Mt=zt("touch"),tt=zt("center"),wt=zt("mouseDrag"),Dt=zt("autoplay"),ae=zt("autoplayHoverPause"),Le=zt("autoplayResetOnVisibility"),it&&(ct=zt("disable"),et=zt("fixedWidth"),at=zt("speed"),Et=zt("autoHeight"),Lt=zt("controlsText"),ie=zt("autoplayText"),bt=zt("autoplayTimeout"),n||(ot=zt("edgePadding"),K=zt("gutter"))),Ma(ct),Q=Vu(),(!W||q)&&!ct&&(sf(),W||(yl(),xt=!0)),(et||q)&&(He=ml(),ti=Xi()),(it||et)&&(nt=zt("items"),ft=zt("slideBy"),Vt=nt!==le,Vt&&(!et&&!q&&(ti=Xi()),ul())),it&&ct!==Ye&&(ct?ju():qp()),yt&&(it||et||q)&&(St=hl(),St!==je&&(St?(gl(Va(Bu(0))),Qu()):(kp(),xt=!0))),Ma(ct||St),Dt||(ae=Le=!1),pt!==Ge&&(pt?De(y,Kt):Ke(y,Kt)),Ct!==bs&&(Ct?Fe?Pi(Fe):(Pe&&Pi(Pe),Ae&&Pi(Ae)):Fe?Ci(Fe):(Pe&&Ci(Pe),Ae&&Ci(Ae))),Pt!==Ar&&(Pt?(Pi(Qe),Tl()):Ci(Qe)),Mt!==os&&(Mt?De(O,jt,m.preventScrollOnTouch):Ke(O,jt)),wt!==El&&(wt?De(O,kt):Ke(O,kt)),Dt!==Sl&&(Dt?(Ie&&Pi(Ie),!di&&!Us&&ba()):(Ie&&Ci(Ie),di&&Pr())),ae!==zs&&(ae?De(O,Wt):Ke(O,Wt)),Le!==Cl&&(Le?De(y,ne):Ke(y,ne)),it){if((et!==mm||tt!==ym)&&(xt=!0),Et!==gm&&(Et||(Z.style.height="")),Ct&&Lt!==xm&&(Pe.innerHTML=Lt[0],Ae.innerHTML=Lt[1]),Ie&&ie!==Al){var Ml=Dt?1:0,Rl=Ie.innerHTML,Tf=Rl.length-Al[Ml].length;Rl.substring(Tf)===Al[Ml]&&(Ie.innerHTML=Rl.substring(0,Tf)+ie[Ml])}}else tt&&(et||q)&&(xt=!0);if((Vt||et&&!q)&&(wi=yf(),Tl()),Bt=Ot!==Pl,Bt?(_.emit("indexChanged",ii()),xt=!0):Vt?Bt||tf():(et||q)&&(dl(),pl(),ku()),Vt&&!P&&nm(),!ct&&!St){if(it&&!n&&((ot!==Em||K!==Tm)&&(Z.style.cssText=La(ot,K,et,at,Et)),W)){P&&(O.style.width=Oa(et,K,nt));var Sm=Fa(et,K,nt)+Ia(K);aC(Xt,en(Xt)-1),vn(Xt,"#"+rt+" > .tns-item",Sm,en(Xt))}Et&&Ba(),xt&&(Sr(),Hi=Ot)}it&&_.emit("newBreakpointEnd",ii(J))}}function hl(){if(!et&&!q){var J=tt?nt-(nt-1)/2:nt;return V<=J}var it=et?(et+K)*V:Ht[V],dt=ot?Q+ot*2:Q+K;return tt&&(dt-=et?(Q-et)/2:(Q-(Ht[Ot+1]-Ht[Ot]-K))/2),it<=dt}function Zu(){z=0;for(var J in S)J=parseInt(J),H>=J&&(z=J)}var ul=function(){return lt?P?function(){var J=Ni,it=ti;J+=ft,it-=ft,ot?(J+=1,it-=1):et&&(Q+K)%(et+K)&&(it-=1),Ne&&(Ot>it?Ot-=V:Ot<J&&(Ot+=V))}:function(){if(Ot>ti)for(;Ot>=Ni+V;)Ot-=V;else if(Ot<Ni)for(;Ot<=ti-V;)Ot+=V}:function(){Ot=Math.max(Ni,Math.min(ti,Ot))}}();function fl(){!Dt&&Ie&&Ci(Ie),!Pt&&Qe&&Ci(Qe),Ct||(Fe?Ci(Fe):(Pe&&Ci(Pe),Ae&&Ci(Ae)))}function Ju(){Dt&&Ie&&Pi(Ie),Pt&&Qe&&Pi(Qe),Ct&&(Fe?Pi(Fe):(Pe&&Pi(Pe),Ae&&Pi(Ae)))}function Qu(){if(!Rt){if(ot&&(Z.style.margin="0px"),Ne)for(var J="tns-transparent",it=Ne;it--;)P&&we(Y[it],J),we(Y[re-it-1],J);fl(),Rt=!0}}function kp(){if(Rt){if(ot&&n&&(Z.style.margin=""),Ne)for(var J="tns-transparent",it=Ne;it--;)P&&ci(Y[it],J),ci(Y[re-it-1],J);Ju(),Rt=!1}}function ju(){if(!ut){if(Xt.disabled=!0,O.className=O.className.replace(st.substring(1),""),Yn(O,["style"]),lt)for(var J=Ne;J--;)P&&Ci(Y[J]),Ci(Y[re-J-1]);if((!W||!P)&&Yn(Z,["style"]),!P)for(var it=Ot,dt=Ot+V;it<dt;it++){var xt=Y[it];Yn(xt,["style"]),ci(xt,F),ci(xt,b)}fl(),ut=!0}}function qp(){if(ut){if(Xt.disabled=!1,O.className+=st,Sr(),lt)for(var J=Ne;J--;)P&&Pi(Y[J]),Pi(Y[re-J-1]);if(!P)for(var it=Ot,dt=Ot+V;it<dt;it++){var xt=Y[it],Bt=it<Ot+nt?F:b;xt.style.left=(it-Ot)*100/nt+"%",we(xt,Bt)}Ju(),ut=!1}}function ku(){var J=qu();un.innerHTML!==J&&(un.innerHTML=J)}function qu(){var J=Da(),it=J[0]+1,dt=J[1]+1;return it===dt?it+"":it+" to "+dt}function Da(J){J==null&&(J=Va());var it=Ot,dt,xt,Bt;if(tt||ot?(q||et)&&(xt=-(parseFloat(J)+ot),Bt=xt+Q+ot*2):q&&(xt=Ht[Ot],Bt=xt+Q),q)Ht.forEach(function(je,Ge){Ge<re&&((tt||ot)&&je<=xt+.5&&(it=Ge),Bt-je>=.5&&(dt=Ge))});else{if(et){var Vt=et+K;tt||ot?(it=Math.floor(xt/Vt),dt=Math.ceil(Bt/Vt-1)):dt=it+Math.ceil(Q/Vt)-1}else if(tt||ot){var le=nt-1;if(tt?(it-=le/2,dt=Ot+le/2):dt=Ot+le,ot){var Ye=ot*nt/Q;it-=Ye,dt+=Ye}it=Math.floor(it),dt=Math.ceil(dt)}else dt=it+nt-1;it=Math.max(it,0),dt=Math.min(dt,re-1)}return[it,dt]}function dl(){if(Me&&!ct){var J=Da();J.push(ve),vl.apply(null,J).forEach(function(it){if(!dr(it,pe)){var dt={};dt[c]=function(Bt){Bt.stopPropagation()},De(it,dt),De(it,ei),it.src=no(it,"data-src");var xt=no(it,"data-srcset");xt&&(it.srcset=xt),we(it,"loading")}})}}function _p(J){_u(Ys(J))}function tm(J){em(Ys(J))}function _u(J){we(J,"loaded"),cl(J)}function em(J){we(J,"failed"),cl(J)}function cl(J){we(J,pe),ci(J,"loading"),Ke(J,ei)}function vl(J,it,dt){var xt=[];for(dt||(dt="img");J<=it;)Un(Y[J].querySelectorAll(dt),function(Bt){xt.push(Bt)}),J++;return xt}function Ba(){var J=vl.apply(null,Da());Vn(function(){Na(J,nf)})}function Na(J,it){if(fi||(J.forEach(function(dt,xt){!Me&&dt.complete&&cl(dt),dr(dt,pe)&&J.splice(xt,1)}),!J.length))return it();Vn(function(){Na(J,it)})}function tf(){dl(),pl(),ku(),lf(),sm()}function im(){P&&Et&&(D.style[o]=at/1e3+"s")}function ef(J,it){for(var dt=[],xt=J,Bt=Math.min(J+it,re);xt<Bt;xt++)dt.push(Y[xt].offsetHeight);return Math.max.apply(null,dt)}function nf(){var J=Et?ef(Ot,nt):ef(Ne,V),it=D||Z;it.style.height!==J&&(it.style.height=J+"px")}function sf(){Ht=[0];var J=W?"left":"top",it=W?"right":"bottom",dt=Y[0].getBoundingClientRect()[J];Un(Y,function(xt,Bt){Bt&&Ht.push(xt.getBoundingClientRect()[J]-dt),Bt===re-1&&Ht.push(xt.getBoundingClientRect()[it]-dt)})}function pl(){var J=Da(),it=J[0],dt=J[1];Un(Y,function(xt,Bt){Bt>=it&&Bt<=dt?Fr(xt,"aria-hidden")&&(Yn(xt,["aria-hidden","tabindex"]),we(xt,oe)):Fr(xt,"aria-hidden")||(Si(xt,{"aria-hidden":"true",tabindex:"-1"}),ci(xt,oe))})}function nm(){for(var J=Ot+Math.min(V,nt),it=re;it--;){var dt=Y[it];it>=Ot&&it<J?(we(dt,"tns-moving"),dt.style.left=(it-Ot)*100/nt+"%",we(dt,F),ci(dt,b)):dt.style.left&&(dt.style.left="",we(dt,b),ci(dt,F)),ci(dt,I)}setTimeout(function(){Un(Y,function(xt){ci(xt,"tns-moving")})},300)}function sm(){if(Pt&&(Ei=is>=0?is:Nu(),is=-1,Ei!==Gs)){var J=Ti[Gs],it=Ti[Ei];Si(J,{tabindex:"-1","aria-label":Vs+(Gs+1)}),ci(J,Ea),Si(it,{"aria-label":Vs+(Ei+1)+al}),Yn(it,"tabindex"),we(it,Ea),Gs=Ei}}function rf(J){return J.nodeName.toLowerCase()}function af(J){return rf(J)==="button"}function of(J){return J.getAttribute("aria-disabled")==="true"}function wa(J,it,dt){J?it.disabled=dt:it.setAttribute("aria-disabled",dt.toString())}function lf(){if(!(!Ct||Tt||lt)){var J=xr?Pe.disabled:of(Pe),it=yr?Ae.disabled:of(Ae),dt=Ot<=Ni,xt=!Tt&&Ot>=ti;dt&&!J&&wa(xr,Pe,!0),!dt&&J&&wa(xr,Pe,!1),xt&&!it&&wa(yr,Ae,!0),!xt&&it&&wa(yr,Ae,!1)}}function Ga(J,it){o&&(J.style[o]=it)}function rm(){return et?(et+K)*re:Ht[re]}function Er(J){J==null&&(J=Ot);var it=ot?K:0;return q?(Q-it-(Ht[J+1]-Ht[J]-K))/2:et?(Q-et)/2:(nt-1)/2}function ml(){var J=ot?K:0,it=Q+J-rm();return tt&&!lt&&(it=et?-(et+K)*(re-1)-Er():Er(re-1)-Ht[re-1]),it>0&&(it=0),it}function Va(J){J==null&&(J=Ot);var it;if(W&&!q)if(et)it=-(et+K)*J,tt&&(it+=Er());else{var dt=s?re:nt;tt&&(J-=Er()),it=-J*100/dt}else it=-Ht[J],tt&&q&&(it+=Er());return Qt&&(it=Math.max(it,He)),it+=W&&!q&&!et?"%":"px",it}function Sr(J){Ga(O,"0s"),gl(J)}function gl(J){J==null&&(J=Va()),O.style[$e]=_i+J+Ft}function hf(J,it,dt,xt){var Bt=J+nt;lt||(Bt=Math.min(Bt,re));for(var Vt=J;Vt<Bt;Vt++){var le=Y[Vt];xt||(le.style.left=(Vt-Ot)*100/nt+"%"),B&&h&&(le.style[h]=le.style[v]=B*(Vt-J)/1e3+"s"),ci(le,it),we(le,dt),xt&&Oe.push(le)}}var am=function(){return P?function(){Ga(O,""),o||!at?(gl(),(!at||!Kd(O))&&tn()):dC(O,$e,_i,Ft,Va(),at,tn),W||yl()}:function(){Oe=[];var J={};J[c]=J[p]=tn,Ke(Y[Hi],J),De(Y[Ot],J),hf(Hi,F,I,!0),hf(Ot,b,F),(!c||!p||!at||!Kd(O))&&tn()}}();function xl(J,it){hn&&ul(),(Ot!==Hi||it)&&(_.emit("indexChanged",ii()),_.emit("transitionStart",ii()),Et&&Ba(),di&&J&&["click","keydown"].indexOf(J.type)>=0&&Pr(),X=!0,am())}function uf(J){return J.toLowerCase().replace(/-/g,"")}function tn(J){if(P||X){if(_.emit("transitionEnd",ii(J)),!P&&Oe.length>0)for(var it=0;it<Oe.length;it++){var dt=Oe[it];dt.style.left="",v&&h&&(dt.style[v]="",dt.style[h]=""),ci(dt,I),we(dt,b)}if(!J||!P&&J.target.parentNode===O||J.target===O&&uf(J.propertyName)===uf($e)){if(!hn){var xt=Ot;ul(),Ot!==xt&&(_.emit("indexChanged",ii()),Sr())}C==="inner"&&_.emit("innerLoaded",ii()),X=!1,Hi=Ot}}}function Cr(J,it){if(!St)if(J==="prev")Dn(it,-1);else if(J==="next")Dn(it,1);else{if(X){if(ws)return;tn()}var dt=Ra(),xt=0;if(J==="first"?xt=-dt:J==="last"?xt=P?V-nt-dt:V-1-dt:(typeof J!="number"&&(J=parseInt(J)),isNaN(J)||(it||(J=Math.max(0,Math.min(V-1,J))),xt=J-dt)),!P&&xt&&Math.abs(xt)<nt){var Bt=xt>0?1:-1;xt+=Ot+xt-V>=Ni?V*Bt:V*2*Bt*-1}Ot+=xt,P&&lt&&(Ot<Ni&&(Ot+=V),Ot>ti&&(Ot-=V)),Ra(Ot)!==Ra(Hi)&&xl(it)}}function Dn(J,it){if(X){if(ws)return;tn()}var dt;if(!it){J=dn(J);for(var xt=Ys(J);xt!==Fe&&[Pe,Ae].indexOf(xt)<0;)xt=xt.parentNode;var Bt=[Pe,Ae].indexOf(xt);Bt>=0&&(dt=!0,it=Bt===0?-1:1)}if(Tt){if(Ot===Ni&&it===-1){Cr("last",J);return}else if(Ot===ti&&it===1){Cr("first",J);return}}it&&(Ot+=ft*it,q&&(Ot=Math.floor(Ot)),xl(dt||J&&J.type==="keydown"?J:null))}function om(J){if(X){if(ws)return;tn()}J=dn(J);for(var it=Ys(J),dt;it!==Qe&&!Fr(it,"data-nav");)it=it.parentNode;if(Fr(it,"data-nav")){var dt=is=Number(no(it,"data-nav")),xt=et||q?dt*V/wi:dt*nt,Bt=Zt?dt:Math.min(Math.ceil(xt),V-1);Cr(Bt,J),Ei===dt&&(di&&Pr(),is=-1)}}function Ua(){Sa=setInterval(function(){Dn(null,Fu)},bt),di=!0}function Ya(){clearInterval(Sa),di=!1}function ff(J,it){Si(Ie,{"data-action":J}),Ie.innerHTML=Tr[0]+J+Tr[1]+it}function ba(){Ua(),Ie&&ff("stop",ie[1])}function Pr(){Ya(),Ie&&ff("start",ie[0])}function lm(){Dt&&!di&&(ba(),Us=!1)}function hm(){di&&(Pr(),Us=!0)}function df(){di?(Pr(),Us=!0):(ba(),Us=!1)}function um(){y.hidden?di&&(Ya(),Pa=!0):Pa&&(Ua(),Pa=!1)}function fm(){di&&(Ya(),Ca=!0)}function dm(){Ca&&(Ua(),Ca=!1)}function cm(J){J=dn(J);var it=[x.LEFT,x.RIGHT].indexOf(J.keyCode);it>=0&&Dn(J,it===0?-1:1)}function vm(J){J=dn(J);var it=[x.LEFT,x.RIGHT].indexOf(J.keyCode);it>=0&&(it===0?Pe.disabled||Dn(J,-1):Ae.disabled||Dn(J,1))}function cf(J){J.focus()}function pm(J){J=dn(J);var it=y.activeElement;if(Fr(it,"data-nav")){var dt=[x.LEFT,x.RIGHT,x.ENTER,x.SPACE].indexOf(J.keyCode),xt=Number(no(it,"data-nav"));dt>=0&&(dt===0?xt>0&&cf(Ti[xt-1]):dt===1?xt<wi-1&&cf(Ti[xt+1]):(is=xt,Cr(xt,J)))}}function dn(J){return J=J||l.event,as(J)?J.changedTouches[0]:J}function Ys(J){return J.target||l.event.srcElement}function as(J){return J.type.indexOf("touch")>=0}function vf(J){J.preventDefault?J.preventDefault():J.returnValue=!1}function pf(){return lC(oC($i.y-ns.y,$i.x-ns.x),U)===m.axis}function mf(J){if(X){if(ws)return;tn()}Dt&&di&&Ya(),ss=!0,Gi&&(Wl(Gi),Gi=null);var it=dn(J);_.emit(as(J)?"touchStart":"dragStart",ii(J)),!as(J)&&["img","a"].indexOf(rf(Ys(J)))>=0&&vf(J),$i.x=ns.x=it.clientX,$i.y=ns.y=it.clientY,P&&(Aa=parseFloat(O.style[$e].replace(_i,"")),Ga(O,"0s"))}function gf(J){if(ss){var it=dn(J);$i.x=it.clientX,$i.y=it.clientY,P?Gi||(Gi=Vn(function(){xf(J)})):(w==="?"&&(w=pf()),w&&(yi=!0)),(typeof J.cancelable!="boolean"||J.cancelable)&&yi&&J.preventDefault()}}function xf(J){if(!w){ss=!1;return}if(Wl(Gi),ss&&(Gi=Vn(function(){xf(J)})),w==="?"&&(w=pf()),w){!yi&&as(J)&&(yi=!0);try{J.type&&_.emit(as(J)?"touchMove":"dragMove",ii(J))}catch{}var it=Aa,dt=ol($i,ns);if(!W||et||q)it+=dt,it+="px";else{var xt=s?dt*nt*100/((Q+K)*re):dt*100/(Q+K);it+=xt,it+="%"}O.style[$e]=_i+it+Ft}}function za(J){if(ss){Gi&&(Wl(Gi),Gi=null),P&&Ga(O,""),ss=!1;var it=dn(J);$i.x=it.clientX,$i.y=it.clientY;var dt=ol($i,ns);if(Math.abs(dt)){if(!as(J)){var xt=Ys(J);De(xt,{click:function Bt(Vt){vf(Vt),Ke(xt,{click:Bt})}})}P?Gi=Vn(function(){if(W&&!q){var Bt=-dt*nt/(Q+K);Bt=dt>0?Math.floor(Bt):Math.ceil(Bt),Ot+=Bt}else{var Vt=-(Aa+dt);if(Vt<=0)Ot=Ni;else if(Vt>=Ht[re-1])Ot=ti;else for(var le=0;le<re&&Vt>=Ht[le];)Ot=le,Vt>Ht[le]&&dt<0&&(Ot+=1),le++}xl(J,dt),_.emit(as(J)?"touchEnd":"dragEnd",ii(J))}):w&&Dn(J,dt>0?-1:1)}}m.preventScrollOnTouch==="auto"&&(yi=!1),U&&(w="?"),Dt&&!di&&Ua()}function yl(){var J=D||Z;J.style.height=Ht[Ot+nt]-Ht[Ot]+"px"}function yf(){var J=et?(et+K)*V/Q:V/nt;return Math.min(Math.ceil(J),V)}function Tl(){if(!(!Pt||Zt)&&wi!==es){var J=es,it=wi,dt=Pi;for(es>wi&&(J=wi,it=es,dt=Ci);J<it;)dt(Ti[J]),J++;es=wi}}function ii(J){return{container:O,slideItems:Y,navContainer:Qe,navItems:Ti,controlsContainer:Fe,hasControls:se,prevButton:Pe,nextButton:Ae,items:nt,slideBy:ft,cloneCount:Ne,slideCount:V,slideCountNew:re,index:Ot,indexCached:Hi,displayIndex:Du(),navCurrentIndex:Ei,navCurrentIndexCached:Gs,pages:wi,pagesCached:es,sheet:Xt,isOn:j,event:J||{}}}return{version:"2.9.4",getInfo:ii,events:_,goTo:Cr,play:lm,pause:hm,isOn:j,updateSliderHeight:nf,refresh:bu,destroy:jp,rebuild:function(){return bp(Xl(m,E))}}},cC=Gp.tns=bp;const vC=hi({name:"CarouselSlider",emits:["currentLevelChanged"],props:["visible"],data(){return{enabledLevels:Sh(),currentIndex:ce.getCurrentSelectedIndex(),slider:void 0}},mounted(){const m=this.enabledLevels.length===2?2:3;this.slider=cC({container:"#carousel-slider",items:m,controls:!0,lazyload:!0,gutter:0,center:!0,slideBy:1,autoplay:!1,mouseDrag:!0,swipeAngle:!1,edgePadding:10,arrowKeys:this.visible,speed:400,startIndex:this.currentIndex,loop:!1,prevButton:"#carouselPrevButton",nextButton:"#carouselNextButton",nav:!1}),this.slider.goTo(this.currentIndex),this.slider.events.on("indexChanged",l=>this.updateIndex(l.index)),this.updateIndex(this.currentIndex);const y=()=>{const l=document.getElementById("carousel-slider"),x=l.clientHeight,t=Math.ceil(x/10)*10;t>75?l.style.height=t+"px":setTimeout(y,50)};setTimeout(y,50),window.addEventListener("keyup",this.keyPressed)},unmounted(){this.slider.destroy(),window.removeEventListener("keyup",this.keyPressed)},computed:{carouselContainerStyle(){return m=>m===this.currentIndex?{border:`solid ${m===0?"var(--oldstuff-color)":"var(--radioactive-color)"}`,"border-width":"6px 7px 6px 8px","border-radius":"95% 4% 92% 5% / 4% 95% 6% 95%"}:{}},mapStyle(){return y=>{let l=10;y===this.currentIndex?l=0:y<this.currentIndex&&(l=-10);let x="var(--radioactive-color)";return y===0&&(x="var(--oldstuff-color)"),{"min-width":"30%","user-select":"none",filter:`drop-shadow(${l}px 5px 3px ${x})`}}},currentDisplayIndex(){return this.currentIndex===0?"-: ":this.currentIndex.toString()+": "},customItem(){return m=>m===0},thumbnail(){return m=>{if(this.enabledLevels[m]){if(this.enabledLevels[m].snapshot)return this.enabledLevels[m].snapshot;if(this.enabledLevels[m].thumbnailPath)return this.enabledLevels[m].thumbnailPath}return this.enabledLevels[1].thumbnailPath}},currentTitle(){return this.enabledLevels[this.currentIndex].title},levelWasComplete(){return m=>{let y=m;return m!==0?!!ce.getLevelCompleteData().find(l=>l.index===y):!1}},currentSolutionData(){if(this.currentIndex!==0){let m=this.currentIndex;const y=ce.getLevelCompleteData().find(l=>l.index===m);if(y){const l=new Date(y.timestamp);return`solved on ${`${l.getDate()}/${l.toLocaleString("en-US",{month:"long"}).substring(0,3)}/${l.getFullYear()}`} in ${Math.trunc(y.totalTime/100)/10}s`}}return""}},methods:{keyPressed(m){const y=document.activeElement.id,l=["body","carouselPrevButton","carouselNextButton"];if(this.visible&&l.includes(y)){const x=this.enabledLevels.length-1,t=0,e=5;m.code==="Home"?this.slider.goTo(t):m.code==="End"?this.slider.goTo(x):m.code==="PageUp"?this.slider.goTo(Phaser.Math.Clamp(this.currentIndex-e,t,x)):m.code==="PageDown"&&this.slider.goTo(Phaser.Math.Clamp(this.currentIndex+e,t,x))}},updateIndex(m){ce.setCurrentSelectedIndex(m),this.currentIndex=m;let y=this.enabledLevels[m],l=m.toString();m===0&&(l="(custom)"),this.$emit("currentLevelChanged",y,l,m===0,m)}}}),pC="/nuclear-defender/custom-stamp-0170ab63.png",mC="/nuclear-defender/solved-b7fd4b25.png";const gC=m=>(mr("data-v-2b145954"),m=m(),gr(),m),xC={id:"carousel-slider-parent"},yC=gC(()=>ht("span",{style:{display:"flex"}},[ht("label",{class:"form-label sokoban-label"},"Select your level")],-1)),TC={id:"carousel-slider",style:{}},EC=["data-src"],SC={key:0,alt:"",class:"img-fluid custom-made-stamp",src:pC},CC={key:1,alt:"",class:"img-fluid level-stamp",src:mC},PC=tv('<ul class="carousel-controls" id="customize-controls" tabindex="0" data-v-2b145954><li class="prev" id="carouselPrevButton" tabindex="-1" data-controls="prev" data-v-2b145954><i class="fa-solid fa-chevron-left" data-v-2b145954></i></li><li class="next" id="carouselNextButton" tabindex="-1" data-controls="next" data-v-2b145954><i class="fa-solid fa-chevron-right" data-v-2b145954></i></li></ul>',1),AC={class:"mt-4 level-title"},MC={class:"mt-2 level-solution-data"};function RC(m,y,l,x,t,e){return Se(),ze("div",xC,[yC,ht("div",TC,[(Se(!0),ze(Ve,null,Vc(m.enabledLevels,(u,i)=>(Se(),ze("div",{class:Pn({"carousel-container":!0,"selected-slider":i===m.currentIndex,"custom-level":i===0,"tns-item":!0}),style:Cn(m.carouselContainerStyle(i))},[ht("img",{alt:"",class:"p-2 img-fluid tns-lazy-img carousel-thumbnail","data-src":m.thumbnail(i),height:"60",style:Cn(m.mapStyle(i))},null,12,EC),m.customItem(i)?(Se(),ze("img",SC)):m.levelWasComplete(i)?(Se(),ze("img",CC)):Xn("",!0)],6))),256))]),PC,ht("h3",AC,gi(m.currentDisplayIndex)+gi(m.currentTitle),1),ht("h3",MC,gi(m.currentSolutionData),1)])}const LC=Fn(vC,[["render",RC],["__scopeId","data-v-2b145954"]]);var Ch={},OC={get exports(){return Ch},set exports(m){Ch=m}},Ph={},FC={get exports(){return Ph},set exports(m){Ph=m}};(function(m,y){(function(){var l,x,t,e,u,i,r,a,n,s,f,o,h,d,v;t=Math.floor,s=Math.min,x=function(c,p){return c<p?-1:c>p?1:0},n=function(c,p,g,T,E){var S;if(g==null&&(g=0),E==null&&(E=x),g<0)throw new Error("lo must be non-negative");for(T==null&&(T=c.length);g<T;)S=t((g+T)/2),E(p,c[S])<0?T=S:g=S+1;return[].splice.apply(c,[g,g-g].concat(p)),p},i=function(c,p,g){return g==null&&(g=x),c.push(p),d(c,0,c.length-1,g)},u=function(c,p){var g,T;return p==null&&(p=x),g=c.pop(),c.length?(T=c[0],c[0]=g,v(c,0,p)):T=g,T},a=function(c,p,g){var T;return g==null&&(g=x),T=c[0],c[0]=p,v(c,0,g),T},r=function(c,p,g){var T;return g==null&&(g=x),c.length&&g(c[0],p)<0&&(T=[c[0],p],p=T[0],c[0]=T[1],v(c,0,g)),p},e=function(c,p){var g,T,E,S,C,P;for(p==null&&(p=x),S=function(){P=[];for(var A=0,R=t(c.length/2);0<=R?A<R:A>R;0<=R?A++:A--)P.push(A);return P}.apply(this).reverse(),C=[],T=0,E=S.length;T<E;T++)g=S[T],C.push(v(c,g,p));return C},h=function(c,p,g){var T;if(g==null&&(g=x),T=c.indexOf(p),T!==-1)return d(c,0,T,g),v(c,T,g)},f=function(c,p,g){var T,E,S,C,P;if(g==null&&(g=x),E=c.slice(0,p),!E.length)return E;for(e(E,g),P=c.slice(p),S=0,C=P.length;S<C;S++)T=P[S],r(E,T,g);return E.sort(g).reverse()},o=function(c,p,g){var T,E,S,C,P,A,R,M,L;if(g==null&&(g=x),p*10<=c.length){if(S=c.slice(0,p).sort(g),!S.length)return S;for(E=S[S.length-1],R=c.slice(p),C=0,A=R.length;C<A;C++)T=R[C],g(T,E)<0&&(n(S,T,0,null,g),S.pop(),E=S[S.length-1]);return S}for(e(c,g),L=[],P=0,M=s(p,c.length);0<=M?P<M:P>M;0<=M?++P:--P)L.push(u(c,g));return L},d=function(c,p,g,T){var E,S,C;for(T==null&&(T=x),E=c[g];g>p;){if(C=g-1>>1,S=c[C],T(E,S)<0){c[g]=S,g=C;continue}break}return c[g]=E},v=function(c,p,g){var T,E,S,C,P;for(g==null&&(g=x),E=c.length,P=p,S=c[p],T=2*p+1;T<E;)C=T+1,C<E&&!(g(c[T],c[C])<0)&&(T=C),c[p]=c[T],p=T,T=2*p+1;return c[p]=S,d(c,P,p,g)},l=function(){c.push=i,c.pop=u,c.replace=a,c.pushpop=r,c.heapify=e,c.updateItem=h,c.nlargest=f,c.nsmallest=o;function c(p){this.cmp=p??x,this.nodes=[]}return c.prototype.push=function(p){return i(this.nodes,p,this.cmp)},c.prototype.pop=function(){return u(this.nodes,this.cmp)},c.prototype.peek=function(){return this.nodes[0]},c.prototype.contains=function(p){return this.nodes.indexOf(p)!==-1},c.prototype.replace=function(p){return a(this.nodes,p,this.cmp)},c.prototype.pushpop=function(p){return r(this.nodes,p,this.cmp)},c.prototype.heapify=function(){return e(this.nodes,this.cmp)},c.prototype.updateItem=function(p){return h(this.nodes,p,this.cmp)},c.prototype.clear=function(){return this.nodes=[]},c.prototype.empty=function(){return this.nodes.length===0},c.prototype.size=function(){return this.nodes.length},c.prototype.clone=function(){var p;return p=new c,p.nodes=this.nodes.slice(0),p},c.prototype.toArray=function(){return this.nodes.slice(0)},c.prototype.insert=c.prototype.push,c.prototype.top=c.prototype.peek,c.prototype.front=c.prototype.peek,c.prototype.has=c.prototype.contains,c.prototype.copy=c.prototype.clone,c}(),function(c,p){return m.exports=p()}(this,function(){return l})}).call(Hr)})(FC);(function(m){m.exports=Ph})(OC);const IC=Mp(Ch);var rn;(function(m){m[m.ADD_CANDIDATE=0]="ADD_CANDIDATE",m[m.POP_CANDIDATE=1]="POP_CANDIDATE",m[m.MOVE_ANALYSYS=2]="MOVE_ANALYSYS",m[m.BREATHING_TIME=3]="BREATHING_TIME",m[m.HASH_CALCULATION=4]="HASH_CALCULATION",m[m.VISISTED_LIST_CHECK=5]="VISISTED_LIST_CHECK"})(rn||(rn={}));class DC{constructor(){vt(this,"metricMap");vt(this,"startTime");this.startTime=new Date().getTime(),this.metricMap=new Map}async add(y,l){const x=new Date().getTime(),t=await l(),e=new Date().getTime(),u=this.metricMap.get(y)||0;return this.metricMap.set(y,e-x+u),t}log(){console.log(`Metrics (${new Date().getTime()-this.startTime}ms)`);let y=0;this.metricMap.forEach(l=>y+=l);for(let[l,x]of this.metricMap.entries())console.log(`	${rn[l]}: ${x}ms (${Math.trunc(1e3*x/y)/10}%)`)}}class zp{constructor(y){vt(this,"staticMap");this.staticMap=y.strippedStaticMapMap}getStaticFeaturesAtPosition(y){return y.x<this.staticMap.width&&y.y<this.staticMap.height&&y.x>=0&&y.y>=0?this.staticMap.strippedFeatureLayeredMatrix[y.y][y.x]:[]}}class BC extends zp{deadLocked(y){return y.boxes.filter(l=>l.currentPosition.isDifferentOf(l.nextPosition)).some(l=>this.boxIsDeadLocked(l))}boxIsDeadLocked(y){const l=y.direction,x=y.nextPosition.calculateOffset(l);return!!(this.getStaticFeaturesAtPosition(x).some(t=>t.code===gt.wall)&&this.checkTrappedBoxInCorner(y,l))}checkTrappedBoxInCorner(y,l){if(this.getStaticFeaturesAtPosition(y.nextPosition).some(n=>n.code===gt.target||n.code===gt.spring||n.code===gt.treadmil))return!1;const t=KT(l),e=y.nextPosition.calculateOffset(t),u=Ro(t),i=y.nextPosition.calculateOffset(u),r=this.staticMap.strippedFeatureLayeredMatrix[e.y][e.x],a=this.staticMap.strippedFeatureLayeredMatrix[i.y][i.x];return!!(r.some(n=>n.code===gt.wall)||a.some(n=>n.code===gt.wall))}}class NC extends zp{deadLocked(y){return y.boxes.filter(l=>l.currentPosition.isDifferentOf(l.nextPosition)).some(l=>this.boxIsDeadLocked(l,y.boxes))}boxIsDeadLocked(y,l){if(this.getStaticFeaturesAtPosition(y.nextPosition).some(e=>e.code===gt.spring||e.code===gt.treadmil))return!1;const x=y.direction,t=y.nextPosition.calculateOffset(x);return!!(this.getStaticFeaturesAtPosition(t).some(e=>e.code===gt.wall)&&this.wallAheadCheck(x,y,t,l))}wallAheadCheck(y,l,x,t){let e;return y===It.DOWN||y===It.UP?e=this.verticalLineSegment(l.nextPosition,x,t):e=this.horizontalLineSegment(l.nextPosition,x,t),e.boxes>e.targets&&e.emptiesAhead<2}verticalLineSegment(y,l,x){let t=0,e=0;for(let i=0;i<this.staticMap.width;++i)this.staticMap.strippedFeatureLayeredMatrix[y.y][i].some(n=>n.code===gt.target)&&++e,this.staticMap.strippedFeatureLayeredMatrix[l.y][i].some(n=>n.code!==gt.wall&&n.code!==gt.empty)&&++t;const u=x.filter(i=>i.nextPosition.y===y.y).reduce((i,r)=>i+1,0);return{emptiesAhead:t,targets:e,boxes:u}}horizontalLineSegment(y,l,x){let t=0,e=0;for(let i=0;i<this.staticMap.height;++i)this.staticMap.strippedFeatureLayeredMatrix[i][y.x].some(n=>n.code===gt.target)&&++e,this.staticMap.strippedFeatureLayeredMatrix[i][l.x].some(n=>n.code!==gt.wall&&n.code!==gt.empty)&&++t;const u=x.filter(i=>i.nextPosition.x===y.x).reduce((i,r)=>i+1,0);return{emptiesAhead:t,targets:e,boxes:u}}}class wC{constructor(y){vt(this,"targets");vt(this,"distanceCalculator");vt(this,"strippedMap");vt(this,"deadlockDetectors");this.strippedMap=y.strippedMap,this.distanceCalculator=y.distanceCalculator,this.targets=y.staticFeatures.get(gt.target),this.deadlockDetectors=[new BC({strippedStaticMapMap:this.strippedMap}),new NC({strippedStaticMapMap:this.strippedMap})]}analyse(y){const l=this.deadlockDetectors.some(e=>e.deadLocked(y)),t=y.boxes.filter(e=>e.currentPosition.isDifferentOf(e.nextPosition)).find(e=>y.hero.nextPosition.isEqualTo(e.currentPosition)&&y.hero.direction===e.direction);return{boxesMoved:[],pushedBox:t?{id:t.id,direction:t.direction}:void 0,sumOfEveryBoxToTheClosestTarget:this.sumOfEveryBoxToTheClosestAvailableTarget(y),isDeadLocked:l}}sumOfEveryBoxToTheClosestAvailableTarget(y){let l=this.targets;return y.boxes.reduce((x,t)=>{const e=l.reduce((u,i,r)=>{const a=this.distanceCalculator.distance(i,t.nextPosition);return u.value===-1||a<u.value?{value:a,index:r}:u},{value:-1,index:-1});return l=l.filter((u,i)=>i!==e.index),x+e.value},0)}sumOfEveryBoxToTheClosestTarget(y){return y.boxes.reduce((l,x)=>{const t=this.targets.reduce((e,u,i)=>{const r=this.distanceCalculator.distance(u,x.nextPosition);return e.value===-1||r<e.value?{value:r,index:i}:e},{value:-1,index:-1});return l+t.value},0)}}const Ru=class{constructor(y){vt(this,"iterations");vt(this,"movementCoordinator");vt(this,"candidatesToVisit",new IC((y,l)=>y.distanceSum-l.distanceSum));vt(this,"candidatesVisitedSet",new Set);vt(this,"strippedMap");vt(this,"movementAnalyser");vt(this,"metricEmitter");vt(this,"aborted");vt(this,"startTime");this.strippedMap=y.strippedMap,this.iterations=0,this.aborted=!1,this.movementCoordinator=new Hn({strippedMap:this.strippedMap}),this.movementAnalyser=new wC({staticFeatures:y.staticFeatures,strippedMap:this.strippedMap,distanceCalculator:At.solver.distanceCalculator}),this.metricEmitter=new DC}abort(){console.log("aborting current solution finding"),this.aborted=!0,this.candidatesToVisit.clear()}async solve(y){this.startTime=new Date().getTime();const l=await this.startAlgorithm(y);return{aborted:this.aborted,actions:l==null?void 0:l.actions,boxesLine:l==null?void 0:l.boxesLine,counterIntuitiveMoves:l==null?void 0:l.counterIntuitiveMoves,iterations:this.iterations,totalTime:Date.now()-this.startTime}}async startAlgorithm(y){const l=y.get(gt.hero)[0],x=y.get(gt.box),t={boxesLine:0,counterIntuitiveMoves:0,lastPushedBox:{id:-1,direction:It.UP},actions:[],hero:{point:l,id:0},boxes:x.map((r,a)=>({point:r,id:a+1})),distanceSum:0};t.hash=await this.metricEmitter.add(rn.HASH_CALCULATION,()=>this.calculateHashOfSolution(t)),this.candidatesToVisit.push(t),this.iterations=0;let e=0,u,i=t;for(;i&&!this.aborted&&(++this.iterations,++e,u=await this.checkSolution(i),!u);)e>At.solver.iterationPeriodToSleep&&(e=0,await this.metricEmitter.add(rn.BREATHING_TIME,async()=>{await new Promise(r=>setTimeout(()=>{r(void 0)},At.solver.sleepForInMs))})),i=await this.metricEmitter.add(rn.POP_CANDIDATE,()=>this.candidatesToVisit.pop());return this.metricEmitter.log(),u}async checkSolution(y){if(await this.metricEmitter.add(rn.VISISTED_LIST_CHECK,()=>!this.candidateWasVisitedBefore(y.hash))){if(this.candidatesVisitedSet.add(y.hash),this.candidateSolvesMap(y.boxes))return y;await this.applyMoreActions(y)}}async applyMoreActions(y){for(const l of Ru.actionsList){const x=this.movementCoordinator.update({heroAction:l,hero:y.hero,boxes:y.boxes,lastActionResult:y.lastActionResult});if(x.mapChanged){const t=await this.metricEmitter.add(rn.MOVE_ANALYSYS,()=>this.movementAnalyser.analyse(x)),e=100,u=l===Ce.STAND?e*.95:e;let i=0;t.pushedBox&&(t.pushedBox.id!==y.lastPushedBox.id||t.pushedBox.direction!==y.lastPushedBox.direction)&&(i=1);const r=t.sumOfEveryBoxToTheClosestTarget>=y.distanceSum?y.counterIntuitiveMoves+1:y.counterIntuitiveMoves,a={lastPushedBox:t.pushedBox||y.lastPushedBox,boxesLine:y.boxesLine+i,boxes:x.boxes.map(n=>({point:n.nextPosition,id:n.id})),hero:{point:x.hero.nextPosition,id:x.hero.id},actions:y.actions.concat(l),lastActionResult:x,counterIntuitiveMoves:r,distanceSum:y.distanceSum+u+t.sumOfEveryBoxToTheClosestTarget};a.hash=await this.metricEmitter.add(rn.HASH_CALCULATION,()=>this.calculateHashOfSolution(a)),t.isDeadLocked||await this.metricEmitter.add(rn.ADD_CANDIDATE,()=>this.candidatesToVisit.push(a))}}}candidateSolvesMap(y){return y.every(l=>this.getStaticFeaturesAtPosition(l.point).some(x=>x.code===gt.target))}candidateWasVisitedBefore(y){return this.candidatesVisitedSet.has(y)}calculateHashOfSolution(y){return`${y.boxes.map(l=>{var x,t;return`${l.point.x},${l.point.y}(${((t=(x=y.lastActionResult)==null?void 0:x.boxes.find(e=>e.id===l.id))==null?void 0:t.direction)||"-"})`}).sort().join(";")}:${y.hero.point.x},${y.hero.point.y}`}getStaticFeaturesAtPosition(y){return y.x<this.strippedMap.width&&y.y<this.strippedMap.height&&y.x>=0&&y.y>=0?this.strippedMap.strippedFeatureLayeredMatrix[y.y][y.x]:[]}};let ho=Ru;vt(ho,"actionsList",Object.keys(Ce).filter(y=>!isNaN(Number(y))).map(y=>Number(y)));class GC{verify(y){y.raw.strippedFeatureLayeredMatrix.forEach((l,x)=>{if(l.every(t=>t.every(e=>e.code!==gt.wall)))throw Error(`Line ${x+1} is pretty much empty. What's the sense of having it?`)})}}class Au{constructor(y){vt(this,"toInvestigate");vt(this,"dimensions");vt(this,"notInvestigatedYet");this.dimensions=new fe(y.raw.width,y.raw.height),this.notInvestigatedYet=[],y.raw.strippedFeatureLayeredMatrix.forEach((x,t)=>x.forEach((e,u)=>this.notInvestigatedYet.push({point:new fe(u,t),tiles:y.raw.strippedFeatureLayeredMatrix[t][u]})));const l=y.removedFeatures.get(gt.hero)[0];this.toInvestigate=[l]}explore(){const y=[],l=[],x=[];for(;this.toInvestigate.length>0;){const e=this.toInvestigate.shift(),u=this.notInvestigatedYet.find(i=>i.point.isEqualTo(e));if(this.notInvestigatedYet=this.notInvestigatedYet.filter(i=>i.point.isDifferentOf(e)),u){if(u.tiles.some(i=>i.code===gt.wall))continue;u.tiles.some(i=>i.code===gt.empty)&&x.push(e)}else continue;y.push(e),Au.getNeighborsOf(e).forEach(i=>{if(i.x<0||i.y<0||i.x>=this.dimensions.x||i.y>=this.dimensions.y){l.push(i);return}this.notInvestigatedYet.find(r=>r.point.isEqualTo(i))&&this.toInvestigate.push(i)})}const t=this.notInvestigatedYet.filter(e=>e.tiles.length>0&&e.tiles.some(u=>u.code!==gt.empty)).map(e=>e.point);return{wrapped:y,leaks:l,acessibleEmpties:x,unwrapped:t}}static getNeighborsOf(y){const l=[];for(let x=-1;x<2;++x)for(let t=-1;t<2;++t){const e=t+y.x,u=x+y.y;(x!==0||t!==0)&&l.push(new fe(e,u))}return l}}class VC{verify(y){const l=new Au(y).explore();if(l.acessibleEmpties.length>0)throw Error(`Did you notice there is an empty space at (${l.acessibleEmpties[0].y+1}, ${l.acessibleEmpties[0].x+1}).
                Well, I did and it doesn't look cool. Replace it with something more meaningful.`);if(l.leaks.length>0)throw Error(`Our hero is a escapper.
                            Wrap the whole level in walls otherwise it may be very hard to get the hero back. Put a wall somewhere around (${l.leaks[0].y+1}, ${l.leaks[0].x+1}).`);if(l.unwrapped.length>0)throw Error(`What's the point of having something unnecessary at (${l.unwrapped[0].y+1}, ${l.unwrapped[0].x+1})? There can be only one hero explorable area.
                 Do yourself a favor and put everything inside it.`)}}class UC{verify(y){if(y.raw.height>At.world.mapLimits.lines)throw Error(`Try to keep the number of lines less than ${At.world.mapLimits.lines}. Right now you have ${y.raw.height}.`);if(y.raw.width>At.world.mapLimits.rows)throw Error(`Try to keep the number of rows less than ${At.world.mapLimits.rows}. Right now you have ${y.raw.width}.`)}}class YC{verify(y){const l=y.removedFeatures.get(gt.hero).length;if(l===0)throw Error("Let's start by adding at least ONE hero to push things around. Shall we?");if(l>1)throw Error("Playing with more than ONE hero may be a future feature, but it is not allowed yet.")}}class bC{verify(y){const l=y.removedFeatures.get(gt.hero)[0],x=y.removedFeatures.get(gt.box);this.checkOilOverUse(y),this.checkDuplicateElementsAtSamePosition(y),this.checkBoxesOverUse(x,l),this.checkWallsOverUse(y,l,x)}checkBoxesOverUse(y,l){if(y.some(t=>t.isEqualTo(l)))throw Error(`Hero can't be in the same position as a box. Nice try, though. Fix error at (${l.y+1}, ${l.x+1})`);const x=y.find((t,e)=>y.some((u,i)=>t.isEqualTo(u)&&e!==i));if(x)throw Error(`Two boxes can't share the same position. Be more creative. Fix error at (${x.y+1}, ${x.x+1})`)}checkWallsOverUse(y,l,x){y.pointMap.get(gt.wall).forEach(t=>{for(let[e,u]of y.pointMap.entries()){const i=u.filter(r=>r.isEqualTo(t)).length;if(e!==gt.wall&&i>0)throw Error(`Walls can't share position with anything else. Give me a break. Fix error at (${t.y+1}, ${t.x+1}).`)}if(t.isEqualTo(l)||x.some(e=>e.isEqualTo(t)))throw Error(`Walls can't share position with anything else. Do I really have to say this? Fix error at (${t.y+1}, ${t.x+1}).`)})}checkOilOverUse(y){y.pointMap.get(gt.oily).forEach(l=>{if(y.pointMap.get(gt.treadmil).some(x=>x.isEqualTo(l)))throw Error(`Oily floors and treadmils don't go well together. Didn't you go to school?. Fix error at (${l.y+1}, ${l.x+1}).`);if(y.pointMap.get(gt.spring).some(x=>x.isEqualTo(l)))throw Error(`Oily floors and springs are like a rainbow and something that doesn't like rainbows at all. They don't mix. Fix error at (${l.y+1}, ${l.x+1}).`)})}checkDuplicateElementsAtSamePosition(y){for(let l=0;l<y.raw.height;++l)for(let x=0;x<y.raw.width;++x)if(y.raw.strippedFeatureLayeredMatrix[l][x].filter((e,u)=>y.raw.strippedFeatureLayeredMatrix[l][x].some((i,r)=>e.code===i.code&&u!==r)).length>1)throw Error(`A position can't contain more than one of the same element. Do you think they would get together and become stronger?
                         This is not power rangers. Fix it at (${l+1}, ${x+1}).`)}}class zC{verify(y){let l=0;y.raw.strippedFeatureLayeredMatrix.forEach(t=>t.forEach(e=>{e.some(u=>u.code!==gt.target&&u.code!==gt.floor&&u.code!==gt.wall&&u.code!==gt.empty)&&++l}));const x=At.world.mapLimits.features;if(l>x)throw Error(`For performance concerns, try to keep the number cool feature less than ${x}.
                        Right now you have ${l}, I don't think your browser can handle it.`)}}class WC{verify(y){const l=y.removedFeatures.get(gt.box),x=l.length,t=y.pointMap.get(gt.target),e=t.length;if(x<=0)throw Error("Come on! Put at least one barrel on the map, please.");if(e<=0)throw Error("How can a map be solved if there is no target to push barrells to?");if(e!==x)throw Error(`Numbers of targets (${e}) and barrels (${x}) have to be the same. Help me to help you.`);if(l.every(u=>t.some(i=>i.isEqualTo(u))))throw Error("You can't provide an already solved map. It would be too easy, don't you think?")}}const Oo=class{constructor(){vt(this,"constrainVerifiers");vt(this,"solver");this.constrainVerifiers=[new UC,new YC,new WC,new zC,new VC,new GC,new bC]}static getInstance(){return Oo.instance}abort(){var y;(y=this.solver)==null||y.abort()}async validate(y){var x;(x=this.solver)==null||x.abort(),console.log("validating map structure"),this.constrainVerifiers.forEach(t=>t.verify(y)),this.solver=new ho({strippedMap:y.raw,staticFeatures:y.pointMap}),console.log("checking whether the map is solvable");const l=await this.solver.solve(y.removedFeatures);if(!l.aborted&&!l.actions)throw new Error("Not even me can solve this map. Keep on trying to make a solvable one.");return console.log(l),console.log("done validating map"),l}};let Kr=Oo;vt(Kr,"instance",new Oo);class XC{constructor(y,l){vt(this,"fullText");vt(this,"selectedChar");this.selectedChar=y,this.fullText=l}localize(){const l=this.fullText.split("").filter((r,a)=>(r===`
`||r==="|")&&a<this.selectedChar).length,x=this.fullText.substring(0,this.selectedChar).lastIndexOf(`
`),t=this.fullText.substring(x,this.selectedChar).replace(/\n/g,"").replace(/[lurd]/g,""),e=this.countNumbersOfElementsInGrouppingTag(t),u=this.countNumbers(t),i=t.length-e+u;return new fe(i,l)}countNumbersOfElementsInGrouppingTag(y){const l=y.indexOf("[");if(l!==-1){const x=y.indexOf("]",l);return x>l?x-l+this.countNumbersOfElementsInGrouppingTag(y.substring(x)):y.length-l}return 0}countNumbers(y){var t;let l=0;const x=((t=y.match(/(\d*)/g))==null?void 0:t.reduce((e,u)=>{let i=Number(u);return i>0&&++l,e+i},0))||0;return x>0?x-2*l:0}}var Ah={},HC={get exports(){return Ah},set exports(m){Ah=m}};/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2016 Mykhailo Stadnyk <mikhus@gmail.com>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * @version 2.1.7
 */(function(m){(function(y){function l(U){if(Array.isArray(U)){for(var w=0,X=Array(U.length);w<U.length;w++)X[w]=U[w];return X}return Array.from(U)}function x(U,w){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?U:w}function t(U,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);U.prototype=Object.create(w&&w.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(U,w):U.__proto__=w)}function e(U,w){if(!(U instanceof w))throw new TypeError("Cannot call a class as a function")}function u(U,w){if(w||(w=typeof window>"u"?Hr:window),w[U]!==void 0)return w[U];for(var X=["webkit","moz","ms","o"],k=0,_=X.length,st=U.charAt(0).toUpperCase()+U.substr(1);k<_;k++){var rt=w[X[k]+st];if(rt!==void 0)return rt}return null}function i(U,w,X,k,_,st,rt){if(typeof k!="function")throw new TypeError("Invalid animation rule:",k);var ct=U-X,ut=ct/_,yt=0;ut>1&&(ut=1),ut!==1&&(yt=k(ut),isFinite(yt)&&!isNaN(yt)&&(ut=yt)),w&&w(ut),ct<_?rt.frame=Xt(function(St){return i(St,w,X,k,_,st,rt)}):(st&&st(),rt.inProgress=!1)}function r(){Array.prototype.constructor.apply(this,arguments)}function a(U){if(!(U instanceof DOMException&&U.result===2152923147))throw U}function n(U,w){return w.replace(_i,function(X,k){var _=U[k];return _!==void 0?_:X})}function s(U){return U.majorTicks instanceof Array||(U.majorTicks=U.majorTicks?[U.majorTicks]:[]),U.majorTicks.length||(U.majorTicks.push(Ft.formatMajorTickNumber(U.minValue,U)),U.majorTicks.push(Ft.formatMajorTickNumber(U.maxValue,U))),[U.tickSide!=="right",U.tickSide!=="left"]}function f(U,w,X,k,_,st){U.beginPath(),U.moveTo(w+st,X),U.lineTo(w+k-st,X),U.quadraticCurveTo(w+k,X,w+k,X+st),U.lineTo(w+k,X+_-st),U.quadraticCurveTo(w+k,X+_,w+k-st,X+_),U.lineTo(w+st,X+_),U.quadraticCurveTo(w,X+_,w,X+_-st),U.lineTo(w,X+st),U.quadraticCurveTo(w,X,w+st,X),U.closePath()}function o(U,w){var X=w.valueDec,k=w.valueInt,_=0,st=void 0,rt=void 0,ct=void 0;if(U=parseFloat(U),ct=U<0,U=Math.abs(U),X>0){for(rt=U.toFixed(X).toString().split("."),st=k-rt[0].length;_<st;++_)rt[0]="0"+rt[0];rt=(ct?"-":"")+rt[0]+"."+rt[1]}else{for(rt=Math.round(U).toString(),st=k-rt.length;_<st;++_)rt="0"+rt;rt=(ct?"-":"")+rt}return rt}function h(U,w){var X=void 0,k=!1;return X=w.majorTicksDec===0?Math.round(U).toString():U.toFixed(w.majorTicksDec),w.majorTicksInt>1?(k=~X.indexOf("."),~X.indexOf("-")?"-"+[w.majorTicksInt+w.majorTicksDec+2+(k?1:0)-X.length].join("0")+X.replace("-",""):[w.majorTicksInt+w.majorTicksDec+1+(k?1:0)-X.length].join("0")+X):X}function d(U){return U*Math.PI/180}function v(U,w){return{x:-U*Math.sin(w),y:U*Math.cos(w)}}function c(U,w,X,k){var _=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],st=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,rt=U.createLinearGradient(_?0:st,_?st:0,_?0:k,_?k:0);return rt.addColorStop(0,w),rt.addColorStop(1,X),rt}function p(U,w){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2])return U.restore(),!0;U.save();var X=w.borderShadowWidth;return X&&(U.shadowBlur=X,U.shadowColor=w.colorBorderShadow),!0}function g(U,w){w.needleShadow&&(U.shadowOffsetX=2,U.shadowOffsetY=2,U.shadowBlur=10,U.shadowColor=w.colorNeedleShadowDown)}function T(U,w,X){return U["font"+w+"Style"]+" "+U["font"+w+"Weight"]+" "+U["font"+w+"Size"]*X+"px "+U["font"+w]}function E(U){U.shadowOffsetX=null,U.shadowOffsetY=null,U.shadowBlur=null,U.shadowColor="",U.strokeStyle=null,U.lineWidth=0,U.save()}function S(U,w,X,k){w.valueTextShadow&&(U.shadowOffsetX=X,U.shadowOffsetY=X,U.shadowBlur=k,U.shadowColor=w.colorValueTextShadow)}function C(U,w,X,k,_,st){if(w.valueBox){E(U);var rt=w.valueDec?1+w.valueDec:0,ct="9".repeat(Math.max.apply(null,[String(parseInt(X)).length+rt].concat(w.majorTicks.map(function(oe){return String(parseInt(oe,10)).length+rt})))),ut=w.valueText||o(X,w),yt=st/200,St=st/100,Rt=.4*St,Yt=1.2*St;U.font=T(w,"Value",yt),S(U,w,Rt,Yt);var $t=U.measureText(w.valueText?ut:"-"+o(Number(ct),w)).width;E(U);var Wt=parseFloat(w.fontValueSize)*yt+Rt+Yt,ne=St*parseFloat(w.valueBoxStroke),Kt=2*st-2*ne,jt=$t+10*St,kt=1.1*Wt+Rt+Yt,se=St*w.valueBoxBorderRadius,te=(parseFloat(w.valueBoxWidth)||0)/100*Kt;te>jt&&(jt=te),jt>Kt&&(jt=Kt);var Zt=k-jt/2,Gt=_-kt/2,Ut=_-5.75*St;if(U.beginPath(),se?f(U,Zt,Gt,jt,kt,se):U.rect(Zt,Gt,jt,kt),ne){var qt=U.createRadialGradient(k,Ut,10*St,k,Ut,20*St);qt.addColorStop(0,w.colorValueBoxRect),qt.addColorStop(1,w.colorValueBoxRectEnd),U.strokeStyle=qt,U.lineWidth=ne,U.stroke()}w.colorValueBoxShadow&&(U.shadowBlur=1.2*St,U.shadowColor=w.colorValueBoxShadow),w.colorValueBoxBackground&&(U.fillStyle=w.colorValueBoxBackground,U.fill()),U.closePath(),U.restore(),S(U,w,Rt,Yt),U.fillStyle=w.colorValueText,U.textAlign="center",U.textBaseline="alphabetic",U.fillText(ut,Zt+jt/2,_+kt/2-Wt/3),U.restore()}}function P(U){var w=U.value,X=U.minValue,k=U.maxValue,_=.01*(k-X);return{normal:w<X?X:w>k?k:w,indented:w<X?X-_:w>k?k+_:w}}function A(U,w,X,k,_){X.beginPath(),X.arc(0,0,He(U),0,2*Xi,!0),X.lineWidth=w,X.strokeStyle=_?Ft.linearGradient(X,k,_,U):k,X.stroke(),X.closePath()}function R(U,w){var X=Oe.pixelRatio;return U.maxRadius||(U.maxRadius=U.max-w.borderShadowWidth-w.borderOuterWidth*X-w.borderMiddleWidth*X-w.borderInnerWidth*X+(w.borderOuterWidth?.5:0)+(w.borderMiddleWidth?.5:0)+(w.borderInnerWidth?.5:0)),U.maxRadius}function M(U,w){var X=Oe.pixelRatio,k=w.borderShadowWidth*X,_=U.max-k-w.borderOuterWidth*X/2,st=_-w.borderOuterWidth*X/2-w.borderMiddleWidth*X/2+.5,rt=st-w.borderMiddleWidth*X/2-w.borderInnerWidth*X/2+.5,ct=R(U,w),ut=void 0,yt=!1;U.save(),w.borderOuterWidth&&(yt=Ft.drawShadow(U,w,yt),A(_,w.borderOuterWidth*X,U,w.colorBorderOuter,w.colorBorderOuterEnd)),w.borderMiddleWidth&&(yt=Ft.drawShadow(U,w,yt),A(st,w.borderMiddleWidth*X,U,w.colorBorderMiddle,w.colorBorderMiddleEnd)),w.borderInnerWidth&&(yt=Ft.drawShadow(U,w,yt),A(rt,w.borderInnerWidth*X,U,w.colorBorderInner,w.colorBorderInnerEnd)),Ft.drawShadow(U,w,yt),U.beginPath(),U.arc(0,0,He(ct),0,2*Xi,!0),w.colorPlateEnd?(ut=U.createRadialGradient(0,0,ct/2,0,0,ct),ut.addColorStop(0,w.colorPlate),ut.addColorStop(1,w.colorPlateEnd)):ut=w.colorPlate,U.fillStyle=ut,U.fill(),U.closePath(),U.restore()}function L(U,w){var X=U.max*(parseFloat(w.highlightsWidth)||0)/100;if(X){var k=He(I(U,w)-X/2),_=0,st=w.highlights.length,rt=(w.maxValue-w.minValue)/w.ticksAngle;for(U.save();_<st;_++){var ct=w.highlights[_];U.beginPath(),U.rotate(Ot),U.arc(0,0,k,Ft.radians(w.startAngle+(ct.from-w.minValue)/rt),Ft.radians(w.startAngle+(ct.to-w.minValue)/rt),!1),U.strokeStyle=ct.color,U.lineWidth=X,U.lineCap=w.highlightsLineCap,U.stroke(),U.closePath(),U.restore(),U.save()}}}function F(U,w){var X=I(U,w),k=void 0,_=void 0,st=void 0,rt=0,ct=0,ut=Math.abs(w.minorTicks)||0,yt=w.ticksAngle/(w.maxValue-w.minValue);for(U.lineWidth=Oe.pixelRatio,U.strokeStyle=w.colorMinorTicks||w.colorStrokeTicks,U.save(),w.exactTicks?(_=w.maxValue-w.minValue,k=ut?_/ut:0,ct=($e.mod(w.majorTicks[0],ut)||0)*yt):k=ut*(w.majorTicks.length-1);rt<k;++rt)(st=w.startAngle+ct+rt*(w.ticksAngle/k))<=w.ticksAngle+w.startAngle&&(U.rotate(Ft.radians(st)),U.beginPath(),U.moveTo(0,X),U.lineTo(0,X-.075*U.max),W(U))}function I(U,w){var X=U.max/100;return R(U,w)-5*X-(w.barWidth?2*(parseFloat(w.barStrokeWidth)||0)+((parseFloat(w.barWidth)||0)+5)*X:0)}function B(U,w){Ft.prepareTicks(w);var X=He(I(U,w)),k=void 0,_=void 0,st=w.majorTicks.length,rt=Oe.pixelRatio;for(U.lineWidth=2*rt,U.save(),_=w.colorMajorTicks instanceof Array?w.colorMajorTicks:new Array(st).fill(w.colorStrokeTicks||w.colorMajorTicks),k=0;k<st;++k)U.strokeStyle=_[k],U.rotate(Ft.radians(b(w,w.exactTicks?w.majorTicks[k]:k,st))),U.beginPath(),U.moveTo(0,X),U.lineTo(0,X-.15*U.max),W(U);w.strokeTicks&&(U.strokeStyle=w.colorStrokeTicks||_[0],U.rotate(Ot),U.beginPath(),U.arc(0,0,X,Ft.radians(w.startAngle),Ft.radians(w.startAngle+w.ticksAngle),!1),W(U))}function b(U,w,X){if(U.exactTicks){var k=U.ticksAngle/(U.maxValue-U.minValue);return U.startAngle+k*(w-U.minValue)}return U.startAngle+w*(U.ticksAngle/(X-1))}function W(U){U.stroke(),U.restore(),U.closePath(),U.save()}function $(U,w){var X=I(U,w)-.15*U.max,k={},_=0,st=w.majorTicks.length,rt=w.animationTarget!=="needle",ct=w.colorNumbers instanceof Array?w.colorNumbers:new Array(st).fill(w.colorNumbers),ut=rt?-(w.value-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle:0;for(rt&&(U.save(),U.rotate(-Ft.radians(ut))),U.font=Ft.font(w,"Numbers",U.max/200),U.lineWidth=0,U.textAlign="center",U.textBaseline="middle";_<st;++_){var yt=ut+b(w,w.exactTicks?w.majorTicks[_]:_,st),St=U.measureText(w.majorTicks[_]).width,Rt=w.fontNumbersSize,Yt=Math.sqrt(St*St+Rt*Rt)/2,$t=Ft.radialPoint(X-Yt-w.numbersMargin/100*U.max,Ft.radians(yt));yt===360&&(yt=0),k[yt]||(k[yt]=!0,U.fillStyle=ct[_],U.fillText(w.majorTicks[_],$t.x,$t.y))}rt&&U.restore()}function Z(U,w){w.title&&(U.save(),U.font=Ft.font(w,"Title",U.max/200),U.fillStyle=w.colorTitle,U.textAlign="center",U.fillText(w.title,0,-U.max/4.25,.8*U.max),U.restore())}function D(U,w){w.units&&(U.save(),U.font=Ft.font(w,"Units",U.max/200),U.fillStyle=w.colorUnits,U.textAlign="center",U.fillText(Ft.formatContext(w,w.units),0,U.max/3.25,.8*U.max),U.restore())}function O(U,w){if(w.needle){var X=w.ticksAngle<360?Ft.normalizedValue(w).indented:w.value,k=Yt?w.startAngle:w.startAngle+(X-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle;w.barStartPosition==="right"&&(k=w.startAngle+w.ticksAngle-(X-w.minValue)/(w.maxValue-w.minValue)*w.ticksAngle);var _=R(U,w),st=He(_/100*w.needleCircleSize),rt=He(_/100*w.needleCircleSize*.75),ct=He(_/100*w.needleEnd),ut=He(w.needleStart?_/100*w.needleStart:0),yt=_/100*w.needleWidth,St=_/100*w.needleWidth/2,Rt=Oe.pixelRatio,Yt=w.animationTarget!=="needle";U.save(),Ft.drawNeedleShadow(U,w),U.rotate(Ft.radians(k)),U.fillStyle=Ft.linearGradient(U,w.colorNeedle,w.colorNeedleEnd,ct-ut),w.needleType==="arrow"?(U.beginPath(),U.moveTo(-St,-ut),U.lineTo(-yt,0),U.lineTo(-1*Rt,ct),U.lineTo(Rt,ct),U.lineTo(yt,0),U.lineTo(St,-ut),U.closePath(),U.fill(),U.beginPath(),U.lineTo(-.5*Rt,ct),U.lineTo(-1*Rt,ct),U.lineTo(-yt,0),U.lineTo(-St,-ut),U.lineTo(St/2*Rt-2*Rt,-ut),U.closePath(),U.fillStyle=w.colorNeedleShadowUp,U.fill()):(U.beginPath(),U.moveTo(-St,ct),U.lineTo(-St,ut),U.lineTo(St,ut),U.lineTo(St,ct),U.closePath(),U.fill()),w.needleCircleSize&&(U.restore(),Ft.drawNeedleShadow(U,w),w.needleCircleOuter&&(U.beginPath(),U.arc(0,0,st,0,2*Xi,!0),U.fillStyle=Ft.linearGradient(U,w.colorNeedleCircleOuter,w.colorNeedleCircleOuterEnd,st),U.fill(),U.closePath()),w.needleCircleInner&&(U.beginPath(),U.arc(0,0,rt,0,2*Xi,!0),U.fillStyle=Ft.linearGradient(U,w.colorNeedleCircleInner,w.colorNeedleCircleInnerEnd,rt),U.fill(),U.closePath()),U.restore())}}function N(U,w,X){Ft.drawValueBox(U,w,X,0,U.max-.33*U.max,U.max)}function G(U){var w=U.startAngle,X=U.startAngle+U.ticksAngle,k=w,_=w+(Ft.normalizedValue(U).normal-U.minValue)/(U.maxValue-U.minValue)*U.ticksAngle;if(U.barStartPosition==="middle"){var st=.5*(U.minValue+U.maxValue);U.value<st?(k=180-(st-Ft.normalizedValue(U).normal)/(U.maxValue-U.minValue)*U.ticksAngle,_=180):(k=180,_=180+(Ft.normalizedValue(U).normal-st)/(U.maxValue-U.minValue)*U.ticksAngle)}else U.barStartPosition==="right"&&(k=X-_+w,_=X);return{startAngle:k,endAngle:_}}function Y(U,w){var X=U.max/100,k=R(U,w)-5*X,_=parseFloat(w.barStrokeWidth+"")||0,st=(parseFloat(w.barWidth+"")||0)*X,rt=k-2*_-st,ct=(k-rt)/2,ut=rt+ct,yt=_/ut,St=w.startAngle,Rt=w.startAngle+w.ticksAngle;if(U.save(),U.rotate(Ot),_&&(U.beginPath(),U.arc(0,0,ut,Ft.radians(St)-yt,Ft.radians(Rt)+yt,!1),U.strokeStyle=w.colorBarStroke,U.lineWidth=2*ct,U.stroke(),U.closePath()),st&&(U.beginPath(),U.arc(0,0,ut,Ft.radians(St),Ft.radians(Rt),!1),U.strokeStyle=w.colorBar,U.lineWidth=st,U.stroke(),U.closePath(),w.barShadow&&(U.beginPath(),U.arc(0,0,k,Ft.radians(St),Ft.radians(Rt),!1),U.clip(),U.beginPath(),U.strokeStyle=w.colorBar,U.lineWidth=1,U.shadowBlur=w.barShadow,U.shadowColor=w.colorBarShadow,U.shadowOffsetX=0,U.shadowOffsetY=0,U.arc(0,0,k,Ft.radians(w.startAngle),Ft.radians(w.startAngle+w.ticksAngle),!1),U.stroke(),U.closePath(),U.restore(),U.rotate(Ot)),w.barProgress)){var Yt=G(w),$t=Yt.startAngle,Wt=Yt.endAngle;U.beginPath(),U.arc(0,0,ut,Ft.radians($t),Ft.radians(Wt),!1),U.strokeStyle=w.colorBarProgress,U.lineWidth=st,U.stroke(),U.closePath()}U.restore()}function V(U){return U.options.animatedValue?U.options.value:U.value}function z(U,w,X,k,_,st,rt,ct){U.beginPath(),U.fillStyle=ct?Ft.linearGradient(U,rt,ct,_>st?_:st,st>_,_>st?X:k):rt,w>0?Ft.roundRect(U,X,k,_,st,w):U.rect(X,k,_,st),U.fill(),U.closePath()}function H(U,w,X,k,_,st,rt,ct,ut){U.beginPath(),U.lineWidth=w,U.strokeStyle=ut?Ft.linearGradient(U,ct,ut,rt,!0,_):ct,X>0?Ft.roundRect(U,k,_,st,rt,X):U.rect(k,_,st,rt),U.stroke(),U.closePath()}function j(U,w,X,k,_,st){var rt=Oe.pixelRatio;U.save();var ct=w.borderRadius*rt,ut=_-w.borderShadowWidth-w.borderOuterWidth*rt,yt=ut-w.borderOuterWidth*rt-w.borderMiddleWidth*rt,St=yt-w.borderMiddleWidth*rt-w.borderInnerWidth*rt,Rt=St-w.borderInnerWidth*rt,Yt=st-w.borderShadowWidth-w.borderOuterWidth*rt,$t=Yt-w.borderOuterWidth*rt-w.borderMiddleWidth*rt,Wt=$t-w.borderMiddleWidth*rt-w.borderInnerWidth*rt,ne=Wt-w.borderInnerWidth*rt,Kt=X-(yt-ut)/2,jt=Kt-(St-yt)/2,kt=jt-(Rt-St)/2,se=k-($t-Yt)/2,te=se-(Wt-$t)/2,Zt=te-(ne-Wt)/2,Gt=0,Ut=!1;return w.borderOuterWidth&&(Ut=Ft.drawShadow(U,w,Ut),H(U,w.borderOuterWidth*rt,ct,X+w.borderOuterWidth*rt/2-Gt,k+w.borderOuterWidth*rt/2-Gt,ut,Yt,w.colorBorderOuter,w.colorBorderOuterEnd),Gt+=.5*rt),w.borderMiddleWidth&&(Ut=Ft.drawShadow(U,w,Ut),H(U,w.borderMiddleWidth*rt,ct-=1+2*Gt,Kt+w.borderMiddleWidth*rt/2-Gt,se+w.borderMiddleWidth*rt/2-Gt,yt+2*Gt,$t+2*Gt,w.colorBorderMiddle,w.colorBorderMiddleEnd),Gt+=.5*rt),w.borderInnerWidth&&(Ut=Ft.drawShadow(U,w,Ut),H(U,w.borderInnerWidth*rt,ct-=1+2*Gt,jt+w.borderInnerWidth*rt/2-Gt,te+w.borderInnerWidth*rt/2-Gt,St+2*Gt,Wt+2*Gt,w.colorBorderInner,w.colorBorderInnerEnd),Gt+=.5*rt),Ft.drawShadow(U,w,Ut),z(U,ct,kt,Zt,Rt+2*Gt,ne+2*Gt,w.colorPlate,w.colorPlateEnd),U.restore(),[kt,Zt,Rt,ne]}function q(U,w,X,k,_,st){var rt=Oe.pixelRatio,ct=st>=_,ut=ct?.85*_:st,yt=ct?st:_;X=ct?Qt(X+(_-ut)/2):X;var St=!!w.title,Rt=!!w.units,Yt=!!w.valueBox,$t=void 0,Wt=void 0,ne=void 0;ct?(Wt=Qt(.05*yt),$t=Qt(.075*yt),ne=Qt(.11*yt),St&&(yt-=$t,k+=$t),Rt&&(yt-=Wt),Yt&&(yt-=ne)):(Wt=$t=Qt(.15*ut),St&&(ut-=$t,k+=$t),Rt&&(ut-=Wt));var Kt=2*w.barStrokeWidth,jt=w.barBeginCircle?Qt(ut*w.barBeginCircle/200-Kt/2):0,kt=Qt(ut*w.barWidth/100-Kt),se=Qt(yt*w.barLength/100-Kt),te=Qt((yt-se)/2),Zt=Qt(X+(ct?ut/2:te+jt)),Gt=Qt(k+(ct?yt-te-jt+Kt/2:ut/2)),Ut=!ct||w.hasLeft&&w.hasRight?0:(w.hasRight?-1:1)*w.ticksWidth/100*ut,qt=ct||w.hasLeft&&w.hasRight?0:(w.hasRight?-1:1)*w.ticksWidth/100*ut;return U.barDimensions={isVertical:ct,width:ut,length:yt,barWidth:kt,barLength:se,strokeWidth:Kt,barMargin:te,radius:jt,pixelRatio:rt,barOffset:null,titleMargin:St?$t:0,unitsMargin:Rt?Wt:0,get ticksLength(){return this.barLength-this.barOffset-this.strokeWidth},X:X+Ut,Y:k+qt,x0:Zt+Ut,y0:Gt+qt,baseX:X,baseY:k,ticksPadding:w.ticksPadding/100},U.barDimensions}function et(U,w,X,k,_,st,rt){var ct=q(U,w,k,_,st,rt),ut=ct.isVertical,yt=ct.width,St=ct.barWidth,Rt=ct.barLength,Yt=ct.strokeWidth,$t=ct.barMargin,Wt=ct.radius,ne=ct.x0,Kt=ct.y0,jt=ct.X,kt=ct.Y,se=Rt;if(U.save(),U.beginPath(),w.barBeginCircle){var te=Ft.radians(ut?270:0),Zt=Math.asin(St/2/Wt),Gt=Math.cos(Zt),Ut=Math.sin(Zt),qt=ne+(ut?Wt*Ut:Wt*Gt-Yt/2),oe=ut?Kt-Wt*Gt:Kt+Wt*Ut,ye=He(ut?oe-Kt:qt-ne);U.barDimensions.barOffset=Qt(ye+Wt);var pe=ut?Qt(ne-Wt*Ut):qt,ei=ut?oe:Qt(Kt-Wt*Ut);X==="progress"&&(Rt=U.barDimensions.barOffset+(Rt-U.barDimensions.barOffset)*(Ft.normalizedValue(w).normal-w.minValue)/(w.maxValue-w.minValue));var fi=Qt(qt+Rt-U.barDimensions.barOffset+Yt/2),un=Qt(oe-Rt+U.barDimensions.barOffset-Yt/2);U.arc(ne,Kt,Wt,te+Zt,te-Zt),ut?(U.moveTo(qt,ei),U.lineTo(qt,un),U.lineTo(pe,un),U.lineTo(pe,ei)):(U.moveTo(qt,ei),U.lineTo(fi,ei),U.lineTo(fi,oe),U.lineTo(qt,oe))}else{var yi=Qt(ut?jt+(yt-St)/2:jt+$t),Fe=Qt(ut?kt+Rt+$t:kt+(yt-St)/2);X==="progress"&&(Rt*=(w.value-w.minValue)/(w.maxValue-w.minValue)),ut?U.rect(yi,Fe,St,-Rt):U.rect(yi,Fe,Rt,St)}X!=="progress"&&w.barStrokeWidth&&(U.lineWidth=Yt,U.strokeStyle=w.colorBarStroke,U.stroke()),X!=="progress"&&w.colorBar?(U.fillStyle=w.colorBarEnd?Ft.linearGradient(U,w.colorBar,w.colorBarEnd,Rt,ut,ut?kt:jt):w.colorBar,U.fill()):X==="progress"&&w.colorBarProgress&&(U.fillStyle=w.colorBarProgressEnd?Ft.linearGradient(U,w.colorBarProgress,w.colorBarProgressEnd,se,ut,ut?kt:jt):w.colorBarProgress,U.fill()),U.closePath(),w.barBeginCircle&&(U.barDimensions.radius+=Yt),U.barDimensions.barWidth+=Yt,U.barDimensions.barLength+=Yt}function ot(U,w,X,k,_,st){et(U,w,"",X,k,_,st)}function K(U,w){return w.needleSide!==U||w.tickSide!==U||w.numberSide!==U}function Q(U,w,X,k,_,st){w.barProgress&&et(U,w,"progress",X,k,_,st)}function tt(U,w){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.barWidth,ct=X.barOffset,ut=X.barMargin,yt=X.X,St=X.Y,Rt=X.ticksLength,Yt=X.ticksPadding,$t=_*(parseFloat(w.highlightsWidth)||0)/100;if(w.highlights&&$t){var Wt=w.tickSide!=="right",ne=w.tickSide!=="left",Kt=0,jt=w.highlights.length,kt=(_-rt)/2,se=w.maxValue-w.minValue,te=Qt(k?yt+kt:yt+ut+ct),Zt=$t,Gt=k?St+st-ut-ct:St+kt,Ut=Qt((w.ticksWidth/100+Yt)*_)+($t-w.ticksWidth/100*_),qt=Qt(rt+Yt*_);for(U.save();Kt<jt;Kt++){var oe=w.highlights[Kt],ye=Rt*He(w.minValue-oe.from)/se,pe=Rt*He((oe.to-oe.from)/se);U.beginPath(),U.fillStyle=oe.color,k?(Wt&&U.rect(te-Ut,Gt-ye,Zt,-pe),ne&&U.rect(te+qt,Gt-ye,Zt,-pe)):(Wt&&U.rect(te+ye,Gt-Ut,pe,Zt),ne&&U.rect(te+ye,Gt+qt,pe,Zt)),U.fill(),U.closePath()}}}function nt(U,w,X,k,_){U.beginPath(),U.moveTo(w,X),U.lineTo(k,_),U.stroke(),U.closePath(),U.save()}function ft(U,w,X,k,_,st,rt,ct,ut){var yt=U.barDimensions,St=yt.isVertical,Rt=yt.length,Yt=yt.barWidth,$t=yt.barOffset,Wt=yt.barMargin,ne=yt.pixelRatio,Kt=yt.width,jt=yt.X,kt=yt.Y,se=yt.ticksLength,te=yt.ticksPadding,Zt=(Kt-Yt)/2,Gt=void 0,Ut=void 0,qt=0,oe=X.length,ye=void 0,pe=ut*Kt,ei=Zt-te*Kt,fi=Zt+Yt+pe+te*Kt,un=w instanceof Array?w:new Array(X.length).fill(w);U.lineWidth=ct*ne,U.save();for(var yi=se/(_-k);qt<oe;qt++)ye=X[qt],U.strokeStyle=un[qt],St?(Ut=kt+Rt-Wt-$t+(k-ye)*yi,st&&(Gt=jt+ei,nt(U,Gt,Ut,Qt(Gt-pe),Ut)),rt&&(Gt=jt+fi,nt(U,Gt,Ut,Qt(Gt-pe),Ut))):(Gt=jt+Wt+$t-(k-ye)*yi,st&&(Ut=kt+ei,nt(U,Gt,Ut,Gt,Qt(Ut-pe))),rt&&(Ut=kt+fi,nt(U,Gt,Qt(Ut),Gt,Ut-pe)))}function mt(U,w){var X=Ft.prepareTicks(w),k=Dt(X,2),_=k[0],st=k[1],rt=2,ct=(w.maxValue-w.minValue)/(w.majorTicks.length-1),ut=w.colorMajorTicks instanceof Array?w.colorMajorTicks:new Array(w.majorTicks.length).fill(w.colorStrokeTicks||w.colorMajorTicks);if(ft(U,ut,w.exactTicks?w.majorTicks:w.majorTicks.map(function(pe,ei){return w.minValue+ct*ei}),w.minValue,w.maxValue,_,st,rt,w.ticksWidth/100),w.strokeTicks){var yt=U.barDimensions,St=yt.isVertical,Rt=yt.length,Yt=yt.width,$t=yt.barWidth,Wt=yt.barMargin,ne=yt.barOffset,Kt=yt.X,jt=yt.Y,kt=yt.ticksLength,se=yt.pixelRatio,te=yt.ticksPadding,Zt=(Yt-$t)/2+$t+te*Yt,Gt=(Yt-$t)/2-te*Yt,Ut=void 0,qt=void 0,oe=void 0,ye=void 0;U.strokeStyle=w.colorStrokeTicks||ut[0],rt*=se,St?(qt=jt+Rt-Wt-ne+rt/2,ye=qt-kt-rt,_&&(oe=Ut=Qt(Kt+Gt),pt(U,Ut,qt,oe,ye)),st&&(oe=Ut=Qt(Kt+Zt),pt(U,Ut,qt,oe,ye))):(Ut=Kt+Wt+ne-rt/2,oe=Ut+kt+rt,_&&(ye=qt=Qt(jt+Gt),pt(U,Ut,qt,oe,ye)),st&&(ye=qt=Qt(jt+Zt),pt(U,Ut,qt,oe,ye)))}}function pt(U,w,X,k,_){U.beginPath(),U.moveTo(w,X),U.lineTo(k,_),U.stroke(),U.closePath()}function at(U,w){var X=Ft.prepareTicks(w),k=Dt(X,2),_=k[0],st=k[1],rt=[],ct=w.minValue,ut=Math.abs(w.minorTicks)||0,yt=ut?(w.maxValue-w.minValue)/(ut*(w.majorTicks.length-1)):0;if(ut)if(w.exactTicks)for(var St=$e.mod(w.majorTicks[0],ut)||0;ct<w.maxValue;ct+=ut)St+ct<w.maxValue&&rt.push(St+ct);else for(;ct<w.maxValue;ct+=yt)rt.push(ct);ft(U,w.colorMinorTicks||w.colorStrokeTicks,rt,w.minValue,w.maxValue,_,st,1,w.ticksWidthMinor/100)}function Tt(U,w){var X=U.barDimensions,k=X.isVertical,_=X.length,st=X.width,rt=X.barWidth,ct=X.barMargin,ut=X.barOffset,yt=X.X,St=X.Y,Rt=X.ticksLength,Yt=X.ticksPadding,$t=w.maxValue-w.minValue,Wt=$t/(w.majorTicks.length-1),ne=w.exactTicks?w.majorTicks:w.majorTicks.map(function(un,yi){return w.minValue+Wt*yi}),Kt=ne.length,jt=w.numberSide!=="right",kt=w.numberSide!=="left",se=w.fontNumbersSize*st/200,te=0,Zt=(w.ticksWidth/100+2*Yt)*st,Gt=(st-rt)/2-Zt,Ut=(st-rt)/2+rt+Zt,qt=void 0,oe=void 0,ye=void 0,pe=void 0,ei=w.colorNumbers instanceof Array?w.colorNumbers:new Array(Kt).fill(w.colorNumbers),fi=w.numbersMargin/100*st;for(U.font=Ft.font(w,"Numbers",st/200),U.lineWidth=0,U.textAlign="center";te<Kt;te++)U.fillStyle=ei[te],pe=w.majorTicks[te],ye=w.exactTicks?Rt*((ne[te]-w.minValue)/$t):te*Rt/(Kt-1),k?(oe=St+_-ct-ut-ye+se/3,jt&&(U.textAlign="right",U.fillText(pe,yt+Gt-fi,oe)),kt&&(U.textAlign="left",U.fillText(pe,yt+Ut+fi,oe))):(U.measureText(pe).width,qt=yt+ct+ut+ye,jt&&U.fillText(pe,qt,St+Gt-fi),kt&&U.fillText(pe,qt,St+Ut+se+fi))}function lt(U,w){if(w.title){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.baseX,ct=X.baseY,ut=X.titleMargin,yt=w.fontTitleSize*_/200,St=Qt(rt+(k?_:st)/2),Rt=Qt(ct+ut/2-(k?yt:yt/2)-.025*(k?st:_));U.save(),U.textAlign="center",U.fillStyle=w.colorTitle,U.font=Ft.font(w,"Title",_/200),U.lineWidth=0,U.fillText(w.title,St,Rt,k?_:st)}}function Et(U,w){if(w.units){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.baseX,ct=X.baseY,ut=X.unitsMargin,yt=w.fontUnitsSize*_/200,St=Qt(rt+(k?_:st)/2),Rt=Qt(ct+(k?st:_)+ut/2-yt/2);U.save(),U.textAlign="center",U.fillStyle=w.colorUnits,U.font=Ft.font(w,"Units",_/200),U.lineWidth=0,U.fillText(Ft.formatContext(w,w.units),St,Rt,k?_:st)}}function Ct(U,w){if(w.needle){var X=U.barDimensions,k=X.isVertical,_=X.width,st=X.length,rt=X.barWidth,ct=X.barOffset,ut=X.barMargin,yt=X.ticksLength,St=X.X,Rt=X.Y,Yt=X.ticksPadding,$t=w.needleSide!=="right",Wt=w.needleSide!=="left",ne=yt*(Ft.normalizedValue(w).indented-w.minValue)/(w.maxValue-w.minValue),Kt=(w.ticksWidth/100+Yt)*_,jt=rt/2+Kt,kt=jt*(w.needleEnd/100),se=void 0,te=void 0,Zt=void 0,Gt=void 0,Ut=w.needleType.toLowerCase()==="arrow"?Mt:Pt,qt=(_-rt)/2,oe=jt*(w.needleStart/100),ye=qt-Kt-oe,pe=qt+rt+Kt+oe;U.save(),Ft.drawNeedleShadow(U,w),k?(Zt=Qt(Rt+st-ut-ct-ne),$t&&(se=Qt(St+ye),te=se+kt,Ut(U,w,se,Zt,te,Zt,kt)),Wt&&(se=Qt(St+pe),te=se-kt,Ut(U,w,se,Zt,te,Zt,kt,!0))):(se=Qt(St+ut+ct+ne),$t&&(Zt=Qt(Rt+ye),Gt=Zt+kt,Ut(U,w,se,Zt,se,Gt,kt)),Wt&&(Zt=Qt(Rt+pe),Gt=Zt-kt,Ut(U,w,se,Zt,se,Gt,kt,!0))),U.restore()}}function Lt(U,w,X,k){return w.colorNeedleEnd?Ft.linearGradient(U,k?w.colorNeedleEnd:w.colorNeedle,k?w.colorNeedle:w.colorNeedleEnd,X,!U.barDimensions.isVertical):w.colorNeedle}function Pt(U,w,X,k,_,st,rt,ct){U.lineWidth=w.needleWidth,U.strokeStyle=Lt(U,w,rt,ct),U.beginPath(),U.moveTo(X,k),U.lineTo(_,st),U.stroke(),U.closePath()}function Mt(U,w,X,k,_,st,rt,ct){var ut=Qt(.4*rt),yt=rt-ut,St=X===_,Rt=w.needleWidth/2;U.fillStyle=Lt(U,w,rt,ct),U.beginPath(),St?(k>st&&(yt*=-1),U.moveTo(X-Rt,k),U.lineTo(X+Rt,k),U.lineTo(X+Rt,k+yt),U.lineTo(X,st),U.lineTo(X-Rt,k+yt),U.lineTo(X-Rt,k)):(X>_&&(yt*=-1),U.moveTo(X,k-Rt),U.lineTo(X,k+Rt),U.lineTo(X+yt,k+Rt),U.lineTo(_,k),U.lineTo(X+yt,k-Rt),U.lineTo(X,k-Rt)),U.fill(),U.closePath()}function wt(U,w,X,k,_,st,rt){var ct=(parseFloat(w.fontValueSize)||0)*st/200,ut=(.11*rt-ct)/2;U.barDimensions.isVertical&&Ft.drawValueBox(U,w,X,k+st/2,_+rt-ct-ut,st)}var Dt=function(){function U(w,X){var k=[],_=!0,st=!1,rt=void 0;try{for(var ct,ut=w[Symbol.iterator]();!(_=(ct=ut.next()).done)&&(k.push(ct.value),!X||k.length!==X);_=!0);}catch(yt){st=!0,rt=yt}finally{try{!_&&ut.return&&ut.return()}finally{if(st)throw rt}}return k}return function(w,X){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return U(w,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bt=function U(w,X,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,X);if(_===void 0){var st=Object.getPrototypeOf(w);return st===null?void 0:U(st,X,k)}if("value"in _)return _.value;var rt=_.get;if(rt!==void 0)return rt.call(k)},ie=function U(w,X,k,_){var st=Object.getOwnPropertyDescriptor(w,X);if(st===void 0){var rt=Object.getPrototypeOf(w);rt!==null&&U(rt,X,k,_)}else if("value"in st&&st.writable)st.value=k;else{var ct=st.set;ct!==void 0&&ct.call(_,k)}return k},ae=function(){function U(w,X){for(var k=0;k<X.length;k++){var _=X[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,X,k){return X&&U(w.prototype,X),k&&U(w,k),w}}();Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(U,w){if(U==null)throw new TypeError("Cannot convert first argument to object");for(var X=Object(U),k=1;k<arguments.length;k++){var _=arguments[k];if(_!=null)for(var st=Object.keys(Object(_)),rt=0,ct=st.length;rt<ct;rt++){var ut=st[rt],yt=Object.getOwnPropertyDescriptor(_,ut);yt!==void 0&&yt.enumerable&&(X[ut]=_[ut])}}return X}}),Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(U,w){var X;if(this===null)throw new TypeError('"this" is null or not defined');var k=Object(this),_=k.length>>>0;if(_===0)return-1;var st=+w||0;if(Math.abs(st)===1/0&&(st=0),st>=_)return-1;for(X=Math.max(st>=0?st:_-Math.abs(st),0);X<_;){if(X in k&&k[X]===U)return X;X++}return-1}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(U){if(this===null)throw new TypeError("this is null or not defined");for(var w=Object(this),X=w.length>>>0,k=arguments[1],_=k>>0,st=_<0?Math.max(X+_,0):Math.min(_,X),rt=arguments[2],ct=rt===void 0?X:rt>>0,ut=ct<0?Math.max(X+ct,0):Math.min(ct,X);st<ut;)w[st]=U,st++;return w}}),typeof window>"u"&&(window=typeof Hr>"u"?{}:Hr);var Le=function(){function U(){e(this,U),this._events={},this.addListener=this.on,this.removeListener=this.off}return ae(U,[{key:"emit",value:function(w){if(this._events[w]){for(var X=0,k=this._events[w].length,_=arguments.length,st=Array(_>1?_-1:0),rt=1;rt<_;rt++)st[rt-1]=arguments[rt];for(;X<k;X++)this._events[w][X]&&this._events[w][X].apply(this,st)}}},{key:"once",value:function(w){for(var X=arguments.length,k=Array(X>1?X-1:0),_=1;_<X;_++)k[_-1]=arguments[_];for(var st=0,rt=k.length,ct=this;st<rt;st++)(function(){var ut=k[st],yt=function St(){ct.off(w,St),ut.apply(ct,arguments)};k[st]=yt})();this.on.apply(this,[w].concat(k))}},{key:"on",value:function(w){this._events[w]||(this._events[w]=[]);for(var X=0,k=arguments.length<=1?0:arguments.length-1;X<k;X++)this._events[w].push(arguments.length<=X+1?void 0:arguments[X+1])}},{key:"off",value:function(w){if(this._events[w])for(var X=0,k=arguments.length<=1?0:arguments.length-1;X<k;X++)for(var _=arguments.length<=X+1?void 0:arguments[X+1],st=void 0;~(st=this._events[w].indexOf(_));)this._events[w].splice(st,1)}},{key:"removeAllListeners",value:function(w){delete this._events[w]}},{key:"listeners",get:function(){return this._events}}]),U}(),Xt=u("requestAnimationFrame")||function(U){return setTimeout(function(){return U(new Date().getTime())},1e3/60)},Me={linear:function(U){return U},quad:function(U){return Math.pow(U,2)},dequad:function(U){return 1-Me.quad(1-U)},quint:function(U){return Math.pow(U,5)},dequint:function(U){return 1-Math.pow(1-U,5)},cycle:function(U){return 1-Math.sin(Math.acos(U))},decycle:function(U){return Math.sin(Math.acos(1-U))},bounce:function(U){return 1-Me.debounce(1-U)},debounce:function(U){for(var w=0,X=1;;w+=X,X/=2)if(U>=(7-4*w)/11)return-Math.pow((11-6*w-11*U)/4,2)+Math.pow(X,2)},elastic:function(U){return 1-Me.delastic(1-U)},delastic:function(U){return Math.pow(2,10*(U-1))*Math.cos(20*Math.PI*1.5/3*U)}},ve=function(){function U(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"linear",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){};if(e(this,U),this.duration=X,this.rule=w,this.draw=k,this.end=_,typeof this.draw!="function")throw new TypeError("Invalid animation draw callback:",k);if(typeof this.end!="function")throw new TypeError("Invalid animation end callback:",_)}return ae(U,[{key:"animate",value:function(w,X){var k=this;this.frame&&this.cancel();var _=window.performance&&window.performance.now?window.performance.now():u("animationStartTime")||Date.now();w=w||this.draw,X=X||this.end,this.draw=w,this.end=X,this.frame=Xt(function(st){return i(st,w,_,Me[k.rule]||k.rule,k.duration,X,k)})}},{key:"cancel",value:function(){this.frame&&((u("cancelAnimationFrame")||function(w){})(this.frame),this.frame=null)}},{key:"destroy",value:function(){this.cancel(),this.draw=null,this.end=null}}]),U}();ve.rules=Me;var Ht=function(){function U(w,X,k){e(this,U),this.options=w,this.element=X.toLowerCase(),this.type=U.toDashed(k),this.Type=y[k],this.mutationsObserved=!1,this.isObservable=!!window.MutationObserver,window.GAUGES_NO_AUTO_INIT||U.domReady(this.traverse.bind(this))}return ae(U,[{key:"isValidNode",value:function(w){return!(!w.tagName||w.tagName.toLowerCase()!==this.element||w.getAttribute("data-type")!==this.type)}},{key:"traverse",value:function(){for(var w=document.getElementsByTagName(this.element),X=0,k=w.length;X<k;X++)this.process(w[X]);this.isObservable&&!this.mutationsObserved&&(new MutationObserver(this.observe.bind(this)).observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.mutationsObserved=!0)}},{key:"observe",value:function(w){for(var X=0,k=w.length;X<k;X++){var _=w[X];if(_.type==="attributes"&&_.attributeName==="data-type"&&this.isValidNode(_.target)&&_.oldValue!==this.type)setTimeout(this.process.bind(this,_.target));else if(_.addedNodes&&_.addedNodes.length)for(var st=0,rt=_.addedNodes.length;st<rt;st++)setTimeout(this.process.bind(this,_.addedNodes[st]))}}},{key:"process",value:function(w){var X=this;if(!this.isValidNode(w))return null;var k=void 0,_=JSON.parse(JSON.stringify(this.options)),st=null;for(k in _)if(_.hasOwnProperty(k)){var rt=U.toAttributeName(k),ct=U.parse(w.getAttribute(rt));ct!=null&&(_[k]=ct)}return _.renderTo=w,st=new this.Type(_),st.draw&&st.draw(),this.isObservable&&(st.observer=new MutationObserver(function(ut){ut.forEach(function(yt){if(yt.type==="attributes"){var St=yt.attributeName.toLowerCase(),Rt=w.getAttribute(St).toLowerCase();if(St==="data-type"&&Rt&&Rt!==X.type)st.observer.disconnect(),delete st.observer,st.destroy&&st.destroy();else if(St.substr(0,5)==="data-"){var Yt=St.substr(5).split("-").map(function(Wt,ne){return ne?Wt.charAt(0).toUpperCase()+Wt.substr(1):Wt}).join(""),$t={};$t[Yt]=U.parse(w.getAttribute(yt.attributeName)),Yt==="value"?st&&(st.value=$t[Yt]):st.update&&st.update($t)}}})}),st.observer.observe(w,{attributes:!0})),st}}],[{key:"parse",value:function(w){if(w==="true")return!0;if(w==="false")return!1;if(w!=="undefined"){if(w==="null")return null;if(/^[-+#.\w\d\s]+(?:,[-+#.\w\d\s]*)+$/.test(w))return w.split(",");try{return JSON.parse(w)}catch{}return w}}},{key:"toDashed",value:function(w){for(var X=w.split(/(?=[A-Z])/),k=1,_=X.length,st=X[0].toLowerCase();k<_;k++)st+="-"+X[k].toLowerCase();return st}},{key:"toCamelCase",value:function(w){for(var X=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],k=w.split(/-/),_=0,st=k.length,rt="";_<st;_++)rt+=_||X?k[_][0].toUpperCase()+k[_].substr(1).toLowerCase():k[_].toLowerCase();return rt}},{key:"toAttributeName",value:function(w){return"data-"+U.toDashed(w)}},{key:"domReady",value:function(w){if(/comp|inter|loaded/.test((window.document||{}).readyState+""))return w();window.addEventListener?window.addEventListener("DOMContentLoaded",w,!1):window.attachEvent&&window.attachEvent("onload",w)}}]),U}(),Oe=function(){function U(w,X,k){e(this,U),U.collection.push(this),this.width=X||0,this.height=k||0,this.element=w,this.init()}return ae(U,[{key:"init",value:function(){var w=U.pixelRatio;this.element.width=this.width*w,this.element.height=this.height*w,this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.elementClone=this.element.cloneNode(!0),this.context=this.element.getContext("2d"),this.contextClone=this.elementClone.getContext("2d"),this.drawWidth=this.element.width,this.drawHeight=this.element.height,this.drawX=this.drawWidth/2,this.drawY=this.drawHeight/2,this.minSide=this.drawX<this.drawY?this.drawX:this.drawY,this.elementClone.initialized=!1,this.contextClone.translate(this.drawX,this.drawY),this.contextClone.save(),this.context.translate(this.drawX,this.drawY),this.context.save(),this.context.max=this.contextClone.max=this.minSide,this.context.maxRadius=this.contextClone.maxRadius=null}},{key:"destroy",value:function(){var w=U.collection.indexOf(this);~w&&U.collection.splice(w,1),this.context.clearRect(-this.drawX,-this.drawY,this.drawWidth,this.drawHeight),this.context.max=null,delete this.context.max,this.context.maxRadius=null,delete this.context.maxRadius,this.context=null,this.contextClone=null,this.elementClone=null,this.element=null,this.onRedraw=null}},{key:"commit",value:function(){var w=U.pixelRatio;return w!==1&&(this.contextClone.scale(w,w),this.contextClone.save()),this}},{key:"redraw",value:function(){return this.init(),this.onRedraw&&this.onRedraw(),this}}],[{key:"redraw",value:function(){for(var w=0,X=U.collection.length;w<X;w++)U.collection[w].redraw()}},{key:"pixelRatio",get:function(){return window.devicePixelRatio||1}}]),U}();Oe.collection=[],window.matchMedia&&window.matchMedia("screen and (min-resolution: 2dppx)").addListener(Oe.redraw);var Ne={renderTo:null,width:0,height:0,minValue:0,maxValue:100,value:0,units:!1,exactTicks:!1,majorTicks:[0,20,40,60,80,100],minorTicks:10,strokeTicks:!0,animatedValue:!1,animateOnInit:!1,title:!1,borders:!0,numbersMargin:1,listeners:null,valueInt:3,valueDec:2,majorTicksInt:1,majorTicksDec:0,animation:!0,animationDuration:500,animationRule:"cycle",colorPlate:"#fff",colorPlateEnd:"",colorMajorTicks:"#444",colorMinorTicks:"#666",colorStrokeTicks:"",colorTitle:"#888",colorUnits:"#888",colorNumbers:"#444",colorNeedle:"rgba(240,128,128,1)",colorNeedleEnd:"rgba(255,160,122,.9)",colorValueText:"#444",colorValueTextShadow:"rgba(0,0,0,0.3)",colorBorderShadow:"rgba(0,0,0,0.5)",colorBorderOuter:"#ddd",colorBorderOuterEnd:"#aaa",colorBorderMiddle:"#eee",colorBorderMiddleEnd:"#f0f0f0",colorBorderInner:"#fafafa",colorBorderInnerEnd:"#ccc",colorValueBoxRect:"#888",colorValueBoxRectEnd:"#666",colorValueBoxBackground:"#babab2",colorValueBoxShadow:"rgba(0,0,0,1)",colorNeedleShadowUp:"rgba(2,255,255,0.2)",colorNeedleShadowDown:"rgba(188,143,143,0.45)",colorBarStroke:"#222",colorBar:"#ccc",colorBarProgress:"#888",colorBarShadow:"#000",fontNumbers:"Arial",fontTitle:"Arial",fontUnits:"Arial",fontValue:"Arial",fontNumbersSize:20,fontTitleSize:24,fontUnitsSize:22,fontValueSize:26,fontNumbersStyle:"normal",fontTitleStyle:"normal",fontUnitsStyle:"normal",fontValueStyle:"normal",fontNumbersWeight:"normal",fontTitleWeight:"normal",fontUnitsWeight:"normal",fontValueWeight:"normal",needle:!0,needleShadow:!0,needleType:"arrow",needleStart:5,needleEnd:85,needleWidth:4,borderOuterWidth:3,borderMiddleWidth:3,borderInnerWidth:3,borderShadowWidth:3,valueBox:!0,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:[{from:20,to:60,color:"#eee"},{from:60,to:80,color:"#ccc"},{from:80,to:100,color:"#999"}],highlightsWidth:15,highlightsLineCap:"butt",barWidth:20,barStrokeWidth:0,barProgress:!0,barShadow:0};r.prototype=Object.create(Array.prototype),r.prototype.constructor=r,r.prototype.get=function(U){if(typeof U=="string")for(var w=0,X=this.length;w<X;w++){var k=this[w].options.renderTo.tagName?this[w].options.renderTo:document.getElementById(this[w].options.renderTo||"");if(k.getAttribute("id")===U)return this[w]}else if(typeof U=="number")return this[U];return null};var re="2.1.7",Qt=Math.round,He=Math.abs,hn=new r;hn.version=re;var $e=function(U){function w(X){e(this,w);var k=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this)),_=k.constructor.name;if(_==="BaseGauge")throw new TypeError("Attempt to instantiate abstract class!");if(hn.push(k),X.listeners&&Object.keys(X.listeners).forEach(function(rt){(X.listeners[rt]instanceof Array?X.listeners[rt]:[X.listeners[rt]]).forEach(function(ct){k.on(rt,ct)})}),k.version=re,k.type=y[_]||w,k.initialized=!1,X.minValue=parseFloat(X.minValue),X.maxValue=parseFloat(X.maxValue),X.value=parseFloat(X.value)||0,X.borders||(X.borderInnerWidth=X.borderMiddleWidth=X.borderOuterWidth=0),!X.renderTo)throw TypeError("Canvas element was not specified when creating the Gauge object!");var st=X.renderTo.tagName?X.renderTo:document.getElementById(X.renderTo);if(!(st instanceof HTMLCanvasElement))throw TypeError("Given gauge canvas element is invalid!");return X.width=parseFloat(X.width)||0,X.height=parseFloat(X.height)||0,X.width&&X.height||(X.width||(X.width=st.parentNode?st.parentNode.offsetWidth:st.offsetWidth),X.height||(X.height=st.parentNode?st.parentNode.offsetHeight:st.offsetHeight)),k.options=X||{},k.options.animateOnInit&&(k._value=k.options.value,k.options.value=k.options.minValue),k.canvas=new Oe(st,X.width,X.height),k.canvas.onRedraw=k.draw.bind(k),k.animation=new ve(X.animationRule,X.animationDuration),k}return t(w,U),ae(w,[{key:"update",value:function(X){return Object.assign(this.options,this.type.configure(X||{})),this.canvas.width=this.options.width,this.canvas.height=this.options.height,this.animation.rule=this.options.animationRule,this.animation.duration=this.options.animationDuration,this.canvas.redraw(),this}},{key:"destroy",value:function(){var X=hn.indexOf(this);~X&&hn.splice(X,1),this.canvas.destroy(),this.canvas=null,this.animation.destroy(),this.animation=null,this.emit("destroy")}},{key:"draw",value:function(){return this.options.animateOnInit&&!this.initialized&&(this.value=this._value,this.initialized=!0,this.emit("init")),this.emit("render"),this}},{key:"value",set:function(X){var k=this;X=w.ensureValue(X,this.options.minValue);var _=this.options.value;if(X!==_)if(this.options.animation){if(this.animation.frame&&(this.options.value=this._value,this._value===X))return this.animation.cancel(),void delete this._value;this._value===void 0&&(this._value=X),this.emit("animationStart"),this.animation.animate(function(st){var rt=_+(X-_)*st;k.options.animatedValue&&k.emit("value",rt,k.value),k.options.value=rt,k.draw(),k.emit("animate",st,k.options.value)},function(){k._value!==void 0&&(k.emit("value",k._value,k.value),k.options.value=k._value,delete k._value),k.draw(),k.emit("animationEnd")})}else this.emit("value",X,this.value),this.options.value=X,this.draw()},get:function(){return this._value===void 0?this.options.value:this._value}}],[{key:"configure",value:function(X){return X}},{key:"initialize",value:function(X,k){return new Ht(k,"canvas",X)}},{key:"fromElement",value:function(X){var k=Ht.toCamelCase(X.getAttribute("data-type")),_=X.attributes,st=0,rt=_.length,ct={};if(k){for(/Gauge$/.test(k)||(k+="Gauge");st<rt;st++)ct[Ht.toCamelCase(_[st].name.replace(/^data-/,""),!1)]=Ht.parse(_[st].value);new Ht(ct,X.tagName,k).process(X)}}},{key:"ensureValue",value:function(X){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return X=parseFloat(X),!isNaN(X)&&isFinite(X)||(X=parseFloat(k)||0),X}},{key:"mod",value:function(X,k){return(X%k+k)%k}},{key:"version",get:function(){return re}}]),w}(Le);y!==void 0&&(y.BaseGauge=$e,y.gauges=(window.document||{}).gauges=hn);var _i=/{([_a-zA-Z]+[_a-zA-Z0-9]*)}/g,Ft={roundRect:f,padValue:o,formatMajorTickNumber:h,radians:d,radialPoint:v,linearGradient:c,drawNeedleShadow:g,drawValueBox:C,verifyError:a,prepareTicks:s,drawShadow:p,font:T,normalizedValue:P,formatContext:n},Xi=Math.PI,Ot=Xi/2,Hi=Object.assign({},Ne,{ticksAngle:270,startAngle:45,colorNeedleCircleOuter:"#f0f0f0",colorNeedleCircleOuterEnd:"#ccc",colorNeedleCircleInner:"#e8e8e8",colorNeedleCircleInnerEnd:"#f5f5f5",needleCircleSize:10,needleCircleInner:!0,needleCircleOuter:!0,needleStart:20,animationTarget:"needle",useMinPath:!1,barWidth:0,barStartPosition:"left"}),Ni=function(U){function w(X){return e(this,w),X=Object.assign({},Hi,X||{}),x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,w.configure(X)))}return t(w,U),ae(w,[{key:"draw",value:function(){try{var X=this.canvas,k=[-X.drawX,-X.drawY,X.drawWidth,X.drawHeight],_=k[0],st=k[1],rt=k[2],ct=k[3],ut=this.options;if(ut.animationTarget==="needle"){if(!X.elementClone.initialized){var yt=X.contextClone;yt.clearRect(_,st,rt,ct),yt.save(),this.emit("beforePlate"),M(yt,ut),this.emit("beforeHighlights"),L(yt,ut),this.emit("beforeMinorTicks"),F(yt,ut),this.emit("beforeMajorTicks"),B(yt,ut),this.emit("beforeNumbers"),$(yt,ut),this.emit("beforeTitle"),Z(yt,ut),this.emit("beforeUnits"),D(yt,ut),X.elementClone.initialized=!0}this.canvas.commit(),X.context.clearRect(_,st,rt,ct),X.context.save(),X.context.drawImage(X.elementClone,_,st,rt,ct),X.context.save(),this.emit("beforeProgressBar"),Y(X.context,ut),this.emit("beforeValueBox"),N(X.context,ut,V(this)),this.emit("beforeNeedle"),O(X.context,ut)}else{var St=-Ft.radians((ut.value-ut.minValue)/(ut.maxValue-ut.minValue)*ut.ticksAngle);if(X.context.clearRect(_,st,rt,ct),X.context.save(),this.emit("beforePlate"),M(X.context,ut),X.context.rotate(St),this.emit("beforeHighlights"),L(X.context,ut),this.emit("beforeMinorTicks"),F(X.context,ut),this.emit("beforeMajorTicks"),B(X.context,ut),this.emit("beforeNumbers"),$(X.context,ut),this.emit("beforeProgressBar"),Y(X.context,ut),X.context.rotate(-St),X.context.save(),!X.elementClone.initialized){var Rt=X.contextClone;Rt.clearRect(_,st,rt,ct),Rt.save(),this.emit("beforeTitle"),Z(Rt,ut),this.emit("beforeUnits"),D(Rt,ut),this.emit("beforeNeedle"),O(Rt,ut),X.elementClone.initialized=!0}X.context.drawImage(X.elementClone,_,st,rt,ct)}this.emit("beforeValueBox"),N(X.context,ut,V(this)),bt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"draw",this).call(this)}catch(Yt){Ft.verifyError(Yt)}return this}},{key:"value",set:function(X){X=$e.ensureValue(X,this.options.minValue),this.options.animation&&this.options.ticksAngle===360&&this.options.useMinPath&&(this._value=X,X=this.options.value+((X-this.options.value)%360+540)%360-180),ie(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",X,this)},get:function(){return bt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this)}}],[{key:"configure",value:function(X){return X.barWidth>50&&(X.barWidth=50),isNaN(X.startAngle)&&(X.startAngle=45),isNaN(X.ticksAngle)&&(X.ticksAngle=270),X.ticksAngle>360&&(X.ticksAngle=360),X.ticksAngle<0&&(X.ticksAngle=0),X.startAngle<0&&(X.startAngle=0),X.startAngle>360&&(X.startAngle=360),X}}]),w}($e);y!==void 0&&(y.RadialGauge=Ni),$e.initialize("RadialGauge",Hi);var ti=Object.assign({},Ne,{borderRadius:0,barBeginCircle:30,colorBarEnd:"",colorBarProgressEnd:"",needleWidth:6,tickSide:"both",needleSide:"both",numberSide:"both",ticksWidth:10,ticksWidthMinor:5,ticksPadding:5,barLength:85,fontTitleSize:26,highlightsWidth:10}),ws=function(U){function w(X){return e(this,w),X=Object.assign({},ti,X||{}),x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,w.configure(X)))}return t(w,U),ae(w,[{key:"draw",value:function(){try{var X=this.canvas,k=[-X.drawX,-X.drawY,X.drawWidth,X.drawHeight],_=k[0],st=k[1],rt=k[2],ct=k[3],ut=this.options;if(!X.elementClone.initialized){var yt=X.contextClone;yt.clearRect(_,st,rt,ct),yt.save(),this.emit("beforePlate"),this.drawBox=j(yt,ut,_,st,rt,ct),this.emit("beforeBar"),ot.apply(void 0,[yt,ut].concat(l(this.drawBox))),X.context.barDimensions=yt.barDimensions,this.emit("beforeHighlights"),tt(yt,ut),this.emit("beforeMinorTicks"),at(yt,ut),this.emit("beforeMajorTicks"),mt(yt,ut),this.emit("beforeNumbers"),Tt(yt,ut),this.emit("beforeTitle"),lt(yt,ut),this.emit("beforeUnits"),Et(yt,ut),X.elementClone.initialized=!0}this.canvas.commit(),X.context.clearRect(_,st,rt,ct),X.context.save(),X.context.drawImage(X.elementClone,_,st,rt,ct),X.context.save(),this.emit("beforeProgressBar"),Q.apply(void 0,[X.context,ut].concat(l(this.drawBox))),this.emit("beforeNeedle"),Ct(X.context,ut),this.emit("beforeValueBox"),wt.apply(void 0,[X.context,ut,ut.animatedValue?this.options.value:this.value].concat(l(this.drawBox))),bt(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"draw",this).call(this)}catch(St){Ft.verifyError(St)}return this}}],[{key:"configure",value:function(X){return X.barStrokeWidth>=X.barWidth&&(X.barStrokeWidth=Qt(X.barWidth/2)),X.hasLeft=K("right",X),X.hasRight=K("left",X),X.value>X.maxValue&&(X.value=X.maxValue),X.value<X.minValue&&(X.value=X.minValue),$e.configure(X)}}]),w}($e);y!==void 0&&(y.LinearGauge=ws),$e.initialize("LinearGauge",ti),Object.assign(y,{Collection:r,GenericOptions:Ne,Animation:ve,BaseGauge:$e,drawings:Ft,SmartCanvas:Oe,DomObserver:Ht,vendorize:u})})(m.exports)})(HC);const $C=hi({name:"MapDifficultyGauge",components:{},props:["estimative","toggle"],data(){return{gauge:void 0,dimensionsUpdated:!1,animation:void 0}},watch:{toggle(){const m=()=>{const y=document.getElementById("map-difficulty-gauge");y!=null&&y.offsetHeight?this.refreshGauge():setTimeout(m,50)};setTimeout(m,50)},estimative(){this.refreshGauge()}},mounted(){this.gauge=this.createGauge(),setTimeout(()=>{},100)},unmounted(){clearTimeout(this.animation)},methods:{createGauge(){const m=document.getElementById("map-difficulty-gauge"),y=new Ah.RadialGauge({renderTo:document.createElement("canvas"),width:"10",height:"10",valueBox:!1,value:this.estimative||Math.random()*100,minValue:0,maxValue:100,startAngle:0,ticksAngle:180,minorTicks:20,majorTicks:!1,colorNumbers:"transparent",strokeTicks:!0,highlights:[{from:25,to:75,color:"rgba(14,255,255,0.7)"},{from:75,to:95,color:"rgba(200, 50, 50, .75)"},{from:95,to:100,color:"#D4FA00FF"}],highlightsWidth:30,colorPlate:"transparent",animateOnInit:!0,needleType:"arrow",needleShadow:!0,needleWidth:2,needleCircleSize:5,colorNeedle:"black",colorNeedleEnd:"red",colorNeedleCircleInner:"#D4FA00FF",needleCircleOuter:!0,needleCircleInner:!0,animationDuration:150,animationRule:"quad",borders:!1});return m.appendChild(y.options.renderTo),y},refreshGauge(){const m={value:this.estimative||0};if(!this.dimensionsUpdated){this.dimensionsUpdated=!0;const l=document.getElementById("map-difficulty-gauge");m.height=l.clientHeight*.75+"",m.width=l.clientWidth*1.75+""}const y=()=>{const x=this.estimative!==void 0?this.estimative:Math.random()*50+25;this.gauge.update({value:x+Math.random()*3-3*.5}),this.animation=setTimeout(y,150)};this.animation=setTimeout(y,0),this.gauge.update(m)}}});const KC={key:0,style:{position:"absolute",top:"40%",left:"35%",color:"var(--radioactive-color)"},class:"spinner-border",role:"status"};function ZC(m,y,l,x,t,e){return Se(),ze(Ve,null,[ht("div",{id:"map-difficulty-gauge",style:Cn({filter:m.estimative!==void 0?"opacity(1)":"opacity(0.25)"})},null,4),m.estimative===void 0?(Se(),ze("div",KC)):Xn("",!0)],64)}const JC=Fn($C,[["render",ZC],["__scopeId","data-v-510d7a42"]]);class QC{constructor(){vt(this,"factors");this.factors=[y=>({value:this.getDifficulty(y.actions.filter(l=>l!==Ce.STAND).length,200),weight:.15}),y=>{var l;return{value:this.getDifficulty(y.counterIntuitiveMoves/((l=y.actions)==null?void 0:l.length),1),weight:.5}},y=>({value:this.getDifficulty(y.boxesLine,80),weight:.75}),y=>({value:this.getDifficulty(y.actions.filter(l=>l===Ce.STAND).length/y.actions.length,1),weight:.15}),y=>({value:this.getDifficulty(y.totalTime,6e4),weight:.25}),y=>({value:this.getDifficulty(y.iterations,75e4),weight:.15})]}estimate(y){if(!y.actions)return;const l=this.factors.reduce((t,e)=>{const u=e(y);return console.log(u),{value:t.value+u.value*u.weight,weight:t.weight+u.weight}},{value:0,weight:0}),x=l.value/l.weight;return Phaser.Math.Clamp(x*100,0,100)}getDifficulty(y,l){return Math.min(y/l,1.15)}}const jC=hi({name:"MapEditor",components:{MapDifficultyGauge:JC,PhaserContainer:Ip},props:["toggle"],emits:["save"],data(){const m=ce.getCustomLevel();return{title:m.title,codedMapText:m.map,scene:m,stringActions:m.solution,estimative:m.difficultyEstimative,editorInvalidError:"",render:!1,mapIsValid:!0,editorRefreshKey:0,cursorPotision:new fe(0,0),legendText:`
<h5>Instructions</h5>
<ul>
<li>Each text line represents a line in the map</li>
<li>Every feature is represented by a letter. Sometimes an orientation letter is needed and those are marked with a * in the list bellow</li>
<li><b>[</b> and <b>]</b> put multiple features in the same spot: <b>[ls.]</b>: left oriented spring (<b>ls</b>) on a radioactive stone (<b>.</b>); and <b>[@.]</b>: hero positioned on a radioactive stone. They don't nest.</li>
<li>Numbers multiply next feature: <b>4$</b> means four barrels in a row. The same as <b>$$$$</b>; and <b>3[o.]</b> is the same as <b>[o.][o.][o.]</b> </li>
</ul>

<h5>Features list</h5>
<ul>
<li><b>@</b> hero</li>
<li><b>$</b> barrels</li>
<li><b>-</b> empty</li>
<li><b>&nbsp</b> floor</li>
<li><b>#</b> wall</li>
<li><b>.</b> radioactive stone</li>
<li><b>o</b> oily floor</li>
<li><b>s</b> spring*</li>
<li><b>t</b> treadmill*</li>
<li><b>w</b> one way door*</li>
</ul>
<small>* require preceeding orientation<br>
<h5 class="mt-2">Orientation list</h5>
<ul>
<li><b>u</b> up</li>
<li><b>l</b> left</li>
<li><b>d</b> down</li>
<li><b>r</b> right</li>
</ul>
`}},mounted(){window.addEventListener("keyup",()=>this.updateCursorPosition()),window.addEventListener("click",()=>this.updateCursorPosition());const m=document.getElementById("mapEditorModal");m.addEventListener("show.bs.modal",()=>{this.render=!0;const x=ce.getCustomLevel();this.codedMapText=x.map,this.scene=x,this.stringActions=x.solution,this.estimative=x==null?void 0:x.difficultyEstimative}),m.addEventListener("hide.bs.modal",()=>{Kr.getInstance().abort()});const y=document.getElementsByClassName("copyToastBtn");if(y){const x=document.getElementById("copy-toast");Array.from(y).forEach(t=>{t.addEventListener("click",()=>new bootstrap.Toast(x).show())})}[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(x=>new bootstrap.Popover(x))},computed:{titleIsValid(){return this.title.length<25},maraudersMapEnabled(){return["mischief managed","tom riddles diary"].includes(this.title.toLowerCase())}},watch:{title(){if(this.title==="tom riddles diary"){const m=ce.getCurrentSelectedIndex(),y=er()[m];this.codedMapText=y.map}},toggle(){if(document.getElementsByTagName("body")[0].classList.contains("modal-open")){const y=()=>{if(document.getElementsByTagName("textarea")[0].offsetHeight===0)return setTimeout(y,50);this.render=!0,this.refresh()};setTimeout(y,50)}},codedMapText(){this.estimative=void 0,this.refresh()}},methods:{replaceCodeTokens(m){this.codedMapText=m.target.value.replace("|",`
`).replace("*","[$.]").replace("+","[@.]")},copyStringActions(){navigator.clipboard.writeText(this.stringActions)},refresh(){if(this.estimative!==void 0){this.render=!0,++this.editorRefreshKey;return}this.render=!0,this.estimative=void 0,this.stringActions=void 0,this.editorInvalidError="Verifying solution. It may take a few minutes.",this.mapIsValid=!1,this.scene={title:this.title,map:this.codedMapText},++this.editorRefreshKey},async processedMap(m){if(this.estimative!==void 0){this.mapIsValid=!0;return}try{if(m.error)throw m.error;const y=await Kr.getInstance().validate(m.processedMap);if(y.aborted)return;this.estimative=new QC().estimate(y),this.stringActions=y.actions.map(l=>Fp(l)).join(""),console.log("map validated"),this.mapIsValid=!0}catch(y){this.editorInvalidError=y.message}},saveButtonClick(){const m=document.querySelector("#phaser-container canvas");this.scene.title=this.title,this.scene.snapshot=m.toDataURL(),this.scene.difficultyEstimative=this.estimative,this.scene.solution=this.stringActions,ce.setCustomLevel(this.scene),ce.setCurrentSelectedIndex(0),this.$emit("save",this.scene)},updateCursorPosition(){const m=document.getElementById("map-editor-text-area");if(m){const y=m.selectionStart,l=new XC(y,this.codedMapText).localize();this.cursorPotision.y=l.y+1,this.cursorPotision.x=l.x+1,Oi.emit(be.MAP_EDITOR_CURSOR_POSITION_CHANGED,l)}}}});const In=m=>(mr("data-v-b7c8a06a"),m=m(),gr(),m),kC={id:"map-editor",class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},qC=In(()=>ht("div",{class:"toast-container position-fixed top-0 end-0 pt-3"},[ht("div",{id:"copy-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},[ht("div",{class:"d-flex sokoban-toast"},[ht("div",{class:"toast-body"}," You little rascal. "),ht("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"})])])],-1)),_C={class:"modal-content"},tP=In(()=>ht("div",{class:"modal-header",style:{border:"none"}},[ht("h2",{class:"modal-title",style:{"font-family":"'Righteous', serif"}},"Map editor")],-1)),eP={class:"modal-body mb-lg-5"},iP={class:"row"},nP={class:"col-12 mb-4 order-1"},sP=In(()=>ht("label",{class:"form-label sokoban-label"},"Title",-1)),rP=In(()=>ht("div",{class:"form-label feedback-label invalid-feedback",style:{}}," Title is longer than 25 characters ",-1)),aP={class:"col-8 col-lg-5 order-2 mb-4"},oP={class:"form-label sokoban-label"},lP=["data-bs-content"],hP=In(()=>ht("i",{class:"fa-regular fa-circle-question",style:{color:"var(--radioactive-color)"}},null,-1)),uP=[hP],fP={style:{display:"inline-block"}},dP={class:"cursor-position"},cP={class:"form-label feedback-label invalid-feedback",style:{}},vP={class:"col-12 col-lg-5 order-4 order-lg-3",style:{"text-align":"left"}},pP=In(()=>ht("label",{class:"form-label sokoban-label",style:{float:"none"}}," Result ",-1)),mP={id:"phaser-container"},gP={class:"col-4 col-lg-2 order-3 order-lg-4",style:{"text-align":"left"}},xP=In(()=>ht("label",{class:"form-label sokoban-label",style:{float:"none"}}," Difficulty ",-1)),yP={class:"col-12 order-5 mt-5"},TP=In(()=>ht("label",{class:"form-label sokoban-label"},"Marauder's map",-1)),EP={class:"input-group"},SP=["value"],CP=["disabled"],PP={class:"modal-footer",style:{border:"none"}},AP=In(()=>ht("button",{class:"btn sokoban-outlined-button mt-4",type:"button","data-bs-dismiss":"modal"},"Close ",-1)),MP=["disabled"];function RP(m,y,l,x,t,e){const u=Rn("PhaserContainer"),i=Rn("map-difficulty-gauge");return Se(),ze("div",kC,[qC,ht("div",_C,[tP,ht("div",eP,[ht("div",iP,[ht("div",nP,[sP,Es(ht("input",{type:"text",class:Pn(["form-control",m.titleIsValid?"is-valid":"is-invalid"]),placeholder:"Title","onUpdate:modelValue":y[0]||(y[0]=r=>m.title=r),spellcheck:"false"},null,2),[[Ln,m.title]]),rP]),ht("div",aP,[ht("label",oP,[Bs(" Editor "),ht("a",{tabindex:"0",class:"btn btn-lg btn-danger px-1",role:"button","data-bs-toggle":"popover",style:{"background-color":"transparent",border:"none"},title:"Dismissible popover","data-bs-trigger":"focus","data-bs-html":!0,"data-bs-content":m.legendText},uP,8,lP)]),ht("div",fP,[Es(ht("textarea",{class:Pn(["form-control map-text-area",m.mapIsValid?"is-valid":"is-invalid"]),rows:"10",spellcheck:"false",onInput:y[1]||(y[1]=(...r)=>m.replaceCodeTokens&&m.replaceCodeTokens(...r)),id:"map-editor-text-area",style:{"font-size":".9rem"},"onUpdate:modelValue":y[2]||(y[2]=r=>m.codedMapText=r)},null,34),[[Ln,m.codedMapText]]),ht("small",dP,gi(m.cursorPotision.y)+":"+gi(m.cursorPotision.x),1),ht("div",cP,gi(m.editorInvalidError),1)])]),ht("div",vP,[pP,ht("div",mP,[(Se(),jn(u,{playable:!1,render:m.render,key:m.editorRefreshKey,scene:m.scene,onProcessedMap:m.processedMap},null,8,["render","scene","onProcessedMap"]))])]),ht("div",gP,[xP,Te(i,{estimative:m.estimative,toggle:m.toggle},null,8,["estimative","toggle"])]),Es(ht("div",yP,[TP,ht("div",EP,[ht("input",{type:"text",class:"form-control",readonly:"",value:m.stringActions},null,8,SP),ht("button",{class:"btn btn-outline-secondary copyToastBtn",type:"button",disabled:!m.stringActions||m.stringActions.length<=0,style:{"background-color":"var(--radioactive-color)"},onClick:y[3]||(y[3]=(...r)=>m.copyStringActions&&m.copyStringActions(...r))}," Copy ",8,CP)])],512),[[eu,m.maraudersMapEnabled]])])]),ht("div",PP,[AP,ht("button",{class:"btn btn-outline-secondary mt-4",type:"button",id:"toastBtn",onClick:y[4]||(y[4]=(...r)=>m.saveButtonClick&&m.saveButtonClick(...r)),"data-bs-dismiss":"modal",disabled:!m.titleIsValid||!m.mapIsValid,style:{"background-color":"var(--radioactive-color)",float:"right"}},"Save ",8,MP)])])])}const LP=Fn(jC,[["render",RP],["__scopeId","data-v-b7c8a06a"]]),OP=hi({name:"SplashScreenAdvancedOptions",components:{MapEditor:LP},emits:["mapEditorSaved","passwordUnblockedNewLevels","advancedOptionsVisibilityChanged","playerActionsChanged"],data(){return{mapEditorToggle:!1,validLevelPassword:!1,levelPassword:"",playerActions:"",actionsLegentText:`
      <h5>Instructions</h5>
<ul>
<li>Each letter represents a player action</li>
</ul>

<h5>Actions list</h5>
<ul>
<li><b>l</b> go left</li>
<li><b>r</b> go right</li>
<li><b>u</b> go up</li>
<li><b>d</b> go down</li>
<li><b>s</b> do nothing</li>
</ul>

<p>
So, by entering <b>druls</b>, as soon as the game begins, the player would follow this command, step by step:
<ol>
<li>go down</li>
<li>go right</li>
<li>go up</li>
<li>go left</li>
<li>do nothing</li>
</ol>

<small>PS: If you're wondering what's the pointing of having a feature like this. Bear in mind it's very useful to verify another player's "solution". If you know what I mean.</small>
</p>
`}},watch:{playerActions(){this.$emit("playerActionsChanged",this.invalidPlayerActionsError.length<=0?this.playerActions:void 0)}},mounted(){const m=document.getElementById("password-modal"),y=document.getElementById("mapEditorModal");y.addEventListener("show.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!0)),y.addEventListener("hide.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!1)),m.addEventListener("show.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!0)),m.addEventListener("hide.bs.modal",()=>this.$emit("advancedOptionsVisibilityChanged",!1));const l=document.getElementsByClassName("toastBtn"),x=document.getElementById("password-toast");l&&Array.from(l).forEach(t=>{t.addEventListener("click",()=>new bootstrap.Toast(x).show())})},methods:{mapEditorSaved(m){this.$emit("mapEditorSaved",m)},checkPassword(){const m=er().findIndex(y=>y.title.toLowerCase().replace(/ /g,"-")===this.levelPassword.toLowerCase());if(m!==-1){m>=ce.getNumberOfEnabledLevels()&&ce.setNumberOfEnabledLevels(m+1),this.validLevelPassword=!0,this.$emit("passwordUnblockedNewLevels",m);return}this.validLevelPassword=!1}},computed:{toastBodyTextName(){return this.validLevelPassword?"Good job!":"Wrong password."},toastStyle(){return this.validLevelPassword?{"background-color":"var(--radioactive-color)",color:"var(--foreground-color)"}:{"background-color":"var(--danger-color)",color:"var(--background-color)"}},invalidPlayerActionsError(){if(this.playerActions.length>0){const m=this.playerActions.split(""),y=m.findIndex(l=>Op(l)===void 0);if(y!==-1)return`Invalid action found (${m[y]}) at index ${y}`}return""}}});const Ta=m=>(mr("data-v-c37411a6"),m=m(),gr(),m),FP={class:"toast-container position-fixed top-0 end-0 p-3"},IP={id:"password-toast",class:"toast",role:"alert",style:{"background-color":"transparent"},"aria-live":"assertive","aria-atomic":"true","data-bs-delay":"2500"},DP={class:"toast-body"},BP=Ta(()=>ht("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1)),NP={class:"modal fade",id:"password-modal",tabindex:"-1","aria-labelledby":"passwordModalLabel","aria-hidden":"true"},wP={class:"modal-dialog modal-dialog-centered"},GP={class:"modal-content"},VP=Ta(()=>ht("div",{class:"modal-header"},[ht("h1",{class:"modal-title fs-5"},"Enter password"),ht("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),UP={class:"modal-body"},YP={class:"input-group"},bP=["disabled"],zP=Ta(()=>ht("button",{class:"btn btn-primary advanced-options-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleOptions","aria-expanded":"false","aria-controls":"collapsibleOptions"},[ht("i",{class:"fa-solid fa-circle-radiation"}),Bs(" Options ")],-1)),WP={class:"collapse p-0",id:"collapsibleOptions"},XP={class:"card card-body px-0",style:{"background-color":"transparent"}},HP={class:"container splash-screen-advanced px-0"},$P={class:"row row-cols-1 gy-3"},KP={class:"col-12 mb-4"},ZP={class:"form-label sokoban-label"},JP=["data-bs-content"],QP=Ta(()=>ht("i",{class:"fa-regular fa-circle-question",style:{color:"var(--radioactive-color)"}},null,-1)),jP=[QP],kP={class:"form-label feedback-label invalid-feedback",style:{position:"absolute"}},qP=Ta(()=>ht("div",{class:"col-12 col-lg-6"},[ht("button",{class:"btn btn-outline-secondary options-buttons w-100",type:"button","data-bs-toggle":"modal","data-bs-target":"#password-modal"}," Check password ")],-1)),_P={class:"col-12 col-lg-6"},tA={class:"modal fade",id:"mapEditorModal",tabindex:"-1",role:"dialog","aria-labelledby":"mapEditorModalLabel","aria-hidden":"true"};function eA(m,y,l,x,t,e){const u=Rn("MapEditor");return Se(),ze(Ve,null,[ht("div",FP,[ht("div",IP,[ht("div",{class:"d-flex sokoban-toast",style:Cn(m.toastStyle)},[ht("div",DP,gi(m.toastBodyTextName),1),BP],4)])]),ht("div",NP,[ht("div",wP,[ht("div",GP,[VP,ht("div",UP,[ht("div",YP,[Es(ht("input",{type:"text",class:"form-control",placeholder:"Password",spellcheck:"false","onUpdate:modelValue":y[0]||(y[0]=i=>m.levelPassword=i)},null,512),[[Ln,m.levelPassword]]),ht("button",{class:"btn btn-outline-secondary toastBtn",type:"button",disabled:this.levelPassword.length<=0,onKeyup:y[1]||(y[1]=Pv((...i)=>m.checkPassword&&m.checkPassword(...i),["enter"])),style:{"background-color":"var(--radioactive-color)"},onClick:y[2]||(y[2]=(...i)=>m.checkPassword&&m.checkPassword(...i))}," Check ",40,bP)])])])])]),zP,ht("div",WP,[ht("div",XP,[ht("div",HP,[ht("div",$P,[ht("div",KP,[ht("label",ZP,[Bs("Player initial actions "),ht("a",{tabindex:"0",class:"btn btn-lg btn-danger px-1",role:"button","data-bs-toggle":"popover",style:{"background-color":"transparent",border:"none"},title:"Player initial actions","data-bs-trigger":"focus","data-bs-html":!0,"data-bs-content":m.actionsLegentText},jP,8,JP)]),Es(ht("input",{type:"text",class:Pn(["form-control",[m.invalidPlayerActionsError.length<=0?"is-valid":"is-invalid"]]),placeholder:"Enter actions","aria-label":"Insert player actions",id:"playerActionsInput","onUpdate:modelValue":y[3]||(y[3]=i=>m.playerActions=i)},null,2),[[Ln,m.playerActions]]),ht("div",kP,gi(m.invalidPlayerActionsError),1)]),qP,ht("div",_P,[ht("button",{class:"btn btn-outline-secondary options-buttons w-100",type:"button",onClick:y[4]||(y[4]=i=>m.mapEditorToggle=!m.mapEditorToggle),"data-bs-toggle":"modal","data-bs-target":"#mapEditorModal"}," Edit custom map "),ht("div",tA,[Te(u,{toggle:m.mapEditorToggle,onSave:m.mapEditorSaved},null,8,["toggle","onSave"])])])])])])])],64)}const iA=Fn(OP,[["render",eA],["__scopeId","data-v-c37411a6"]]),nA=hi({name:"SplashScreenView",components:{CarouselSlider:LC,DirectionalButtonsComponent:Dp,SplashScreenAdvancedOptions:iA},data(){return{carouselSliderRefreshKey:0,levels:Sh(),currentLevel:void 0,carouselIsVisible:!0,playerActions:""}},mounted(){history.replaceState({urlPath:this.$router.currentRoute.fullPath},"","/nuclear-defender"),window.addEventListener("keyup",this.keyPressed)},unmounted(){window.removeEventListener("keyup",this.keyPressed)},watch:{carouselIsVisible(){this.carouselIsVisible&&this.carouselSliderRefreshKey++}},methods:{keyPressed(m){this.carouselIsVisible&&m.code==="Enter"&&this.playerActions!==void 0&&this.currentLevel&&this.playButtonClick()},playerActionsChanged(m){this.playerActions=m},currentLevelChanged(m,y,l,x){this.currentLevel=m,yn.setGameViewConfig({display:y,isCustom:l,levelIndex:x,playerInitialActions:this.playerActions,level:this.currentLevel})},passwordUnblockedNewLevels(){++this.carouselSliderRefreshKey},playButtonClick(){const m=yn.getGameViewConfig();m.playerInitialActions=this.playerActions,this.$router.push("/game")},mapEditorSaved(){this.levels=Sh(),++this.carouselSliderRefreshKey}}});const sA={class:"container disable-dbl-tap-zoom splash-view text-center pt-3"},rA={class:"row row-cols-1 gy-3"},aA=ht("div",{class:"col mb-lg-5"},[ht("h1",{class:"sokoban-display display-3 fw-normal",style:{"user-select":"none"}},"NUCLEAR DEFENDER")],-1),oA={class:"col-12",style:{"min-height":"fit-content"}},lA={class:"col-12 mt-2",style:{"text-align":"left"}},hA=ht("div",{class:"w-100"},null,-1),uA={class:"col-12"},fA={class:"d-grid"},dA=["disabled"];function cA(m,y,l,x,t,e){const u=Rn("CarouselSlider"),i=Rn("SplashScreenAdvancedOptions");return Se(),ze("div",sA,[ht("div",rA,[aA,ht("div",oA,[(Se(),jn(u,{key:m.carouselSliderRefreshKey,visible:m.carouselIsVisible,onCurrentLevelChanged:m.currentLevelChanged},null,8,["visible","onCurrentLevelChanged"]))]),ht("div",lA,[Te(i,{onPlayerActionsChanged:m.playerActionsChanged,onAdvancedOptionsVisibilityChanged:y[0]||(y[0]=r=>this.carouselIsVisible=!r),onMapEditorSaved:m.mapEditorSaved,onPasswordUnblockedNewLevels:m.passwordUnblockedNewLevels},null,8,["onPlayerActionsChanged","onMapEditorSaved","onPasswordUnblockedNewLevels"])]),hA,ht("div",uA,[ht("div",fA,[ht("button",{class:"btn btn-primary",style:{"background-color":"var(--radioactive-color)",color:"var(--foreground-color)","border-color":"transparent"},onClick:y[1]||(y[1]=(...r)=>m.playButtonClick&&m.playButtonClick(...r)),disabled:m.playerActions===void 0||!m.currentLevel,type:"button"},"Play ",8,dA)])])])])}const vA=Fn(nA,[["render",cA]]),pA=NT({history:j1("/nuclear-defender"),routes:[{path:"/",component:vA,meta:{transition:"slide-left"}},{path:"/game",component:SS,meta:{transition:"slide-left"}},{path:"/next-level",component:tC,meta:{transition:"slide-left"},props:!0}]});const Wp=Ov(VT);Wp.use(pA);Wp.mount("#app");
